window.EmberENV={FEATURES:{}};var runningTests=!1,define,requireModule,require,requirejs;!function(){function e(e,r,n){for(var i,o,a=e.length,s=new Array(a),u=0,c=a;c>u;u++)i=e[u],"exports"===i?o=s[u]=n:s[u]=require(t(i,r));return{deps:s,exports:o}}function t(e,t){if("."!==e.charAt(0))return e;var r,n=e.split("/"),i=t.split("/");r=1===i.length?i:i.slice(0,-1);for(var o=0,a=n.length;a>o;o++){var s=n[o];if(".."===s)r.pop();else{if("."===s)continue;r.push(s)}}return r.join("/")}var r;r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var n={},i={},o={},a=!1;define=function(e,t,i){r(t)||(i=t,t=[]),n[e]={deps:t,callback:i}},requirejs=require=requireModule=function(t){if(o[t]!==a&&i.hasOwnProperty(t))return i[t];if(!n[t])throw new Error("Could not find module "+t);var r,s,u=n[t],c=!1;i[t]={};try{r=e(u.deps,t,i[t]),s=u.callback.apply(this,r.deps),c=!0}finally{c||(o[t]=a)}return r.exports?i[t]:i[t]=s},requirejs.entries=requirejs._eak_seen=n,requirejs.clear=function(){requirejs.entries=requirejs._eak_seen=n={},i=o={}}}(),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function r(e){var t=e.length,r=it.type(e);return"function"===r||it.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e}function n(e,t,r){if(it.isFunction(t))return it.grep(e,function(e,n){return!!t.call(e,n,e)!==r});if(t.nodeType)return it.grep(e,function(e){return e===t!==r});if("string"==typeof t){if(ft.test(t))return it.filter(t,e,r);t=it.filter(t,e)}return it.grep(e,function(e){return it.inArray(e,t)>=0!==r})}function i(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t=Et[e]={};return it.each(e.match(bt)||[],function(e,r){t[r]=!0}),t}function a(){pt.addEventListener?(pt.removeEventListener("DOMContentLoaded",s,!1),e.removeEventListener("load",s,!1)):(pt.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(pt.addEventListener||"load"===event.type||"complete"===pt.readyState)&&(a(),it.ready())}function u(e,t,r){if(void 0===r&&1===e.nodeType){var n="data-"+t.replace(Rt,"-$1").toLowerCase();if(r=e.getAttribute(n),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:Tt.test(r)?it.parseJSON(r):r}catch(i){}it.data(e,t,r)}else r=void 0}return r}function c(e){var t;for(t in e)if(("data"!==t||!it.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(e,t,r,n){if(it.acceptData(e)){var i,o,a=it.expando,s=e.nodeType,u=s?it.cache:e,c=s?e[a]:e[a]&&a;if(c&&u[c]&&(n||u[c].data)||void 0!==r||"string"!=typeof t)return c||(c=s?e[a]=X.pop()||it.guid++:a),u[c]||(u[c]=s?{}:{toJSON:it.noop}),("object"==typeof t||"function"==typeof t)&&(n?u[c]=it.extend(u[c],t):u[c].data=it.extend(u[c].data,t)),o=u[c],n||(o.data||(o.data={}),o=o.data),void 0!==r&&(o[it.camelCase(t)]=r),"string"==typeof t?(i=o[t],null==i&&(i=o[it.camelCase(t)])):i=o,i}}function h(e,t,r){if(it.acceptData(e)){var n,i,o=e.nodeType,a=o?it.cache:e,s=o?e[it.expando]:it.expando;if(a[s]){if(t&&(n=r?a[s]:a[s].data)){it.isArray(t)?t=t.concat(it.map(t,it.camelCase)):t in n?t=[t]:(t=it.camelCase(t),t=t in n?[t]:t.split(" ")),i=t.length;for(;i--;)delete n[t[i]];if(r?!c(n):!it.isEmptyObject(n))return}(r||(delete a[s].data,c(a[s])))&&(o?it.cleanData([e],!0):rt.deleteExpando||a!=a.window?delete a[s]:a[s]=null)}}}function f(){return!0}function d(){return!1}function p(){try{return pt.activeElement}catch(e){}}function m(e){var t=Dt.split("|"),r=e.createDocumentFragment();if(r.createElement)for(;t.length;)r.createElement(t.pop());return r}function g(e,t){var r,n,i=0,o=typeof e.getElementsByTagName!==_t?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==_t?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],r=e.childNodes||e;null!=(n=r[i]);i++)!t||it.nodeName(n,t)?o.push(n):it.merge(o,g(n,t));return void 0===t||t&&it.nodeName(e,t)?it.merge([e],o):o}function y(e){At.test(e.type)&&(e.defaultChecked=e.checked)}function v(e,t){return it.nodeName(e,"table")&&it.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function b(e){return e.type=(null!==it.find.attr(e,"type"))+"/"+e.type,e}function E(e){var t=Kt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function x(e,t){for(var r,n=0;null!=(r=e[n]);n++)it._data(r,"globalEval",!t||it._data(t[n],"globalEval"))}function w(e,t){if(1===t.nodeType&&it.hasData(e)){var r,n,i,o=it._data(e),a=it._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(r in s)for(n=0,i=s[r].length;i>n;n++)it.event.add(t,r,s[r][n])}a.data&&(a.data=it.extend({},a.data))}}function _(e,t){var r,n,i;if(1===t.nodeType){if(r=t.nodeName.toLowerCase(),!rt.noCloneEvent&&t[it.expando]){i=it._data(t);for(n in i.events)it.removeEvent(t,n,i.handle);t.removeAttribute(it.expando)}"script"===r&&t.text!==e.text?(b(t).text=e.text,E(t)):"object"===r?(t.parentNode&&(t.outerHTML=e.outerHTML),rt.html5Clone&&e.innerHTML&&!it.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===r&&At.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===r?t.defaultSelected=t.selected=e.defaultSelected:("input"===r||"textarea"===r)&&(t.defaultValue=e.defaultValue)}}function T(t,r){var n,i=it(r.createElement(t)).appendTo(r.body),o=e.getDefaultComputedStyle&&(n=e.getDefaultComputedStyle(i[0]))?n.display:it.css(i[0],"display");return i.detach(),o}function R(e){var t=pt,r=Jt[e];return r||(r=T(e,t),"none"!==r&&r||(Zt=(Zt||it("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(Zt[0].contentWindow||Zt[0].contentDocument).document,t.write(),t.close(),r=T(e,t),Zt.detach()),Jt[e]=r),r}function S(e,t){return{get:function(){var r=e();if(null!=r)return r?void delete this.get:(this.get=t).apply(this,arguments)}}}function C(e,t){if(t in e)return t;for(var r=t.charAt(0).toUpperCase()+t.slice(1),n=t,i=fr.length;i--;)if(t=fr[i]+r,t in e)return t;return n}function H(e,t){for(var r,n,i,o=[],a=0,s=e.length;s>a;a++)n=e[a],n.style&&(o[a]=it._data(n,"olddisplay"),r=n.style.display,t?(o[a]||"none"!==r||(n.style.display=""),""===n.style.display&&Ht(n)&&(o[a]=it._data(n,"olddisplay",R(n.nodeName)))):(i=Ht(n),(r&&"none"!==r||!i)&&it._data(n,"olddisplay",i?r:it.css(n,"display"))));for(a=0;s>a;a++)n=e[a],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[a]||"":"none"));return e}function M(e,t,r){var n=ur.exec(t);return n?Math.max(0,n[1]-(r||0))+(n[2]||"px"):t}function A(e,t,r,n,i){for(var o=r===(n?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===r&&(a+=it.css(e,r+Ct[o],!0,i)),n?("content"===r&&(a-=it.css(e,"padding"+Ct[o],!0,i)),"margin"!==r&&(a-=it.css(e,"border"+Ct[o]+"Width",!0,i))):(a+=it.css(e,"padding"+Ct[o],!0,i),"padding"!==r&&(a+=it.css(e,"border"+Ct[o]+"Width",!0,i)));return a}function N(e,t,r){var n=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=er(e),a=rt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=tr(e,t,o),(0>i||null==i)&&(i=e.style[t]),nr.test(i))return i;n=a&&(rt.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+A(e,t,r||(a?"border":"content"),n,o)+"px"}function P(e,t,r,n,i){return new P.prototype.init(e,t,r,n,i)}function k(){return setTimeout(function(){dr=void 0}),dr=it.now()}function O(e,t){var r,n={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)r=Ct[i],n["margin"+r]=n["padding"+r]=e;return t&&(n.opacity=n.width=e),n}function L(e,t,r){for(var n,i=(br[t]||[]).concat(br["*"]),o=0,a=i.length;a>o;o++)if(n=i[o].call(r,t,e))return n}function D(e,t,r){var n,i,o,a,s,u,c,l,h=this,f={},d=e.style,p=e.nodeType&&Ht(e),m=it._data(e,"fxshow");r.queue||(s=it._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,it.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],c=it.css(e,"display"),l="none"===c?it._data(e,"olddisplay")||R(e.nodeName):c,"inline"===l&&"none"===it.css(e,"float")&&(rt.inlineBlockNeedsLayout&&"inline"!==R(e.nodeName)?d.zoom=1:d.display="inline-block")),r.overflow&&(d.overflow="hidden",rt.shrinkWrapBlocks()||h.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]}));for(n in t)if(i=t[n],mr.exec(i)){if(delete t[n],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!m||void 0===m[n])continue;p=!0}f[n]=m&&m[n]||it.style(e,n)}else c=void 0;if(it.isEmptyObject(f))"inline"===("none"===c?R(e.nodeName):c)&&(d.display=c);else{m?"hidden"in m&&(p=m.hidden):m=it._data(e,"fxshow",{}),o&&(m.hidden=!p),p?it(e).show():h.done(function(){it(e).hide()}),h.done(function(){var t;it._removeData(e,"fxshow");for(t in f)it.style(e,t,f[t])});for(n in f)a=L(p?m[n]:0,n,h),n in m||(m[n]=a.start,p&&(a.end=a.start,a.start="width"===n||"height"===n?1:0))}}function F(e,t){var r,n,i,o,a;for(r in e)if(n=it.camelCase(r),i=t[n],o=e[r],it.isArray(o)&&(i=o[1],o=e[r]=o[0]),r!==n&&(e[n]=o,delete e[r]),a=it.cssHooks[n],a&&"expand"in a){o=a.expand(o),delete e[n];for(r in o)r in e||(e[r]=o[r],t[r]=i)}else t[n]=i}function B(e,t,r){var n,i,o=0,a=vr.length,s=it.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=dr||k(),r=Math.max(0,c.startTime+c.duration-t),n=r/c.duration||0,o=1-n,a=0,u=c.tweens.length;u>a;a++)c.tweens[a].run(o);return s.notifyWith(e,[c,o,r]),1>o&&u?r:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:it.extend({},t),opts:it.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:dr||k(),duration:r.duration,tweens:[],createTween:function(t,r){var n=it.Tween(e,c.opts,t,r,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var r=0,n=t?c.tweens.length:0;if(i)return this;for(i=!0;n>r;r++)c.tweens[r].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),l=c.props;for(F(l,c.opts.specialEasing);a>o;o++)if(n=vr[o].call(c,e,l,c.opts))return n;return it.map(l,L,c),it.isFunction(c.opts.start)&&c.opts.start.call(e,c),it.fx.timer(it.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function I(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var n,i=0,o=t.toLowerCase().match(bt)||[];if(it.isFunction(r))for(;n=o[i++];)"+"===n.charAt(0)?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(r)):(e[n]=e[n]||[]).push(r)}}function z(e,t,r,n){function i(s){var u;return o[s]=!0,it.each(e[s]||[],function(e,s){var c=s(t,r,n);return"string"!=typeof c||a||o[c]?a?!(u=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),u}var o={},a=e===jr;return i(t.dataTypes[0])||!o["*"]&&i("*")}function U(e,t){var r,n,i=it.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&it.extend(!0,e,r),e}function V(e,t,r){for(var n,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(a in s)if(s[a]&&s[a].test(i)){u.unshift(a);break}if(u[0]in r)o=u[0];else{for(a in r){if(!u[0]||e.converters[a+" "+u[0]]){o=a;break}n||(n=a)}o=o||n}return o?(o!==u[0]&&u.unshift(o),r[o]):void 0}function j(e,t,r,n){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(r[e.responseFields[o]]=t),!u&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=c[u+" "+o]||c["* "+o],!a)for(i in c)if(s=i.split(" "),s[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){a===!0?a=c[i]:c[i]!==!0&&(o=s[0],l.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}function q(e,t,r,n){var i;if(it.isArray(t))it.each(t,function(t,i){r||Kr.test(e)?n(e,i):q(e+"["+("object"==typeof i?t:"")+"]",i,r,n)});else if(r||"object"!==it.type(t))n(e,t);else for(i in t)q(e+"["+i+"]",t[i],r,n)}function G(){try{return new e.XMLHttpRequest}catch(t){}}function W(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function K(e){return it.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var X=[],Y=X.slice,$=X.concat,Q=X.push,Z=X.indexOf,J={},et=J.toString,tt=J.hasOwnProperty,rt={},nt="1.11.2",it=function(e,t){return new it.fn.init(e,t)},ot=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,at=/^-ms-/,st=/-([\da-z])/gi,ut=function(e,t){return t.toUpperCase()};it.fn=it.prototype={jquery:nt,constructor:it,selector:"",length:0,toArray:function(){return Y.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:Y.call(this)},pushStack:function(e){var t=it.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return it.each(this,e,t)},map:function(e){return this.pushStack(it.map(this,function(t,r){return e.call(t,r,t)}))},slice:function(){return this.pushStack(Y.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(0>e?t:0);return this.pushStack(r>=0&&t>r?[this[r]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:Q,sort:X.sort,splice:X.splice},it.extend=it.fn.extend=function(){var e,t,r,n,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||it.isFunction(a)||(a={}),s===u&&(a=this,s--);u>s;s++)if(null!=(i=arguments[s]))for(n in i)e=a[n],r=i[n],a!==r&&(c&&r&&(it.isPlainObject(r)||(t=it.isArray(r)))?(t?(t=!1,o=e&&it.isArray(e)?e:[]):o=e&&it.isPlainObject(e)?e:{},a[n]=it.extend(c,o,r)):void 0!==r&&(a[n]=r));return a},it.extend({expando:"jQuery"+(nt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===it.type(e)},isArray:Array.isArray||function(e){return"array"===it.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!it.isArray(e)&&e-parseFloat(e)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==it.type(e)||e.nodeType||it.isWindow(e))return!1;try{if(e.constructor&&!tt.call(e,"constructor")&&!tt.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(r){return!1}if(rt.ownLast)for(t in e)return tt.call(e,t);for(t in e);return void 0===t||tt.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[et.call(e)]||"object":typeof e},globalEval:function(t){t&&it.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(at,"ms-").replace(st,ut)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i,o=0,a=e.length,s=r(e);if(n){if(s)for(;a>o&&(i=t.apply(e[o],n),i!==!1);o++);else for(o in e)if(i=t.apply(e[o],n),i===!1)break}else if(s)for(;a>o&&(i=t.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=t.call(e[o],o,e[o]),i===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ot,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(r(Object(e))?it.merge(n,"string"==typeof e?[e]:e):Q.call(n,e)),n},inArray:function(e,t,r){var n;if(t){if(Z)return Z.call(t,e,r);for(n=t.length,r=r?0>r?Math.max(0,n+r):r:0;n>r;r++)if(r in t&&t[r]===e)return r}return-1},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;r>n;)e[i++]=t[n++];if(r!==r)for(;void 0!==t[n];)e[i++]=t[n++];return e.length=i,e},grep:function(e,t,r){for(var n,i=[],o=0,a=e.length,s=!r;a>o;o++)n=!t(e[o],o),n!==s&&i.push(e[o]);return i},map:function(e,t,n){var i,o=0,a=e.length,s=r(e),u=[];if(s)for(;a>o;o++)i=t(e[o],o,n),null!=i&&u.push(i);else for(o in e)i=t(e[o],o,n),null!=i&&u.push(i);return $.apply([],u)},guid:1,proxy:function(e,t){var r,n,i;return"string"==typeof t&&(i=e[t],t=e,e=i),it.isFunction(e)?(r=Y.call(arguments,2),n=function(){return e.apply(t||this,r.concat(Y.call(arguments)))},n.guid=e.guid=e.guid||it.guid++,n):void 0},now:function(){return+new Date},support:rt}),it.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()});var ct=function(e){function t(e,t,r,n){var i,o,a,s,u,c,h,d,p,m;if((t?t.ownerDocument||t:z)!==P&&N(t),t=t||P,r=r||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return r;if(!n&&O){if(11!==s&&(i=vt.exec(e)))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return r;if(o.id===a)return r.push(o),r}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return r.push(o),r}else{if(i[2])return Z.apply(r,t.getElementsByTagName(e)),r;if((a=i[3])&&x.getElementsByClassName)return Z.apply(r,t.getElementsByClassName(a)),r}if(x.qsa&&(!L||!L.test(e))){if(d=h=I,p=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=R(e),(h=t.getAttribute("id"))?d=h.replace(Et,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",u=c.length;u--;)c[u]=d+f(c[u]);p=bt.test(e)&&l(t.parentNode)||t,m=c.join(",")}if(m)try{return Z.apply(r,p.querySelectorAll(m)),r}catch(g){}finally{h||t.removeAttribute("id")}}}return C(e.replace(ut,"$1"),t,r,n)}function r(){function e(r,n){return t.push(r+" ")>w.cacheLength&&delete e[t.shift()],e[r+" "]=n}var t=[];return e}function n(e){return e[I]=!0,e}function i(e){var t=P.createElement("div");try{return!!e(t)}catch(r){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var r=e.split("|"),n=e.length;n--;)w.attrHandle[r[n]]=t}function a(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||K)-(~e.sourceIndex||K);if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function s(e){return function(t){var r=t.nodeName.toLowerCase();return"input"===r&&t.type===e}}function u(e){return function(t){var r=t.nodeName.toLowerCase();return("input"===r||"button"===r)&&t.type===e}}function c(e){return n(function(t){return t=+t,n(function(r,n){for(var i,o=e([],r.length,t),a=o.length;a--;)r[i=o[a]]&&(r[i]=!(n[i]=r[i]))})})}function l(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function f(e){for(var t=0,r=e.length,n="";r>t;t++)n+=e[t].value;return n}function d(e,t,r){var n=t.dir,i=r&&"parentNode"===n,o=V++;return t.first?function(t,r,o){for(;t=t[n];)if(1===t.nodeType||i)return e(t,r,o)}:function(t,r,a){var s,u,c=[U,o];if(a){for(;t=t[n];)if((1===t.nodeType||i)&&e(t,r,a))return!0}else for(;t=t[n];)if(1===t.nodeType||i){if(u=t[I]||(t[I]={}),(s=u[n])&&s[0]===U&&s[1]===o)return c[2]=s[2];if(u[n]=c,c[2]=e(t,r,a))return!0}}}function p(e){return e.length>1?function(t,r,n){for(var i=e.length;i--;)if(!e[i](t,r,n))return!1;return!0}:e[0]}function m(e,r,n){for(var i=0,o=r.length;o>i;i++)t(e,r[i],n);return n}function g(e,t,r,n,i){for(var o,a=[],s=0,u=e.length,c=null!=t;u>s;s++)(o=e[s])&&(!r||r(o,n,i))&&(a.push(o),c&&t.push(s));return a}function y(e,t,r,i,o,a){return i&&!i[I]&&(i=y(i)),o&&!o[I]&&(o=y(o,a)),n(function(n,a,s,u){var c,l,h,f=[],d=[],p=a.length,y=n||m(t||"*",s.nodeType?[s]:s,[]),v=!e||!n&&t?y:g(y,f,e,s,u),b=r?o||(n?e:p||i)?[]:a:v;if(r&&r(v,b,s,u),i)for(c=g(b,d),i(c,[],s,u),l=c.length;l--;)(h=c[l])&&(b[d[l]]=!(v[d[l]]=h));if(n){if(o||e){if(o){for(c=[],l=b.length;l--;)(h=b[l])&&c.push(v[l]=h);o(null,b=[],c,u)}for(l=b.length;l--;)(h=b[l])&&(c=o?et(n,h):f[l])>-1&&(n[c]=!(a[c]=h))}}else b=g(b===a?b.splice(p,b.length):b),o?o(null,a,b,u):Z.apply(a,b)})}function v(e){for(var t,r,n,i=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,u=d(function(e){return e===t},a,!0),c=d(function(e){return et(t,e)>-1},a,!0),l=[function(e,r,n){var i=!o&&(n||r!==H)||((t=r).nodeType?u(e,r,n):c(e,r,n));return t=null,i}];i>s;s++)if(r=w.relative[e[s].type])l=[d(p(l),r)];else{if(r=w.filter[e[s].type].apply(null,e[s].matches),r[I]){for(n=++s;i>n&&!w.relative[e[n].type];n++);return y(s>1&&p(l),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ut,"$1"),r,n>s&&v(e.slice(s,n)),i>n&&v(e=e.slice(n)),i>n&&f(e))}l.push(r)}return p(l)}function b(e,r){var i=r.length>0,o=e.length>0,a=function(n,a,s,u,c){var l,h,f,d=0,p="0",m=n&&[],y=[],v=H,b=n||o&&w.find.TAG("*",c),E=U+=null==v?1:Math.random()||.1,x=b.length;for(c&&(H=a!==P&&a);p!==x&&null!=(l=b[p]);p++){if(o&&l){for(h=0;f=e[h++];)if(f(l,a,s)){u.push(l);break}c&&(U=E)}i&&((l=!f&&l)&&d--,n&&m.push(l))}if(d+=p,i&&p!==d){for(h=0;f=r[h++];)f(m,y,a,s);if(n){if(d>0)for(;p--;)m[p]||y[p]||(y[p]=$.call(u));y=g(y)}Z.apply(u,y),c&&!n&&y.length>0&&d+r.length>1&&t.uniqueSort(u)}return c&&(U=E,H=v),m};return i?n(a):a}var E,x,w,_,T,R,S,C,H,M,A,N,P,k,O,L,D,F,B,I="sizzle"+1*new Date,z=e.document,U=0,V=0,j=r(),q=r(),G=r(),W=function(e,t){return e===t&&(A=!0),0},K=1<<31,X={}.hasOwnProperty,Y=[],$=Y.pop,Q=Y.push,Z=Y.push,J=Y.slice,et=function(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r]===t)return r;return-1},tt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",rt="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=nt.replace("w","w#"),ot="\\["+rt+"*("+nt+")(?:"+rt+"*([*^$|!~]?=)"+rt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+rt+"*\\]",at=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(rt+"+","g"),ut=new RegExp("^"+rt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+rt+"+$","g"),ct=new RegExp("^"+rt+"*,"+rt+"*"),lt=new RegExp("^"+rt+"*([>+~]|"+rt+")"+rt+"*"),ht=new RegExp("="+rt+"*([^\\]'\"]*?)"+rt+"*\\]","g"),ft=new RegExp(at),dt=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+rt+"*(even|odd|(([+-]|)(\\d*)n|)"+rt+"*(?:([+-]|)"+rt+"*(\\d+)|))"+rt+"*\\)|)","i"),bool:new RegExp("^(?:"+tt+")$","i"),needsContext:new RegExp("^"+rt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+rt+"*((?:-\\d)?\\d*)"+rt+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,yt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,Et=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+rt+"?|("+rt+")|.)","ig"),wt=function(e,t,r){var n="0x"+t-65536;return n!==n||r?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},_t=function(){N()};try{Z.apply(Y=J.call(z.childNodes),z.childNodes),Y[z.childNodes.length].nodeType}catch(Tt){Z={apply:Y.length?function(e,t){Q.apply(e,J.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}x=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},N=t.setDocument=function(e){var t,r,n=e?e.ownerDocument||e:z;return n!==P&&9===n.nodeType&&n.documentElement?(P=n,k=n.documentElement,r=n.defaultView,r&&r!==r.top&&(r.addEventListener?r.addEventListener("unload",_t,!1):r.attachEvent&&r.attachEvent("onunload",_t)),O=!T(n),x.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=i(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=yt.test(n.getElementsByClassName),x.getById=i(function(e){return k.appendChild(e).id=I,!n.getElementsByName||!n.getElementsByName(I).length}),x.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&O){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}},w.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(xt,wt);return function(e){var r="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return r&&r.value===t}}),w.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;r=o[i++];)1===r.nodeType&&n.push(r);return n}return o},w.find.CLASS=x.getElementsByClassName&&function(e,t){return O?t.getElementsByClassName(e):void 0},D=[],L=[],(x.qsa=yt.test(n.querySelectorAll))&&(i(function(e){k.appendChild(e).innerHTML="<a id='"+I+"'></a><select id='"+I+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+rt+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||L.push("\\["+rt+"*(?:value|"+tt+")"),e.querySelectorAll("[id~="+I+"-]").length||L.push("~="),e.querySelectorAll(":checked").length||L.push(":checked"),e.querySelectorAll("a#"+I+"+*").length||L.push(".#.+[+~]")}),i(function(e){var t=n.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&L.push("name"+rt+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=yt.test(F=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&i(function(e){x.disconnectedMatch=F.call(e,"div"),F.call(e,"[s!='']:x"),D.push("!=",at)}),L=L.length&&new RegExp(L.join("|")),D=D.length&&new RegExp(D.join("|")),t=yt.test(k.compareDocumentPosition),B=t||yt.test(k.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},W=t?function(e,t){if(e===t)return A=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!x.sortDetached&&t.compareDocumentPosition(e)===r?e===n||e.ownerDocument===z&&B(z,e)?-1:t===n||t.ownerDocument===z&&B(z,t)?1:M?et(M,e)-et(M,t):0:4&r?-1:1)}:function(e,t){if(e===t)return A=!0,0;var r,i=0,o=e.parentNode,s=t.parentNode,u=[e],c=[t];if(!o||!s)return e===n?-1:t===n?1:o?-1:s?1:M?et(M,e)-et(M,t):0;if(o===s)return a(e,t);for(r=e;r=r.parentNode;)u.unshift(r);for(r=t;r=r.parentNode;)c.unshift(r);for(;u[i]===c[i];)i++;return i?a(u[i],c[i]):u[i]===z?-1:c[i]===z?1:0},n):P},t.matches=function(e,r){return t(e,null,null,r)},t.matchesSelector=function(e,r){if((e.ownerDocument||e)!==P&&N(e),r=r.replace(ht,"='$1']"),!(!x.matchesSelector||!O||D&&D.test(r)||L&&L.test(r)))try{var n=F.call(e,r);if(n||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return t(r,P,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==P&&N(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==P&&N(e);var r=w.attrHandle[t.toLowerCase()],n=r&&X.call(w.attrHandle,t.toLowerCase())?r(e,t,!O):void 0;return void 0!==n?n:x.attributes||!O?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,r=[],n=0,i=0;if(A=!x.detectDuplicates,M=!x.sortStable&&e.slice(0),e.sort(W),A){for(;t=e[i++];)t===e[i]&&(n=r.push(i));for(;n--;)e.splice(r[n],1)}return M=null,e},_=t.getText=function(e){var t,r="",n=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=_(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[n++];)r+=_(t);return r},w=t.selectors={cacheLength:50,createPseudo:n,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xt,wt),e[3]=(e[3]||e[4]||e[5]||"").replace(xt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return pt.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&ft.test(r)&&(t=R(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xt,wt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=j[e+" "];return t||(t=new RegExp("(^|"+rt+")"+e+"("+rt+"|$)"))&&j(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,r,n){return function(i){var o=t.attr(i,e);return null==o?"!="===r:r?(o+="","="===r?o===n:"!="===r?o!==n:"^="===r?n&&0===o.indexOf(n):"*="===r?n&&o.indexOf(n)>-1:"$="===r?n&&o.slice(-n.length)===n:"~="===r?(" "+o.replace(st," ")+" ").indexOf(n)>-1:"|="===r?o===n||o.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,r,n,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===n&&0===i?function(e){return!!e.parentNode}:function(t,r,u){var c,l,h,f,d,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(s?h.nodeName.toLowerCase()===y:1===h.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&v){for(l=g[I]||(g[I]={}),c=l[e]||[],d=c[0]===U&&c[1],f=c[0]===U&&c[2],h=d&&g.childNodes[d];h=++d&&h&&h[m]||(f=d=0)||p.pop();)if(1===h.nodeType&&++f&&h===t){l[e]=[U,d,f];break}}else if(v&&(c=(t[I]||(t[I]={}))[e])&&c[0]===U)f=c[1];else for(;(h=++d&&h&&h[m]||(f=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==y:1!==h.nodeType)||!++f||(v&&((h[I]||(h[I]={}))[e]=[U,f]),h!==t)););return f-=i,f===n||f%n===0&&f/n>=0}}},PSEUDO:function(e,r){var i,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[I]?o(r):o.length>1?(i=[e,e,"",r],w.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,t){for(var n,i=o(e,r),a=i.length;a--;)n=et(e,i[a]),e[n]=!(t[n]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:n(function(e){var t=[],r=[],i=S(e.replace(ut,"$1"));return i[I]?n(function(e,t,r,n){for(var o,a=i(e,null,n,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,n,o){return t[0]=e,i(t,null,o,r),t[0]=null,!r.pop()}}),has:n(function(e){return function(r){return t(e,r).length>0}}),contains:n(function(e){return e=e.replace(xt,wt),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:n(function(e){return dt.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xt,wt).toLowerCase(),function(t){var r;do if(r=O?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return r=r.toLowerCase(),r===e||0===r.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var r=e.location&&e.location.hash;return r&&r.slice(1)===t.id},root:function(e){return e===k},focus:function(e){return e===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return gt.test(e.nodeName)},input:function(e){return mt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t
},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,r){return[0>r?r+t:r]}),even:c(function(e,t){for(var r=0;t>r;r+=2)e.push(r);return e}),odd:c(function(e,t){for(var r=1;t>r;r+=2)e.push(r);return e}),lt:c(function(e,t,r){for(var n=0>r?r+t:r;--n>=0;)e.push(n);return e}),gt:c(function(e,t,r){for(var n=0>r?r+t:r;++n<t;)e.push(n);return e})}},w.pseudos.nth=w.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[E]=s(E);for(E in{submit:!0,reset:!0})w.pseudos[E]=u(E);return h.prototype=w.filters=w.pseudos,w.setFilters=new h,R=t.tokenize=function(e,r){var n,i,o,a,s,u,c,l=q[e+" "];if(l)return r?0:l.slice(0);for(s=e,u=[],c=w.preFilter;s;){(!n||(i=ct.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=lt.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(ut," ")}),s=s.slice(n.length));for(a in w.filter)!(i=pt[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return r?s.length:s?t.error(e):q(e,u).slice(0)},S=t.compile=function(e,t){var r,n=[],i=[],o=G[e+" "];if(!o){for(t||(t=R(e)),r=t.length;r--;)o=v(t[r]),o[I]?n.push(o):i.push(o);o=G(e,b(i,n)),o.selector=e}return o},C=t.select=function(e,t,r,n){var i,o,a,s,u,c="function"==typeof e&&e,h=!n&&R(e=c.selector||e);if(r=r||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===t.nodeType&&O&&w.relative[o[1].type]){if(t=(w.find.ID(a.matches[0].replace(xt,wt),t)||[])[0],!t)return r;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=pt.needsContext.test(e)?0:o.length;i--&&(a=o[i],!w.relative[s=a.type]);)if((u=w.find[s])&&(n=u(a.matches[0].replace(xt,wt),bt.test(o[0].type)&&l(t.parentNode)||t))){if(o.splice(i,1),e=n.length&&f(o),!e)return Z.apply(r,n),r;break}}return(c||S(e,h))(n,t,!O,r,bt.test(e)&&l(t.parentNode)||t),r},x.sortStable=I.split("").sort(W).join("")===I,x.detectDuplicates=!!A,N(),x.sortDetached=i(function(e){return 1&e.compareDocumentPosition(P.createElement("div"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,r){return r?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,r){return r||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(tt,function(e,t,r){var n;return r?void 0:e[t]===!0?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),t}(e);it.find=ct,it.expr=ct.selectors,it.expr[":"]=it.expr.pseudos,it.unique=ct.uniqueSort,it.text=ct.getText,it.isXMLDoc=ct.isXML,it.contains=ct.contains;var lt=it.expr.match.needsContext,ht=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^.[^:#\[\.,]*$/;it.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?it.find.matchesSelector(n,e)?[n]:[]:it.find.matches(e,it.grep(t,function(e){return 1===e.nodeType}))},it.fn.extend({find:function(e){var t,r=[],n=this,i=n.length;if("string"!=typeof e)return this.pushStack(it(e).filter(function(){for(t=0;i>t;t++)if(it.contains(n[t],this))return!0}));for(t=0;i>t;t++)it.find(e,n[t],r);return r=this.pushStack(i>1?it.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(n(this,e||[],!1))},not:function(e){return this.pushStack(n(this,e||[],!0))},is:function(e){return!!n(this,"string"==typeof e&&lt.test(e)?it(e):e||[],!1).length}});var dt,pt=e.document,mt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,gt=it.fn.init=function(e,t){var r,n;if(!e)return this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:mt.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||dt).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof it?t[0]:t,it.merge(this,it.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:pt,!0)),ht.test(r[1])&&it.isPlainObject(t))for(r in t)it.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}if(n=pt.getElementById(r[2]),n&&n.parentNode){if(n.id!==r[2])return dt.find(e);this.length=1,this[0]=n}return this.context=pt,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):it.isFunction(e)?"undefined"!=typeof dt.ready?dt.ready(e):e(it):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),it.makeArray(e,this))};gt.prototype=it.fn,dt=it(pt);var yt=/^(?:parents|prev(?:Until|All))/,vt={children:!0,contents:!0,next:!0,prev:!0};it.extend({dir:function(e,t,r){for(var n=[],i=e[t];i&&9!==i.nodeType&&(void 0===r||1!==i.nodeType||!it(i).is(r));)1===i.nodeType&&n.push(i),i=i[t];return n},sibling:function(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r}}),it.fn.extend({has:function(e){var t,r=it(e,this),n=r.length;return this.filter(function(){for(t=0;n>t;t++)if(it.contains(this,r[t]))return!0})},closest:function(e,t){for(var r,n=0,i=this.length,o=[],a=lt.test(e)||"string"!=typeof e?it(e,t||this.context):0;i>n;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&it.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?it.unique(o):o)},index:function(e){return e?"string"==typeof e?it.inArray(this[0],it(e)):it.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(it.unique(it.merge(this.get(),it(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),it.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return it.dir(e,"parentNode")},parentsUntil:function(e,t,r){return it.dir(e,"parentNode",r)},next:function(e){return i(e,"nextSibling")},prev:function(e){return i(e,"previousSibling")},nextAll:function(e){return it.dir(e,"nextSibling")},prevAll:function(e){return it.dir(e,"previousSibling")},nextUntil:function(e,t,r){return it.dir(e,"nextSibling",r)},prevUntil:function(e,t,r){return it.dir(e,"previousSibling",r)},siblings:function(e){return it.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return it.sibling(e.firstChild)},contents:function(e){return it.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:it.merge([],e.childNodes)}},function(e,t){it.fn[e]=function(r,n){var i=it.map(this,t,r);return"Until"!==e.slice(-5)&&(n=r),n&&"string"==typeof n&&(i=it.filter(n,i)),this.length>1&&(vt[e]||(i=it.unique(i)),yt.test(e)&&(i=i.reverse())),this.pushStack(i)}});var bt=/\S+/g,Et={};it.Callbacks=function(e){e="string"==typeof e?Et[e]||o(e):it.extend({},e);var t,r,n,i,a,s,u=[],c=!e.once&&[],l=function(o){for(r=e.memory&&o,n=!0,a=s||0,s=0,i=u.length,t=!0;u&&i>a;a++)if(u[a].apply(o[0],o[1])===!1&&e.stopOnFalse){r=!1;break}t=!1,u&&(c?c.length&&l(c.shift()):r?u=[]:h.disable())},h={add:function(){if(u){var n=u.length;!function o(t){it.each(t,function(t,r){var n=it.type(r);"function"===n?e.unique&&h.has(r)||u.push(r):r&&r.length&&"string"!==n&&o(r)})}(arguments),t?i=u.length:r&&(s=n,l(r))}return this},remove:function(){return u&&it.each(arguments,function(e,r){for(var n;(n=it.inArray(r,u,n))>-1;)u.splice(n,1),t&&(i>=n&&i--,a>=n&&a--)}),this},has:function(e){return e?it.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],i=0,this},disable:function(){return u=c=r=void 0,this},disabled:function(){return!u},lock:function(){return c=void 0,r||h.disable(),this},locked:function(){return!c},fireWith:function(e,r){return!u||n&&!c||(r=r||[],r=[e,r.slice?r.slice():r],t?c.push(r):l(r)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},it.extend({Deferred:function(e){var t=[["resolve","done",it.Callbacks("once memory"),"resolved"],["reject","fail",it.Callbacks("once memory"),"rejected"],["notify","progress",it.Callbacks("memory")]],r="pending",n={state:function(){return r},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return it.Deferred(function(r){it.each(t,function(t,o){var a=it.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&it.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[o[0]+"With"](this===n?r.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?it.extend(e,n):n}},i={};return n.pipe=n.then,it.each(t,function(e,o){var a=o[2],s=o[3];n[o[1]]=a.add,s&&a.add(function(){r=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?n:this,arguments),this},i[o[0]+"With"]=a.fireWith}),n.promise(i),e&&e.call(i,i),i},when:function(e){var t,r,n,i=0,o=Y.call(arguments),a=o.length,s=1!==a||e&&it.isFunction(e.promise)?a:0,u=1===s?e:it.Deferred(),c=function(e,r,n){return function(i){r[e]=this,n[e]=arguments.length>1?Y.call(arguments):i,n===t?u.notifyWith(r,n):--s||u.resolveWith(r,n)}};if(a>1)for(t=new Array(a),r=new Array(a),n=new Array(a);a>i;i++)o[i]&&it.isFunction(o[i].promise)?o[i].promise().done(c(i,n,o)).fail(u.reject).progress(c(i,r,t)):--s;return s||u.resolveWith(n,o),u.promise()}});var xt;it.fn.ready=function(e){return it.ready.promise().done(e),this},it.extend({isReady:!1,readyWait:1,holdReady:function(e){e?it.readyWait++:it.ready(!0)},ready:function(e){if(e===!0?!--it.readyWait:!it.isReady){if(!pt.body)return setTimeout(it.ready);it.isReady=!0,e!==!0&&--it.readyWait>0||(xt.resolveWith(pt,[it]),it.fn.triggerHandler&&(it(pt).triggerHandler("ready"),it(pt).off("ready")))}}}),it.ready.promise=function(t){if(!xt)if(xt=it.Deferred(),"complete"===pt.readyState)setTimeout(it.ready);else if(pt.addEventListener)pt.addEventListener("DOMContentLoaded",s,!1),e.addEventListener("load",s,!1);else{pt.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var r=!1;try{r=null==e.frameElement&&pt.documentElement}catch(n){}r&&r.doScroll&&!function i(){if(!it.isReady){try{r.doScroll("left")}catch(e){return setTimeout(i,50)}a(),it.ready()}}()}return xt.promise(t)};var wt,_t="undefined";for(wt in it(rt))break;rt.ownLast="0"!==wt,rt.inlineBlockNeedsLayout=!1,it(function(){var e,t,r,n;r=pt.getElementsByTagName("body")[0],r&&r.style&&(t=pt.createElement("div"),n=pt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",r.appendChild(n).appendChild(t),typeof t.style.zoom!==_t&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",rt.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(r.style.zoom=1)),r.removeChild(n))}),function(){var e=pt.createElement("div");if(null==rt.deleteExpando){rt.deleteExpando=!0;try{delete e.test}catch(t){rt.deleteExpando=!1}}e=null}(),it.acceptData=function(e){var t=it.noData[(e.nodeName+" ").toLowerCase()],r=+e.nodeType||1;return 1!==r&&9!==r?!1:!t||t!==!0&&e.getAttribute("classid")===t};var Tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Rt=/([A-Z])/g;it.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?it.cache[e[it.expando]]:e[it.expando],!!e&&!c(e)},data:function(e,t,r){return l(e,t,r)},removeData:function(e,t){return h(e,t)},_data:function(e,t,r){return l(e,t,r,!0)},_removeData:function(e,t){return h(e,t,!0)}}),it.fn.extend({data:function(e,t){var r,n,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=it.data(o),1===o.nodeType&&!it._data(o,"parsedAttrs"))){for(r=a.length;r--;)a[r]&&(n=a[r].name,0===n.indexOf("data-")&&(n=it.camelCase(n.slice(5)),u(o,n,i[n])));it._data(o,"parsedAttrs",!0)}return i}return"object"==typeof e?this.each(function(){it.data(this,e)}):arguments.length>1?this.each(function(){it.data(this,e,t)}):o?u(o,e,it.data(o,e)):void 0},removeData:function(e){return this.each(function(){it.removeData(this,e)})}}),it.extend({queue:function(e,t,r){var n;return e?(t=(t||"fx")+"queue",n=it._data(e,t),r&&(!n||it.isArray(r)?n=it._data(e,t,it.makeArray(r)):n.push(r)),n||[]):void 0},dequeue:function(e,t){t=t||"fx";var r=it.queue(e,t),n=r.length,i=r.shift(),o=it._queueHooks(e,t),a=function(){it.dequeue(e,t)};"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return it._data(e,r)||it._data(e,r,{empty:it.Callbacks("once memory").add(function(){it._removeData(e,t+"queue"),it._removeData(e,r)})})}}),it.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?it.queue(this[0],e):void 0===t?this:this.each(function(){var r=it.queue(this,e,t);it._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&it.dequeue(this,e)})},dequeue:function(e){return this.each(function(){it.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,n=1,i=it.Deferred(),o=this,a=this.length,s=function(){--n||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)r=it._data(o[a],e+"queueHooks"),r&&r.empty&&(n++,r.empty.add(s));return s(),i.promise(t)}});var St=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=["Top","Right","Bottom","Left"],Ht=function(e,t){return e=t||e,"none"===it.css(e,"display")||!it.contains(e.ownerDocument,e)},Mt=it.access=function(e,t,r,n,i,o,a){var s=0,u=e.length,c=null==r;if("object"===it.type(r)){i=!0;for(s in r)it.access(e,t,s,r[s],!0,o,a)}else if(void 0!==n&&(i=!0,it.isFunction(n)||(a=!0),c&&(a?(t.call(e,n),t=null):(c=t,t=function(e,t,r){return c.call(it(e),r)})),t))for(;u>s;s++)t(e[s],r,a?n:n.call(e[s],s,t(e[s],r)));return i?e:c?t.call(e):u?t(e[0],r):o},At=/^(?:checkbox|radio)$/i;!function(){var e=pt.createElement("input"),t=pt.createElement("div"),r=pt.createDocumentFragment();if(t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",rt.leadingWhitespace=3===t.firstChild.nodeType,rt.tbody=!t.getElementsByTagName("tbody").length,rt.htmlSerialize=!!t.getElementsByTagName("link").length,rt.html5Clone="<:nav></:nav>"!==pt.createElement("nav").cloneNode(!0).outerHTML,e.type="checkbox",e.checked=!0,r.appendChild(e),rt.appendChecked=e.checked,t.innerHTML="<textarea>x</textarea>",rt.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,r.appendChild(t),t.innerHTML="<input type='radio' checked='checked' name='t'/>",rt.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,rt.noCloneEvent=!0,t.attachEvent&&(t.attachEvent("onclick",function(){rt.noCloneEvent=!1}),t.cloneNode(!0).click()),null==rt.deleteExpando){rt.deleteExpando=!0;try{delete t.test}catch(n){rt.deleteExpando=!1}}}(),function(){var t,r,n=pt.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})r="on"+t,(rt[t+"Bubbles"]=r in e)||(n.setAttribute(r,"t"),rt[t+"Bubbles"]=n.attributes[r].expando===!1);n=null}();var Nt=/^(?:input|select|textarea)$/i,Pt=/^key/,kt=/^(?:mouse|pointer|contextmenu)|click/,Ot=/^(?:focusinfocus|focusoutblur)$/,Lt=/^([^.]*)(?:\.(.+)|)$/;it.event={global:{},add:function(e,t,r,n,i){var o,a,s,u,c,l,h,f,d,p,m,g=it._data(e);if(g){for(r.handler&&(u=r,r=u.handler,i=u.selector),r.guid||(r.guid=it.guid++),(a=g.events)||(a=g.events={}),(l=g.handle)||(l=g.handle=function(e){return typeof it===_t||e&&it.event.triggered===e.type?void 0:it.event.dispatch.apply(l.elem,arguments)},l.elem=e),t=(t||"").match(bt)||[""],s=t.length;s--;)o=Lt.exec(t[s])||[],d=m=o[1],p=(o[2]||"").split(".").sort(),d&&(c=it.event.special[d]||{},d=(i?c.delegateType:c.bindType)||d,c=it.event.special[d]||{},h=it.extend({type:d,origType:m,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&it.expr.match.needsContext.test(i),namespace:p.join(".")},u),(f=a[d])||(f=a[d]=[],f.delegateCount=0,c.setup&&c.setup.call(e,n,p,l)!==!1||(e.addEventListener?e.addEventListener(d,l,!1):e.attachEvent&&e.attachEvent("on"+d,l))),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=r.guid)),i?f.splice(f.delegateCount++,0,h):f.push(h),it.event.global[d]=!0);e=null}},remove:function(e,t,r,n,i){var o,a,s,u,c,l,h,f,d,p,m,g=it.hasData(e)&&it._data(e);if(g&&(l=g.events)){for(t=(t||"").match(bt)||[""],c=t.length;c--;)if(s=Lt.exec(t[c])||[],d=m=s[1],p=(s[2]||"").split(".").sort(),d){for(h=it.event.special[d]||{},d=(n?h.delegateType:h.bindType)||d,f=l[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;o--;)a=f[o],!i&&m!==a.origType||r&&r.guid!==a.guid||s&&!s.test(a.namespace)||n&&n!==a.selector&&("**"!==n||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,h.remove&&h.remove.call(e,a));u&&!f.length&&(h.teardown&&h.teardown.call(e,p,g.handle)!==!1||it.removeEvent(e,d,g.handle),delete l[d])}else for(d in l)it.event.remove(e,d+t[c],r,n,!0);it.isEmptyObject(l)&&(delete g.handle,it._removeData(e,"events"))}},trigger:function(t,r,n,i){var o,a,s,u,c,l,h,f=[n||pt],d=tt.call(t,"type")?t.type:t,p=tt.call(t,"namespace")?t.namespace.split("."):[];if(s=l=n=n||pt,3!==n.nodeType&&8!==n.nodeType&&!Ot.test(d+it.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),a=d.indexOf(":")<0&&"on"+d,t=t[it.expando]?t:new it.Event(d,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),r=null==r?[t]:it.makeArray(r,[t]),c=it.event.special[d]||{},i||!c.trigger||c.trigger.apply(n,r)!==!1)){if(!i&&!c.noBubble&&!it.isWindow(n)){for(u=c.delegateType||d,Ot.test(u+d)||(s=s.parentNode);s;s=s.parentNode)f.push(s),l=s;l===(n.ownerDocument||pt)&&f.push(l.defaultView||l.parentWindow||e)}for(h=0;(s=f[h++])&&!t.isPropagationStopped();)t.type=h>1?u:c.bindType||d,o=(it._data(s,"events")||{})[t.type]&&it._data(s,"handle"),o&&o.apply(s,r),o=a&&s[a],o&&o.apply&&it.acceptData(s)&&(t.result=o.apply(s,r),t.result===!1&&t.preventDefault());if(t.type=d,!i&&!t.isDefaultPrevented()&&(!c._default||c._default.apply(f.pop(),r)===!1)&&it.acceptData(n)&&a&&n[d]&&!it.isWindow(n)){l=n[a],l&&(n[a]=null),it.event.triggered=d;try{n[d]()}catch(m){}it.event.triggered=void 0,l&&(n[a]=l)}return t.result}},dispatch:function(e){e=it.event.fix(e);var t,r,n,i,o,a=[],s=Y.call(arguments),u=(it._data(this,"events")||{})[e.type]||[],c=it.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){for(a=it.event.handlers.call(this,e,u),t=0;(i=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,o=0;(n=i.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(n.namespace))&&(e.handleObj=n,e.data=n.data,r=((it.event.special[n.origType]||{}).handle||n.handler).apply(i.elem,s),void 0!==r&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var r,n,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!=this;u=u.parentNode||this)if(1===u.nodeType&&(u.disabled!==!0||"click"!==e.type)){for(i=[],o=0;s>o;o++)n=t[o],r=n.selector+" ",void 0===i[r]&&(i[r]=n.needsContext?it(r,this).index(u)>=0:it.find(r,this,null,[u]).length),i[r]&&i.push(n);i.length&&a.push({elem:u,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[it.expando])return e;var t,r,n,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=kt.test(i)?this.mouseHooks:Pt.test(i)?this.keyHooks:{}),n=a.props?this.props.concat(a.props):this.props,e=new it.Event(o),t=n.length;t--;)r=n[t],e[r]=o[r];return e.target||(e.target=o.srcElement||pt),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var r,n,i,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||pt,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==p()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===p()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return it.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return it.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,r,n){var i=it.extend(new it.Event,r,{type:e,isSimulated:!0,originalEvent:{}});n?it.event.trigger(i,null,t):it.event.dispatch.call(t,i),i.isDefaultPrevented()&&r.preventDefault()}},it.removeEvent=pt.removeEventListener?function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r,!1)}:function(e,t,r){var n="on"+t;e.detachEvent&&(typeof e[n]===_t&&(e[n]=null),e.detachEvent(n,r))},it.Event=function(e,t){return this instanceof it.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?f:d):this.type=e,t&&it.extend(this,t),this.timeStamp=e&&e.timeStamp||it.now(),void(this[it.expando]=!0)):new it.Event(e,t)},it.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=f,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=f,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=f,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},it.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){it.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,n=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==n&&!it.contains(n,i))&&(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),rt.submitBubbles||(it.event.special.submit={setup:function(){return it.nodeName(this,"form")?!1:void it.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,r=it.nodeName(t,"input")||it.nodeName(t,"button")?t.form:void 0;r&&!it._data(r,"submitBubbles")&&(it.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),it._data(r,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&it.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return it.nodeName(this,"form")?!1:void it.event.remove(this,"._submit")}}),rt.changeBubbles||(it.event.special.change={setup:function(){return Nt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(it.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),it.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),it.event.simulate("change",this,e,!0)})),!1):void it.event.add(this,"beforeactivate._change",function(e){var t=e.target;Nt.test(t.nodeName)&&!it._data(t,"changeBubbles")&&(it.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||it.event.simulate("change",this.parentNode,e,!0)}),it._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return it.event.remove(this,"._change"),!Nt.test(this.nodeName)}}),rt.focusinBubbles||it.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){it.event.simulate(t,e.target,it.event.fix(e),!0)};it.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=it._data(n,t);i||n.addEventListener(e,r,!0),it._data(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=it._data(n,t)-1;i?it._data(n,t,i):(n.removeEventListener(e,r,!0),it._removeData(n,t))}}}),it.fn.extend({on:function(e,t,r,n,i){var o,a;if("object"==typeof e){"string"!=typeof t&&(r=r||t,t=void 0);for(o in e)this.on(o,t,r,e[o],i);return this}if(null==r&&null==n?(n=t,r=t=void 0):null==n&&("string"==typeof t?(n=r,r=void 0):(n=r,r=t,t=void 0)),n===!1)n=d;else if(!n)return this;return 1===i&&(a=n,n=function(e){return it().off(e),a.apply(this,arguments)},n.guid=a.guid||(a.guid=it.guid++)),this.each(function(){it.event.add(this,e,n,r,t)})},one:function(e,t,r,n){return this.on(e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,it(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return(t===!1||"function"==typeof t)&&(r=t,t=void 0),r===!1&&(r=d),this.each(function(){it.event.remove(this,e,r,t)})},trigger:function(e,t){return this.each(function(){it.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];return r?it.event.trigger(e,t,r,!0):void 0}});var Dt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ft=/ jQuery\d+="(?:null|\d+)"/g,Bt=new RegExp("<(?:"+Dt+")[\\s/>]","i"),It=/^\s+/,zt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ut=/<([\w:]+)/,Vt=/<tbody/i,jt=/<|&#?\w+;/,qt=/<(?:script|style|link)/i,Gt=/checked\s*(?:[^=]|=\s*.checked.)/i,Wt=/^$|\/(?:java|ecma)script/i,Kt=/^true\/(.*)/,Xt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:rt.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},$t=m(pt),Qt=$t.appendChild(pt.createElement("div"));Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td,it.extend({clone:function(e,t,r){var n,i,o,a,s,u=it.contains(e.ownerDocument,e);if(rt.html5Clone||it.isXMLDoc(e)||!Bt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Qt.innerHTML=e.outerHTML,Qt.removeChild(o=Qt.firstChild)),!(rt.noCloneEvent&&rt.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||it.isXMLDoc(e)))for(n=g(o),s=g(e),a=0;null!=(i=s[a]);++a)n[a]&&_(i,n[a]);if(t)if(r)for(s=s||g(e),n=n||g(o),a=0;null!=(i=s[a]);a++)w(i,n[a]);else w(e,o);return n=g(o,"script"),n.length>0&&x(n,!u&&g(e,"script")),n=s=i=null,o},buildFragment:function(e,t,r,n){for(var i,o,a,s,u,c,l,h=e.length,f=m(t),d=[],p=0;h>p;p++)if(o=e[p],o||0===o)if("object"===it.type(o))it.merge(d,o.nodeType?[o]:o);else if(jt.test(o)){for(s=s||f.appendChild(t.createElement("div")),u=(Ut.exec(o)||["",""])[1].toLowerCase(),l=Yt[u]||Yt._default,s.innerHTML=l[1]+o.replace(zt,"<$1></$2>")+l[2],i=l[0];i--;)s=s.lastChild;if(!rt.leadingWhitespace&&It.test(o)&&d.push(t.createTextNode(It.exec(o)[0])),!rt.tbody)for(o="table"!==u||Vt.test(o)?"<table>"!==l[1]||Vt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;i--;)it.nodeName(c=o.childNodes[i],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(it.merge(d,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));for(s&&f.removeChild(s),rt.appendChecked||it.grep(g(d,"input"),y),p=0;o=d[p++];)if((!n||-1===it.inArray(o,n))&&(a=it.contains(o.ownerDocument,o),s=g(f.appendChild(o),"script"),a&&x(s),r))for(i=0;o=s[i++];)Wt.test(o.type||"")&&r.push(o);return s=null,f},cleanData:function(e,t){for(var r,n,i,o,a=0,s=it.expando,u=it.cache,c=rt.deleteExpando,l=it.event.special;null!=(r=e[a]);a++)if((t||it.acceptData(r))&&(i=r[s],o=i&&u[i])){if(o.events)for(n in o.events)l[n]?it.event.remove(r,n):it.removeEvent(r,n,o.handle);u[i]&&(delete u[i],c?delete r[s]:typeof r.removeAttribute!==_t?r.removeAttribute(s):r[s]=null,X.push(i))}}}),it.fn.extend({text:function(e){return Mt(this,function(e){return void 0===e?it.text(this):this.empty().append((this[0]&&this[0].ownerDocument||pt).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=v(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var r,n=e?it.filter(e,this):this,i=0;null!=(r=n[i]);i++)t||1!==r.nodeType||it.cleanData(g(r)),r.parentNode&&(t&&it.contains(r.ownerDocument,r)&&x(g(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&it.cleanData(g(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&it.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return it.clone(this,e,t)})},html:function(e){return Mt(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Ft,""):void 0;if(!("string"!=typeof e||qt.test(e)||!rt.htmlSerialize&&Bt.test(e)||!rt.leadingWhitespace&&It.test(e)||Yt[(Ut.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(zt,"<$1></$2>");try{for(;n>r;r++)t=this[r]||{},1===t.nodeType&&(it.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,it.cleanData(g(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=$.apply([],e);var r,n,i,o,a,s,u=0,c=this.length,l=this,h=c-1,f=e[0],d=it.isFunction(f);if(d||c>1&&"string"==typeof f&&!rt.checkClone&&Gt.test(f))return this.each(function(r){var n=l.eq(r);d&&(e[0]=f.call(this,r,n.html())),n.domManip(e,t)});if(c&&(s=it.buildFragment(e,this[0].ownerDocument,!1,this),r=s.firstChild,1===s.childNodes.length&&(s=r),r)){for(o=it.map(g(s,"script"),b),i=o.length;c>u;u++)n=s,u!==h&&(n=it.clone(n,!0,!0),i&&it.merge(o,g(n,"script"))),t.call(this[u],n,u);if(i)for(a=o[o.length-1].ownerDocument,it.map(o,E),u=0;i>u;u++)n=o[u],Wt.test(n.type||"")&&!it._data(n,"globalEval")&&it.contains(a,n)&&(n.src?it._evalUrl&&it._evalUrl(n.src):it.globalEval((n.text||n.textContent||n.innerHTML||"").replace(Xt,"")));s=r=null}return this}}),it.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){it.fn[e]=function(e){for(var r,n=0,i=[],o=it(e),a=o.length-1;a>=n;n++)r=n===a?this:this.clone(!0),it(o[n])[t](r),Q.apply(i,r.get());return this.pushStack(i)
}});var Zt,Jt={};!function(){var e;rt.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,r,n;return r=pt.getElementsByTagName("body")[0],r&&r.style?(t=pt.createElement("div"),n=pt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",r.appendChild(n).appendChild(t),typeof t.style.zoom!==_t&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(pt.createElement("div")).style.width="5px",e=3!==t.offsetWidth),r.removeChild(n),e):void 0}}();var er,tr,rr=/^margin/,nr=new RegExp("^("+St+")(?!px)[a-z%]+$","i"),ir=/^(top|right|bottom|left)$/;e.getComputedStyle?(er=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)},tr=function(e,t,r){var n,i,o,a,s=e.style;return r=r||er(e),a=r?r.getPropertyValue(t)||r[t]:void 0,r&&(""!==a||it.contains(e.ownerDocument,e)||(a=it.style(e,t)),nr.test(a)&&rr.test(t)&&(n=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=r.width,s.width=n,s.minWidth=i,s.maxWidth=o)),void 0===a?a:a+""}):pt.documentElement.currentStyle&&(er=function(e){return e.currentStyle},tr=function(e,t,r){var n,i,o,a,s=e.style;return r=r||er(e),a=r?r[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),nr.test(a)&&!ir.test(t)&&(n=s.left,i=e.runtimeStyle,o=i&&i.left,o&&(i.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=n,o&&(i.left=o)),void 0===a?a:a+""||"auto"}),function(){function t(){var t,r,n,i;r=pt.getElementsByTagName("body")[0],r&&r.style&&(t=pt.createElement("div"),n=pt.createElement("div"),n.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",r.appendChild(n).appendChild(t),t.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o=a=!1,u=!0,e.getComputedStyle&&(o="1%"!==(e.getComputedStyle(t,null)||{}).top,a="4px"===(e.getComputedStyle(t,null)||{width:"4px"}).width,i=t.appendChild(pt.createElement("div")),i.style.cssText=t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",t.style.width="1px",u=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight),t.removeChild(i)),t.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=t.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",s=0===i[0].offsetHeight,s&&(i[0].style.display="",i[1].style.display="none",s=0===i[0].offsetHeight),r.removeChild(n))}var r,n,i,o,a,s,u;r=pt.createElement("div"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=r.getElementsByTagName("a")[0],n=i&&i.style,n&&(n.cssText="float:left;opacity:.5",rt.opacity="0.5"===n.opacity,rt.cssFloat=!!n.cssFloat,r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",rt.clearCloneStyle="content-box"===r.style.backgroundClip,rt.boxSizing=""===n.boxSizing||""===n.MozBoxSizing||""===n.WebkitBoxSizing,it.extend(rt,{reliableHiddenOffsets:function(){return null==s&&t(),s},boxSizingReliable:function(){return null==a&&t(),a},pixelPosition:function(){return null==o&&t(),o},reliableMarginRight:function(){return null==u&&t(),u}}))}(),it.swap=function(e,t,r,n){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=r.apply(e,n||[]);for(o in t)e.style[o]=a[o];return i};var or=/alpha\([^)]*\)/i,ar=/opacity\s*=\s*([^)]*)/,sr=/^(none|table(?!-c[ea]).+)/,ur=new RegExp("^("+St+")(.*)$","i"),cr=new RegExp("^([+-])=("+St+")","i"),lr={position:"absolute",visibility:"hidden",display:"block"},hr={letterSpacing:"0",fontWeight:"400"},fr=["Webkit","O","Moz","ms"];it.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=tr(e,"opacity");return""===r?"1":r}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":rt.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=it.camelCase(t),u=e.style;if(t=it.cssProps[s]||(it.cssProps[s]=C(u,s)),a=it.cssHooks[t]||it.cssHooks[s],void 0===r)return a&&"get"in a&&void 0!==(i=a.get(e,!1,n))?i:u[t];if(o=typeof r,"string"===o&&(i=cr.exec(r))&&(r=(i[1]+1)*i[2]+parseFloat(it.css(e,t)),o="number"),null!=r&&r===r&&("number"!==o||it.cssNumber[s]||(r+="px"),rt.clearCloneStyle||""!==r||0!==t.indexOf("background")||(u[t]="inherit"),!(a&&"set"in a&&void 0===(r=a.set(e,r,n)))))try{u[t]=r}catch(c){}}},css:function(e,t,r,n){var i,o,a,s=it.camelCase(t);return t=it.cssProps[s]||(it.cssProps[s]=C(e.style,s)),a=it.cssHooks[t]||it.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,r)),void 0===o&&(o=tr(e,t,n)),"normal"===o&&t in hr&&(o=hr[t]),""===r||r?(i=parseFloat(o),r===!0||it.isNumeric(i)?i||0:o):o}}),it.each(["height","width"],function(e,t){it.cssHooks[t]={get:function(e,r,n){return r?sr.test(it.css(e,"display"))&&0===e.offsetWidth?it.swap(e,lr,function(){return N(e,t,n)}):N(e,t,n):void 0},set:function(e,r,n){var i=n&&er(e);return M(e,r,n?A(e,t,n,rt.boxSizing&&"border-box"===it.css(e,"boxSizing",!1,i),i):0)}}}),rt.opacity||(it.cssHooks.opacity={get:function(e,t){return ar.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var r=e.style,n=e.currentStyle,i=it.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||r.filter||"";r.zoom=1,(t>=1||""===t)&&""===it.trim(o.replace(or,""))&&r.removeAttribute&&(r.removeAttribute("filter"),""===t||n&&!n.filter)||(r.filter=or.test(o)?o.replace(or,i):o+" "+i)}}),it.cssHooks.marginRight=S(rt.reliableMarginRight,function(e,t){return t?it.swap(e,{display:"inline-block"},tr,[e,"marginRight"]):void 0}),it.each({margin:"",padding:"",border:"Width"},function(e,t){it.cssHooks[e+t]={expand:function(r){for(var n=0,i={},o="string"==typeof r?r.split(" "):[r];4>n;n++)i[e+Ct[n]+t]=o[n]||o[n-2]||o[0];return i}},rr.test(e)||(it.cssHooks[e+t].set=M)}),it.fn.extend({css:function(e,t){return Mt(this,function(e,t,r){var n,i,o={},a=0;if(it.isArray(t)){for(n=er(e),i=t.length;i>a;a++)o[t[a]]=it.css(e,t[a],!1,n);return o}return void 0!==r?it.style(e,t,r):it.css(e,t)},e,t,arguments.length>1)},show:function(){return H(this,!0)},hide:function(){return H(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ht(this)?it(this).show():it(this).hide()})}}),it.Tween=P,P.prototype={constructor:P,init:function(e,t,r,n,i,o){this.elem=e,this.prop=r,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(it.cssNumber[r]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,r=P.propHooks[this.prop];return this.pos=t=this.options.duration?it.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=it.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){it.fx.step[e.prop]?it.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[it.cssProps[e.prop]]||it.cssHooks[e.prop])?it.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},it.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},it.fx=P.prototype.init,it.fx.step={};var dr,pr,mr=/^(?:toggle|show|hide)$/,gr=new RegExp("^(?:([+-])=|)("+St+")([a-z%]*)$","i"),yr=/queueHooks$/,vr=[D],br={"*":[function(e,t){var r=this.createTween(e,t),n=r.cur(),i=gr.exec(t),o=i&&i[3]||(it.cssNumber[e]?"":"px"),a=(it.cssNumber[e]||"px"!==o&&+n)&&gr.exec(it.css(r.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+n||1;do s=s||".5",a/=s,it.style(r.elem,e,a+o);while(s!==(s=r.cur()/n)&&1!==s&&--u)}return i&&(a=r.start=+a||+n||0,r.unit=o,r.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),r}]};it.Animation=it.extend(B,{tweener:function(e,t){it.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var r,n=0,i=e.length;i>n;n++)r=e[n],br[r]=br[r]||[],br[r].unshift(t)},prefilter:function(e,t){t?vr.unshift(e):vr.push(e)}}),it.speed=function(e,t,r){var n=e&&"object"==typeof e?it.extend({},e):{complete:r||!r&&t||it.isFunction(e)&&e,duration:e,easing:r&&t||t&&!it.isFunction(t)&&t};return n.duration=it.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in it.fx.speeds?it.fx.speeds[n.duration]:it.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){it.isFunction(n.old)&&n.old.call(this),n.queue&&it.dequeue(this,n.queue)},n},it.fn.extend({fadeTo:function(e,t,r,n){return this.filter(Ht).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(e,t,r,n){var i=it.isEmptyObject(e),o=it.speed(t,r,n),a=function(){var t=B(this,it.extend({},e),o);(i||it._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,r){var n=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=it.timers,a=it._data(this);if(i)a[i]&&a[i].stop&&n(a[i]);else for(i in a)a[i]&&a[i].stop&&yr.test(i)&&n(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(r),t=!1,o.splice(i,1));(t||!r)&&it.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,r=it._data(this),n=r[e+"queue"],i=r[e+"queueHooks"],o=it.timers,a=n?n.length:0;for(r.finish=!0,it.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete r.finish})}}),it.each(["toggle","show","hide"],function(e,t){var r=it.fn[t];it.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(O(t,!0),e,n,i)}}),it.each({slideDown:O("show"),slideUp:O("hide"),slideToggle:O("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){it.fn[e]=function(e,r,n){return this.animate(t,e,r,n)}}),it.timers=[],it.fx.tick=function(){var e,t=it.timers,r=0;for(dr=it.now();r<t.length;r++)e=t[r],e()||t[r]!==e||t.splice(r--,1);t.length||it.fx.stop(),dr=void 0},it.fx.timer=function(e){it.timers.push(e),e()?it.fx.start():it.timers.pop()},it.fx.interval=13,it.fx.start=function(){pr||(pr=setInterval(it.fx.tick,it.fx.interval))},it.fx.stop=function(){clearInterval(pr),pr=null},it.fx.speeds={slow:600,fast:200,_default:400},it.fn.delay=function(e,t){return e=it.fx?it.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,r){var n=setTimeout(t,e);r.stop=function(){clearTimeout(n)}})},function(){var e,t,r,n,i;t=pt.createElement("div"),t.setAttribute("className","t"),t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=t.getElementsByTagName("a")[0],r=pt.createElement("select"),i=r.appendChild(pt.createElement("option")),e=t.getElementsByTagName("input")[0],n.style.cssText="top:1px",rt.getSetAttribute="t"!==t.className,rt.style=/top/.test(n.getAttribute("style")),rt.hrefNormalized="/a"===n.getAttribute("href"),rt.checkOn=!!e.value,rt.optSelected=i.selected,rt.enctype=!!pt.createElement("form").enctype,r.disabled=!0,rt.optDisabled=!i.disabled,e=pt.createElement("input"),e.setAttribute("value",""),rt.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),rt.radioValue="t"===e.value}();var Er=/\r/g;it.fn.extend({val:function(e){var t,r,n,i=this[0];{if(arguments.length)return n=it.isFunction(e),this.each(function(r){var i;1===this.nodeType&&(i=n?e.call(this,r,it(this).val()):e,null==i?i="":"number"==typeof i?i+="":it.isArray(i)&&(i=it.map(i,function(e){return null==e?"":e+""})),t=it.valHooks[this.type]||it.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=it.valHooks[i.type]||it.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(i,"value"))?r:(r=i.value,"string"==typeof r?r.replace(Er,""):null==r?"":r)}}}),it.extend({valHooks:{option:{get:function(e){var t=it.find.attr(e,"value");return null!=t?t:it.trim(it.text(e))}},select:{get:function(e){for(var t,r,n=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:n.length,u=0>i?s:o?i:0;s>u;u++)if(r=n[u],!(!r.selected&&u!==i||(rt.optDisabled?r.disabled:null!==r.getAttribute("disabled"))||r.parentNode.disabled&&it.nodeName(r.parentNode,"optgroup"))){if(t=it(r).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var r,n,i=e.options,o=it.makeArray(t),a=i.length;a--;)if(n=i[a],it.inArray(it.valHooks.option.get(n),o)>=0)try{n.selected=r=!0}catch(s){n.scrollHeight}else n.selected=!1;return r||(e.selectedIndex=-1),i}}}}),it.each(["radio","checkbox"],function(){it.valHooks[this]={set:function(e,t){return it.isArray(t)?e.checked=it.inArray(it(e).val(),t)>=0:void 0}},rt.checkOn||(it.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var xr,wr,_r=it.expr.attrHandle,Tr=/^(?:checked|selected)$/i,Rr=rt.getSetAttribute,Sr=rt.input;it.fn.extend({attr:function(e,t){return Mt(this,it.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){it.removeAttr(this,e)})}}),it.extend({attr:function(e,t,r){var n,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===_t?it.prop(e,t,r):(1===o&&it.isXMLDoc(e)||(t=t.toLowerCase(),n=it.attrHooks[t]||(it.expr.match.bool.test(t)?wr:xr)),void 0===r?n&&"get"in n&&null!==(i=n.get(e,t))?i:(i=it.find.attr(e,t),null==i?void 0:i):null!==r?n&&"set"in n&&void 0!==(i=n.set(e,r,t))?i:(e.setAttribute(t,r+""),r):void it.removeAttr(e,t))},removeAttr:function(e,t){var r,n,i=0,o=t&&t.match(bt);if(o&&1===e.nodeType)for(;r=o[i++];)n=it.propFix[r]||r,it.expr.match.bool.test(r)?Sr&&Rr||!Tr.test(r)?e[n]=!1:e[it.camelCase("default-"+r)]=e[n]=!1:it.attr(e,r,""),e.removeAttribute(Rr?r:n)},attrHooks:{type:{set:function(e,t){if(!rt.radioValue&&"radio"===t&&it.nodeName(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}}}),wr={set:function(e,t,r){return t===!1?it.removeAttr(e,r):Sr&&Rr||!Tr.test(r)?e.setAttribute(!Rr&&it.propFix[r]||r,r):e[it.camelCase("default-"+r)]=e[r]=!0,r}},it.each(it.expr.match.bool.source.match(/\w+/g),function(e,t){var r=_r[t]||it.find.attr;_r[t]=Sr&&Rr||!Tr.test(t)?function(e,t,n){var i,o;return n||(o=_r[t],_r[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,_r[t]=o),i}:function(e,t,r){return r?void 0:e[it.camelCase("default-"+t)]?t.toLowerCase():null}}),Sr&&Rr||(it.attrHooks.value={set:function(e,t,r){return it.nodeName(e,"input")?void(e.defaultValue=t):xr&&xr.set(e,t,r)}}),Rr||(xr={set:function(e,t,r){var n=e.getAttributeNode(r);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(r)),n.value=t+="","value"===r||t===e.getAttribute(r)?t:void 0}},_r.id=_r.name=_r.coords=function(e,t,r){var n;return r?void 0:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},it.valHooks.button={get:function(e,t){var r=e.getAttributeNode(t);return r&&r.specified?r.value:void 0},set:xr.set},it.attrHooks.contenteditable={set:function(e,t,r){xr.set(e,""===t?!1:t,r)}},it.each(["width","height"],function(e,t){it.attrHooks[t]={set:function(e,r){return""===r?(e.setAttribute(t,"auto"),r):void 0}}})),rt.style||(it.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Cr=/^(?:input|select|textarea|button|object)$/i,Hr=/^(?:a|area)$/i;it.fn.extend({prop:function(e,t){return Mt(this,it.prop,e,t,arguments.length>1)},removeProp:function(e){return e=it.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),it.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,r){var n,i,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!it.isXMLDoc(e),o&&(t=it.propFix[t]||t,i=it.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=it.find.attr(e,"tabindex");return t?parseInt(t,10):Cr.test(e.nodeName)||Hr.test(e.nodeName)&&e.href?0:-1}}}}),rt.hrefNormalized||it.each(["href","src"],function(e,t){it.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),rt.optSelected||(it.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),it.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){it.propFix[this.toLowerCase()]=this}),rt.enctype||(it.propFix.enctype="encoding");var Mr=/[\t\r\n\f]/g;it.fn.extend({addClass:function(e){var t,r,n,i,o,a,s=0,u=this.length,c="string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).addClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];u>s;s++)if(r=this[s],n=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(Mr," "):" ")){for(o=0;i=t[o++];)n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=it.trim(n),r.className!==a&&(r.className=a)}return this},removeClass:function(e){var t,r,n,i,o,a,s=0,u=this.length,c=0===arguments.length||"string"==typeof e&&e;if(it.isFunction(e))return this.each(function(t){it(this).removeClass(e.call(this,t,this.className))});if(c)for(t=(e||"").match(bt)||[];u>s;s++)if(r=this[s],n=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(Mr," "):"")){for(o=0;i=t[o++];)for(;n.indexOf(" "+i+" ")>=0;)n=n.replace(" "+i+" "," ");a=e?it.trim(n):"",r.className!==a&&(r.className=a)}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):this.each(it.isFunction(e)?function(r){it(this).toggleClass(e.call(this,r,this.className,t),t)}:function(){if("string"===r)for(var t,n=0,i=it(this),o=e.match(bt)||[];t=o[n++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else(r===_t||"boolean"===r)&&(this.className&&it._data(this,"__className__",this.className),this.className=this.className||e===!1?"":it._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",r=0,n=this.length;n>r;r++)if(1===this[r].nodeType&&(" "+this[r].className+" ").replace(Mr," ").indexOf(t)>=0)return!0;return!1}}),it.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){it.fn[t]=function(e,r){return arguments.length>0?this.on(t,null,e,r):this.trigger(t)}}),it.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}});var Ar=it.now(),Nr=/\?/,Pr=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;it.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var r,n=null,i=it.trim(t+"");return i&&!it.trim(i.replace(Pr,function(e,t,i,o){return r&&t&&(n=0),0===n?e:(r=i||t,n+=!o-!i,"")}))?Function("return "+i)():it.error("Invalid JSON: "+t)},it.parseXML=function(t){var r,n;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(n=new DOMParser,r=n.parseFromString(t,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(t))}catch(i){r=void 0}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||it.error("Invalid XML: "+t),r};var kr,Or,Lr=/#.*$/,Dr=/([?&])_=[^&]*/,Fr=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Br=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ir=/^(?:GET|HEAD)$/,zr=/^\/\//,Ur=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Vr={},jr={},qr="*/".concat("*");try{Or=location.href}catch(Gr){Or=pt.createElement("a"),Or.href="",Or=Or.href}kr=Ur.exec(Or.toLowerCase())||[],it.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Or,type:"GET",isLocal:Br.test(kr[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":it.parseJSON,"text xml":it.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?U(U(e,it.ajaxSettings),t):U(it.ajaxSettings,e)},ajaxPrefilter:I(Vr),ajaxTransport:I(jr),ajax:function(e,t){function r(e,t,r,n){var i,l,y,v,E,w=t;2!==b&&(b=2,s&&clearTimeout(s),c=void 0,a=n||"",x.readyState=e>0?4:0,i=e>=200&&300>e||304===e,r&&(v=V(h,x,r)),v=j(h,v,x,i),i?(h.ifModified&&(E=x.getResponseHeader("Last-Modified"),E&&(it.lastModified[o]=E),E=x.getResponseHeader("etag"),E&&(it.etag[o]=E)),204===e||"HEAD"===h.type?w="nocontent":304===e?w="notmodified":(w=v.state,l=v.data,y=v.error,i=!y)):(y=w,(e||!w)&&(w="error",0>e&&(e=0))),x.status=e,x.statusText=(t||w)+"",i?p.resolveWith(f,[l,w,x]):p.rejectWith(f,[x,w,y]),x.statusCode(g),g=void 0,u&&d.trigger(i?"ajaxSuccess":"ajaxError",[x,h,i?l:y]),m.fireWith(f,[x,w]),u&&(d.trigger("ajaxComplete",[x,h]),--it.active||it.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i,o,a,s,u,c,l,h=it.ajaxSetup({},t),f=h.context||h,d=h.context&&(f.nodeType||f.jquery)?it(f):it.event,p=it.Deferred(),m=it.Callbacks("once memory"),g=h.statusCode||{},y={},v={},b=0,E="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!l)for(l={};t=Fr.exec(a);)l[t[1].toLowerCase()]=t[2];t=l[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?a:null},setRequestHeader:function(e,t){var r=e.toLowerCase();return b||(e=v[r]=v[r]||e,y[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||E;return c&&c.abort(t),r(0,t),this}};if(p.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||Or)+"").replace(Lr,"").replace(zr,kr[1]+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=it.trim(h.dataType||"*").toLowerCase().match(bt)||[""],null==h.crossDomain&&(n=Ur.exec(h.url.toLowerCase()),h.crossDomain=!(!n||n[1]===kr[1]&&n[2]===kr[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(kr[3]||("http:"===kr[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=it.param(h.data,h.traditional)),z(Vr,h,t,x),2===b)return x;u=it.event&&h.global,u&&0===it.active++&&it.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ir.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(Nr.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Dr.test(o)?o.replace(Dr,"$1_="+Ar++):o+(Nr.test(o)?"&":"?")+"_="+Ar++)),h.ifModified&&(it.lastModified[o]&&x.setRequestHeader("If-Modified-Since",it.lastModified[o]),it.etag[o]&&x.setRequestHeader("If-None-Match",it.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+qr+"; q=0.01":""):h.accepts["*"]);for(i in h.headers)x.setRequestHeader(i,h.headers[i]);if(h.beforeSend&&(h.beforeSend.call(f,x,h)===!1||2===b))return x.abort();E="abort";for(i in{success:1,error:1,complete:1})x[i](h[i]);if(c=z(jr,h,t,x)){x.readyState=1,u&&d.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,c.send(y,r)}catch(w){if(!(2>b))throw w;r(-1,w)}}else r(-1,"No Transport");return x},getJSON:function(e,t,r){return it.get(e,t,r,"json")},getScript:function(e,t){return it.get(e,void 0,t,"script")}}),it.each(["get","post"],function(e,t){it[t]=function(e,r,n,i){return it.isFunction(r)&&(i=i||n,n=r,r=void 0),it.ajax({url:e,type:t,dataType:i,data:r,success:n})}}),it._evalUrl=function(e){return it.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},it.fn.extend({wrapAll:function(e){if(it.isFunction(e))return this.each(function(t){it(this).wrapAll(e.call(this,t))});if(this[0]){var t=it(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(it.isFunction(e)?function(t){it(this).wrapInner(e.call(this,t))}:function(){var t=it(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=it.isFunction(e);return this.each(function(r){it(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(){return this.parent().each(function(){it.nodeName(this,"body")||it(this).replaceWith(this.childNodes)}).end()}}),it.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!rt.reliableHiddenOffsets()&&"none"===(e.style&&e.style.display||it.css(e,"display"))},it.expr.filters.visible=function(e){return!it.expr.filters.hidden(e)};var Wr=/%20/g,Kr=/\[\]$/,Xr=/\r?\n/g,Yr=/^(?:submit|button|image|reset|file)$/i,$r=/^(?:input|select|textarea|keygen)/i;it.param=function(e,t){var r,n=[],i=function(e,t){t=it.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=it.ajaxSettings&&it.ajaxSettings.traditional),it.isArray(e)||e.jquery&&!it.isPlainObject(e))it.each(e,function(){i(this.name,this.value)});else for(r in e)q(r,e[r],t,i);return n.join("&").replace(Wr,"+")},it.fn.extend({serialize:function(){return it.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=it.prop(this,"elements");return e?it.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!it(this).is(":disabled")&&$r.test(this.nodeName)&&!Yr.test(e)&&(this.checked||!At.test(e))}).map(function(e,t){var r=it(this).val();return null==r?null:it.isArray(r)?it.map(r,function(e){return{name:t.name,value:e.replace(Xr,"\r\n")}}):{name:t.name,value:r.replace(Xr,"\r\n")}}).get()}}),it.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&G()||W()}:G;var Qr=0,Zr={},Jr=it.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Zr)Zr[e](void 0,!0)}),rt.cors=!!Jr&&"withCredentials"in Jr,Jr=rt.ajax=!!Jr,Jr&&it.ajaxTransport(function(e){if(!e.crossDomain||rt.cors){var t;return{send:function(r,n){var i,o=e.xhr(),a=++Qr;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(i in r)void 0!==r[i]&&o.setRequestHeader(i,r[i]+"");o.send(e.hasContent&&e.data||null),t=function(r,i){var s,u,c;if(t&&(i||4===o.readyState))if(delete Zr[a],t=void 0,o.onreadystatechange=it.noop,i)4!==o.readyState&&o.abort();else{c={},s=o.status,"string"==typeof o.responseText&&(c.text=o.responseText);try{u=o.statusText}catch(l){u=""}s||!e.isLocal||e.crossDomain?1223===s&&(s=204):s=c.text?200:404}c&&n(s,u,c,o.getAllResponseHeaders())},e.async?4===o.readyState?setTimeout(t):o.onreadystatechange=Zr[a]=t:t()},abort:function(){t&&t(void 0,!0)}}}}),it.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return it.globalEval(e),e}}}),it.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),it.ajaxTransport("script",function(e){if(e.crossDomain){var t,r=pt.head||it("head")[0]||pt.documentElement;return{send:function(n,i){t=pt.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,r){(r||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,r||i(200,"success"))},r.insertBefore(t,r.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var en=[],tn=/(=)\?(?=&|$)|\?\?/;it.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=en.pop()||it.expando+"_"+Ar++;return this[e]=!0,e}}),it.ajaxPrefilter("json jsonp",function(t,r,n){var i,o,a,s=t.jsonp!==!1&&(tn.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&tn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(i=t.jsonpCallback=it.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(tn,"$1"+i):t.jsonp!==!1&&(t.url+=(Nr.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||it.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},n.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=r.jsonpCallback,en.push(i)),a&&it.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),it.parseHTML=function(e,t,r){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(r=t,t=!1),t=t||pt;var n=ht.exec(e),i=!r&&[];return n?[t.createElement(n[1])]:(n=it.buildFragment([e],t,i),i&&i.length&&it(i).remove(),it.merge([],n.childNodes))};var rn=it.fn.load;it.fn.load=function(e,t,r){if("string"!=typeof e&&rn)return rn.apply(this,arguments);var n,i,o,a=this,s=e.indexOf(" ");return s>=0&&(n=it.trim(e.slice(s,e.length)),e=e.slice(0,s)),it.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(o="POST"),a.length>0&&it.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){i=arguments,a.html(n?it("<div>").append(it.parseHTML(e)).find(n):e)}).complete(r&&function(e,t){a.each(r,i||[e.responseText,t,e])}),this},it.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){it.fn[t]=function(e){return this.on(t,e)}}),it.expr.filters.animated=function(e){return it.grep(it.timers,function(t){return e===t.elem}).length};var nn=e.document.documentElement;it.offset={setOffset:function(e,t,r){var n,i,o,a,s,u,c,l=it.css(e,"position"),h=it(e),f={};"static"===l&&(e.style.position="relative"),s=h.offset(),o=it.css(e,"top"),u=it.css(e,"left"),c=("absolute"===l||"fixed"===l)&&it.inArray("auto",[o,u])>-1,c?(n=h.position(),a=n.top,i=n.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),it.isFunction(t)&&(t=t.call(e,r,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):h.css(f)}},it.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){it.offset.setOffset(this,e,t)});var t,r,n={top:0,left:0},i=this[0],o=i&&i.ownerDocument;if(o)return t=o.documentElement,it.contains(t,i)?(typeof i.getBoundingClientRect!==_t&&(n=i.getBoundingClientRect()),r=K(o),{top:n.top+(r.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(r.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):n},position:function(){if(this[0]){var e,t,r={top:0,left:0},n=this[0];return"fixed"===it.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),it.nodeName(e[0],"html")||(r=e.offset()),r.top+=it.css(e[0],"borderTopWidth",!0),r.left+=it.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-it.css(n,"marginTop",!0),left:t.left-r.left-it.css(n,"marginLeft",!0)}
}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||nn;e&&!it.nodeName(e,"html")&&"static"===it.css(e,"position");)e=e.offsetParent;return e||nn})}}),it.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r=/Y/.test(t);it.fn[e]=function(n){return Mt(this,function(e,n,i){var o=K(e);return void 0===i?o?t in o?o[t]:o.document.documentElement[n]:e[n]:void(o?o.scrollTo(r?it(o).scrollLeft():i,r?i:it(o).scrollTop()):e[n]=i)},e,n,arguments.length,null)}}),it.each(["top","left"],function(e,t){it.cssHooks[t]=S(rt.pixelPosition,function(e,r){return r?(r=tr(e,t),nr.test(r)?it(e).position()[t]+"px":r):void 0})}),it.each({Height:"height",Width:"width"},function(e,t){it.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,n){it.fn[n]=function(n,i){var o=arguments.length&&(r||"boolean"!=typeof n),a=r||(n===!0||i===!0?"margin":"border");return Mt(this,function(t,r,n){var i;return it.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===n?it.css(t,r,a):it.style(t,r,n,a)},t,o?n:void 0,o,null)}})}),it.fn.size=function(){return this.length},it.fn.andSelf=it.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return it});var on=e.jQuery,an=e.$;return it.noConflict=function(t){return e.$===it&&(e.$=an),t&&e.jQuery===it&&(e.jQuery=on),it},typeof t===_t&&(e.jQuery=e.$=it),it});var Handlebars=function(){var e=function(){"use strict";function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){"use strict";function t(e){return s[e]||"&amp;"}function r(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}function n(e){return e instanceof a?e.toString():e||0===e?(e=""+e,c.test(e)?e.replace(u,t):e):""}function i(e){return e||0===e?f(e)&&0===e.length?!0:!1:!0}var o={},a=e,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},u=/[&<>"'`]/g,c=/[&<>"'`]/;o.extend=r;var l=Object.prototype.toString;o.toString=l;var h=function(e){return"function"==typeof e};h(/x/)&&(h=function(e){return"function"==typeof e&&"[object Function]"===l.call(e)});var h;o.isFunction=h;var f=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===l.call(e):!1};return o.isArray=f,o.escapeExpression=n,o.isEmpty=i,o}(e),r=function(){"use strict";function e(e,t){var n;t&&t.firstLine&&(n=t.firstLine,e+=" - "+n+":"+t.firstColumn);for(var i=Error.prototype.constructor.call(this,e),o=0;o<r.length;o++)this[r[o]]=i[r[o]];n&&(this.lineNumber=n,this.column=t.firstColumn)}var t,r=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),n=function(e,t){"use strict";function r(e,t){this.helpers=e||{},this.partials=t||{},n(this)}function n(e){e.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw new s("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,r){var n=r.inverse||function(){},i=r.fn;return f(t)&&(t=t.call(this)),t===!0?i(this):t===!1||null==t?n(this):h(t)?t.length>0?e.helpers.each(t,r):n(this):i(t)}),e.registerHelper("each",function(e,t){var r,n=t.fn,i=t.inverse,o=0,a="";if(f(e)&&(e=e.call(this)),t.data&&(r=g(t.data)),e&&"object"==typeof e)if(h(e))for(var s=e.length;s>o;o++)r&&(r.index=o,r.first=0===o,r.last=o===e.length-1),a+=n(e[o],{data:r});else for(var u in e)e.hasOwnProperty(u)&&(r&&(r.key=u,r.index=o,r.first=0===o),a+=n(e[u],{data:r}),o++);return 0===o&&(a=i(this)),a}),e.registerHelper("if",function(e,t){return f(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||a.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,r){return e.helpers["if"].call(this,t,{fn:r.inverse,inverse:r.fn,hash:r.hash})}),e.registerHelper("with",function(e,t){return f(e)&&(e=e.call(this)),a.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,r){var n=r.data&&null!=r.data.level?parseInt(r.data.level,10):1;e.log(n,t)})}function i(e,t){m.log(e,t)}var o={},a=e,s=t,u="1.3.0";o.VERSION=u;var c=4;o.COMPILER_REVISION=c;var l={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};o.REVISION_CHANGES=l;var h=a.isArray,f=a.isFunction,d=a.toString,p="[object Object]";o.HandlebarsEnvironment=r,r.prototype={constructor:r,logger:m,log:i,registerHelper:function(e,t,r){if(d.call(e)===p){if(r||t)throw new s("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else r&&(t.not=r),this.helpers[e]=t},registerPartial:function(e,t){d.call(e)===p?a.extend(this.partials,e):this.partials[e]=t}};var m={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(m.level<=e){var r=m.methodMap[e];"undefined"!=typeof console&&console[r]&&console[r].call(console,t)}}};o.logger=m,o.log=i;var g=function(e){var t={};return a.extend(t,e),t};return o.createFrame=g,o}(t,r),i=function(e,t,r){"use strict";function n(e){var t=e&&e[0]||1,r=f;if(t!==r){if(r>t){var n=d[r],i=d[t];throw new h("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+i+").")}throw new h("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function i(e,t){if(!t)throw new h("No environment passed to template");var r=function(e,r,n,i,o,a){var s=t.VM.invokePartial.apply(this,arguments);if(null!=s)return s;if(t.compile){var u={helpers:i,partials:o,data:a};return o[r]=t.compile(e,{data:void 0!==a},t),o[r](n,u)}throw new h("The partial "+r+" could not be compiled when running in runtime-only mode")},n={escapeExpression:l.escapeExpression,invokePartial:r,programs:[],program:function(e,t,r){var n=this.programs[e];return r?n=a(e,t,r):n||(n=this.programs[e]=a(e,t)),n},merge:function(e,t){var r=e||t;return e&&t&&e!==t&&(r={},l.extend(r,t),l.extend(r,e)),r},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(r,i){i=i||{};var o,a,s=i.partial?i:t;i.partial||(o=i.helpers,a=i.partials);var u=e.call(n,s,r,o,a,i.data);return i.partial||t.VM.checkRevision(n.compilerInfo),u}}function o(e,t,r){var n=Array.prototype.slice.call(arguments,3),i=function(e,i){return i=i||{},t.apply(this,[e,i.data||r].concat(n))};return i.program=e,i.depth=n.length,i}function a(e,t,r){var n=function(e,n){return n=n||{},t(e,n.data||r)};return n.program=e,n.depth=0,n}function s(e,t,r,n,i,o){var a={partial:!0,helpers:n,partials:i,data:o};if(void 0===e)throw new h("The partial "+t+" could not be found");return e instanceof Function?e(r,a):void 0}function u(){return""}var c={},l=e,h=t,f=r.COMPILER_REVISION,d=r.REVISION_CHANGES;return c.checkRevision=n,c.template=i,c.programWithDepth=o,c.program=a,c.invokePartial=s,c.noop=u,c}(t,r,n),o=function(e,t,r,n,i){"use strict";var o,a=e,s=t,u=r,c=n,l=i,h=function(){var e=new a.HandlebarsEnvironment;return c.extend(e,a),e.SafeString=s,e.Exception=u,e.Utils=c,e.VM=l,e.template=function(t){return l.template(t,e)},e},f=h();return f.create=h,o=f}(n,e,r,t,i);return o}();!function(){var e,t,r,n,i;!function(){if(i=this.Ember=this.Ember||{},"undefined"==typeof i&&(i={}),"undefined"==typeof i.__loader){var o={},a={};e=function(e,t,r){o[e]={deps:t,callback:r}},n=r=t=function(e){function r(t){if("."!==t.charAt(0))return t;for(var r=t.split("/"),n=e.split("/").slice(0,-1),i=0,o=r.length;o>i;i++){var a=r[i];if(".."===a)n.pop();else{if("."===a)continue;n.push(a)}}return n.join("/")}if(a.hasOwnProperty(e))return a[e];if(a[e]={},!o[e])throw new Error("Could not find module "+e);for(var n,i=o[e],s=i.deps,u=i.callback,c=[],l=0,h=s.length;h>l;l++)c.push("exports"===s[l]?n={}:t(r(s[l])));var f=u.apply(this,c);return a[e]=n||f},n._eak_seen=o,i.__loader={define:e,require:r,registry:o}}else e=i.__loader.define,n=r=t=i.__loader.require}(),e("backburner",["backburner/utils","backburner/platform","backburner/binary-search","backburner/deferred-action-queues","exports"],function(e,t,r,n,i){"use strict";function o(e,t){this.queueNames=e,this.options=t||{},this.options.defaultQueue||(this.options.defaultQueue=e[0]),this.instanceStack=[],this._debouncees=[],this._throttlers=[],this._timers=[]}function a(e){return e.onError||e.onErrorTarget&&e.onErrorTarget[e.onErrorMethod]}function s(e){e.begin(),e._autorun=R.setTimeout(function(){e._autorun=null,e.end()})}function u(e,t,r){var n=b();(!e._laterTimer||t<e._laterTimerExpiresAt||e._laterTimerExpiresAt<n)&&(e._laterTimer&&(clearTimeout(e._laterTimer),e._laterTimerExpiresAt<n&&(r=Math.max(0,t-n))),e._laterTimer=R.setTimeout(function(){e._laterTimer=null,e._laterTimerExpiresAt=null,c(e)},r),e._laterTimerExpiresAt=n+r)}function c(e){var t,r,n,i=b();e.run(function(){for(r=x(i,e._timers),t=e._timers.splice(0,r),r=1,n=t.length;n>r;r+=2)e.schedule(e.options.defaultQueue,null,t[r])}),e._timers.length&&u(e,e._timers[0],e._timers[0]-i)}function l(e,t,r){return f(e,t,r)}function h(e,t,r){return f(e,t,r)}function f(e,t,r){for(var n,i=-1,o=0,a=r.length;a>o;o++)if(n=r[o],n[0]===e&&n[1]===t){i=o;break}return i}var d=e.each,p=e.isString,m=e.isFunction,g=e.isNumber,y=e.isCoercableNumber,v=e.wrapInTryCatch,b=e.now,E=t.needsIETryCatchFix,x=r["default"],w=n["default"],_=[].slice,T=[].pop,R=this;if(o.prototype={begin:function(){var e=this.options,t=e&&e.onBegin,r=this.currentInstance;r&&this.instanceStack.push(r),this.currentInstance=new w(this.queueNames,e),t&&t(this.currentInstance,r)},end:function(){var e=this.options,t=e&&e.onEnd,r=this.currentInstance,n=null,i=!1;try{r.flush()}finally{i||(i=!0,this.currentInstance=null,this.instanceStack.length&&(n=this.instanceStack.pop(),this.currentInstance=n),t&&t(r,n))}},run:function(e,t){var r=a(this.options);this.begin(),t||(t=e,e=null),p(t)&&(t=e[t]);var n=_.call(arguments,2),i=!1;if(r)try{return t.apply(e,n)}catch(o){r(o)}finally{i||(i=!0,this.end())}else try{return t.apply(e,n)}finally{i||(i=!0,this.end())}},defer:function(e,t,r){r||(r=t,t=null),p(r)&&(r=t[r]);var n,i=this.DEBUG?new Error:void 0,o=arguments.length;if(o>3){n=new Array(o-3);for(var a=3;o>a;a++)n[a-3]=arguments[a]}else n=void 0;return this.currentInstance||s(this),this.currentInstance.schedule(e,t,r,n,!1,i)},deferOnce:function(e,t,r){r||(r=t,t=null),p(r)&&(r=t[r]);var n,i=this.DEBUG?new Error:void 0,o=arguments.length;if(o>3){n=new Array(o-3);for(var a=3;o>a;a++)n[a-3]=arguments[a]}else n=void 0;return this.currentInstance||s(this),this.currentInstance.schedule(e,t,r,n,!0,i)},setTimeout:function(){function e(){if(v)try{i.apply(s,r)}catch(e){v(e)}else i.apply(s,r)}for(var t=arguments.length,r=new Array(t),n=0;t>n;n++)r[n]=arguments[n];var i,o,s,c,l,h,f=r.length;if(0!==f){if(1===f)i=r.shift(),o=0;else if(2===f)c=r[0],l=r[1],m(l)||m(c[l])?(s=r.shift(),i=r.shift(),o=0):y(l)?(i=r.shift(),o=r.shift()):(i=r.shift(),o=0);else{var d=r[r.length-1];o=y(d)?r.pop():0,c=r[0],h=r[1],m(h)||p(h)&&null!==c&&h in c?(s=r.shift(),i=r.shift()):i=r.shift()}var g=b()+parseInt(o,10);p(i)&&(i=s[i]);var v=a(this.options),E=x(g,this._timers);return this._timers.splice(E,0,g,e),u(this,g,o),e}},throttle:function(e,t){var r,n,i,o,a=this,s=arguments,u=T.call(s);return g(u)||p(u)?(r=u,u=!0):r=T.call(s),r=parseInt(r,10),i=h(e,t,this._throttlers),i>-1?this._throttlers[i]:(o=R.setTimeout(function(){u||a.run.apply(a,s);var r=h(e,t,a._throttlers);r>-1&&a._throttlers.splice(r,1)},r),u&&this.run.apply(this,s),n=[e,t,o],this._throttlers.push(n),n)},debounce:function(e,t){var r,n,i,o,a=this,s=arguments,u=T.call(s);return g(u)||p(u)?(r=u,u=!1):r=T.call(s),r=parseInt(r,10),n=l(e,t,this._debouncees),n>-1&&(i=this._debouncees[n],this._debouncees.splice(n,1),clearTimeout(i[2])),o=R.setTimeout(function(){u||a.run.apply(a,s);var r=l(e,t,a._debouncees);r>-1&&a._debouncees.splice(r,1)},r),u&&-1===n&&a.run.apply(a,s),i=[e,t,o],a._debouncees.push(i),i},cancelTimers:function(){var e=function(e){clearTimeout(e[2])};d(this._throttlers,e),this._throttlers=[],d(this._debouncees,e),this._debouncees=[],this._laterTimer&&(clearTimeout(this._laterTimer),this._laterTimer=null),this._timers=[],this._autorun&&(clearTimeout(this._autorun),this._autorun=null)},hasTimers:function(){return!!this._timers.length||!!this._debouncees.length||!!this._throttlers.length||this._autorun},cancel:function(e){var t=typeof e;if(e&&"object"===t&&e.queue&&e.method)return e.queue.cancel(e);if("function"!==t)return"[object Array]"===Object.prototype.toString.call(e)?this._cancelItem(h,this._throttlers,e)||this._cancelItem(l,this._debouncees,e):void 0;for(var r=0,n=this._timers.length;n>r;r+=2)if(this._timers[r+1]===e)return this._timers.splice(r,2),0===r&&(this._laterTimer&&(clearTimeout(this._laterTimer),this._laterTimer=null),this._timers.length>0&&u(this,this._timers[0],this._timers[0]-b())),!0},_cancelItem:function(e,t,r){var n,i;return r.length<3?!1:(i=e(r[0],r[1],t),i>-1&&(n=t[i],n[2]===r[2])?(t.splice(i,1),clearTimeout(r[2]),!0):!1)}},o.prototype.schedule=o.prototype.defer,o.prototype.scheduleOnce=o.prototype.deferOnce,o.prototype.later=o.prototype.setTimeout,E){var S=o.prototype.run;o.prototype.run=v(S);var C=o.prototype.end;o.prototype.end=v(C)}i["default"]=o}),e("backburner.umd",["./backburner"],function(t){"use strict";var r=t["default"];"function"==typeof e&&e.amd?e(function(){return r}):"undefined"!=typeof module&&module.exports?module.exports=r:"undefined"!=typeof this&&(this.Backburner=r)}),e("backburner/binary-search",["exports"],function(e){"use strict";e["default"]=function(e,t){for(var r,n,i=0,o=t.length-2;o>i;)n=(o-i)/2,r=i+n-n%2,e>=t[r]?i=r+2:o=r;return e>=t[i]?i+2:i}}),e("backburner/deferred-action-queues",["./utils","./queue","exports"],function(e,t,r){"use strict";function n(e,t){var r=this.queues={};this.queueNames=e=e||[],this.options=t,a(e,function(e){r[e]=new u(e,t[e],t)})}function i(e){throw new Error("You attempted to schedule an action in a queue ("+e+") that doesn't exist")}function o(e,t){for(var r,n,i=0,o=t;o>=i;i++)if(r=e.queueNames[i],n=e.queues[r],n._queue.length)return i;return-1}var a=e.each,s=e.isString,u=t["default"];n.prototype={schedule:function(e,t,r,n,o,a){var s=this.queues,u=s[e];return u||i(e),o?u.pushUnique(t,r,n,a):u.push(t,r,n,a)},invoke:function(e,t,r){r&&r.length>0?t.apply(e,r):t.call(e)},invokeWithOnError:function(e,t,r,n,i){try{r&&r.length>0?t.apply(e,r):t.call(e)}catch(o){n(o,i)}},flush:function(){for(var e,t,r,n,i=this.queues,a=this.queueNames,u=0,c=a.length,l=this.options,h=l.onError||l.onErrorTarget&&l.onErrorTarget[l.onErrorMethod],f=h?this.invokeWithOnError:this.invoke;c>u;){e=a[u],t=i[e],r=t._queueBeingFlushed=t._queue.slice(),t._queue=[],t.targetQueues=Object.create(null);var d,p,m,g,y=t.options,v=y&&y.before,b=y&&y.after,E=0,x=r.length;for(x&&v&&v();x>E;)d=r[E],p=r[E+1],m=r[E+2],g=r[E+3],s(p)&&(p=d[p]),p&&f(d,p,m,h,g),E+=4;t._queueBeingFlushed=null,x&&b&&b(),-1!==(n=o(this,u))?u=n:u++}}},r["default"]=n}),e("backburner/platform",["exports"],function(e){"use strict";var t=function(e,t){try{t()}catch(e){}return!!e}();e.needsIETryCatchFix=t}),e("backburner/queue",["exports"],function(e){"use strict";function t(e,t,r){this.name=e,this.globalOptions=r||{},this.options=t,this._queue=[],this.targetQueues=Object.create(null),this._queueBeingFlushed=void 0}t.prototype={push:function(e,t,r,n){var i=this._queue;return i.push(e,t,r,n),{queue:this,target:e,method:t}},pushUniqueWithoutGuid:function(e,t,r,n){for(var i=this._queue,o=0,a=i.length;a>o;o+=4){var s=i[o],u=i[o+1];if(s===e&&u===t)return i[o+2]=r,void(i[o+3]=n)}i.push(e,t,r,n)},targetQueue:function(e,t,r,n,i){for(var o=this._queue,a=0,s=e.length;s>a;a+=4){var u=e[a],c=e[a+1];if(u===r)return o[c+2]=n,void(o[c+3]=i)}e.push(r,o.push(t,r,n,i)-4)},pushUniqueWithGuid:function(e,t,r,n,i){var o=this.targetQueues[e];return o?this.targetQueue(o,t,r,n,i):this.targetQueues[e]=[r,this._queue.push(t,r,n,i)-4],{queue:this,target:t,method:r}},pushUnique:function(e,t,r,n){var i=(this._queue,this.globalOptions.GUID_KEY);if(e&&i){var o=e[i];if(o)return this.pushUniqueWithGuid(o,e,t,r,n)}return this.pushUniqueWithoutGuid(e,t,r,n),{queue:this,target:e,method:t}},flush:function(){var e,t,r,n,i,o=this._queue,a=this.globalOptions,s=this.options,u=s&&s.before,c=s&&s.after,l=a.onError||a.onErrorTarget&&a.onErrorTarget[a.onErrorMethod],h=o.length;for(this.targetQueues=Object.create(null),h&&u&&u(),i=0;h>i;i+=4)if(e=o[i],t=o[i+1],r=o[i+2],n=o[i+3],r&&r.length>0)if(l)try{t.apply(e,r)}catch(f){l(f)}else t.apply(e,r);else if(l)try{t.call(e)}catch(f){l(f)}else t.call(e);h&&c&&c(),o.length>h?(this._queue=o.slice(h),this.flush()):this._queue.length=0},cancel:function(e){var t,r,n,i,o=this._queue,a=e.target,s=e.method,u=this.globalOptions.GUID_KEY;if(u&&this.targetQueues&&a){var c=this.targetQueues[a[u]];if(c)for(n=0,i=c.length;i>n;n++)c[n]===s&&c.splice(n,1)}for(n=0,i=o.length;i>n;n+=4)if(t=o[n],r=o[n+1],t===a&&r===s)return o.splice(n,4),!0;if(o=this._queueBeingFlushed)for(n=0,i=o.length;i>n;n+=4)if(t=o[n],r=o[n+1],t===a&&r===s)return o[n+1]=null,!0}},e["default"]=t}),e("backburner/utils",["exports"],function(e){"use strict";function t(e,t){for(var r=0;r<e.length;r++)t(e[r])}function r(e){return"string"==typeof e}function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return i(e)||s.test(e)}function a(e){return function(){try{return e.apply(this,arguments)}catch(t){throw t}}}var s=/\d+/;e.each=t;var u=Date.now||function(){return(new Date).getTime()};e.now=u,e.isString=r,e.isFunction=n,e.isNumber=i,e.isCoercableNumber=o,e.wrapInTryCatch=a}),e("calculateVersion",[],function(){"use strict";var e=r("fs"),t=r("path");module.exports=function(){var n=r("../package.json").version,i=[n],o=t.join(__dirname,"..",".git"),a=t.join(o,"HEAD");if(n.indexOf("+")>-1){try{if(e.existsSync(a)){var s,u=e.readFileSync(a,{encoding:"utf8"}),c=u.split("/").slice(-1)[0].trim(),l=u.split(" ")[1];if(l){var h=t.join(o,l.trim());s=e.readFileSync(h)}else s=c;i.push(s.slice(0,10))}}catch(f){console.error(f.stack)}return i.join(".")}return n}}),e("container",["container/container","exports"],function(e,t){"use strict";i.MODEL_FACTORY_INJECTIONS=!1,i.ENV&&"undefined"!=typeof i.ENV.MODEL_FACTORY_INJECTIONS&&(i.MODEL_FACTORY_INJECTIONS=!!i.ENV.MODEL_FACTORY_INJECTIONS);var r=e["default"];t["default"]=r}),e("container/container",["ember-metal/core","ember-metal/keys","ember-metal/dictionary","exports"],function(e,t,r,n){"use strict";function i(e){this.parent=e,this.children=[],this.resolver=e&&e.resolver||function(){},this.registry=_(e?e.registry:null),this.cache=_(e?e.cache:null),this.factoryCache=_(e?e.factoryCache:null),this.resolveCache=_(e?e.resolveCache:null),this.typeInjections=_(e?e.typeInjections:null),this.injections=_(null),this.normalizeCache=_(null),this.factoryTypeInjections=_(e?e.factoryTypeInjections:null),this.factoryInjections=_(null),this._options=_(e?e._options:null),this._typeOptions=_(e?e._typeOptions:null)}function o(e,t){var r=e.resolveCache[t];if(r)return r;var n=e.resolver(t)||e.registry[t];return e.resolveCache[t]=n,n}function a(e,t){return e.cache[t]?!0:!!e.resolve(t)}function s(e,t,r){if(r=r||{},e.cache[t]&&r.singleton!==!1)return e.cache[t];var n=m(e,t);return void 0!==n?(c(e,t)&&r.singleton!==!1&&(e.cache[t]=n),n):void 0}function u(e){throw new Error(e+" is not currently supported on child containers")}function c(e,t){var r=h(e,t,"singleton");return r!==!1}function l(e,t){var r={};if(!t)return r;for(var n,i,o=0,a=t.length;a>o;o++){if(n=t[o],i=s(e,n.fullName),void 0===i)throw new Error("Attempting to inject an unknown injection: `"+n.fullName+"`");r[n.property]=i}return r}function h(e,t,r){var n=e._options[t];if(n&&void 0!==n[r])return n[r];var i=t.split(":")[0];return n=e._typeOptions[i],n?n[r]:void 0}function f(e,t){var r=e.factoryCache;if(r[t])return r[t];var n=e.resolve(t);if(void 0!==n){var i=t.split(":")[0];if(!n||"function"!=typeof n.extend||!x.MODEL_FACTORY_INJECTIONS&&"model"===i)return r[t]=n,n;var o=d(e,t),a=p(e,t);a._toString=e.makeToString(n,t);var s=n.extend(o);return s.reopenClass(a),r[t]=s,s}}function d(e,t){var r=t.split(":"),n=r[0],i=[];return i=i.concat(e.typeInjections[n]||[]),i=i.concat(e.injections[t]||[]),i=l(e,i),i._debugContainerKey=t,i.container=e,i}function p(e,t){var r=t.split(":"),n=r[0],i=[];return i=i.concat(e.factoryTypeInjections[n]||[]),i=i.concat(e.factoryInjections[t]||[]),i=l(e,i),i._debugContainerKey=t,i}function m(e,t){var r=f(e,t);if(h(e,t,"instantiate")===!1)return r;if(r){if("function"!=typeof r.create)throw new Error("Failed to create an instance of '"+t+"'. Most likely an improperly defined class or an invalid module export.");return"function"==typeof r.extend?r.create():r.create(d(e,t))}}function g(e,t){for(var r,n,i=e.cache,o=w(i),a=0,s=o.length;s>a;a++)r=o[a],n=i[r],h(e,r,"instantiate")!==!1&&t(n)}function y(e){g(e,function(e){e.destroy()}),e.cache.dict=_(null)}function v(e,t,r,n){var i=e[t];i||(i=[],e[t]=i),i.push({property:r,fullName:n})}function b(e){if(!T.test(e))throw new TypeError("Invalid Fullname, expected: `type:name` got: "+e);return!0}function E(e,t,r,n){var i=e[t]=e[t]||[];i.push({property:r,fullName:n})}var x=e["default"],w=t["default"],_=r["default"];i.prototype={parent:null,children:null,resolver:null,registry:null,cache:null,typeInjections:null,injections:null,_options:null,_typeOptions:null,child:function(){var e=new i(this);return this.children.push(e),e},set:function(e,t,r){e[t]=r},register:function(e,t,r){if(void 0===t)throw new TypeError("Attempting to register an unknown factory: `"+e+"`");var n=this.normalize(e);if(n in this.cache)throw new Error("Cannot re-register: `"+e+"`, as it has already been looked up.");this.registry[n]=t,this._options[n]=r||{}},unregister:function(e){var t=this.normalize(e);delete this.registry[t],delete this.cache[t],delete this.factoryCache[t],delete this.resolveCache[t],delete this._options[t]},resolve:function(e){return o(this,this.normalize(e))},describe:function(e){return e},normalizeFullName:function(e){return e},normalize:function(e){return this.normalizeCache[e]||(this.normalizeCache[e]=this.normalizeFullName(e))},makeToString:function(e){return e.toString()},lookup:function(e,t){return s(this,this.normalize(e),t)},lookupFactory:function(e){return f(this,this.normalize(e))},has:function(e){return a(this,this.normalize(e))},optionsForType:function(e,t){this.parent&&u("optionsForType"),this._typeOptions[e]=t},options:function(e,t){this.optionsForType(e,t)},typeInjection:function(e,t,r){this.parent&&u("typeInjection");var n=r.split(":")[0];if(n===e)throw new Error("Cannot inject a `"+r+"` on other "+e+"(s). Register the `"+r+"` as a different type and perform the typeInjection.");v(this.typeInjections,e,t,r)},injection:function(e,t,r){this.parent&&u("injection"),b(r);var n=this.normalize(r);if(-1===e.indexOf(":"))return this.typeInjection(e,t,n);var i=this.normalize(e);if(this.cache[i])throw new Error("Attempted to register an injection for a type that has already been looked up. ('"+i+"', '"+t+"', '"+r+"')");E(this.injections,i,t,n)},factoryTypeInjection:function(e,t,r){this.parent&&u("factoryTypeInjection"),v(this.factoryTypeInjections,e,t,this.normalize(r))},factoryInjection:function(e,t,r){this.parent&&u("injection");var n=this.normalize(e),i=this.normalize(r);if(b(r),-1===e.indexOf(":"))return this.factoryTypeInjection(n,t,i);if(this.factoryCache[n])throw new Error("Attempted to register a factoryInjection for a type that has already been looked up. ('"+n+"', '"+t+"', '"+r+"')");E(this.factoryInjections,n,t,i)},destroy:function(){for(var e=0,t=this.children.length;t>e;e++)this.children[e].destroy();this.children=[],g(this,function(e){e.destroy()}),this.parent=void 0,this.isDestroyed=!0},reset:function(){for(var e=0,t=this.children.length;t>e;e++)y(this.children[e]);y(this)}};var T=/^[^:]+.+:[^:]+$/;n["default"]=i}),e("ember-application",["ember-metal/core","ember-runtime/system/lazy_load","ember-application/system/dag","ember-application/system/resolver","ember-application/system/application","ember-application/ext/controller"],function(e,t,r,n,i){"use strict";var o=e["default"],a=t.runLoadHooks,s=r["default"],u=n.Resolver,c=n["default"],l=i["default"];o.Application=l,o.DAG=s,o.Resolver=u,o.DefaultResolver=c,a("Ember.Application",l)}),e("ember-application/ext/controller",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/error","ember-metal/utils","ember-metal/computed","ember-runtime/mixins/controller","ember-routing/system/controller_for","exports"],function(e,t,r,n,i,o,a,s,u){"use strict";function c(e,t,r){var n,i,o,a=[];for(i=0,o=r.length;o>i;i++)n=r[i],-1===n.indexOf(":")&&(n="controller:"+n),t.has(n)||a.push(n);if(a.length)throw new h(f(e)+" needs [ "+a.join(", ")+" ] but "+(a.length>1?"they":"it")+" could not be found")}var l=(e["default"],t.get),h=(r.set,n["default"]),f=i.inspect,d=o.computed,p=a["default"],m=(i.meta,s["default"]),g=d(function(){var e=this;return{needs:l(e,"needs"),container:l(e,"container"),unknownProperty:function(t){var r,n,i,o=this.needs;for(n=0,i=o.length;i>n;n++)if(r=o[n],r===t)return this.container.lookup("controller:"+t);var a=f(e)+"#needs does not include `"+t+"`. To access the "+t+" controller from "+f(e)+", "+f(e)+" should have a `needs` property that is an array of the controllers it has access to.";throw new ReferenceError(a)},setUnknownProperty:function(t){throw new Error("You cannot overwrite the value of `controllers."+t+"` of "+f(e))}}});p.reopen({concatenatedProperties:["needs"],needs:[],init:function(){var e=l(this,"needs"),t=l(e,"length");t>0&&(this.container&&c(this,this.container,e),l(this,"controllers")),this._super.apply(this,arguments)},controllerFor:function(e){return m(l(this,"container"),e)},controllers:g}),u["default"]=p}),e("ember-application/system/application",["ember-metal","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/lazy_load","ember-application/system/dag","ember-runtime/system/namespace","ember-runtime/mixins/deferred","ember-application/system/resolver","ember-metal/platform","ember-metal/run_loop","ember-metal/utils","container/container","ember-runtime/controllers/controller","ember-metal/enumerable_utils","ember-runtime/controllers/object_controller","ember-runtime/controllers/array_controller","ember-handlebars/controls/select","ember-views/system/event_dispatcher","ember-views/system/jquery","ember-routing/system/route","ember-routing/system/router","ember-routing/location/hash_location","ember-routing/location/history_location","ember-routing/location/auto_location","ember-routing/location/none_location","ember-routing/system/cache","ember-metal/core","ember-handlebars-compiler","exports"],function(e,r,n,i,o,a,s,u,c,l,h,f,d,p,m,g,y,v,b,E,x,w,_,T,R,S,C,H,M){"use strict";function A(e){var t=[];for(var r in e)t.push(r);return t}function N(e){function t(e){return n.resolve(e)}e.get("resolver");var r=e.get("resolver")||e.get("Resolver")||z,n=r.create({namespace:e});return t.describe=function(e){return n.lookupDescription(e)},t.makeToString=function(e,t){return n.makeToString(e,t)},t.normalize=function(e){return n.normalize?n.normalize(e):e},t.__resolver__=n,t}var P,k=e["default"],O=r.get,L=n.set,D=i.runLoadHooks,F=o["default"],B=a["default"],I=s["default"],z=u["default"],U=c.create,V=l["default"],j=(h.canInvoke,f["default"]),q=d["default"],G=p["default"],W=m["default"],K=g["default"],X=y["default"],Y=v["default"],$=b["default"],Q=E["default"],Z=x["default"],J=w["default"],et=_["default"],tt=T["default"],rt=R["default"],nt=S["default"],it=C.K,ot=H["default"],at=B.extend(I,{_suppressDeferredDeprecation:!0,rootElement:"body",eventDispatcher:null,customEvents:null,_readinessDeferrals:1,init:function(){if(this.$||(this.$=$),this.__container__=this.buildContainer(),this.Router=this.defaultRouter(),this._super(),this.scheduleInitialize(),k.libraries.registerCoreLibrary("Handlebars"+(ot.compile?"":"-runtime"),ot.VERSION),k.libraries.registerCoreLibrary("jQuery",$().jquery),k.LOG_VERSION){k.LOG_VERSION=!1;var e=G.map(k.libraries,function(e){return O(e,"name.length")}),t=Math.max.apply(this,e);k.libraries.each(function(e){new Array(t-e.length+1).join(" ")})}},buildContainer:function(){var e=this.__container__=at.buildContainer(this);return e},defaultRouter:function(){if(this.Router!==!1){var e=this.__container__;return this.Router&&(e.unregister("router:main"),e.register("router:main",this.Router)),e.lookupFactory("router:main")}},scheduleInitialize:function(){var e=this;!this.$||this.$.isReady?V.schedule("actions",e,"_initialize"):this.$().ready(function(){V(e,"_initialize")})},deferReadiness:function(){this._readinessDeferrals++},advanceReadiness:function(){this._readinessDeferrals--,0===this._readinessDeferrals&&V.once(this,this.didBecomeReady)},register:function(){var e=this.__container__;e.register.apply(e,arguments)},inject:function(){var e=this.__container__;e.injection.apply(e,arguments)},initialize:function(){},_initialize:function(){if(!this.isDestroyed){if(this.Router){var e=this.__container__;e.unregister("router:main"),e.register("router:main",this.Router)}return this.runInitializers(),D("application",this),this.advanceReadiness(),this}},reset:function(){function e(){var e=this.__container__.lookup("router:main");e.reset(),V(this.__container__,"destroy"),this.buildContainer(),V.schedule("actions",this,function(){this._initialize()})}this._readinessDeferrals=1,V.join(this,e)},runInitializers:function(){for(var e,t=O(this.constructor,"initializers"),r=A(t),n=this.__container__,i=new F,o=this,a=0;a<r.length;a++)e=t[r[a]],i.addEdges(e.name,e.initialize,e.before,e.after);i.topsort(function(e){var t=e.value;t(n,o)})},didBecomeReady:function(){this.setupEventDispatcher(),this.ready(),this.startRouting(),k.testing||(k.Namespace.processAll(),k.BOOTED=!0),this.resolve(this)},setupEventDispatcher:function(){var e=O(this,"customEvents"),t=O(this,"rootElement"),r=this.__container__.lookup("event_dispatcher:main");L(this,"eventDispatcher",r),r.setup(e,t)},startRouting:function(){var e=this.__container__.lookup("router:main");e&&e.startRouting()},handleURL:function(e){var t=this.__container__.lookup("router:main");t.handleURL(e)},ready:it,resolver:null,Resolver:null,willDestroy:function(){k.BOOTED=!1,this.__container__.lookup("router:main").reset(),this.__container__.destroy()},initializer:function(e){this.constructor.initializer(e)},then:function(){this._super.apply(this,arguments)}});at.reopenClass({initializers:U(null),initializer:function(e){void 0!==this.superclass.initializers&&this.superclass.initializers===this.initializers&&this.reopenClass({initializers:U(this.initializers)}),this.initializers[e.name]=e},buildContainer:function(e){var r=new j;return r.set=L,r.resolver=N(e),r.normalizeFullName=r.resolver.normalize,r.describe=r.resolver.describe,r.makeToString=r.resolver.makeToString,r.optionsForType("component",{singleton:!1}),r.optionsForType("view",{singleton:!1}),r.optionsForType("template",{instantiate:!1}),r.optionsForType("helper",{instantiate:!1}),r.register("application:main",e,{instantiate:!1}),r.register("controller:basic",q,{instantiate:!1}),r.register("controller:object",W,{instantiate:!1}),r.register("controller:array",K,{instantiate:!1}),r.register("view:select",X),r.register("route:basic",Q,{instantiate:!1}),r.register("event_dispatcher:main",Y),r.register("router:main",Z),r.injection("router:main","namespace","application:main"),r.register("location:auto",tt),r.register("location:hash",J),r.register("location:history",et),r.register("location:none",rt),r.injection("controller","target","router:main"),r.injection("controller","namespace","application:main"),r.register("-bucket-cache:main",nt),r.injection("router","_bucketCache","-bucket-cache:main"),r.injection("route","_bucketCache","-bucket-cache:main"),r.injection("controller","_bucketCache","-bucket-cache:main"),r.injection("route","router","router:main"),r.injection("location","rootURL","-location-setting:root-url"),r.register("resolver-for-debugging:main",r.resolver.__resolver__,{instantiate:!1}),r.injection("container-debug-adapter:main","resolver","resolver-for-debugging:main"),r.injection("data-adapter:main","containerDebugAdapter","container-debug-adapter:main"),P||(P=t("ember-extension-support/container_debug_adapter")["default"]),r.register("container-debug-adapter:main",P),r
}}),M["default"]=at}),e("ember-application/system/dag",["ember-metal/error","exports"],function(e,t){"use strict";function r(e,t,n,i){var o,a=e.name,s=e.incoming,u=e.incomingNames,c=u.length;if(n||(n={}),i||(i=[]),!n.hasOwnProperty(a)){for(i.push(a),n[a]=!0,o=0;c>o;o++)r(s[u[o]],t,n,i);t(e,i),i.pop()}}function n(){this.names=[],this.vertices=Object.create(null)}function i(e){this.name=e,this.incoming={},this.incomingNames=[],this.hasOutgoing=!1,this.value=null}var o=e["default"];n.prototype.add=function(e){if(!e)throw new Error("Can't add Vertex without name");if(void 0!==this.vertices[e])return this.vertices[e];var t=new i(e);return this.vertices[e]=t,this.names.push(e),t},n.prototype.map=function(e,t){this.add(e).value=t},n.prototype.addEdge=function(e,t){function n(e,r){if(e.name===t)throw new o("cycle detected: "+t+" <- "+r.join(" <- "))}if(e&&t&&e!==t){var i=this.add(e),a=this.add(t);a.incoming.hasOwnProperty(e)||(r(i,n),i.hasOutgoing=!0,a.incoming[e]=i,a.incomingNames.push(e))}},n.prototype.topsort=function(e){var t,n,i={},o=this.vertices,a=this.names,s=a.length;for(t=0;s>t;t++)n=o[a[t]],n.hasOutgoing||r(n,e,i)},n.prototype.addEdges=function(e,t,r,n){var i;if(this.map(e,t),r)if("string"==typeof r)this.addEdge(e,r);else for(i=0;i<r.length;i++)this.addEdge(e,r[i]);if(n)if("string"==typeof n)this.addEdge(n,e);else for(i=0;i<n.length;i++)this.addEdge(n[i],e)},t["default"]=n}),e("ember-application/system/resolver",["ember-metal/core","ember-metal/property_get","ember-metal/logger","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/system/namespace","ember-handlebars","ember-metal/dictionary","exports"],function(e,t,r,n,i,o,a,s,u){"use strict";var c=e["default"],l=t.get,h=r["default"],f=n.classify,d=n.capitalize,p=n.decamelize,m=i["default"],g=o["default"],y=a["default"],v=m.extend({namespace:null,normalize:c.required(Function),resolve:c.required(Function),parseName:c.required(Function),lookupDescription:c.required(Function),makeToString:c.required(Function),resolveOther:c.required(Function),_logLookup:c.required(Function)});u.Resolver=v;var b=s["default"];u["default"]=m.extend({namespace:null,init:function(){this._parseNameCache=b(null)},normalize:function(e){var t=e.split(":",2),r=t[0],n=t[1];if("template"!==r){var i=n;return i.indexOf(".")>-1&&(i=i.replace(/\.(.)/g,function(e){return e.charAt(1).toUpperCase()})),n.indexOf("_")>-1&&(i=i.replace(/_(.)/g,function(e){return e.charAt(1).toUpperCase()})),r+":"+i}return e},resolve:function(e){var t,r=this.parseName(e),n=r.resolveMethodName;if(!r.name||!r.type)throw new TypeError("Invalid fullName: `"+e+"`, must be of the form `type:name` ");return this[n]&&(t=this[n](r)),t||(t=this.resolveOther(r)),r.root&&r.root.LOG_RESOLVER&&this._logLookup(t,r),t},parseName:function(e){return this._parseNameCache[e]||(this._parseNameCache[e]=this._parseName(e))},_parseName:function(e){var t=e.split(":"),r=t[0],n=t[1],i=n,o=l(this,"namespace"),a=o;if("template"!==r&&-1!==i.indexOf("/")){var s=i.split("/");i=s[s.length-1];var u=d(s.slice(0,-1).join("."));a=g.byName(u)}return{fullName:e,type:r,fullNameWithoutType:n,name:i,root:a,resolveMethodName:"resolve"+f(r)}},lookupDescription:function(e){var t=this.parseName(e);if("template"===t.type)return"template at "+t.fullNameWithoutType.replace(/\./g,"/");var r=t.root+"."+f(t.name);return"model"!==t.type&&(r+=f(t.type)),r},makeToString:function(e){return e.toString()},useRouterNaming:function(e){e.name=e.name.replace(/\./g,"_"),"basic"===e.name&&(e.name="")},resolveTemplate:function(e){var t=e.fullNameWithoutType.replace(/\./g,"/");return c.TEMPLATES[t]?c.TEMPLATES[t]:(t=p(t),c.TEMPLATES[t]?c.TEMPLATES[t]:void 0)},resolveView:function(e){return this.useRouterNaming(e),this.resolveOther(e)},resolveController:function(e){return this.useRouterNaming(e),this.resolveOther(e)},resolveRoute:function(e){return this.useRouterNaming(e),this.resolveOther(e)},resolveModel:function(e){var t=f(e.name),r=l(e.root,t);return r?r:void 0},resolveHelper:function(e){return this.resolveOther(e)||y.helpers[e.fullNameWithoutType]},resolveOther:function(e){var t=f(e.name)+f(e.type),r=l(e.root,t);return r?r:void 0},_logLookup:function(e,t){var r,n;r=e?"[✓]":"[ ]",n=t.fullName.length>60?".":new Array(60-t.fullName.length).join("."),h.info(r,t.fullName,n,this.lookupDescription(t.fullName))}})}),e("ember-extension-support",["ember-metal/core","ember-extension-support/data_adapter","ember-extension-support/container_debug_adapter"],function(e,t,r){"use strict";var n=e["default"],i=t["default"],o=r["default"];n.DataAdapter=i,n.ContainerDebugAdapter=o}),e("ember-extension-support/container_debug_adapter",["ember-metal/core","ember-runtime/system/native_array","ember-metal/utils","ember-runtime/system/string","ember-runtime/system/namespace","ember-runtime/system/object","exports"],function(e,t,r,n,i,o,a){"use strict";var s=e["default"],u=t.A,c=r.typeOf,l=n.dasherize,h=n.classify,f=i["default"],d=o["default"];a["default"]=d.extend({container:null,resolver:null,canCatalogEntriesByType:function(e){return"model"===e||"template"===e?!1:!0},catalogEntriesByType:function(e){var t=u(f.NAMESPACES),r=u(),n=new RegExp(h(e)+"$");return t.forEach(function(e){if(e!==s)for(var t in e)if(e.hasOwnProperty(t)&&n.test(t)){var i=e[t];"class"===c(i)&&r.push(l(t.replace(n,"")))}}),r}})}),e("ember-extension-support/data_adapter",["ember-metal/core","ember-metal/property_get","ember-metal/run_loop","ember-runtime/system/string","ember-runtime/system/namespace","ember-runtime/system/object","ember-runtime/system/native_array","ember-application/system/application","exports"],function(e,t,r,n,i,o,a,s,u){"use strict";var c=e["default"],l=t.get,h=r["default"],f=n.dasherize,d=i["default"],p=o["default"],m=a.A,g=s["default"];u["default"]=p.extend({init:function(){this._super(),this.releaseMethods=m()},container:null,containerDebugAdapter:void 0,attributeLimit:3,releaseMethods:m(),getFilters:function(){return m()},watchModelTypes:function(e,t){var r,n=this.getModelTypes(),i=this,o=m();r=n.map(function(e){var r=e.klass,n=i.wrapModelType(r,e.name);return o.push(i.observeModelType(r,t)),n}),e(r);var a=function(){o.forEach(function(e){e()}),i.releaseMethods.removeObject(a)};return this.releaseMethods.pushObject(a),a},_nameToClass:function(e){return"string"==typeof e&&(e=this.container.lookupFactory("model:"+e)),e},watchRecords:function(e,t,r,n){var i,o=this,a=m(),s=this.getRecords(e),u=function(e){r([e])},l=s.map(function(e){return a.push(o.observeRecord(e,u)),o.wrapRecord(e)}),h=function(e,r,i,s){for(var c=r;r+s>c;c++){var l=e.objectAt(c),h=o.wrapRecord(l);a.push(o.observeRecord(l,u)),t([h])}i&&n(r,i)},f={didChange:h,willChange:c.K};return s.addArrayObserver(o,f),i=function(){a.forEach(function(e){e()}),s.removeArrayObserver(o,f),o.releaseMethods.removeObject(i)},t(l),this.releaseMethods.pushObject(i),i},willDestroy:function(){this._super(),this.releaseMethods.forEach(function(e){e()})},detect:function(){return!1},columnsForType:function(){return m()},observeModelType:function(e,t){var r=this,n=this.getRecords(e),i=function(){t([r.wrapModelType(e)])},o={didChange:function(){h.scheduleOnce("actions",this,i)},willChange:c.K};n.addArrayObserver(this,o);var a=function(){n.removeArrayObserver(r,o)};return a},wrapModelType:function(e,t){var r,n=this.getRecords(e);return r={name:t||e.toString(),count:l(n,"length"),columns:this.columnsForType(e),object:e}},getModelTypes:function(){var e,t=this,r=this.get("containerDebugAdapter");return e=r.canCatalogEntriesByType("model")?r.catalogEntriesByType("model"):this._getObjectsOnNamespaces(),e=m(e).map(function(e){return{klass:t._nameToClass(e),name:e}}),e=m(e).filter(function(e){return t.detect(e.klass)}),m(e)},_getObjectsOnNamespaces:function(){var e=m(d.NAMESPACES),t=m(),r=this;return e.forEach(function(e){for(var n in e)if(e.hasOwnProperty(n)&&r.detect(e[n])){var i=f(n);e instanceof g||!e.toString()||(i=e+"/"+i),t.push(i)}}),t},getRecords:function(){return m()},wrapRecord:function(e){var t={object:e};return t.columnValues=this.getRecordColumnValues(e),t.searchKeywords=this.getRecordKeywords(e),t.filterValues=this.getRecordFilterValues(e),t.color=this.getRecordColor(e),t},getRecordColumnValues:function(){return{}},getRecordKeywords:function(){return m()},getRecordFilterValues:function(){return{}},getRecordColor:function(){return null},observeRecord:function(){return function(){}}})}),e("ember-extension-support/initializers",[],function(){"use strict"}),e("ember-handlebars-compiler",["ember-metal/core","exports"],function(e,n){var i=e["default"];"undefined"==typeof i.assert&&(i.assert=function(){}),"undefined"==typeof i.FEATURES&&(i.FEATURES={isEnabled:function(){}});var o,a,s=Object.create||function(e){function t(){}return t.prototype=e,new t},u=i.imports&&i.imports.Handlebars||this&&this.Handlebars;u||"function"!=typeof r||(u=r("handlebars"));var c=i.Handlebars=s(u);c.helper=function(e,r){o||(o=t("ember-views/views/view")["default"]),a||(a=t("ember-views/views/component")["default"]),o.detect(r)?c.registerHelper(e,c.makeViewHelper(r)):c.registerBoundHelper.apply(null,arguments)},c.makeViewHelper=function(e){return function(t){return c.helpers.view.call(this,e,t)}},c.helpers=s(u.helpers),c.Compiler=function(){},u.Compiler&&(c.Compiler.prototype=s(u.Compiler.prototype)),c.Compiler.prototype.compiler=c.Compiler,c.JavaScriptCompiler=function(){},u.JavaScriptCompiler&&(c.JavaScriptCompiler.prototype=s(u.JavaScriptCompiler.prototype),c.JavaScriptCompiler.prototype.compiler=c.JavaScriptCompiler),c.JavaScriptCompiler.prototype.namespace="Ember.Handlebars",c.JavaScriptCompiler.prototype.initializeBuffer=function(){return"''"},c.JavaScriptCompiler.prototype.appendToBuffer=function(e){return"data.buffer.push("+e+");"};var l=/helpers\.(.*?)\)/,h=/helpers\['(.*?)'/,f=/(.*blockHelperMissing\.call\(.*)(stack[0-9]+)(,.*)/;c.JavaScriptCompiler.stringifyLastBlockHelperMissingInvocation=function(e){var t=e[e.length-1],r=(l.exec(t)||h.exec(t))[1],n=f.exec(t);e[e.length-1]=n[1]+"'"+r+"'"+n[3]};var d=c.JavaScriptCompiler.stringifyLastBlockHelperMissingInvocation,p=c.JavaScriptCompiler.prototype.blockValue;c.JavaScriptCompiler.prototype.blockValue=function(){p.apply(this,arguments),d(this.source)};var m=c.JavaScriptCompiler.prototype.ambiguousBlockValue;c.JavaScriptCompiler.prototype.ambiguousBlockValue=function(){m.apply(this,arguments),d(this.source)},c.Compiler.prototype.mustache=function(e){if(!e.params.length&&!e.hash){var t=new u.AST.IdNode([{part:"_triageMustache"}]);e.escaped||(e.hash=e.hash||new u.AST.HashNode([]),e.hash.pairs.push(["unescaped",new u.AST.StringNode("true")])),e=new u.AST.MustacheNode([t].concat([e.id]),e.hash,!e.escaped)}return u.Compiler.prototype.mustache.call(this,e)},c.precompile=function(e,t){var r=u.parse(e),n={knownHelpers:{action:!0,unbound:!0,"bind-attr":!0,template:!0,view:!0,_triageMustache:!0},data:!0,stringParams:!0};t=void 0===t?!0:t;var i=(new c.Compiler).compile(r,n);return(new c.JavaScriptCompiler).compile(i,n,void 0,t)},u.compile&&(c.compile=function(e){var t=u.parse(e),r={data:!0,stringParams:!0},n=(new c.Compiler).compile(t,r),i=(new c.JavaScriptCompiler).compile(n,r,void 0,!0),o=c.template(i);return o.isMethod=!1,o}),n["default"]=c}),e("ember-handlebars",["ember-handlebars-compiler","ember-metal/core","ember-runtime/system/lazy_load","ember-handlebars/loader","ember-handlebars/ext","ember-handlebars/string","ember-handlebars/helpers/shared","ember-handlebars/helpers/binding","ember-handlebars/helpers/collection","ember-handlebars/helpers/view","ember-handlebars/helpers/unbound","ember-handlebars/helpers/debug","ember-handlebars/helpers/each","ember-handlebars/helpers/template","ember-handlebars/helpers/partial","ember-handlebars/helpers/yield","ember-handlebars/helpers/loc","ember-handlebars/controls/checkbox","ember-handlebars/controls/select","ember-handlebars/controls/text_area","ember-handlebars/controls/text_field","ember-handlebars/controls/text_support","ember-handlebars/controls","ember-handlebars/component_lookup","ember-handlebars/views/handlebars_bound_view","ember-handlebars/views/metamorph_view","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d,p,m,g,y,v,b,E,x,w,_,T,R,S){"use strict";var C=e["default"],H=t["default"],M=r.runLoadHooks,A=n["default"],N=i.normalizePath,P=i.template,k=i.makeBoundHelper,O=i.registerBoundHelper,L=i.resolveHash,D=i.resolveParams,F=i.getEscaped,B=i.handlebarsGet,I=i.evaluateUnboundHelper,z=i.helperMissingHelper,U=i.blockHelperMissingHelper,V=a["default"],j=s.bind,q=s._triageMustacheHelper,G=s.resolveHelper,W=s.bindHelper,K=s.boundIfHelper,X=s.unboundIfHelper,Y=s.withHelper,$=s.ifHelper,Q=s.unlessHelper,Z=s.bindAttrHelper,J=s.bindAttrHelperDeprecated,et=s.bindClasses,tt=u["default"],rt=c.ViewHelper,nt=c.viewHelper,it=l["default"],ot=h.logHelper,at=h.debuggerHelper,st=f.EachView,ut=f.GroupedEach,ct=f.eachHelper,lt=d["default"],ht=p["default"],ft=m["default"],dt=g["default"],pt=y["default"],mt=v.Select,gt=v.SelectOption,yt=v.SelectOptgroup,vt=b["default"],bt=E["default"],Et=x["default"],xt=w.inputHelper,wt=w.textareaHelper,_t=_["default"],Tt=T._HandlebarsBoundView,Rt=T.SimpleHandlebarsView,St=R._wrapMap,Ct=R._SimpleMetamorphView,Ht=R._MetamorphView,Mt=R._Metamorph;C.bootstrap=A,C.template=P,C.makeBoundHelper=k,C.registerBoundHelper=O,C.resolveHash=L,C.resolveParams=D,C.resolveHelper=G,C.get=B,C.getEscaped=F,C.evaluateUnboundHelper=I,C.bind=j,C.bindClasses=et,C.EachView=st,C.GroupedEach=ut,C.resolvePaths=V,C.ViewHelper=rt,C.normalizePath=N,H.Handlebars=C,H.ComponentLookup=_t,H._SimpleHandlebarsView=Rt,H._HandlebarsBoundView=Tt,H._SimpleMetamorphView=Ct,H._MetamorphView=Ht,H._Metamorph=Mt,H._metamorphWrapMap=St,H.TextSupport=Et,H.Checkbox=pt,H.Select=mt,H.SelectOption=gt,H.SelectOptgroup=yt,H.TextArea=vt,H.TextField=bt,H.TextSupport=Et,C.registerHelper("helperMissing",z),C.registerHelper("blockHelperMissing",U),C.registerHelper("bind",W),C.registerHelper("boundIf",K),C.registerHelper("_triageMustache",q),C.registerHelper("unboundIf",X),C.registerHelper("with",Y),C.registerHelper("if",$),C.registerHelper("unless",Q),C.registerHelper("bind-attr",Z),C.registerHelper("bindAttr",J),C.registerHelper("collection",tt),C.registerHelper("log",ot),C.registerHelper("debugger",at),C.registerHelper("each",ct),C.registerHelper("loc",dt),C.registerHelper("partial",ht),C.registerHelper("template",lt),C.registerHelper("yield",ft),C.registerHelper("view",nt),C.registerHelper("unbound",it),C.registerHelper("input",xt),C.registerHelper("textarea",wt),M("Ember.Handlebars",C),S["default"]=C}),e("ember-handlebars/component_lookup",["ember-runtime/system/object","exports"],function(e,t){"use strict";var r=e["default"],n=r.extend({lookupFactory:function(e,t){t=t||this.container;var r="component:"+e,n="template:components/"+e,o=t&&t.has(n);o&&t.injection(r,"layout",n);var a=t.lookupFactory(r);return o||a?(a||(t.register(r,i.Component),a=t.lookupFactory(r)),a):void 0}});t["default"]=n}),e("ember-handlebars/controls",["ember-handlebars/controls/checkbox","ember-handlebars/controls/text_field","ember-handlebars/controls/text_area","ember-metal/core","ember-handlebars-compiler","ember-handlebars/ext","exports"],function(e,t,r,n,i,o,a){"use strict";function s(e,t,r){return"ID"===t.hashTypes[r]?p(e,t.hash[r],t):t.hash[r]}function u(e){var t=e.hash,r=e.hashTypes,n=s(this,e,"type"),i=t.on;return"checkbox"===n?(delete t.type,delete r.type,m.view.call(this,l,e)):(delete t.on,t.onEvent=i||"enter",m.view.call(this,h,e))}function c(e){e.hash,e.hashTypes;return m.view.call(this,f,e)}var l=e["default"],h=t["default"],f=r["default"],d=(n["default"],i["default"]),p=o.handlebarsGet,m=d.helpers;a.inputHelper=u,a.textareaHelper=c}),e("ember-handlebars/controls/checkbox",["ember-metal/property_get","ember-metal/property_set","ember-views/views/view","exports"],function(e,t,r,n){"use strict";var i=e.get,o=t.set,a=r["default"];n["default"]=a.extend({instrumentDisplay:'{{input type="checkbox"}}',classNames:["ember-checkbox"],tagName:"input",attributeBindings:["type","checked","indeterminate","disabled","tabindex","name","autofocus","required","form"],type:"checkbox",checked:!1,disabled:!1,indeterminate:!1,init:function(){this._super(),this.on("change",this,this._updateElementValue)},didInsertElement:function(){this._super(),i(this,"element").indeterminate=!!i(this,"indeterminate")},_updateElementValue:function(){o(this,"checked",this.$().prop("checked"))}})}),e("ember-handlebars/controls/select",["ember-handlebars-compiler","ember-metal/enumerable_utils","ember-metal/property_get","ember-metal/property_set","ember-views/views/view","ember-views/views/collection_view","ember-metal/utils","ember-metal/is_none","ember-metal/computed","ember-runtime/system/native_array","ember-metal/mixin","ember-metal/properties","exports"],function(e,t,r,n,o,a,s,u,c,l,h,f,d){"use strict";var p=e["default"],m=t.forEach,g=t.indexOf,y=t.indexesOf,v=t.replace,b=r.get,E=n.set,x=o["default"],w=a["default"],_=s.isArray,T=u["default"],R=c.computed,S=l.A,C=h.observer,H=f.defineProperty,M=(p.compile,x.extend({instrumentDisplay:"Ember.SelectOption",tagName:"option",attributeBindings:["value","selected"],defaultTemplate:function(e,t){t={data:t.data,hash:{}},p.helpers.bind.call(e,"view.label",t)},init:function(){this.labelPathDidChange(),this.valuePathDidChange(),this._super()},selected:R(function(){var e=b(this,"content"),t=b(this,"parentView.selection");return b(this,"parentView.multiple")?t&&g(t,e.valueOf())>-1:e==t}).property("content","parentView.selection"),labelPathDidChange:C("parentView.optionLabelPath",function(){var e=b(this,"parentView.optionLabelPath");e&&H(this,"label",R(function(){return b(this,e)}).property(e))}),valuePathDidChange:C("parentView.optionValuePath",function(){var e=b(this,"parentView.optionValuePath");e&&H(this,"value",R(function(){return b(this,e)}).property(e))})})),A=w.extend({instrumentDisplay:"Ember.SelectOptgroup",tagName:"optgroup",attributeBindings:["label"],selectionBinding:"parentView.selection",multipleBinding:"parentView.multiple",optionLabelPathBinding:"parentView.optionLabelPath",optionValuePathBinding:"parentView.optionValuePath",itemViewClassBinding:"parentView.optionView"}),N=x.extend({instrumentDisplay:"Ember.Select",tagName:"select",classNames:["ember-select"],defaultTemplate:i.Handlebars.template(function(e,t,r,n,o){function a(e,t){var n,i="";return t.buffer.push('<option value="">'),n=r._triageMustache.call(e,"view.prompt",{hash:{},hashTypes:{},hashContexts:{},contexts:[e],types:["ID"],data:t}),(n||0===n)&&t.buffer.push(n),t.buffer.push("</option>"),i}function s(e,t){var n;n=r.each.call(e,"view.groupedContent",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(4,u,t),contexts:[e],types:["ID"],data:t}),t.buffer.push(n||0===n?n:"")}function u(e,t){t.buffer.push(d(r.view.call(e,"view.groupView",{hash:{content:"content",label:"label"},hashTypes:{content:"ID",label:"ID"},hashContexts:{content:e,label:e},contexts:[e],types:["ID"],data:t})))}function c(e,t){var n;n=r.each.call(e,"view.content",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(7,l,t),contexts:[e],types:["ID"],data:t}),t.buffer.push(n||0===n?n:"")}function l(e,t){t.buffer.push(d(r.view.call(e,"view.optionView",{hash:{content:""},hashTypes:{content:"ID"},hashContexts:{content:e},contexts:[e],types:["ID"],data:t})))}this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,i.Handlebars.helpers),o=o||{};var h,f="",d=this.escapeExpression,p=this;return h=r["if"].call(t,"view.prompt",{hash:{},hashTypes:{},hashContexts:{},inverse:p.noop,fn:p.program(1,a,o),contexts:[t],types:["ID"],data:o}),(h||0===h)&&o.buffer.push(h),h=r["if"].call(t,"view.optionGroupPath",{hash:{},hashTypes:{},hashContexts:{},inverse:p.program(6,c,o),fn:p.program(3,s,o),contexts:[t],types:["ID"],data:o}),(h||0===h)&&o.buffer.push(h),f}),attributeBindings:["multiple","disabled","tabindex","name","required","autofocus","form","size"],multiple:!1,disabled:!1,required:!1,content:null,selection:null,value:R(function(e,t){if(2===arguments.length)return t;var r=b(this,"optionValuePath").replace(/^content\.?/,"");return r?b(this,"selection."+r):b(this,"selection")}).property("selection"),prompt:null,optionLabelPath:"content",optionValuePath:"content",optionGroupPath:null,groupView:A,groupedContent:R(function(){var e=b(this,"optionGroupPath"),t=S(),r=b(this,"content")||[];return m(r,function(r){var n=b(r,e);b(t,"lastObject.label")!==n&&t.pushObject({label:n,content:S()}),b(t,"lastObject.content").push(r)}),t}).property("optionGroupPath","content.@each"),optionView:M,_change:function(){b(this,"multiple")?this._changeMultiple():this._changeSingle()},selectionDidChange:C("selection.@each",function(){var e=b(this,"selection");if(b(this,"multiple")){if(!_(e))return void E(this,"selection",S([e]));this._selectionDidChangeMultiple()}else this._selectionDidChangeSingle()}),valueDidChange:C("value",function(){var e,t=b(this,"content"),r=b(this,"value"),n=b(this,"optionValuePath").replace(/^content\.?/,""),i=n?b(this,"selection."+n):b(this,"selection");r!==i&&(e=t?t.find(function(e){return r===(n?b(e,n):e)}):null,this.set("selection",e))}),_triggerChange:function(){var e=b(this,"selection"),t=b(this,"value");T(e)||this.selectionDidChange(),T(t)||this.valueDidChange(),this._change()},_changeSingle:function(){var e=this.$()[0].selectedIndex,t=b(this,"content"),r=b(this,"prompt");if(t&&b(t,"length")){if(r&&0===e)return void E(this,"selection",null);r&&(e-=1),E(this,"selection",t.objectAt(e))}},_changeMultiple:function(){var e=this.$("option:selected"),t=b(this,"prompt"),r=t?1:0,n=b(this,"content"),i=b(this,"selection");if(n&&e){var o=e.map(function(){return this.index-r}).toArray(),a=n.objectsAt(o);_(i)?v(i,0,b(i,"length"),a):E(this,"selection",a)}},_selectionDidChangeSingle:function(){var e=this.get("element");if(e){var t=b(this,"content"),r=b(this,"selection"),n=t?g(t,r):-1,i=b(this,"prompt");i&&(n+=1),e&&(e.selectedIndex=n)}},_selectionDidChangeMultiple:function(){var e,t=b(this,"content"),r=b(this,"selection"),n=t?y(t,r):[-1],i=b(this,"prompt"),o=i?1:0,a=this.$("option");a&&a.each(function(){e=this.index>-1?this.index-o:-1,this.selected=g(n,e)>-1})},init:function(){this._super(),this.on("didInsertElement",this,this._triggerChange),this.on("change",this,this._change)}});d["default"]=N,d.Select=N,d.SelectOption=M,d.SelectOptgroup=A}),e("ember-handlebars/controls/text_area",["ember-metal/property_get","ember-views/views/component","ember-handlebars/controls/text_support","ember-metal/mixin","exports"],function(e,t,r,n,i){"use strict";var o=e.get,a=t["default"],s=r["default"],u=n.observer;i["default"]=a.extend(s,{instrumentDisplay:"{{textarea}}",classNames:["ember-text-area"],tagName:"textarea",attributeBindings:["rows","cols","name","selectionEnd","selectionStart","wrap","lang","dir"],rows:null,cols:null,_updateElementValue:u("value",function(){var e=o(this,"value"),t=this.$();t&&e!==t.val()&&t.val(e)}),init:function(){this._super(),this.on("didInsertElement",this,this._updateElementValue)}})}),e("ember-handlebars/controls/text_field",["ember-metal/property_get","ember-metal/property_set","ember-views/views/component","ember-handlebars/controls/text_support","exports"],function(e,t,r,n,i){"use strict";var o=(e.get,t.set,r["default"]),a=n["default"];i["default"]=o.extend(a,{instrumentDisplay:'{{input type="text"}}',classNames:["ember-text-field"],tagName:"input",attributeBindings:["type","value","size","pattern","name","min","max","accept","autocomplete","autosave","formaction","formenctype","formmethod","formnovalidate","formtarget","height","inputmode","list","multiple","step","lang","dir","width"],value:"",type:"text",size:null,pattern:null,min:null,max:null})}),e("ember-handlebars/controls/text_support",["ember-metal/property_get","ember-metal/property_set","ember-metal/mixin","ember-runtime/mixins/target_action_support","exports"],function(e,t,r,n,i){"use strict";function o(e,t,r){var n=a(t,e),i=a(t,"onEvent"),o=a(t,"value");(i===e||"keyPress"===i&&"key-press"===e)&&t.sendAction("action",o),t.sendAction(e,o),(n||i===e)&&(a(t,"bubbles")||r.stopPropagation())}var a=e.get,s=t.set,u=r.Mixin,c=n["default"],l=u.create(c,{value:"",attributeBindings:["placeholder","disabled","maxlength","tabindex","readonly","autofocus","form","selectionDirection","spellcheck","required","title","autocapitalize","autocorrect"],placeholder:null,disabled:!1,maxlength:null,init:function(){this._super(),this.on("focusOut",this,this._elementValueDidChange),this.on("change",this,this._elementValueDidChange),this.on("paste",this,this._elementValueDidChange),this.on("cut",this,this._elementValueDidChange),this.on("input",this,this._elementValueDidChange),this.on("keyUp",this,this.interpretKeyEvents)},action:null,onEvent:"enter",bubbles:!1,interpretKeyEvents:function(e){var t=l.KEY_EVENTS,r=t[e.keyCode];return this._elementValueDidChange(),r?this[r](e):void 0},_elementValueDidChange:function(){s(this,"value",this.$().val())},insertNewline:function(e){o("enter",this,e),o("insert-newline",this,e)},cancel:function(e){o("escape-press",this,e)},focusIn:function(e){o("focus-in",this,e)},focusOut:function(e){o("focus-out",this,e)},keyPress:function(e){o("key-press",this,e)}});l.KEY_EVENTS={13:"insertNewline",27:"cancel"},i["default"]=l}),e("ember-handlebars/ext",["ember-metal/core","ember-runtime/system/string","ember-handlebars-compiler","ember-metal/property_get","ember-metal/error","ember-metal/mixin","ember-views/views/view","ember-handlebars/views/metamorph_view","ember-metal/path_cache","ember-metal/is_empty","ember-metal/cache","exports"],function(e,r,n,i,o,a,s,u,c,l,h,f){"use strict";function d(e,t,r){var n,i,o=r&&r.keywords||{};return n=U.get(t),o.hasOwnProperty(n)&&(e=o[n],i=!0,t=t===n?"":t.substr(n.length+1)),{root:e,path:t,isKeyword:i}}function p(e,t,r){var n,i=r&&r.data,o=d(e,t,i);return e=o.root,t=o.path,(e||""===t)&&(n=k(e,t)),D(t)&&(void 0===n&&e!==M.lookup&&(e=M.lookup,n=k(e,t)),e===M.lookup||null===e),n}function m(e,t){return e.lookupFactory("view:"+t)}function g(e){var t;return D(e)?t=k(e):void 0}function y(e,t,r,n){var i,o,a;if(n&&(o=n.data,a=n.types&&n.types[0]),"string"==typeof t){if("STRING"===a&&r&&(i=m(r,t)),i||(i=g(t)),!i){if(o){var s=d(e,t,o);e=s.root,t=s.path}i=e&&k(e,t),i||(i=m(r,t))}}else i=t;return"string"==typeof i&&o&&o.view&&(i=y(o.view,i,r,{data:o,types:["ID"]})),i}function v(e,t,r){var n=p(e,t,r);return null===n||void 0===n?n="":n instanceof Handlebars.SafeString||(n=String(n)),r.hash.unescaped||(n=Handlebars.Utils.escapeExpression(n)),n}function b(e,t,r){for(var n,i,o=[],a=r.types,s=0,u=t.length;u>s;s++)n=t[s],i=a[s],o.push("ID"===i?p(e,n,r):n);return o}function E(e,t,r){var n,i={},o=r.hashTypes;for(var a in t)t.hasOwnProperty(a)&&(n=o[a],i[a]="ID"===n?p(e,t[a],r):t[a]);return i}function x(e){C||(C=t("ember-handlebars/helpers/binding").resolveHelper);var r,n="",i=arguments[arguments.length-1],o=C(i.data.view.container,e);if(o)return o.apply(this,B.call(arguments,1));throw r="%@ Handlebars error: Could not find property '%@' on object %@.",i.data&&(n=i.data.view),new O(A(r,[n,e,this]))}function w(e){C||(C=t("ember-handlebars/helpers/binding").resolveHelper);var r=arguments[arguments.length-1],n=C(r.data.view.container,e);return n?n.apply(this,B.call(arguments,1)):P.helperMissing.call(this,e)}function _(e){var t=B.call(arguments,1),r=T.apply(this,t);N.registerHelper(e,r)}function T(e){function r(){var t,r,i,o,a,s=B.call(arguments,0,-1),u=s.length,c=arguments[arguments.length-1],l=[],h=c.data,f=h.isUnbound?B.call(c.types,1):c.types,p=c.hash,m=c.hashTypes,g=h.view,y=c.contexts,v=y&&y.length?y[0]:this,b="",E=H.prototype.normalizedValue,x=p.boundOptions={};for(i in p)L.test(i)?x[i.slice(0,-7)]=p[i]:"ID"===m[i]&&(x[i]=p[i]);var w=[];for(h.properties=[],t=0;u>t;++t)if(h.properties.push(s[t]),"ID"===f[t]){var _=d(v,s[t],h);l.push(_),w.push(_)}else l.push(h.isUnbound?{path:s[t]}:null);if(h.isUnbound)return R(this,e,l,c);var T=new H(null,null,!c.hash.unescaped,c.data);T.normalizedValue=function(){var r,n=[];for(r in x)x.hasOwnProperty(r)&&(a=d(v,x[r],h),T.path=a.path,T.pathRoot=a.root,p[r]=E.call(T));for(t=0;u>t;++t)a=l[t],a?(T.path=a.path,T.pathRoot=a.root,n.push(E.call(T))):n.push(s[t]);return n.push(c),e.apply(v,n)},g.appendChild(T);for(o in x)x.hasOwnProperty(o)&&w.push(d(v,x[o],h));for(t=0,r=w.length;r>t;++t)a=w[t],g.registerObserver(a.root,a.path,T,T.rerender);if("ID"===f[0]&&0!==l.length){var S=l[0],C=S.root,M=S.path;F(M)||(b=M+".");for(var A=0,N=n.length;N>A;A++)g.registerObserver(C,b+n[A],T,T.rerender)}}H||(H=t("ember-handlebars/views/handlebars_bound_view").SimpleHandlebarsView);var n=B.call(arguments,1);return r._rawFunction=e,r}function R(e,t,r,n){var i,o,a,s,u,c=[],l=n.hash,h=l.boundOptions,f=B.call(n.types,1);for(u in h)h.hasOwnProperty(u)&&(l[u]=p(e,h[u],n));for(i=0,o=r.length;o>i;++i)a=r[i],s=f[i],c.push("ID"===s?p(a.root,a.path,n):a.path);return c.push(n),t.apply(e,c)}function S(e){var t=I(e);return t.isTop=!0,t}var C,H,M=e["default"],A=r.fmt,N=n["default"],P=N.helpers,k=i.get,O=o["default"],L=a.IS_BINDING,D=(s["default"],u._Metamorph,c.isGlobal),F=l["default"],B=[].slice,I=N.template,z=h["default"],U=new z(1e3,function(e){return e.split(".",1)[0]});f.getEscaped=v,f.resolveParams=b,f.resolveHash=E,f.helperMissingHelper=x,f.blockHelperMissingHelper=w,f.registerBoundHelper=_,f.template=S,f.normalizePath=d,f.makeBoundHelper=T,f.handlebarsGet=p,f.handlebarsGetView=y,f.evaluateUnboundHelper=R}),e("ember-handlebars/helpers/binding",["ember-metal/core","ember-handlebars-compiler","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-runtime/system/string","ember-metal/platform","ember-metal/is_none","ember-metal/enumerable_utils","ember-metal/array","ember-views/views/view","ember-metal/run_loop","ember-metal/observer","ember-metal/binding","ember-views/system/jquery","ember-handlebars/ext","ember-metal/keys","ember-metal/cache","ember-handlebars/views/handlebars_bound_view","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d,p,m,g,y,v,b){"use strict";function E(e){return!z(e)}function x(e,t,r,n,i,o){var a,s,u,c=t.data,l=t.fn,h=t.inverse,f=c.view,d=this||window;if(a=et(d,e,c),c.insideGroup){s=function(){for(;f._contextView;)f=f._contextView;j.once(f,"rerender")};var p,m,g=tt(d,e,t);g=i?i(g):g,m=r?d:g,n(g)?p=l:h&&(p=h),p(m,{data:t.data})}else{var y=Z,v={preserveContext:r,shouldDisplayFunc:n,valueNormalizerFunc:i,displayTemplate:l,inverseTemplate:h,path:e,pathRoot:d,previousContext:d,isEscaped:!t.hash.unescaped,templateData:t.data,templateHash:t.hash,helperName:t.helperName};t.isWithHelper&&(y=at);var b=f.createChildView(y,v);f.appendChild(b),s=function(){j.scheduleOnce("render",b,"rerenderIfNeeded")}}if("object"==typeof this&&""!==a.path&&(f.registerObserver(a.root,a.path,s),o))for(u=0;u<o.length;u++)f.registerObserver(a.root,a.path+"."+o[u],s)}function w(e,t,r){var n,i,o,a,s=r.data,u=s.view;if(n=et(e,t,s),o=n.root,o&&"object"==typeof o){if(s.insideGroup)i=function(){for(;u._contextView;)u=u._contextView;j.once(u,"rerender")},a=Y(e,t,r),s.buffer.push(a);else{var c=new J(t,e,!r.hash.unescaped,r.data);c._parentView=u,u.appendChild(c),i=function(){j.scheduleOnce("render",c,"rerender")}}""!==n.path&&u.registerObserver(n.root,n.path,i)}else a=Y(e,t,r),s.buffer.push(a)}function _(e){var t=e&&D(e,"isTruthy");return"boolean"==typeof t?t:X(e)?0!==D(e,"length"):!!e}function T(e,t){var r=L.resolveHelper(t.data.view.container,e);return r?r.call(this,t):it.bind.call(this,e,t)}function R(e,t){if(it[t])return it[t];if(e&&!st.get(t)){var r=e.lookup("helper:"+t);if(!r){var n=e.lookup("component-lookup:main"),i=n.lookupFactory(t,e);i&&(r=L.makeViewHelper(i),e.register("helper:"+t,r))}return r}}function S(e,t){var r=t.contexts&&t.contexts.length?t.contexts[0]:this;return t.fn?(t.helperName="bind",x.call(r,e,t,!1,E)):w(r,e,t)}function C(e,t){var r=t.contexts&&t.contexts.length?t.contexts[0]:this;return t.helperName=t.helperName||"boundIf",x.call(r,e,t,!0,_,_,["isTruthy","length"])
}function H(e,t){var r,n,i=t.contexts&&t.contexts.length?t.contexts[0]:this,o=t.data,a=t.fn,s=t.inverse;r=et(i,e,o),n=tt(i,e,t),_(n)||(a=s),a(i,{data:o})}function M(e,t){var r,n,i="with";if(4===arguments.length){var o,a,s,u,c;t=arguments[3],o=arguments[2],a=arguments[0],a&&(i+=" "+a+" as "+o);var l=I(t);if(l.data=I(t.data),l.data.keywords=I(t.data.keywords||{}),G(a))c=a;else{u=et(this,a,t.data),a=u.path,s=u.root;var h=K.expando+rt(s);l.data.keywords[h]=s,c=a?h+"."+a:h}l.hash.keywordName=o,l.hash.keywordPath=c,r=this,e=c,t=l,n=!0}else i+=" "+e,r=t.contexts[0],n=!1;return t.helperName=i,t.isWithHelper=!0,x.call(r,e,t,n,E)}function A(e,t){return t.helperName=t.helperName||"if "+e,t.data.isUnbound?it.unboundIf.call(t.contexts[0],e,t):it.boundIf.call(t.contexts[0],e,t)}function N(e,t){var r=t.fn,n=t.inverse,i="unless";return e&&(i+=" "+e),t.fn=n,t.inverse=r,t.helperName=t.helperName||i,t.data.isUnbound?it.unboundIf.call(t.contexts[0],e,t):it.boundIf.call(t.contexts[0],e,t)}function P(e){var t=e.hash,r=e.data.view,n=[],i=this||window,o=B(),a=t["class"];if(null!=a){var s=O(i,a,r,o,e);n.push('class="'+Handlebars.Utils.escapeExpression(s.join(" "))+'"'),delete t["class"]}var u=$(t);return U.call(u,function(a){var s,u=t[a];s=et(i,u,e.data);var c,l="this"===u?s.root:tt(i,u,e),h=nt(l);c=function f(){var t=tt(i,u,e),n=r.$("[data-bindattr-"+o+"='"+o+"']");return n&&0!==n.length?void V.applyAttributeBindings(n,a,t):void q(s.root,s.path,f)},"this"===u||s.isKeyword&&""===s.path||r.registerObserver(s.root,s.path,c),"string"===h||"number"===h&&!isNaN(l)?n.push(a+'="'+Handlebars.Utils.escapeExpression(l)+'"'):l&&"boolean"===h&&n.push(a+'="'+a+'"')},this),n.push("data-bindattr-"+o+'="'+o+'"'),new ot(n.join(" "))}function k(){return it["bind-attr"].apply(this,arguments)}function O(e,t,r,n,i){var o,a,s,u=[],c=function(e,t,r){var n,i=t.path;return n="this"===i?e:""===i?!0:tt(e,i,r),V._classStringForValue(i,n,t.className,t.falsyClassName)};return U.call(t.split(" "),function(t){var l,h,f,d=V._parsePropertyPath(t),p=d.path,m=e;""!==p&&"this"!==p&&(f=et(e,p,i.data),m=f.root,p=f.path),h=function(){o=c(e,d,i),s=n?r.$("[data-bindattr-"+n+"='"+n+"']"):r.$(),s&&0!==s.length?(l&&s.removeClass(l),o?(s.addClass(o),l=o):l=null):q(m,p,h)},""!==p&&"this"!==p&&r.registerObserver(m,p,h),a=c(e,d,i),a&&(u.push(a),l=a)}),u}var L=(e["default"],t["default"]),D=r.get,F=(n.set,i.apply),B=i.uuid,I=(o.fmt,a.create),z=s["default"],U=(u["default"],c.forEach),V=l["default"],j=h["default"],q=f.removeObserver,G=d.isGlobalPath,W=d.bind,K=p["default"],X=i.isArray,Y=m.getEscaped,$=g["default"],Q=y["default"],Z=v._HandlebarsBoundView,J=v.SimpleHandlebarsView,et=m.normalizePath,tt=m.handlebarsGet,rt=(m.getEscaped,i.guidFor),nt=i.typeOf,it=L.helpers,ot=L.SafeString,at=Z.extend({init:function(){var e;F(this,this._super,arguments);var t=this.templateData.keywords,r=this.templateHash.keywordName,n=this.templateHash.keywordPath,i=this.templateHash.controller,o=this.preserveContext;if(i){var a=this.previousContext;if(e=this.container.lookupFactory("controller:"+i).create({parentController:a,target:a}),this._generatedController=e,o){var s=K.expando+rt(e);t[s]=e,W(t,s+".model",n),n=s}else this.set("controller",e),this.valueNormalizerFunc=function(t){return e.set("model",t),e}}o&&W(t,r,n)},willDestroy:function(){this._super(),this._generatedController&&this._generatedController.destroy()}}),st=new Q(1e3,function(e){return-1===e.indexOf("-")});b.ISNT_HELPER_CACHE=st,b.bind=x,b._triageMustacheHelper=T,b.resolveHelper=R,b.bindHelper=S,b.boundIfHelper=C,b.unboundIfHelper=H,b.withHelper=M,b.ifHelper=A,b.unlessHelper=N,b.bindAttrHelper=P,b.bindAttrHelperDeprecated=k,b.bindClasses=O}),e("ember-handlebars/helpers/collection",["ember-metal/core","ember-metal/utils","ember-handlebars-compiler","ember-runtime/system/string","ember-metal/property_get","ember-handlebars/ext","ember-handlebars/helpers/view","ember-metal/computed","ember-views/views/collection_view","exports"],function(e,t,r,n,i,o,a,s,u,c){"use strict";function l(e,t){e&&e.data&&e.data.isRenderData&&(t=e,e=void 0);var r,n=t.fn,i=t.data,o=t.inverse,a=t.data.view,s=a.controller&&a.controller.container?a.controller.container:a.container;r=e?p(this,e,s,t):y;var u,c,l=t.hash,g={},b=r.proto();c=l.itemView?p(this,l.itemView,s,t):l.itemViewClass?p(b,l.itemViewClass,s,t):p(b,b.itemViewClass,s,t),delete l.itemViewClass,delete l.itemView;for(var E in l)l.hasOwnProperty(E)&&(u=E.match(/^item(.)(.*)$/),u&&"itemController"!==E&&(g[u[1].toLowerCase()+u[2]]=l[E],delete l[E]));n&&(g.template=n,delete t.fn);var x;o&&o!==h.VM.noop?(x=d(b,"emptyViewClass"),x=x.extend({template:o,tagName:g.tagName})):l.emptyViewClass&&(x=p(this,l.emptyViewClass,s,t)),x&&(l.emptyView=x),g._context=l.keyword?this:v("content");var w=m.propertiesFromHTMLOptions({data:i,hash:g},this);return l.itemViewClass=c.extend(w),t.helperName=t.helperName||"collection",f.view.call(this,r,t)}var h=(e["default"],t.inspect,r["default"]),f=h.helpers,d=(n.fmt,i.get),p=(o.handlebarsGet,o.handlebarsGetView),m=a.ViewHelper,g=s.computed,y=u["default"],v=g.alias;c["default"]=l}),e("ember-handlebars/helpers/debug",["ember-metal/core","ember-metal/utils","ember-metal/logger","ember-metal/property_get","ember-handlebars/ext","exports"],function(e,t,r,n,i,o){"use strict";function a(){for(var e=f.call(arguments,0,-1),t=arguments[arguments.length-1],r=c.log,n=[],i=!0,o=0;o<e.length;o++){var a=t.types[o];if("ID"!==a&&i)n.push(e[o]);else{var s=t.contexts&&t.contexts[o]||this,u=l(s,e[o],t.data);n.push("this"===u.path?u.root:h(u.root,u.path,t))}}r.apply(r,n)}function s(){{var e=this;u(e)}}var u=(e["default"],t.inspect),c=r["default"],l=(n.get,i.normalizePath),h=i.handlebarsGet,f=[].slice;o.logHelper=a,o.debuggerHelper=s}),e("ember-handlebars/helpers/each",["ember-metal/core","ember-handlebars-compiler","ember-runtime/system/string","ember-metal/property_get","ember-metal/property_set","ember-views/views/collection_view","ember-metal/binding","ember-runtime/mixins/controller","ember-runtime/controllers/array_controller","ember-runtime/mixins/array","ember-runtime/copy","ember-metal/run_loop","ember-metal/events","ember-handlebars/ext","ember-metal/computed","ember-metal/observer","ember-handlebars/views/metamorph_view","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d,p,m,g,y){"use strict";function v(e,t){var r,n="each";if(4===arguments.length){var i=arguments[0];t=arguments[3],e=arguments[2],n+=" "+i+" in "+e,""===e&&(e="this"),t.hash.keyword=i}else 1===arguments.length?(t=e,e="this"):n+=" "+e;return t.hash.dataSourceBinding=e,r=this||window,t.helperName=t.helperName||n,!t.data.insideGroup||t.hash.groupedRows||t.hash.itemViewClass?w.collection.call(r,x.EachView,t):void new F(r,e,t).render()}var b=e["default"],E=b.K,x=t["default"],w=x.helpers,_=(r.fmt,n.get),T=i.set,R=o["default"],S=a.Binding,C=(s["default"],u["default"],c["default"],l["default"]),H=h["default"],M=(f.on,d.handlebarsGet),A=(p.computed,m.addObserver),N=m.removeObserver,P=m.addBeforeObserver,k=m.removeBeforeObserver,O=g._Metamorph,L=g._MetamorphView,D=R.extend(O,{init:function(){var e,t=_(this,"itemController");if(t){var r=_(this,"controller.container").lookupFactory("controller:array").create({_isVirtual:!0,parentController:_(this,"controller"),itemController:t,target:_(this,"controller"),_eachView:this});this.disableContentObservers(function(){T(this,"content",r),e=new S("content","_eachView.dataSource").oneWay(),e.connect(r)}),T(this,"_arrayController",r)}else this.disableContentObservers(function(){e=new S("content","dataSource").oneWay(),e.connect(this)});return this._super()},_assertArrayLike:function(){},disableContentObservers:function(e){k(this,"content",null,"_contentWillChange"),N(this,"content",null,"_contentDidChange"),e.call(this),P(this,"content",null,"_contentWillChange"),A(this,"content",null,"_contentDidChange")},itemViewClass:L,emptyViewClass:L,createChildView:function(e,t){e=this._super(e,t);var r=_(this,"keyword"),n=_(e,"content");if(r){var i=_(e,"templateData");i=C(i),i.keywords=e.cloneKeywords(),T(e,"templateData",i),i.keywords[r]=n}return n&&n.isController&&T(e,"controller",n),e},destroy:function(){if(this._super()){var e=_(this,"_arrayController");return e&&e.destroy(),this}}}),F=x.GroupedEach=function(e,t,r){var n=this,i=x.normalizePath(e,t,r.data);this.context=e,this.path=t,this.options=r,this.template=r.fn,this.containingView=r.data.view,this.normalizedRoot=i.root,this.normalizedPath=i.path,this.content=this.lookupContent(),this.addContentObservers(),this.addArrayObservers(),this.containingView.on("willClearRender",function(){n.destroy()})};F.prototype={contentWillChange:function(){this.removeArrayObservers()},contentDidChange:function(){this.content=this.lookupContent(),this.addArrayObservers(),this.rerenderContainingView()},contentArrayWillChange:E,contentArrayDidChange:function(){this.rerenderContainingView()},lookupContent:function(){return M(this.normalizedRoot,this.normalizedPath,this.options)},addArrayObservers:function(){this.content&&this.content.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},removeArrayObservers:function(){this.content&&this.content.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},addContentObservers:function(){P(this.normalizedRoot,this.normalizedPath,this,this.contentWillChange),A(this.normalizedRoot,this.normalizedPath,this,this.contentDidChange)},removeContentObservers:function(){k(this.normalizedRoot,this.normalizedPath,this.contentWillChange),N(this.normalizedRoot,this.normalizedPath,this.contentDidChange)},render:function(){if(this.content){var e=this.content,t=_(e,"length"),r=this.options,n=r.data,i=this.template;n.insideEach=!0;for(var o=0;t>o;o++){var a=e.objectAt(o);r.data.keywords[r.hash.keyword]=a,i(a,{data:n})}}},rerenderContainingView:function(){var e=this;H.scheduleOnce("render",this,function(){e.destroyed||e.containingView.rerender()})},destroy:function(){this.removeContentObservers(),this.content&&this.removeArrayObservers(),this.destroyed=!0}},y.EachView=D,y.GroupedEach=F,y.eachHelper=v}),e("ember-handlebars/helpers/loc",["ember-runtime/system/string","exports"],function(e,t){"use strict";var r=e.loc;t["default"]=r}),e("ember-handlebars/helpers/partial",["ember-metal/core","ember-metal/is_none","ember-handlebars/ext","ember-handlebars/helpers/binding","exports"],function(e,t,r,n,i){"use strict";function o(e){return!s(e)}function a(e,t,r){var n=t.split("/"),i=n[n.length-1];n[n.length-1]="_"+i;var o=r.data.view,a=n.join("/"),s=o.templateForName(a),u=!s&&o.templateForName(t);(s=s||u)(e,{data:r.data})}var s=(e["default"],t.isNone),u=r.handlebarsGet,c=n.bind;i["default"]=function(e,t){var r=t.contexts&&t.contexts.length?t.contexts[0]:this;return t.helperName=t.helperName||"partial","ID"===t.types[0]?(t.fn=function(t,r){var n=u(t,e,r);a(t,n,r)},c.call(r,e,t,!0,o)):void a(r,e,t)}}),e("ember-handlebars/helpers/shared",["ember-handlebars/ext","exports"],function(e,t){"use strict";var r=e.handlebarsGet;t["default"]=function(e){for(var t=[],n=e.contexts,i=e.roots,o=e.data,a=0,s=n.length;s>a;a++)t.push(r(i[a],n[a],{data:o}));return t}}),e("ember-handlebars/helpers/template",["ember-metal/core","ember-handlebars-compiler","exports"],function(e,t,r){"use strict";var n=(e["default"],t["default"]),i=n.helpers;r["default"]=function(e,t){return t.helperName=t.helperName||"template",i.partial.apply(this,arguments)}}),e("ember-handlebars/helpers/unbound",["ember-handlebars-compiler","ember-handlebars/helpers/binding","ember-handlebars/ext","exports"],function(e,t,r,n){"use strict";var i=e["default"],o=i.helpers,a=t.resolveHelper,s=r.handlebarsGet,u=[].slice;n["default"]=function(e,t){var r,n,i,c,l=arguments[arguments.length-1],h=l.data.view.container;return c=this,arguments.length>2?(l.data.isUnbound=!0,r=a(h,e)||o.helperMissing,i=r.apply(c,u.call(arguments,1)),delete l.data.isUnbound,i):(n=t.contexts&&t.contexts.length?t.contexts[0]:c,s(n,e,t))}}),e("ember-handlebars/helpers/view",["ember-metal/core","ember-runtime/system/object","ember-metal/property_get","ember-metal/property_set","ember-metal/mixin","ember-views/system/jquery","ember-views/views/view","ember-metal/binding","ember-metal/keys","ember-handlebars/ext","ember-runtime/system/string","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h){"use strict";function f(e,t){var r=t.hash,n=t.hashTypes;for(var i in r)if("ID"===n[i]){var o=r[i];m.test(i)||(r[i+"Binding"]=o,n[i+"Binding"]="STRING",delete r[i],delete n[i])}r.hasOwnProperty("idBinding")&&(r.id=E(e,r.idBinding,t),n.id="STRING",delete r.idBinding,delete n.idBinding)}function d(e,t){return e&&e.data&&e.data.isRenderData&&(t=e,e=t.data&&t.data.view&&t.data.view.container?t.data.view.container.lookupFactory("view:toplevel"):g),t.helperName=t.helperName||"view",w.helper(this,e,t)}var p=(e["default"],t["default"]),m=(r.get,n.set,i.IS_BINDING),g=(o["default"],a["default"]),y=s.isGlobalPath,v=u["default"],b=c.normalizePath,E=c.handlebarsGet,x=c.handlebarsGetView,w=(l["default"],p.create({propertiesFromHTMLOptions:function(e){var t=e.hash,r=e.data,n=t["class"],i={helperName:e.helperName||""};t.id&&(i.elementId=t.id),t.tag&&(i.tagName=t.tag),n&&(n=n.split(" "),i.classNames=n),t.classBinding&&(i.classNameBindings=t.classBinding.split(" ")),t.classNameBindings&&(void 0===i.classNameBindings&&(i.classNameBindings=[]),i.classNameBindings=i.classNameBindings.concat(t.classNameBindings.split(" "))),t.attributeBindings&&(i.attributeBindings=null);for(var o,a=v(t),s=0,u=a.length;u>s;s++){var c=a[s],l=m.test(c);"classNameBindings"!==c&&(i[c]=t[c]),l&&"string"==typeof i[c]&&(o=this.contextualizeBindingPath(t[c],r),o&&(i[c]=o))}if(i.classNameBindings)for(var h=0,f=i.classNameBindings.length;f>h;h++){var d=i.classNameBindings[h];if("string"==typeof d){var p=g._parsePropertyPath(d);""!==p.path&&(o=this.contextualizeBindingPath(p.path,r),o&&(i.classNameBindings[h]=o+p.classNames))}}return i},contextualizeBindingPath:function(e,t){var r=b(null,e,t);return r.isKeyword?"templateData.keywords."+e:y(e)?null:"this"===e||""===e?"_parentView.context":"_parentView.context."+e},helper:function(e,t,r){var n,i,o=r.data,a=r.fn;f(e,r);var s=this.container||o&&o.view&&o.view.container;n=x(e,t,s,r),i=g.detectInstance(n)?n:n.proto();var u=this.propertiesFromHTMLOptions(r,e),c=o.view;u.templateData=o,a&&(u.template=a),i.controller||i.controllerBinding||u.controller||u.controllerBinding||(u._context=e),c.appendChild(n,u)},instanceHelper:function(e,t,r){var n=r.data,i=r.fn;f(e,r);var o=this.propertiesFromHTMLOptions(r,e),a=n.view;o.templateData=n,i&&(o.template=i),t.controller||t.controllerBinding||o.controller||o.controllerBinding||(o._context=e),a.appendChild(t,o)}}));h.ViewHelper=w,h.viewHelper=d}),e("ember-handlebars/helpers/yield",["ember-metal/core","ember-metal/property_get","exports"],function(e,t,r){"use strict";var n=(e["default"],t.get);r["default"]=function(e){for(var t=e.data.view;t&&!n(t,"layout");)t=t._contextView?t._contextView:n(t,"_parentView");t._yield(this,e)}}),e("ember-handlebars/loader",["ember-handlebars/component_lookup","ember-views/system/jquery","ember-metal/error","ember-runtime/system/lazy_load","ember-handlebars-compiler","exports"],function(e,t,r,n,o,a){"use strict";function s(e){var t='script[type="text/x-handlebars"], script[type="text/x-raw-handlebars"]';h(t,e).each(function(){var e=h(this),t="text/x-raw-handlebars"===e.attr("type")?h.proxy(Handlebars.compile,Handlebars):h.proxy(p.compile,p),r=e.attr("data-template-name")||e.attr("id")||"application",n=t(e.html());if(void 0!==i.TEMPLATES[r])throw new f('Template named "'+r+'" already exists.');i.TEMPLATES[r]=n,e.remove()})}function u(){s(h(document))}function c(e){e.register("component-lookup:main",l)}var l=e["default"],h=t["default"],f=r["default"],d=n.onLoad,p=o["default"];d("Ember.Application",function(e){e.initializer({name:"domTemplates",initialize:u}),e.initializer({name:"registerComponentLookup",after:"domTemplates",initialize:c})}),a["default"]=s}),e("ember-handlebars/string",["ember-runtime/system/string","exports"],function(e,t){"use strict";function r(e){return"string"!=typeof e&&(e=""+e),new Handlebars.SafeString(e)}var n=e["default"];n.htmlSafe=r,(i.EXTEND_PROTOTYPES===!0||i.EXTEND_PROTOTYPES.String)&&(String.prototype.htmlSafe=function(){return r(this)}),t["default"]=r}),e("ember-handlebars/views/handlebars_bound_view",["ember-handlebars-compiler","ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/merge","ember-metal/run_loop","ember-views/views/view","ember-handlebars/string","ember-views/views/states","ember-handlebars/views/metamorph_view","ember-handlebars/ext","ember-metal/utils","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d){"use strict";function p(e,t,r,n){this.path=e,this.pathRoot=t,this.isEscaped=r,this.templateData=n,this[y.GUID_KEY]=A(),this._lastNormalizedValue=void 0,this.state="preRender",this.updateId=null,this._parentView=null,this.buffer=null,this._morph=null}var m=e["default"],g=m.SafeString,y=t["default"],v=y.K,b=r["default"],E=n.get,x=i.set,w=o["default"],_=a["default"],T=(s["default"],u["default"]),R=c.cloneStates,S=c.states,C=S,H=l["default"],M=h.handlebarsGet,A=f.uuid;p.prototype={isVirtual:!0,isView:!0,destroy:function(){this.updateId&&(_.cancel(this.updateId),this.updateId=null),this._parentView&&this._parentView.removeChild(this),this.morph=null,this.state="destroyed"},propertyWillChange:v,propertyDidChange:v,normalizedValue:function(){var e,t,r=this.path,n=this.pathRoot,i=this.isEscaped;return""===r?e=n:(t=this.templateData,e=M(n,r,{data:t})),i||e instanceof g||(e=T(e)),e},render:function(e){var t=this.normalizedValue();this._lastNormalizedValue=t,e._element=t},rerender:function(){switch(this.state){case"preRender":case"destroyed":break;case"inBuffer":throw new b("Something you did tried to replace an {{expression}} before it was inserted into the DOM.");case"hasElement":case"inDOM":this.updateId=_.scheduleOnce("render",this,"update")}return this},update:function(){this.updateId=null;var e=this.normalizedValue();e!==this._lastNormalizedValue&&(this._lastNormalizedValue=e,this._morph.update(e))},_transitionTo:function(e){this.state=e}},S=R(C),w(S._default,{rerenderIfNeeded:v}),w(S.inDOM,{rerenderIfNeeded:function(e){e.normalizedValue()!==e._lastNormalizedValue&&e.rerender()}});var N=H.extend({instrumentName:"boundHandlebars",_states:S,shouldDisplayFunc:null,preserveContext:!1,previousContext:null,displayTemplate:null,inverseTemplate:null,path:null,pathRoot:null,normalizedValue:function(){var e,t,r=E(this,"path"),n=E(this,"pathRoot"),i=E(this,"valueNormalizerFunc");return""===r?e=n:(t=E(this,"templateData"),e=M(n,r,{data:t})),i?i(e):e},rerenderIfNeeded:function(){this.currentState.rerenderIfNeeded(this)},render:function(e){var t=E(this,"isEscaped"),r=E(this,"shouldDisplayFunc"),n=E(this,"preserveContext"),i=E(this,"previousContext"),o=E(this,"inverseTemplate"),a=E(this,"displayTemplate"),s=this.normalizedValue();if(this._lastNormalizedValue=s,r(s))if(x(this,"template",a),n)x(this,"_context",i);else{if(!a)return null===s||void 0===s?s="":s instanceof g||(s=String(s)),t&&(s=Handlebars.Utils.escapeExpression(s)),void e.push(s);x(this,"_context",s)}else o?(x(this,"template",o),n?x(this,"_context",i):x(this,"_context",s)):x(this,"template",function(){return""});return this._super(e)}});d._HandlebarsBoundView=N,d.SimpleHandlebarsView=p}),e("ember-handlebars/views/metamorph_view",["ember-metal/core","ember-views/views/core_view","ember-views/views/view","ember-metal/mixin","ember-metal/run_loop","exports"],function(e,t,r,n,i,o){"use strict";var a=(e["default"],t["default"]),s=r["default"],u=n.Mixin,c=(i["default"],u.create({isVirtual:!0,tagName:"",instrumentName:"metamorph",init:function(){this._super()}}));o._Metamorph=c;var l=s.extend(c);o._MetamorphView=l;var h=a.extend(c);o._SimpleMetamorphView=h,o["default"]=s.extend(c)}),e("ember-metal-views",["ember-metal-views/renderer","exports"],function(e,t){"use strict";var r=e["default"];t.Renderer=r}),e("ember-metal-views/renderer",["morph","exports"],function(e,t){"use strict";function r(){this._uuid=0,this._views=new Array(2e3),this._queue=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this._parents=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this._elements=new Array(17),this._inserts={},this._dom=new u}function n(e,t,r){var n=this._views;n[0]=e;var i=void 0===r?-1:r,o=0,a=1,s=t?t._level+1:0,u=null==t?e:t._root,c=!!u._morph,l=this._queue;l[0]=0;for(var h,f,d,p=1,m=-1,g=this._parents,y=t||null,v=this._elements,b=null,E=null,x=0,w=e;p;){if(v[x]=b,w._morph||(w._morph=null),w._root=u,this.uuid(w),w._level=s+x,w._elementCreated&&this.remove(w,!1,!0),this.willCreateElement(w),E=w._morph&&w._morph.contextualElement,!E&&y&&y._childViewsMorph&&(E=y._childViewsMorph.contextualElement),!E&&w._didCreateElementWithoutMorph&&(E=document.body),b=this.createElement(w,E),g[x++]=m,m=o,y=w,l[p++]=o,h=this.childViews(w))for(f=h.length-1;f>=0;f--)d=h[f],o=a++,n[o]=d,l[p++]=o,w=d;for(o=l[--p],w=n[o];m===o;){if(x--,w._elementCreated=!0,this.didCreateElement(w),c&&this.willInsertElement(w),0===x){p--;break}m=g[x],y=-1===m?t:n[m],this.insertElement(w,y,b,-1),o=l[--p],w=n[o],b=v[x],v[x]=null}}for(this.insertElement(w,t,b,i),f=a-1;f>=0;f--)c&&(n[f]._elementInserted=!0,this.didInsertElement(n[f])),n[f]=null;return b}function i(e,t,r){var n=this.uuid(e);if(this._inserts[n]&&(this.cancelRender(this._inserts[n]),this._inserts[n]=void 0),e._elementCreated){var i,o,a,s,u,c,l,h=[],f=[],d=e._morph;for(h.push(e),i=0;i<h.length;i++)if(a=h[i],s=!t&&a._childViewsMorph?h:f,this.beforeRemove(h[i]),u=a._childViews)for(c=0,l=u.length;l>c;c++)s.push(u[c]);for(i=0;i<f.length;i++)if(a=f[i],this.beforeRemove(f[i]),u=a._childViews)for(c=0,l=u.length;l>c;c++)f.push(u[c]);for(d&&!r&&d.destroy(),i=0,o=h.length;o>i;i++)this.afterRemove(h[i],!1);for(i=0,o=f.length;o>i;i++)this.afterRemove(f[i],!0);r&&(e._morph=d)}}function o(e,t,r,n){null!==r&&void 0!==r&&(e._morph?e._morph.update(r):t&&(e._morph=-1===n?t._childViewsMorph.append(r):t._childViewsMorph.insert(n,r)))}function a(e){e._elementCreated&&this.willDestroyElement(e),e._elementInserted&&this.willRemoveElement(e)}function s(e,t){e._elementInserted=!1,e._morph=null,e._childViewsMorph=null,e._elementCreated&&(e._elementCreated=!1,this.didDestroyElement(e)),t&&this.destroyView(e)}var u=e.DOMHelper;r.prototype.uuid=function(e){return void 0===e._uuid&&(e._uuid=++this._uuid,e._renderer=this),e._uuid},r.prototype.scheduleInsert=function(e,t){if(e._morph||e._elementCreated)throw new Error("You cannot insert a View that has already been rendered");e._morph=t;var r=this.uuid(e);this._inserts[r]=this.scheduleRender(this,function(){this._inserts[r]=null,this.renderTree(e)})},r.prototype.appendTo=function(e,t){var r=this._dom.appendMorph(t);this.scheduleInsert(e,r)},r.prototype.replaceIn=function(e,t){var r=this._dom.createMorph(t,null,null);this.scheduleInsert(e,r)},r.prototype.remove=i,r.prototype.destroy=function(e){this.remove(e,!0)},r.prototype.renderTree=n,r.prototype.insertElement=o,r.prototype.beforeRemove=a,r.prototype.afterRemove=s;var c=function(){};r.prototype.willCreateElement=c,r.prototype.createElement=c,r.prototype.didCreateElement=c,r.prototype.willInsertElement=c,r.prototype.didInsertElement=c,r.prototype.willRemoveElement=c,r.prototype.willDestroyElement=c,r.prototype.didDestroyElement=c,r.prototype.destroyView=c,r.prototype.childViews=c,t["default"]=r}),e("ember-metal",["ember-metal/core","ember-metal/merge","ember-metal/instrumentation","ember-metal/utils","ember-metal/error","ember-metal/enumerable_utils","ember-metal/cache","ember-metal/platform","ember-metal/array","ember-metal/logger","ember-metal/property_get","ember-metal/events","ember-metal/observer_set","ember-metal/property_events","ember-metal/properties","ember-metal/property_set","ember-metal/map","ember-metal/get_properties","ember-metal/set_properties","ember-metal/watch_key","ember-metal/chains","ember-metal/watch_path","ember-metal/watching","ember-metal/expand_properties","ember-metal/computed","ember-metal/computed_macros","ember-metal/observer","ember-metal/mixin","ember-metal/binding","ember-metal/run_loop","ember-metal/libraries","ember-metal/is_none","ember-metal/is_empty","ember-metal/is_blank","ember-metal/is_present","ember-metal/keys","exports"],function(e,r,n,i,o,a,s,u,c,l,h,f,d,p,m,g,y,v,b,E,x,w,_,T,R,S,C,H,M,A,N,P,k,O,L,D,F){"use strict";var B=e["default"],I=r["default"],z=n.instrument,U=n.subscribe,V=n.unsubscribe,j=n.reset,q=i.generateGuid,G=i.GUID_KEY,W=i.guidFor,K=i.META_DESC,X=i.EMPTY_META,Y=i.meta,$=i.getMeta,Q=i.setMeta,Z=i.metaPath,J=i.inspect,et=i.typeOf,tt=i.tryCatchFinally,rt=i.isArray,nt=i.makeArray,it=i.canInvoke,ot=i.tryInvoke,at=i.tryFinally,st=i.wrap,ut=i.apply,ct=i.applyStr,lt=i.uuid,ht=o["default"],ft=a["default"],dt=s["default"],pt=u.create,mt=u.hasPropertyAccessors,gt=c.filter,yt=c.forEach,vt=c.indexOf,bt=c.map,Et=l["default"],xt=h.get,wt=h.getWithDefault,_t=h.normalizeTuple,Tt=h._getPath,Rt=f.on,St=f.addListener,Ct=f.removeListener,Ht=f.suspendListener,Mt=f.suspendListeners,At=f.sendEvent,Nt=f.hasListeners,Pt=f.watchedEvents,kt=f.listenersFor,Ot=f.listenersDiff,Lt=f.listenersUnion,Dt=d["default"],Ft=p.propertyWillChange,Bt=p.propertyDidChange,It=p.overrideChains,zt=p.beginPropertyChanges,Ut=p.endPropertyChanges,Vt=p.changeProperties,jt=m.Descriptor,qt=m.defineProperty,Gt=g.set,Wt=g.trySet,Kt=y.OrderedSet,Xt=y.Map,Yt=y.MapWithDefault,$t=v["default"],Qt=b["default"],Zt=E.watchKey,Jt=E.unwatchKey,er=x.flushPendingChains,tr=x.removeChainWatcher,rr=x.ChainNode,nr=x.finishChains,ir=w.watchPath,or=w.unwatchPath,ar=_.watch,sr=_.isWatching,ur=_.unwatch,cr=_.rewatch,lr=_.destroy,hr=T["default"],fr=R.ComputedProperty,dr=R.computed,pr=R.cacheFor,mr=C.addObserver,gr=C.observersFor,yr=C.removeObserver,vr=C.addBeforeObserver,br=C._suspendBeforeObserver,Er=C._suspendObserver,xr=C._suspendBeforeObservers,wr=C._suspendObservers,_r=C.beforeObserversFor,Tr=C.removeBeforeObserver,Rr=H.IS_BINDING,Sr=H.mixin,Cr=H.Mixin,Hr=H.required,Mr=H.aliasMethod,Ar=H.observer,Nr=H.immediateObserver,Pr=H.beforeObserver,kr=M.Binding,Or=M.isGlobalPath,Lr=M.bind,Dr=M.oneWay,Fr=A["default"],Br=N["default"],Ir=P.isNone,zr=P.none,Ur=k.isEmpty,Vr=k.empty,jr=O["default"],qr=L["default"],Gr=D["default"],Wr=B.Instrumentation={};Wr.instrument=z,Wr.subscribe=U,Wr.unsubscribe=V,Wr.reset=j,B.instrument=z,B.subscribe=U,B._Cache=dt,B.generateGuid=q,B.GUID_KEY=G,B.create=pt,B.keys=Gr,B.platform={defineProperty:qt,hasPropertyAccessors:mt};var Kr=B.ArrayPolyfills={};Kr.map=bt,Kr.forEach=yt,Kr.filter=gt,Kr.indexOf=vt,B.Error=ht,B.guidFor=W,B.META_DESC=K,B.EMPTY_META=X,B.meta=Y,B.getMeta=$,B.setMeta=Q,B.metaPath=Z,B.inspect=J,B.typeOf=et,B.tryCatchFinally=tt,B.isArray=rt,B.makeArray=nt,B.canInvoke=it,B.tryInvoke=ot,B.tryFinally=at,B.wrap=st,B.apply=ut,B.applyStr=ct,B.uuid=lt,B.Logger=Et,B.get=xt,B.getWithDefault=wt,B.normalizeTuple=_t,B._getPath=Tt,B.EnumerableUtils=ft,B.on=Rt,B.addListener=St,B.removeListener=Ct,B._suspendListener=Ht,B._suspendListeners=Mt,B.sendEvent=At,B.hasListeners=Nt,B.watchedEvents=Pt,B.listenersFor=kt,B.listenersDiff=Ot,B.listenersUnion=Lt,B._ObserverSet=Dt,B.propertyWillChange=Ft,B.propertyDidChange=Bt,B.overrideChains=It,B.beginPropertyChanges=zt,B.endPropertyChanges=Ut,B.changeProperties=Vt,B.Descriptor=jt,B.defineProperty=qt,B.set=Gt,B.trySet=Wt,B.OrderedSet=Kt,B.Map=Xt,B.MapWithDefault=Yt,B.getProperties=$t,B.setProperties=Qt,B.watchKey=Zt,B.unwatchKey=Jt,B.flushPendingChains=er,B.removeChainWatcher=tr,B._ChainNode=rr,B.finishChains=nr,B.watchPath=ir,B.unwatchPath=or,B.watch=ar,B.isWatching=sr,B.unwatch=ur,B.rewatch=cr,B.destroy=lr,B.expandProperties=hr,B.ComputedProperty=fr,B.computed=dr,B.cacheFor=pr,B.addObserver=mr,B.observersFor=gr,B.removeObserver=yr,B.addBeforeObserver=vr,B._suspendBeforeObserver=br,B._suspendBeforeObservers=xr,B._suspendObserver=Er,B._suspendObservers=wr,B.beforeObserversFor=_r,B.removeBeforeObserver=Tr,B.IS_BINDING=Rr,B.required=Hr,B.aliasMethod=Mr,B.observer=Ar,B.immediateObserver=Nr,B.beforeObserver=Pr,B.mixin=Sr,B.Mixin=Cr,B.oneWay=Dr,B.bind=Lr,B.Binding=kr,B.isGlobalPath=Or,B.run=Fr,B.libraries=Br,B.libraries.registerCoreLibrary("Ember",B.VERSION),B.isNone=Ir,B.none=zr,B.isEmpty=Ur,B.empty=Vr,B.isBlank=jr,B.isPresent=qr,B.merge=I,B.onerror=null,B.__loader.registry["ember-debug"]&&t("ember-debug"),F["default"]=B}),e("ember-metal/alias",["ember-metal/property_get","ember-metal/property_set","ember-metal/error","ember-metal/properties","ember-metal/computed","ember-metal/platform","ember-metal/utils","ember-metal/dependent_keys","exports"],function(e,t,r,n,i,o,a,s,u){"use strict";function c(e){return new l(e)}function l(e){this.altKey=e,this._dependentKeys=[e]}function h(e,t){throw new m('Cannot set read-only property "'+t+'" on object: '+x(e))}function f(e,t,r){return y(e,t,null),p(e,t,r)}var d=e.get,p=t.set,m=r["default"],g=n.Descriptor,y=n.defineProperty,v=i.ComputedProperty,b=o.create,E=a.meta,x=a.inspect,w=s.addDependentKeys,_=s.removeDependentKeys;u.alias=c,u.AliasedProperty=l,l.prototype=b(g.prototype),l.prototype.get=function(e){return d(e,this.altKey)},l.prototype.set=function(e,t,r){return p(e,this.altKey,r)},l.prototype.willWatch=function(e,t){w(this,e,t,E(e))},l.prototype.didUnwatch=function(e,t){_(this,e,t,E(e))},l.prototype.setup=function(e,t){var r=E(e);r.watching[t]&&w(this,e,t,r)},l.prototype.teardown=function(e,t){var r=E(e);r.watching[t]&&_(this,e,t,r)},l.prototype.readOnly=function(){return this.set=h,this},l.prototype.oneWay=function(){return this.set=f,this},l.prototype._meta=void 0,l.prototype.meta=v.prototype.meta}),e("ember-metal/array",["exports"],function(e){"use strict";var t=Array.prototype,r=function(e){return e&&Function.prototype.toString.call(e).indexOf("[native code]")>-1},n=function(e,t){return r(e)?e:t},o=n(t.map,function(e){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;for(var t=Object(this),r=t.length>>>0,n=new Array(r),i=arguments[1],o=0;r>o;o++)o in t&&(n[o]=e.call(i,t[o],o,t));return n}),a=n(t.forEach,function(e){if(void 0===this||null===this||"function"!=typeof e)throw new TypeError;for(var t=Object(this),r=t.length>>>0,n=arguments[1],i=0;r>i;i++)i in t&&e.call(n,t[i],i,t)}),s=n(t.indexOf,function(e,t){null===t||void 0===t?t=0:0>t&&(t=Math.max(0,this.length+t));for(var r=t,n=this.length;n>r;r++)if(this[r]===e)return r;return-1}),u=n(t.lastIndexOf,function(e,t){var r,n=this.length;for(t=void 0===t?n-1:0>t?Math.ceil(t):Math.floor(t),0>t&&(t+=n),r=t;r>=0;r--)if(this[r]===e)return r;return-1}),c=n(t.filter,function(e,t){var r,n,i=[],o=this.length;for(r=0;o>r;r++)this.hasOwnProperty(r)&&(n=this[r],e.call(t,n,r,this)&&i.push(n));return i});i.SHIM_ES5&&(t.map=t.map||o,t.forEach=t.forEach||a,t.filter=t.filter||c,t.indexOf=t.indexOf||s,t.lastIndexOf=t.lastIndexOf||u),e.map=o,e.forEach=a,e.filter=c,e.indexOf=s,e.lastIndexOf=u}),e("ember-metal/binding",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/observer","ember-metal/run_loop","ember-metal/path_cache","exports"],function(e,t,r,n,i,o,a,s){"use strict";function u(e,t){return p(x(t)?d.lookup:e,t)}function c(e,t){this._direction=void 0,this._from=t,this._to=e,this._readyToSync=void 0,this._oneWay=void 0}function l(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}function h(e,t,r){return new c(t,r).connect(e)}function f(e,t,r){return new c(t,r).oneWay().connect(e)}var d=e["default"],p=t.get,m=(r.set,r.trySet),g=n.guidFor,y=i.addObserver,v=i.removeObserver,b=i._suspendObserver,E=o["default"],x=a.isGlobal;d.LOG_BINDINGS=!1||!!d.ENV.LOG_BINDINGS,c.prototype={copy:function(){var e=new c(this._to,this._from);return this._oneWay&&(e._oneWay=!0),e},from:function(e){return this._from=e,this},to:function(e){return this._to=e,this},oneWay:function(){return this._oneWay=!0,this},toString:function(){var e=this._oneWay?"[oneWay]":"";
return"Ember.Binding<"+g(this)+">("+this._from+" -> "+this._to+")"+e},connect:function(e){var t=this._from,r=this._to;return m(e,r,u(e,t)),y(e,t,this,this.fromDidChange),this._oneWay||y(e,r,this,this.toDidChange),this._readyToSync=!0,this},disconnect:function(e){var t=!this._oneWay;return v(e,this._from,this,this.fromDidChange),t&&v(e,this._to,this,this.toDidChange),this._readyToSync=!1,this},fromDidChange:function(e){this._scheduleSync(e,"fwd")},toDidChange:function(e){this._scheduleSync(e,"back")},_scheduleSync:function(e,t){var r=this._direction;void 0===r&&(E.schedule("sync",this,this._sync,e),this._direction=t),"back"===r&&"fwd"===t&&(this._direction="fwd")},_sync:function(e){var t=d.LOG_BINDINGS;if(!e.isDestroyed&&this._readyToSync){var r=this._direction,n=this._from,i=this._to;if(this._direction=void 0,"fwd"===r){var o=u(e,this._from);t&&d.Logger.log(" ",this.toString(),"->",o,e),this._oneWay?m(e,i,o):b(e,i,this,this.toDidChange,function(){m(e,i,o)})}else if("back"===r){var a=p(e,this._to);t&&d.Logger.log(" ",this.toString(),"<-",a,e),b(e,n,this,this.fromDidChange,function(){m(x(n)?d.lookup:e,n,a)})}}}},l(c,{from:function(e){var t=this;return new t(void 0,e)},to:function(e){var t=this;return new t(e,void 0)},oneWay:function(e,t){var r=this;return new r(void 0,e).oneWay(t)}}),s.bind=h,s.oneWay=f,s.Binding=c,s.isGlobalPath=x}),e("ember-metal/cache",["ember-metal/dictionary","exports"],function(e,t){"use strict";function r(e,t){this.store=n(null),this.size=0,this.misses=0,this.hits=0,this.limit=e,this.func=t}var n=e["default"];t["default"]=r;var i=function(){};r.prototype={set:function(e,t){return this.limit>this.size&&(this.size++,this.store[e]=void 0===t?i:t),t},get:function(e){var t=this.store[e];return void 0===t?(this.misses++,t=this.set(e,this.func(e))):t===i?(this.hits++,t=void 0):this.hits++,t},purge:function(){this.store=n(null),this.size=0,this.hits=0,this.misses=0}}}),e("ember-metal/chains",["ember-metal/core","ember-metal/property_get","ember-metal/utils","ember-metal/array","ember-metal/watch_key","exports"],function(e,t,r,n,i,o){"use strict";function a(e){return e.match(w)[0]}function s(){if(0!==_.length){var e=_;_=[],y.call(e,function(e){e[0].add(e[1])}),x("Watching an undefined global, Ember expects watched globals to be setup by the time the run loop is flushed, check for typos",0===_.length)}}function u(e,t,r){if(e&&"object"==typeof e){var n=E(e),i=n.chainWatchers;n.hasOwnProperty("chainWatchers")||(i=n.chainWatchers={}),i[t]||(i[t]=[]),i[t].push(r),v(e,t,n)}}function c(e,t,r){if(e&&"object"==typeof e){var n=e.__ember_meta__;if(!n||n.hasOwnProperty("chainWatchers")){var i=n&&n.chainWatchers;if(i&&i[t]){i=i[t];for(var o=0,a=i.length;a>o;o++)if(i[o]===r){i.splice(o,1);break}}b(e,t,n)}}}function l(e,t,r){this._parent=e,this._key=t,this._watching=void 0===r,this._value=r,this._paths={},this._watching&&(this._object=e.value(),this._object&&u(this._object,this._key,this)),this._parent&&"@each"===this._parent._key&&this.value()}function h(e,t){if(!e)return void 0;var r=e.__ember_meta__;if(r&&r.proto===e)return void 0;if("@each"===t)return p(e,t);var n=r&&r.descs[t];return n&&n._cacheable?t in r.cache?r.cache[t]:void 0:p(e,t)}function f(e){var t,r,n,i=e.__ember_meta__;if(i){if(r=i.chainWatchers)for(var o in r)if(r.hasOwnProperty(o)&&(n=r[o]))for(var a=0,s=n.length;s>a;a++)n[a].didChange(null);t=i.chains,t&&t.value()!==e&&(E(e).chains=t=t.copy(e))}}var d=e["default"],p=t.get,m=t.normalizeTuple,g=r.meta,y=n.forEach,v=i.watchKey,b=i.unwatchKey,E=g,x=d.warn,w=/^([^\.]+)/,_=[];o.flushPendingChains=s;var T=l.prototype;T.value=function(){if(void 0===this._value&&this._watching){var e=this._parent.value();this._value=h(e,this._key)}return this._value},T.destroy=function(){if(this._watching){var e=this._object;e&&c(e,this._key,this),this._watching=!1}},T.copy=function(e){var t,r=new l(null,null,e),n=this._paths;for(t in n)n[t]<=0||r.add(t);return r},T.add=function(e){var t,r,n,i,o;if(o=this._paths,o[e]=(o[e]||0)+1,t=this.value(),r=m(t,e),r[0]&&r[0]===t)e=r[1],n=a(e),e=e.slice(n.length+1);else{if(!r[0])return _.push([this,e]),void(r.length=0);i=r[0],n=e.slice(0,0-(r[1].length+1)),e=r[1]}r.length=0,this.chain(n,e,i)},T.remove=function(e){var t,r,n,i,o;o=this._paths,o[e]>0&&o[e]--,t=this.value(),r=m(t,e),r[0]===t?(e=r[1],n=a(e),e=e.slice(n.length+1)):(i=r[0],n=e.slice(0,0-(r[1].length+1)),e=r[1]),r.length=0,this.unchain(n,e)},T.count=0,T.chain=function(e,t,r){var n,i=this._chains;i||(i=this._chains={}),n=i[e],n||(n=i[e]=new l(this,e,r)),n.count++,t&&(e=a(t),t=t.slice(e.length+1),n.chain(e,t))},T.unchain=function(e,t){var r=this._chains,n=r[e];t&&t.length>1&&(e=a(t),t=t.slice(e.length+1),n.unchain(e,t)),n.count--,n.count<=0&&(delete r[n._key],n.destroy())},T.willChange=function(e){var t=this._chains;if(t)for(var r in t)t.hasOwnProperty(r)&&t[r].willChange(e);this._parent&&this._parent.chainWillChange(this,this._key,1,e)},T.chainWillChange=function(e,t,r,n){this._key&&(t=this._key+"."+t),this._parent?this._parent.chainWillChange(this,t,r+1,n):(r>1&&n.push(this.value(),t),t="this."+t,this._paths[t]>0&&n.push(this.value(),t))},T.chainDidChange=function(e,t,r,n){this._key&&(t=this._key+"."+t),this._parent?this._parent.chainDidChange(this,t,r+1,n):(r>1&&n.push(this.value(),t),t="this."+t,this._paths[t]>0&&n.push(this.value(),t))},T.didChange=function(e){if(this._watching){var t=this._parent.value();t!==this._object&&(c(this._object,this._key,this),this._object=t,u(t,this._key,this)),this._value=void 0,this._parent&&"@each"===this._parent._key&&this.value()}var r=this._chains;if(r)for(var n in r)r.hasOwnProperty(n)&&r[n].didChange(e);null!==e&&this._parent&&this._parent.chainDidChange(this,this._key,1,e)},o.finishChains=f,o.removeChainWatcher=c,o.ChainNode=l}),e("ember-metal/computed",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/expand_properties","ember-metal/error","ember-metal/properties","ember-metal/property_events","ember-metal/dependent_keys","exports"],function(e,t,r,n,i,o,a,s,u,c){"use strict";function l(){}function h(e,t){e.__ember_arity__=e.length,this.func=e,this._cacheable=t&&void 0!==t.cacheable?t.cacheable:!0,this._dependentKeys=t&&t.dependentKeys,this._readOnly=t&&(void 0!==t.readOnly||!!t.readOnly)||!1}function f(e){for(var t=0,r=e.length;r>t;t++)e[t].didChange(null)}function d(e){var t;if(arguments.length>1&&(t=C.call(arguments),e=t.pop()),"function"!=typeof e)throw new b("Computed Property declared without a property function");var r=new h(e);return t&&r.property.apply(r,t),r}function p(e,t){var r=e.__ember_meta__,n=r&&r.cache,i=n&&n[t];return i===l?void 0:i}var m=(e["default"],t.get,r.set),g=n.meta,y=n.inspect,v=i["default"],b=o["default"],E=a.Descriptor,x=a.defineProperty,w=s.propertyWillChange,_=s.propertyDidChange,T=u.addDependentKeys,R=u.removeDependentKeys,S=g,C=[].slice;h.prototype=new E;var H=h.prototype;H._dependentKeys=void 0,H._suspended=void 0,H._meta=void 0,H.cacheable=function(e){return this._cacheable=e!==!1,this},H["volatile"]=function(){return this.cacheable(!1)},H.readOnly=function(e){return this._readOnly=void 0===e||!!e,this},H.property=function(){var e,t=function(t){e.push(t)};e=[];for(var r=0,n=arguments.length;n>r;r++)v(arguments[r],t);return this._dependentKeys=e,this},H.meta=function(e){return 0===arguments.length?this._meta||{}:(this._meta=e,this)},H.didChange=function(e,t){if(this._cacheable&&this._suspended!==e){var r=S(e);void 0!==r.cache[t]&&(r.cache[t]=void 0,R(this,e,t,r))}},H.get=function(e,t){var r,n,i,o;if(this._cacheable){i=S(e),n=i.cache;var a=n[t];if(a===l)return void 0;if(void 0!==a)return a;r=this.func.call(e,t),n[t]=void 0===r?l:r,o=i.chainWatchers&&i.chainWatchers[t],o&&f(o),T(this,e,t,i)}else r=this.func.call(e,t);return r},H.set=function(e,t,r){var n=this._suspended;this._suspended=e;try{this._set(e,t,r)}finally{this._suspended=n}},H._set=function(e,t,r){var n,i,o,a=this._cacheable,s=this.func,u=S(e,a),c=u.cache,h=!1;if(this._readOnly)throw new b('Cannot set read-only property "'+t+'" on object: '+y(e));if(a&&void 0!==c[t]&&(c[t]!==l&&(i=c[t]),h=!0),n=s.wrappedFunction?s.wrappedFunction.__ember_arity__:s.__ember_arity__,3===n)o=s.call(e,t,r,i);else{if(2!==n)return x(e,t,null,i),void m(e,t,r);o=s.call(e,t,r)}if(!h||i!==o){var f=u.watching[t];return f&&w(e,t),h&&(c[t]=void 0),a&&(h||T(this,e,t,u),c[t]=void 0===o?l:o),f&&_(e,t),o}},H.teardown=function(e,t){var r=S(e);return t in r.cache&&R(this,e,t,r),this._cacheable&&delete r.cache[t],null},p.set=function(e,t,r){e[t]=void 0===r?l:r},p.get=function(e,t){var r=e[t];return r===l?void 0:r},p.remove=function(e,t){e[t]=void 0},c.ComputedProperty=h,c.computed=d,c.cacheFor=p}),e("ember-metal/computed_macros",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/computed","ember-metal/is_empty","ember-metal/is_none","ember-metal/alias"],function(e,t,r,n,i,o,a){"use strict";function s(e,t){for(var r={},n=0;n<t.length;n++)r[t[n]]=l(e,t[n]);return r}function u(e,t){f[e]=function(e){var r=g.call(arguments);return f(e,function(){return t.apply(this,r)})}}function c(e,t){f[e]=function(){var e=g.call(arguments),r=f(function(){return t.apply(this,[s(this,e)])});return r.property.apply(r,e)}}var l=(e["default"],t.get),h=r.set,f=n.computed,d=i["default"],p=o.isNone,m=a.alias,g=[].slice;f.empty=function(e){return f(e+".length",function(){return d(l(this,e))})},f.notEmpty=function(e){return f(e+".length",function(){return!d(l(this,e))})},u("none",function(e){return p(l(this,e))}),u("not",function(e){return!l(this,e)}),u("bool",function(e){return!!l(this,e)}),u("match",function(e,t){var r=l(this,e);return"string"==typeof r?t.test(r):!1}),u("equal",function(e,t){return l(this,e)===t}),u("gt",function(e,t){return l(this,e)>t}),u("gte",function(e,t){return l(this,e)>=t}),u("lt",function(e,t){return l(this,e)<t}),u("lte",function(e,t){return l(this,e)<=t}),c("and",function(e){for(var t in e)if(e.hasOwnProperty(t)&&!e[t])return!1;return!0}),c("or",function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!0;return!1}),c("any",function(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return e[t];return null}),c("collect",function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(p(e[r])?null:e[r]);return t}),f.alias=m,f.oneWay=function(e){return m(e).oneWay()},f.reads=f.oneWay,f.readOnly=function(e){return m(e).readOnly()},f.defaultTo=function(e){return f(function(t,r){return 1===arguments.length?l(this,e):null!=r?r:l(this,e)})},f.deprecatingAlias=function(e){return f(e,function(t,r){return arguments.length>1?(h(this,e,r),r):l(this,e)})}}),e("ember-metal/core",["exports"],function(e){"use strict";"undefined"==typeof i&&(i={});{var t=(i.imports=i.imports||this,i.exports=i.exports||this);i.lookup=i.lookup||this}t.Em=t.Ember=i,i.isNamespace=!0,i.toString=function(){return"Ember"},i.VERSION="1.8.1",i.ENV||(i.ENV="undefined"!=typeof EmberENV?EmberENV:"undefined"!=typeof ENV?ENV:{}),i.config=i.config||{},"undefined"==typeof i.ENV.DISABLE_RANGE_API&&(i.ENV.DISABLE_RANGE_API=!0),"undefined"==typeof MetamorphENV&&(t.MetamorphENV={}),MetamorphENV.DISABLE_RANGE_API=i.ENV.DISABLE_RANGE_API,i.FEATURES=i.ENV.FEATURES||{},i.FEATURES.isEnabled=function(e){var t=i.FEATURES[e];return i.ENV.ENABLE_ALL_FEATURES?!0:t===!0||t===!1||void 0===t?t:i.ENV.ENABLE_OPTIONAL_FEATURES?!0:!1},i.EXTEND_PROTOTYPES=i.ENV.EXTEND_PROTOTYPES,"undefined"==typeof i.EXTEND_PROTOTYPES&&(i.EXTEND_PROTOTYPES=!0),i.LOG_STACKTRACE_ON_DEPRECATION=i.ENV.LOG_STACKTRACE_ON_DEPRECATION!==!1,i.SHIM_ES5=i.ENV.SHIM_ES5===!1?!1:i.EXTEND_PROTOTYPES,i.LOG_VERSION=i.ENV.LOG_VERSION===!1?!1:!0;var r=function(){return this},r=r;e.K=r,i.K=r,"undefined"==typeof i.assert&&(i.assert=i.K),"undefined"==typeof i.warn&&(i.warn=i.K),"undefined"==typeof i.debug&&(i.debug=i.K),"undefined"==typeof i.runInDebug&&(i.runInDebug=i.K),"undefined"==typeof i.deprecate&&(i.deprecate=i.K),"undefined"==typeof i.deprecateFunc&&(i.deprecateFunc=function(e,t){return t}),e["default"]=i}),e("ember-metal/dependent_keys",["ember-metal/platform","ember-metal/watching","exports"],function(e,t,r){function n(e,t){var r=e[t];return r?e.hasOwnProperty(t)||(r=e[t]=s(r)):r=e[t]={},r}function i(e){return n(e,"deps")}function o(e,t,r,o){var a,s,c,l,h,f=e._dependentKeys;if(f)for(a=i(o),s=0,c=f.length;c>s;s++)l=f[s],h=n(a,l),h[r]=(h[r]||0)+1,u(t,l,o)}function a(e,t,r,o){var a,s,u,l,h,f=e._dependentKeys;if(f)for(a=i(o),s=0,u=f.length;u>s;s++)l=f[s],h=n(a,l),h[r]=(h[r]||0)-1,c(t,l,o)}var s=e.create,u=t.watch,c=t.unwatch;r.addDependentKeys=o,r.removeDependentKeys=a}),e("ember-metal/deprecate_property",["ember-metal/core","ember-metal/platform","ember-metal/properties","ember-metal/property_get","ember-metal/property_set","exports"],function(e,t,r,n,i,o){"use strict";function a(e,t,r){function n(){}s&&u(e,t,{configurable:!0,enumerable:!1,set:function(e){n(),l(this,r,e)},get:function(){return n(),c(this,r)}})}var s=(e["default"],t.hasPropertyAccessors),u=r.defineProperty,c=n.get,l=i.set;o.deprecateProperty=a}),e("ember-metal/dictionary",["ember-metal/platform","exports"],function(e,t){"use strict";var r=e.create;t["default"]=function(e){var t=r(e);return t._dict=null,delete t._dict,t}}),e("ember-metal/enumerable_utils",["ember-metal/array","exports"],function(e,t){"use strict";function r(e,t,r){return e.map?e.map(t,r):m.call(e,t,r)}function n(e,t,r){return e.forEach?e.forEach(t,r):d.call(e,t,r)}function i(e,t,r){return e.filter?e.filter(t,r):f.call(e,t,r)}function o(e,t,r){return e.indexOf?e.indexOf(t,r):p.call(e,t,r)}function a(e,t){return void 0===t?[]:r(t,function(t){return o(e,t)})}function s(e,t){var r=o(e,t);-1===r&&e.push(t)}function u(e,t){var r=o(e,t);-1!==r&&e.splice(r,1)}function c(e,t,r,n){for(var i,o,a=[].concat(n),s=[],u=6e4,c=t,l=r;a.length;)i=l>u?u:l,0>=i&&(i=0),o=a.splice(0,u),o=[c,i].concat(o),c+=u,l-=i,s=s.concat(g.apply(e,o));return s}function l(e,t,r,n){return e.replace?e.replace(t,r,n):c(e,t,r,n)}function h(e,t){var r=[];return n(e,function(e){o(t,e)>=0&&r.push(e)}),r}var f=e.filter,d=e.forEach,p=e.indexOf,m=e.map,g=Array.prototype.splice;t.map=r,t.forEach=n,t.filter=i,t.indexOf=o,t.indexesOf=a,t.addObject=s,t.removeObject=u,t._replace=c,t.replace=l,t.intersection=h,t["default"]={_replace:c,addObject:s,filter:i,forEach:n,indexOf:o,indexesOf:a,intersection:h,map:r,removeObject:u,replace:l}}),e("ember-metal/error",["ember-metal/platform","exports"],function(e,t){"use strict";function r(){var e=Error.apply(this,arguments);Error.captureStackTrace&&Error.captureStackTrace(this,i.Error);for(var t=0;t<o.length;t++)this[o[t]]=e[o[t]]}var n=e.create,o=["description","fileName","lineNumber","message","name","number","stack"];r.prototype=n(Error.prototype),t["default"]=r}),e("ember-metal/events",["ember-metal/core","ember-metal/utils","ember-metal/platform","exports"],function(e,t,r,n){function i(e,t,r){for(var n=-1,i=e.length-3;i>=0;i-=3)if(t===e[i]&&r===e[i+1]){n=i;break}return n}function o(e,t){var r,n=T(e,!0);return n.listeners||(n.listeners={}),n.hasOwnProperty("listeners")||(n.listeners=w(n.listeners)),r=n.listeners[t],r&&!n.listeners.hasOwnProperty(t)?r=n.listeners[t]=n.listeners[t].slice():r||(r=n.listeners[t]=[]),r}function a(e,t,r){var n=e.__ember_meta__,o=n&&n.listeners&&n.listeners[t];if(o)for(var a=o.length-3;a>=0;a-=3){var s=o[a],u=o[a+1],c=o[a+2],l=i(r,s,u);-1===l&&r.push(s,u,c)}}function s(e,t,r){var n=e.__ember_meta__,o=n&&n.listeners&&n.listeners[t],a=[];if(o){for(var s=o.length-3;s>=0;s-=3){var u=o[s],c=o[s+1],l=o[s+2],h=i(r,u,c);-1===h&&(r.push(u,c,l),a.push(u,c,l))}return a}}function u(e,t,r,n,a){n||"function"!=typeof r||(n=r,r=null);var s=o(e,t),u=i(s,r,n),c=0;a&&(c|=R),-1===u&&(s.push(r,n,c),"function"==typeof e.didAddListener&&e.didAddListener(t,r,n))}function c(e,t,r,n){function a(r,n){var a=o(e,t),s=i(a,r,n);-1!==s&&(a.splice(s,3),"function"==typeof e.didRemoveListener&&e.didRemoveListener(t,r,n))}if(n||"function"!=typeof r||(n=r,r=null),n)a(r,n);else{var s=e.__ember_meta__,u=s&&s.listeners&&s.listeners[t];if(!u)return;for(var c=u.length-3;c>=0;c-=3)a(u[c],u[c+1])}}function l(e,t,r,n,a){function s(){return a.call(r)}function u(){-1!==l&&(c[l+2]&=~S)}n||"function"!=typeof r||(n=r,r=null);var c=o(e,t),l=i(c,r,n);return-1!==l&&(c[l+2]|=S),b(s,u)}function h(e,t,r,n,a){function s(){return a.call(r)}function u(){for(var e=0,t=d.length;t>e;e++){var r=d[e];p[e][r+2]&=~S}}n||"function"!=typeof r||(n=r,r=null);var c,l,h,f,d=[],p=[];for(h=0,f=t.length;f>h;h++){c=t[h],l=o(e,c);var m=i(l,r,n);-1!==m&&(l[m+2]|=S,d.push(m),p.push(l))}return b(s,u)}function f(e){var t=e.__ember_meta__.listeners,r=[];if(t)for(var n in t)t[n]&&r.push(n);return r}function d(e,t,r,n){if(e!==y&&"function"==typeof e.sendEvent&&e.sendEvent(t,r),!n){var i=e.__ember_meta__;n=i&&i.listeners&&i.listeners[t]}if(n){for(var o=n.length-3;o>=0;o-=3){var a=n[o],s=n[o+1],u=n[o+2];s&&(u&S||(u&R&&c(e,t,a,s),a||(a=e),"string"==typeof s?r?x(a,s,r):a[s]():r?E(a,s,r):s.call(a)))}return!0}}function p(e,t){var r=e.__ember_meta__,n=r&&r.listeners&&r.listeners[t];return!(!n||!n.length)}function m(e,t){var r=[],n=e.__ember_meta__,i=n&&n.listeners&&n.listeners[t];if(!i)return r;for(var o=0,a=i.length;a>o;o+=3){var s=i[o],u=i[o+1];r.push([s,u])}return r}function g(){var e=_.call(arguments,-1)[0],t=_.call(arguments,0,-1);return e.__ember_listens__=t,e}var y=e["default"],v=t.meta,b=t.tryFinally,E=t.apply,x=t.applyStr,w=r.create,_=[].slice,T=v,R=1,S=2;n.listenersUnion=a,n.listenersDiff=s,n.addListener=u,n.suspendListener=l,n.suspendListeners=h,n.watchedEvents=f,n.sendEvent=d,n.hasListeners=p,n.listenersFor=m,n.on=g,n.removeListener=c}),e("ember-metal/expand_properties",["ember-metal/core","ember-metal/error","ember-metal/enumerable_utils","exports"],function(e,t,r,n){"use strict";function i(e,t){if("string"===a.typeOf(e)){var r=e.split(c),n=[r];u(r,function(e,t){e.indexOf(",")>=0&&(n=o(n,e.split(","),t))}),u(n,function(e){t(e.join(""))})}else t(e)}function o(e,t,r){var n=[];return u(e,function(e){u(t,function(t){var i=e.slice(0);i[r]=t,n.push(i)})}),n}var a=e["default"],s=t["default"],u=r.forEach,c=/\{|\}/;n["default"]=function(e,t){if(e.indexOf(" ")>-1)throw new s("Brace expanded properties cannot contain spaces, e.g. `user.{firstName, lastName}` should be `user.{firstName,lastName}`");return i(e,t)}}),e("ember-metal/get_properties",["ember-metal/property_get","ember-metal/utils","exports"],function(e,t,r){"use strict";var n=e.get,i=t.typeOf;r["default"]=function(e){var t={},r=arguments,o=1;2===arguments.length&&"array"===i(arguments[1])&&(o=0,r=arguments[1]);for(var a=r.length;a>o;o++)t[r[o]]=n(e,r[o]);return t}}),e("ember-metal/instrumentation",["ember-metal/core","ember-metal/utils","exports"],function(e,t,r){"use strict";function n(e,t,r,n){if(0===l.length)return r.call(n);var o=t||{},a=i(e,function(){return o});if(a){var s=function(){return r.call(n)},u=function(e){o.exception=e};return c(s,u,a)}return r.call(n)}function i(e,t){var r=h[e];if(r||(r=f(e)),0!==r.length){var n,i=t(),o=u.STRUCTURED_PROFILE;o&&(n=e+": "+i.object,console.time(n));var a,s,c=r.length,l=new Array(c),p=d();for(a=0;c>a;a++)s=r[a],l[a]=s.before(e,p,i);return function(){var t,a,s,u=d();for(t=0,a=r.length;a>t;t++)s=r[t],s.after(e,u,i,l[t]);o&&console.timeEnd(n)}}}function o(e,t){for(var r,n=e.split("."),i=[],o=0,a=n.length;a>o;o++)r=n[o],i.push("*"===r?"[^\\.]*":r);i=i.join("\\."),i+="(\\..*)?";var s={pattern:e,regex:new RegExp("^"+i+"$"),object:t};return l.push(s),h={},s}function a(e){for(var t,r=0,n=l.length;n>r;r++)l[r]===e&&(t=r);l.splice(t,1),h={}}function s(){l.length=0,h={}}var u=e["default"],c=t.tryCatchFinally,l=[];r.subscribers=l;var h={},f=function(e){for(var t,r=[],n=0,i=l.length;i>n;n++)t=l[n],t.regex.test(e)&&r.push(t.object);return h[e]=r,r},d=function(){var e="undefined"!=typeof window?window.performance||{}:{},t=e.now||e.mozNow||e.webkitNow||e.msNow||e.oNow;return t?t.bind(e):function(){return+new Date}}();r.instrument=n,r._instrumentStart=i,r.subscribe=o,r.unsubscribe=a,r.reset=s}),e("ember-metal/is_blank",["ember-metal/core","ember-metal/is_empty","exports"],function(e,t,r){"use strict";var n=(e["default"],t["default"]);r["default"]=function(e){return n(e)||"string"==typeof e&&null===e.match(/\S/)}}),e("ember-metal/is_empty",["ember-metal/core","ember-metal/property_get","ember-metal/is_none","exports"],function(e,t,r,n){"use strict";function i(e){var t=s(e);if(t)return t;if("number"==typeof e.size)return!e.size;var r=typeof e;if("object"===r){var n=a(e,"size");if("number"==typeof n)return!n}if("number"==typeof e.length&&"function"!==r)return!e.length;if("object"===r){var i=a(e,"length");if("number"==typeof i)return!i}return!1}var o=e["default"],a=t.get,s=r["default"],u=o.deprecateFunc("Ember.empty is deprecated. Please use Ember.isEmpty instead.",i);n.empty=u,n["default"]=i,n.isEmpty=i,n.empty=u}),e("ember-metal/is_none",["ember-metal/core","exports"],function(e,t){"use strict";function r(e){return null===e||void 0===e}var n=e["default"],i=n.deprecateFunc("Ember.none is deprecated. Please use Ember.isNone instead.",r);t.none=i,t["default"]=r,t.isNone=r}),e("ember-metal/is_present",["ember-metal/is_blank","exports"],function(e,t){"use strict";var r,n=e["default"];r=function(e){return!n(e)},t["default"]=r}),e("ember-metal/keys",["ember-metal/platform","exports"],function(e,t){"use strict";var r=e.canDefineNonEnumerableProperties,n=Object.keys;n&&r||(n=function(){var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=r.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in i)"_super"!==o&&0!==o.lastIndexOf("__",0)&&e.call(i,o)&&s.push(o);if(t)for(a=0;n>a;a++)e.call(i,r[a])&&s.push(r[a]);return s}}()),t["default"]=n}),e("ember-metal/libraries",["ember-metal/enumerable_utils","exports"],function(e,t){"use strict";var r=e.forEach,n=e.indexOf,i=function(){var e=[],t=0,i=function(t){for(var r=0;r<e.length;r++)if(e[r].name===t)return e[r]};return e.register=function(t,r){i(t)||e.push({name:t,version:r})},e.registerCoreLibrary=function(r,n){i(r)||e.splice(t++,0,{name:r,version:n})},e.deRegister=function(t){var r=i(t);r&&e.splice(n(e,r),1)},e.each=function(t){r(e,function(e){t(e.name,e.version)})},e}();t["default"]=i}),e("ember-metal/logger",["ember-metal/core","ember-metal/error","exports"],function(e,t,r){"use strict";function n(e){var t,r;o.imports.console?t=o.imports.console:"undefined"!=typeof console&&(t=console);var n="object"==typeof t?t[e]:null;return n?"function"==typeof n.apply?(r=function(){n.apply(t,arguments)},r.displayName="console."+e,r):function(){var e=Array.prototype.join.call(arguments,", ");n(e)}:void 0}function i(e,t){if(!e)try{throw new a("assertion failed: "+t)}catch(r){setTimeout(function(){throw r},0)}}var o=e["default"],a=t["default"];r["default"]={log:n("log")||o.K,warn:n("warn")||o.K,error:n("error")||o.K,info:n("info")||o.K,debug:n("debug")||n("info")||o.K,assert:n("assert")||i}}),e("ember-metal/map",["ember-metal/utils","ember-metal/array","ember-metal/platform","ember-metal/deprecate_property","exports"],function(e,t,r,n,o){"use strict";function a(e){throw new TypeError(""+Object.prototype.toString.call(e)+" is not a function")}function s(e){throw new TypeError("Constructor "+e+"requires 'new'")}function u(e){var t=m(null);for(var r in e)t[r]=e[r];return t}function c(e,t){var r=e.keys.copy(),n=u(e.values);return t.keys=r,t.values=n,t.size=e.size,t}function l(){this instanceof l?(this.clear(),this._silenceRemoveDeprecation=!1):s("OrderedSet")}function h(){this instanceof this.constructor?(this.keys=l.create(),this.keys._silenceRemoveDeprecation=!0,this.values=m(null),this.size=0):s("OrderedSet")}function f(e){this._super$constructor(),this.defaultValue=e.defaultValue}var d=e.guidFor,p=t.indexOf,m=r.create,g=n.deprecateProperty;l.create=function(){var e=this;return new e},l.prototype={constructor:l,clear:function(){this.presenceSet=m(null),this.list=[],this.size=0},add:function(e,t){var r=t||d(e),n=this.presenceSet,i=this.list;return n[r]!==!0?(n[r]=!0,this.size=i.push(e),this):void 0},remove:function(e,t){return this["delete"](e,t)},"delete":function(e,t){var r=t||d(e),n=this.presenceSet,i=this.list;if(n[r]===!0){delete n[r];var o=p.call(i,e);return o>-1&&i.splice(o,1),this.size=i.length,!0}return!1},isEmpty:function(){return 0===this.size},has:function(e){if(0===this.size)return!1;var t=d(e),r=this.presenceSet;return r[t]===!0},forEach:function(e){if("function"!=typeof e&&a(e),0!==this.size){var t,r=this.list,n=arguments.length;if(2===n)for(t=0;t<r.length;t++)e.call(arguments[1],r[t]);else for(t=0;t<r.length;t++)e(r[t])}},toArray:function(){return this.list.slice()},copy:function(){var e=this.constructor,t=new e;return t._silenceRemoveDeprecation=this._silenceRemoveDeprecation,t.presenceSet=u(this.presenceSet),t.list=this.toArray(),t.size=this.size,t}},g(l.prototype,"length","size"),i.Map=h,h.create=function(){var e=this;return new e},h.prototype={constructor:h,size:0,get:function(e){if(0!==this.size){var t=this.values,r=d(e);return t[r]}},set:function(e,t){var r=this.keys,n=this.values,i=d(e),o=e===-0?0:e;return r.add(o,i),n[i]=t,this.size=r.size,this},remove:function(e){return this["delete"](e)},"delete":function(e){if(0===this.size)return!1;var t=this.keys,r=this.values,n=d(e);return t["delete"](e,n)?(delete r[n],this.size=t.size,!0):!1},has:function(e){return this.keys.has(e)},forEach:function(e){if("function"!=typeof e&&a(e),0!==this.size){var t,r,n=arguments.length,i=this;2===n?(r=arguments[1],t=function(t){e.call(r,i.get(t),t)}):t=function(t){e(i.get(t),t)},this.keys.forEach(t)}},clear:function(){this.keys.clear(),this.values=m(null),this.size=0},copy:function(){return c(this,new h)}},g(h.prototype,"length","size"),f.create=function(e){return e?new f(e):new h},f.prototype=m(h.prototype),f.prototype.constructor=f,f.prototype._super$constructor=h,f.prototype._super$get=h.prototype.get,f.prototype.get=function(e){var t=this.has(e);if(t)return this._super$get(e);var r=this.defaultValue(e);return this.set(e,r),r},f.prototype.copy=function(){var e=this.constructor;return c(this,new e({defaultValue:this.defaultValue}))},o["default"]=h,o.OrderedSet=l,o.Map=h,o.MapWithDefault=f}),e("ember-metal/merge",["ember-metal/keys","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=function(e,t){if(!t||"object"!=typeof t)return e;for(var n,i=r(t),o=i.length,a=0;o>a;a++)n=i[a],e[n]=t[n];return e}}),e("ember-metal/mixin",["ember-metal/core","ember-metal/merge","ember-metal/array","ember-metal/platform","ember-metal/utils","ember-metal/expand_properties","ember-metal/properties","ember-metal/computed","ember-metal/binding","ember-metal/observer","ember-metal/events","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h){function f(){var e,t=this.__nextSuper;if(t){for(var r=new Array(arguments.length),n=0,i=r.length;i>n;n++)r[n]=arguments[n];this.__nextSuper=null,e=Z(this,t,r),this.__nextSuper=t}return e}function d(e){var t=mt(e,!0),r=t.mixins;return r?t.hasOwnProperty("mixins")||(r=t.mixins=pt(r)):r=t.mixins={},r}function p(e,t){return t&&t.length>0&&(e.mixins=lt.call(t,function(e){if(e instanceof P)return e;var t=new P;return t.properties=e,t})),e}function m(e){return"function"==typeof e&&e.isMethod!==!1&&e!==Boolean&&e!==Object&&e!==Number&&e!==Array&&e!==Date&&e!==String}function g(e,t){var r;return t instanceof P?(r=X(t),e[r]?gt:(e[r]=t,t.properties)):t}function y(e,t,r,n){var i;return i=r[e]||n[e],t[e]&&(i=i?i.concat(t[e]):t[e]),i}function v(e,t,r,n,i){var o;return void 0===n[t]&&(o=i[t]),o=o||e.descs[t],void 0!==o&&o instanceof rt?(r=pt(r),r.func=$(r.func,o.func),r):r}function b(e,t,r,n,i){var o;return void 0===i[t]&&(o=n[t]),o=o||e[t],void 0===o||"function"!=typeof o?r:$(r,o)}function E(e,t,r,n){var i=n[t]||e[t];return i?"function"==typeof i.concat?i.concat(r):Q(i).concat(r):Q(r)}function x(e,t,r,n){var i=n[t]||e[t];if(!i)return r;var o=j({},i),a=!1;for(var s in r)if(r.hasOwnProperty(s)){var u=r[s];m(u)?(a=!0,o[s]=b(e,s,u,i,{})):o[s]=u}return a&&(o._super=f),o}function w(e,t,r,n,i,o,a,s){if(r instanceof et){if(r===U&&i[t])return gt;r.func&&(r=v(n,t,r,o,i)),i[t]=r,o[t]=void 0}else a&&ht.call(a,t)>=0||"concatenatedProperties"===t||"mergedProperties"===t?r=E(e,t,r,o):s&&ht.call(s,t)>=0?r=x(e,t,r,o):m(r)&&(r=b(e,t,r,o,i)),i[t]=void 0,o[t]=r}function _(e,t,r,n,i,o){function a(e){delete r[e],delete n[e]}for(var s,u,c,l,h,f,d=0,p=e.length;p>d;d++)if(s=e[d],u=g(t,s),u!==gt)if(u){f=mt(i),i.willMergeMixin&&i.willMergeMixin(u),l=y("concatenatedProperties",u,n,i),h=y("mergedProperties",u,n,i);for(c in u)u.hasOwnProperty(c)&&(o.push(c),w(i,c,u[c],f,r,n,l,h));u.hasOwnProperty("toString")&&(i.toString=u.toString)}else s.mixins&&(_(s.mixins,t,r,n,i,o),s._without&&ft.call(s._without,a))}function T(e,t,r,n){if(yt.test(t)){var i=n.bindings;i?n.hasOwnProperty("bindings")||(i=n.bindings=pt(n.bindings)):i=n.bindings={},i[t]=r}}function R(e,t){var r,n,i,o=t.bindings;if(o){for(r in o)n=o[r],n&&(i=r.slice(0,-7),n instanceof nt?(n=n.copy(),n.to(i)):n=new nt(i,n),n.connect(e),e[r]=n);t.bindings={}}}function S(e,t){return R(e,t||mt(e)),e}function C(e,t,r,n,i){var o,a=t.methodName;return n[a]||i[a]?(o=i[a],t=n[a]):r.descs[a]?(t=r.descs[a],o=void 0):(t=void 0,o=e[a]),{desc:t,value:o}}function H(e,t,r,n,i){var o=r[n];if(o)for(var a=0,s=o.length;s>a;a++)i(e,o[a],null,t)}function M(e,t,r){var n=e[t];"function"==typeof n&&(H(e,t,n,"__ember_observesBefore__",st),H(e,t,n,"__ember_observes__",ot),H(e,t,n,"__ember_listens__",ct)),"function"==typeof r&&(H(e,t,r,"__ember_observesBefore__",at),H(e,t,r,"__ember_observes__",it),H(e,t,r,"__ember_listens__",ut))}function A(e,t,r){var n,i,o,a={},s={},u=mt(e),c=[];e._super=f,_(t,d(e),a,s,e,c);for(var l=0,h=c.length;h>l;l++)if(n=c[l],"constructor"!==n&&s.hasOwnProperty(n)&&(o=a[n],i=s[n],o!==U)){for(;o&&o instanceof D;){var p=C(e,o,u,a,s);o=p.desc,i=p.value}(void 0!==o||void 0!==i)&&(M(e,n,i),T(e,n,i,u),tt(e,n,o,i,u))}return r||S(e,u),e}function N(e){var t=dt.call(arguments,1);return A(e,t,!1),e}function P(){return p(this,arguments)}function k(e,t,r){var n=X(e);if(r[n])return!1;if(r[n]=!0,e===t)return!0;for(var i=e.mixins,o=i?i.length:0;--o>=0;)if(k(i[o],t,r))return!0;return!1}function O(e,t,r){if(!r[X(t)])if(r[X(t)]=!0,t.properties){var n=t.properties;for(var i in n)n.hasOwnProperty(i)&&(e[i]=!0)}else t.mixins&&ft.call(t.mixins,function(t){O(e,t,r)})}function L(){return U}function D(e){this.methodName=e}function F(e){return new D(e)}function B(){var e,t=dt.call(arguments,-1)[0],r=function(t){e.push(t)},n=dt.call(arguments,0,-1);"function"!=typeof t&&(t=arguments[0],n=dt.call(arguments,1)),e=[];for(var i=0;i<n.length;++i)J(n[i],r);if("function"!=typeof t)throw new V.Error("Ember.observer called without a function");return t.__ember_observes__=e,t}function I(){for(var e=0,t=arguments.length;t>e;e++){arguments[e]}return B.apply(this,arguments)}function z(){var e,t=dt.call(arguments,-1)[0],r=function(t){e.push(t)},n=dt.call(arguments,0,-1);"function"!=typeof t&&(t=arguments[0],n=dt.call(arguments,1)),e=[];for(var i=0;i<n.length;++i)J(n[i],r);if("function"!=typeof t)throw new V.Error("Ember.beforeObserver called without a function");return t.__ember_observesBefore__=e,t}var U,V=e["default"],j=t["default"],q=r.map,G=r.indexOf,W=r.forEach,K=n.create,X=i.guidFor,Y=i.meta,$=i.wrap,Q=i.makeArray,Z=i.apply,J=(i.isArray,o["default"]),et=a.Descriptor,tt=a.defineProperty,rt=s.ComputedProperty,nt=u.Binding,it=c.addObserver,ot=c.removeObserver,at=c.addBeforeObserver,st=c.removeBeforeObserver,ut=l.addListener,ct=l.removeListener,lt=q,ht=G,ft=W,dt=[].slice,pt=K,mt=Y,gt={},yt=/^.+Binding$/;h.mixin=N,h["default"]=P,P.prototype={properties:null,mixins:null,ownerConstructor:null},P._apply=A,P.applyPartial=function(e){var t=dt.call(arguments,1);return A(e,t,!0)},P.finishPartial=S,V.anyUnprocessedMixins=!1,P.create=function(){V.anyUnprocessedMixins=!0;
var e=this;return p(new e,arguments)};var vt=P.prototype;vt.reopen=function(){var e,t;this.properties?(e=P.create(),e.properties=this.properties,delete this.properties,this.mixins=[e]):this.mixins||(this.mixins=[]);var r,n=arguments.length,i=this.mixins;for(r=0;n>r;r++)e=arguments[r],e instanceof P?i.push(e):(t=P.create(),t.properties=e,i.push(t));return this},vt.apply=function(e){return A(e,[this],!1)},vt.applyPartial=function(e){return A(e,[this],!0)},vt.detect=function(e){if(!e)return!1;if(e instanceof P)return k(e,this,{});var t=e.__ember_meta__,r=t&&t.mixins;return r?!!r[X(this)]:!1},vt.without=function(){var e=new P(this);return e._without=dt.call(arguments),e},vt.keys=function(){var e={},t={},r=[];O(e,this,t);for(var n in e)e.hasOwnProperty(n)&&r.push(n);return r},P.mixins=function(e){var t=e.__ember_meta__,r=t&&t.mixins,n=[];if(!r)return n;for(var i in r){var o=r[i];o.properties||n.push(o)}return n},U=new et,U.toString=function(){return"(Required Property)"},h.required=L,D.prototype=new et,h.aliasMethod=F,h.observer=B,h.immediateObserver=I,h.beforeObserver=z,h.IS_BINDING=yt,h.Mixin=P}),e("ember-metal/observer",["ember-metal/watching","ember-metal/array","ember-metal/events","exports"],function(e,t,r,n){"use strict";function i(e){return e+T}function o(e){return e+R}function a(e,t,r,n){return E(e,i(t),r,n),g(e,t),this}function s(e,t){return b(e,i(t))}function u(e,t,r,n){return y(e,t),x(e,i(t),r,n),this}function c(e,t,r,n){return E(e,o(t),r,n),g(e,t),this}function l(e,t,r,n,i){return _(e,o(t),r,n,i)}function h(e,t,r,n,o){return _(e,i(t),r,n,o)}function f(e,t,r,n,i){var a=v.call(t,o);return w(e,a,r,n,i)}function d(e,t,r,n,o){var a=v.call(t,i);return w(e,a,r,n,o)}function p(e,t){return b(e,o(t))}function m(e,t,r,n){return y(e,t),x(e,o(t),r,n),this}var g=e.watch,y=e.unwatch,v=t.map,b=r.listenersFor,E=r.addListener,x=r.removeListener,w=r.suspendListeners,_=r.suspendListener,T=":change",R=":before";n.addObserver=a,n.observersFor=s,n.removeObserver=u,n.addBeforeObserver=c,n._suspendBeforeObserver=l,n._suspendObserver=h,n._suspendBeforeObservers=f,n._suspendObservers=d,n.beforeObserversFor=p,n.removeBeforeObserver=m}),e("ember-metal/observer_set",["ember-metal/utils","ember-metal/events","exports"],function(e,t,r){"use strict";function n(){this.clear()}var i=e.guidFor,o=t.sendEvent;r["default"]=n,n.prototype.add=function(e,t,r){var n,o=this.observerSet,a=this.observers,s=i(e),u=o[s];return u||(o[s]=u={}),n=u[t],void 0===n&&(n=a.push({sender:e,keyName:t,eventName:r,listeners:[]})-1,u[t]=n),a[n].listeners},n.prototype.flush=function(){var e,t,r,n,i=this.observers;for(this.clear(),e=0,t=i.length;t>e;++e)r=i[e],n=r.sender,n.isDestroying||n.isDestroyed||o(n,r.eventName,[n,r.keyName],r.listeners)},n.prototype.clear=function(){this.observerSet={},this.observers=[]}}),e("ember-metal/path_cache",["ember-metal/cache","exports"],function(e,t){"use strict";function r(e){return l.get(e)}function n(e){return h.get(e)}function i(e){return f.get(e)}function o(e){return d.get(e)}var a=e["default"],s=/^([A-Z$]|([0-9][A-Z$]))/,u=/^([A-Z$]|([0-9][A-Z$])).*[\.]/,c="this.",l=new a(1e3,function(e){return s.test(e)}),h=new a(1e3,function(e){return u.test(e)}),f=new a(1e3,function(e){return-1!==e.indexOf(c)}),d=new a(1e3,function(e){return-1!==e.indexOf(".")}),p={isGlobalCache:l,isGlobalPathCache:h,hasThisCache:f,isPathCache:d};t.caches=p,t.isGlobal=r,t.isGlobalPath=n,t.hasThis=i,t.isPath=o}),e("ember-metal/platform",["ember-metal/platform/define_property","ember-metal/platform/define_properties","ember-metal/platform/create","exports"],function(e,t,r,n){"use strict";var i=e.hasES5CompliantDefineProperty,o=e.defineProperty,a=t["default"],s=r["default"],u=i,c=i;n.create=s,n.defineProperty=o,n.defineProperties=a,n.hasPropertyAccessors=u,n.canDefineNonEnumerableProperties=c}),e("ember-metal/platform/create",["exports"],function(e){var t;if(!Object.create||Object.create(null).hasOwnProperty){var r,n=!({__proto__:null}instanceof Object);r=n||"undefined"==typeof document?function(){return{__proto__:null}}:function(){function e(){}var t=document.createElement("iframe"),n=document.body||document.documentElement;t.style.display="none",n.appendChild(t),t.src="javascript:";var i=t.contentWindow.Object.prototype;return n.removeChild(t),t=null,delete i.constructor,delete i.hasOwnProperty,delete i.propertyIsEnumerable,delete i.isPrototypeOf,delete i.toLocaleString,delete i.toString,delete i.valueOf,e.prototype=i,r=function(){return new e},new e},t=Object.create=function(e,t){function n(){}var i;if(null===e)i=r();else{if("object"!=typeof e&&"function"!=typeof e)throw new TypeError("Object prototype may only be an Object or null");n.prototype=e,i=new n}return void 0!==t&&Object.defineProperties(i,t),i}}else t=Object.create;e["default"]=t}),e("ember-metal/platform/define_properties",["ember-metal/platform/define_property","exports"],function(e,t){"use strict";var r=e.defineProperty,n=Object.defineProperties;n||(n=function(e,t){for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&r(e,n,t[n]);return e},Object.defineProperties=n),t["default"]=n}),e("ember-metal/platform/define_property",["exports"],function(e){"use strict";var t=function(e){if(e)try{var t=5,r={};if(e(r,"a",{configurable:!0,enumerable:!0,get:function(){return t},set:function(e){t=e}}),5!==r.a)return;if(r.a=10,10!==t)return;e(r,"a",{configurable:!0,enumerable:!1,writable:!0,value:!0});for(var n in r)if("a"===n)return;if(r.a!==!0)return;return e}catch(i){return}}(Object.defineProperty),r=!!t;if(r&&"undefined"!=typeof document){var n=function(){try{return t(document.createElement("div"),"definePropertyOnDOM",{}),!0}catch(e){}return!1}();n||(t=function(e,t,r){var n;return n="object"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName,n?e[t]=r.value:Object.defineProperty(e,t,r)})}r||(t=function(e,t,r){r.get||(e[t]=r.value)}),e.hasES5CompliantDefineProperty=r,e.defineProperty=t}),e("ember-metal/properties",["ember-metal/core","ember-metal/utils","ember-metal/platform","ember-metal/property_events","exports"],function(e,t,r,n,i){"use strict";function o(){}function a(){return function(){}}function s(e){return function(){var t=this.__ember_meta__;return t&&t.values[e]}}function u(e,t,r,n,i){var a,s,u,f;i||(i=c(e)),a=i.descs,s=i.descs[t];var d=i.watching[t];return u=void 0!==d&&d>0,s instanceof o&&s.teardown(e,t),r instanceof o?(f=r,a[t]=r,e[t]=void 0,r.setup&&r.setup(e,t)):(a[t]=void 0,null==r?(f=n,e[t]=n):(f=r,l(e,t,r))),u&&h(e,t,i),e.didDefineProperty&&e.didDefineProperty(e,t,f),this}var c=(e["default"],t.meta),l=r.defineProperty,h=(r.hasPropertyAccessors,n.overrideChains);i.Descriptor=o,i.MANDATORY_SETTER_FUNCTION=a,i.DEFAULT_GETTER_FUNCTION=s,i.defineProperty=u}),e("ember-metal/property_events",["ember-metal/utils","ember-metal/events","ember-metal/observer_set","exports"],function(e,t,r,n){"use strict";function i(e,t){var r=e.__ember_meta__,n=r&&r.watching[t]>0||"length"===t,i=r&&r.proto,o=r&&r.descs[t];n&&i!==e&&(o&&o.willChange&&o.willChange(e,t),a(e,t,r),l(e,t,r),g(e,t))}function o(e,t){var r=e.__ember_meta__,n=r&&r.watching[t]>0||"length"===t,i=r&&r.proto,o=r&&r.descs[t];i!==e&&(o&&o.didChange&&o.didChange(e,t),(n||"length"===t)&&(r&&r.deps&&r.deps[t]&&s(e,t,r),h(e,t,r,!1),y(e,t)))}function a(e,t,r){if(!e.isDestroying){var n;if(r&&r.deps&&(n=r.deps[t])){var o=v,a=!o;a&&(o=v={}),c(i,e,n,t,o,r),a&&(v=null)}}}function s(e,t,r){if(!e.isDestroying){var n;if(r&&r.deps&&(n=r.deps[t])){var i=b,a=!i;a&&(i=b={}),c(o,e,n,t,i,r),a&&(b=null)}}}function u(e){var t=[];for(var r in e)t.push(r);return t}function c(e,t,r,n,i,o){var a,s,c,l,h=E(t),f=i[h];if(f||(f=i[h]={}),!f[n]&&(f[n]=!0,r)){a=u(r);var d=o.descs;for(c=0;c<a.length;c++)s=a[c],l=d[s],l&&l._suspended===t||e(t,s)}}function l(e,t,r){if(r.hasOwnProperty("chainWatchers")&&r.chainWatchers[t]){var n,o,a=r.chainWatchers[t],s=[];for(n=0,o=a.length;o>n;n++)a[n].willChange(s);for(n=0,o=s.length;o>n;n+=2)i(s[n],s[n+1])}}function h(e,t,r,n){if(r&&r.hasOwnProperty("chainWatchers")&&r.chainWatchers[t]){var i,a,s=r.chainWatchers[t],u=n?null:[];for(i=0,a=s.length;a>i;i++)s[i].didChange(u);if(!n)for(i=0,a=u.length;a>i;i+=2)o(u[i],u[i+1])}}function f(e,t,r){h(e,t,r,!0)}function d(){H++}function p(){H--,0>=H&&(S.clear(),C.flush())}function m(e,t){d(),x(e,p,t)}function g(e,t){if(!e.isDestroying){var r,n,i=t+":before";H?(r=S.add(e,t,i),n=T(e,i,r),w(e,i,[e,t],n)):w(e,i,[e,t])}}function y(e,t){if(!e.isDestroying){var r,n=t+":change";H?(r=C.add(e,t,n),_(e,n,r)):w(e,n,[e,t])}}var v,b,E=e.guidFor,x=e.tryFinally,w=t.sendEvent,_=t.listenersUnion,T=t.listenersDiff,R=r["default"],S=new R,C=new R,H=0;n.propertyWillChange=i,n.propertyDidChange=o,n.overrideChains=f,n.beginPropertyChanges=d,n.endPropertyChanges=p,n.changeProperties=m}),e("ember-metal/property_get",["ember-metal/core","ember-metal/error","ember-metal/path_cache","ember-metal/platform","exports"],function(e,t,r,n,i){"use strict";function o(e,t){var r,n=f(t),i=!n&&l(t);if((!e||i)&&(e=u.lookup),n&&(t=t.slice(5)),e===u.lookup&&(r=t.match(d)[0],e=p(e,r),t=t.slice(r.length+1)),!t||0===t.length)throw new c("Path cannot be empty");return[e,t]}function a(e,t){var r,n,i,a,s;if(null===e&&!h(t))return p(u.lookup,t);for(r=f(t),(!e||r)&&(i=o(e,t),e=i[0],t=i[1],i.length=0),n=t.split("."),s=n.length,a=0;null!=e&&s>a;a++)if(e=p(e,n[a],!0),e&&e.isDestroyed)return void 0;return e}function s(e,t,r){var n=p(e,t);return void 0===n?r:n}var u=e["default"],c=t["default"],l=r.isGlobalPath,h=r.isPath,f=r.hasThis,d=(n.hasPropertyAccessors,/^([^\.]+)/),p=function(e,t){if(""===t)return e;if(t||"string"!=typeof e||(t=e,e=null),null===e){var r=a(e,t);return r}var n,i=e.__ember_meta__,o=i&&i.descs[t];return void 0===o&&h(t)?a(e,t):o?o.get(e,t):(n=e[t],void 0!==n||"object"!=typeof e||t in e||"function"!=typeof e.unknownProperty?n:e.unknownProperty(t))};u.config.overrideAccessors&&(u.get=p,u.config.overrideAccessors(),p=u.get),i.getWithDefault=s,i["default"]=p,i.get=p,i.normalizeTuple=o,i._getPath=a}),e("ember-metal/property_set",["ember-metal/core","ember-metal/property_get","ember-metal/property_events","ember-metal/properties","ember-metal/error","ember-metal/path_cache","ember-metal/platform","exports"],function(e,t,r,n,i,o,a,s){"use strict";function u(e,t,r,n){var i;if(i=t.slice(t.lastIndexOf(".")+1),t=t===i?i:t.slice(0,t.length-(i.length+1)),"this"!==t&&(e=h(e,t)),!i||0===i.length)throw new p("Property set failed: You passed an empty path");if(!e){if(n)return;throw new p('Property set failed: object in path "'+t+'" could not be found or was destroyed.')}return g(e,i,r)}function c(e,t,r){return g(e,t,r,!0)}var l=e["default"],h=t._getPath,f=r.propertyWillChange,d=r.propertyDidChange,p=(n.defineProperty,i["default"]),m=o.isPath,g=(a.hasPropertyAccessors,function(e,t,r,n){if("string"==typeof e&&(r=t,t=e,e=null),!e)return u(e,t,r,n);var i,o,a=e.__ember_meta__,s=a&&a.descs[t];if(void 0===s&&m(t))return u(e,t,r,n);if(void 0!==s)s.set(e,t,r);else{if("object"==typeof e&&null!==e&&void 0!==r&&e[t]===r)return r;i="object"==typeof e&&!(t in e),i&&"function"==typeof e.setUnknownProperty?e.setUnknownProperty(t,r):a&&a.watching[t]>0?(o=e[t],r!==o&&(f(e,t),e[t]=r,d(e,t))):e[t]=r}return r});l.config.overrideAccessors&&(l.set=g,l.config.overrideAccessors(),g=l.set),s.trySet=c,s.set=g}),e("ember-metal/run_loop",["ember-metal/core","ember-metal/utils","ember-metal/array","ember-metal/property_events","backburner","exports"],function(e,t,r,n,i,o){"use strict";function a(e){u.currentRunLoop=e}function s(e,t){u.currentRunLoop=t}function u(){return y.run.apply(y,arguments)}function c(){!u.currentRunLoop}{var l=e["default"],h=t.apply,f=t.GUID_KEY,d=r.indexOf,p=n.beginPropertyChanges,m=n.endPropertyChanges,g=i["default"],y=new g(["sync","actions","destroy"],{GUID_KEY:f,sync:{before:p,after:m},defaultQueue:"actions",onBegin:a,onEnd:s,onErrorTarget:l,onErrorMethod:"onerror"}),v=[].slice;[].concat}o["default"]=u,u.join=function(){if(!u.currentRunLoop)return l.run.apply(l,arguments);var e=v.call(arguments);e.unshift("actions"),u.schedule.apply(u,e)},u.bind=function(){var e=v.call(arguments);return function(){return u.join.apply(u,e.concat(v.call(arguments)))}},u.backburner=y,u.currentRunLoop=null,u.queues=y.queueNames,u.begin=function(){y.begin()},u.end=function(){y.end()},u.schedule=function(){c(),y.schedule.apply(y,arguments)},u.hasScheduledTimers=function(){return y.hasTimers()},u.cancelTimers=function(){y.cancelTimers()},u.sync=function(){y.currentInstance&&y.currentInstance.queues.sync.flush()},u.later=function(){return y.later.apply(y,arguments)},u.once=function(){c();var e=v.call(arguments);return e.unshift("actions"),h(y,y.scheduleOnce,e)},u.scheduleOnce=function(){return c(),y.scheduleOnce.apply(y,arguments)},u.next=function(){var e=v.call(arguments);return e.push(1),h(y,y.later,e)},u.cancel=function(e){return y.cancel(e)},u.debounce=function(){return y.debounce.apply(y,arguments)},u.throttle=function(){return y.throttle.apply(y,arguments)},u._addQueue=function(e,t){-1===d.call(u.queues,e)&&u.queues.splice(d.call(u.queues,t)+1,0,e)}}),e("ember-metal/set_properties",["ember-metal/property_events","ember-metal/property_set","ember-metal/keys","exports"],function(e,t,r,n){"use strict";var i=e.changeProperties,o=t.set,a=r["default"];n["default"]=function(e,t){return t&&"object"==typeof t?(i(function(){for(var r,n=a(t),i=0,s=n.length;s>i;i++)r=n[i],o(e,r,t[r])}),e):e}}),e("ember-metal/utils",["ember-metal/core","ember-metal/platform","ember-metal/array","exports"],function(e,t,r,n){function i(){return++C}function o(e){var t={};t[e]=1;for(var r in t)if(r===e)return r;return e}function a(e,t){t||(t=H);var r=t+i();return e&&(null===e[P]?e[P]=r:(k.value=r,_(e,P,k))),r}function s(e){if(void 0===e)return"(undefined)";if(null===e)return"(null)";var t,r=typeof e;switch(r){case"number":return t=A[e],t||(t=A[e]="nu"+e),t;case"string":return t=N[e],t||(t=N[e]="st"+i()),t;case"boolean":return e?"(true)":"(false)";default:return e[P]?e[P]:e===Object?"(Object)":e===Array?"(Array)":(t=H+i(),null===e[P]?e[P]=t:(k.value=t,_(e,P,k)),t)}}function u(e){this.descs={},this.watching={},this.cache={},this.cacheMeta={},this.source=e}function c(e,t){var r=e.__ember_meta__;return t===!1?r||L:(r?r.source!==e&&(T&&_(e,"__ember_meta__",O),r=M(r),r.descs=M(r.descs),r.watching=M(r.watching),r.cache={},r.cacheMeta={},r.source=e,e.__ember_meta__=r):(T&&_(e,"__ember_meta__",O),r=new u(e),e.__ember_meta__=r,r.descs.constructor=null),r)}function l(e,t){var r=c(e,!1);return r[t]}function h(e,t,r){var n=c(e,!0);return n[t]=r,r}function f(e,t,r){for(var n,i,o=c(e,r),a=0,s=t.length;s>a;a++){if(n=t[a],i=o[n]){if(i.__ember_source__!==e){if(!r)return void 0;i=o[n]=M(i),i.__ember_source__=e}}else{if(!r)return void 0;i=o[n]={__ember_source__:e}}o=i}return i}function d(e,t){function r(){for(var r,n=this&&this.__nextSuper,i=new Array(arguments.length),o=0,a=i.length;a>o;o++)i[o]=arguments[o];return this&&(this.__nextSuper=t),r=E(this,e,i),this&&(this.__nextSuper=n),r}return r.wrappedFunction=e,r.wrappedFunction.__ember_arity__=e.length,r.__ember_observes__=e.__ember_observes__,r.__ember_observesBefore__=e.__ember_observesBefore__,r.__ember_listens__=e.__ember_listens__,r}function p(e){var t,r;return"undefined"==typeof D&&(t="ember-runtime/mixins/array",w.__loader.registry[t]&&(D=w.__loader.require(t)["default"])),!e||e.setInterval?!1:Array.isArray&&Array.isArray(e)?!0:D&&D.detect(e)?!0:(r=v(e),"array"===r?!0:void 0!==e.length&&"object"===r?!0:!1)}function m(e){return null===e||void 0===e?[]:p(e)?e:[e]}function g(e,t){return!(!e||"function"!=typeof e[t])}function y(e,t,r){return g(e,t)?r?x(e,t,r):x(e,t):void 0}function v(e){var t,r;return"undefined"==typeof V&&(r="ember-runtime/system/object",w.__loader.registry[r]&&(V=w.__loader.require(r)["default"])),t=null===e||void 0===e?String(e):z[j.call(e)]||"object","function"===t?V&&V.detect(e)&&(t="class"):"object"===t&&(e instanceof Error?t="error":V&&e instanceof V?t="instance":e instanceof Date&&(t="date")),t}function b(e){var t=v(e);if("array"===t)return"["+e+"]";if("object"!==t)return e+"";var r,n=[];for(var i in e)if(e.hasOwnProperty(i)){if(r=e[i],"toString"===r)continue;"function"===v(r)&&(r="function() { ... }"),n.push(r&&"function"!=typeof r.toString?i+": "+j.call(r):i+": "+r)}return"{"+n.join(", ")+"}"}function E(e,t,r){var n=r&&r.length;if(!r||!n)return t.call(e);switch(n){case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2]);case 4:return t.call(e,r[0],r[1],r[2],r[3]);case 5:return t.call(e,r[0],r[1],r[2],r[3],r[4]);default:return t.apply(e,r)}}function x(e,t,r){var n=r&&r.length;if(!r||!n)return e[t]();switch(n){case 1:return e[t](r[0]);case 2:return e[t](r[0],r[1]);case 3:return e[t](r[0],r[1],r[2]);case 4:return e[t](r[0],r[1],r[2],r[3]);case 5:return e[t](r[0],r[1],r[2],r[3],r[4]);default:return e[t].apply(e,r)}}var w=e["default"],_=t.defineProperty,T=t.canDefineNonEnumerableProperties,R=(t.hasPropertyAccessors,t.create),S=r.forEach,C=0;n.uuid=i;var H="ember",M=R,A=[],N={},P=o("__ember"+ +new Date),k={writable:!1,configurable:!1,enumerable:!1,value:null};n.generateGuid=a,n.guidFor=s;var O={writable:!0,configurable:!1,enumerable:!1,value:null};u.prototype={descs:null,deps:null,watching:null,listeners:null,cache:null,cacheMeta:null,source:null,mixins:null,bindings:null,chains:null,chainWatchers:null,values:null,proto:null},T||(u.prototype.__preventPlainObject__=!0,u.prototype.toJSON=function(){});var L=new u(null);n.getMeta=l,n.setMeta=h,n.metaPath=f,n.wrap=d;var D;n.makeArray=m,n.tryInvoke=y;var F,B=function(){var e=0;try{try{}finally{throw e++,new Error("needsFinallyFixTest")}}catch(t){}return 1!==e}();F=B?function(e,t,r){var n,i,o;r=r||this;try{n=e.call(r)}finally{try{i=t.call(r)}catch(a){o=a}}if(o)throw o;return void 0===i?n:i}:function(e,t,r){var n,i;r=r||this;try{n=e.call(r)}finally{i=t.call(r)}return void 0===i?n:i};var I;I=B?function(e,t,r,n){var i,o,a;n=n||this;try{i=e.call(n)}catch(s){i=t.call(n,s)}finally{try{o=r.call(n)}catch(u){a=u}}if(a)throw a;return void 0===o?i:o}:function(e,t,r,n){var i,o;n=n||this;try{i=e.call(n)}catch(a){i=t.call(n,a)}finally{o=r.call(n)}return void 0===o?i:o};var z={},U="Boolean Number String Function Array Date RegExp Object".split(" ");S.call(U,function(e){z["[object "+e+"]"]=e.toLowerCase()});var V,j=Object.prototype.toString;n.inspect=b,n.apply=E,n.applyStr=x,n.GUID_KEY=P,n.META_DESC=O,n.EMPTY_META=L,n.meta=c,n.typeOf=v,n.tryCatchFinally=I,n.isArray=p,n.canInvoke=g,n.tryFinally=F}),e("ember-metal/watch_key",["ember-metal/core","ember-metal/utils","ember-metal/platform","ember-metal/properties","exports"],function(e,t,r,n,i){"use strict";function o(e,t,r){if("length"!==t||"array"!==u(e)){var n=r||c(e),i=n.watching;if(i[t])i[t]=(i[t]||0)+1;else{i[t]=1;var o=n.descs[t];o&&o.willWatch&&o.willWatch(e,t),"function"==typeof e.willWatchProperty&&e.willWatchProperty(t)}}}function a(e,t,r){var n=r||c(e),i=n.watching;if(1===i[t]){i[t]=0;var o=n.descs[t];o&&o.didUnwatch&&o.didUnwatch(e,t),"function"==typeof e.didUnwatchProperty&&e.didUnwatchProperty(t)}else i[t]>1&&i[t]--}var s=(e["default"],t.meta),u=t.typeOf,c=(r.defineProperty,r.hasPropertyAccessors,n.MANDATORY_SETTER_FUNCTION,n.DEFAULT_GETTER_FUNCTION,s);i.watchKey=o,i.unwatchKey=a}),e("ember-metal/watch_path",["ember-metal/utils","ember-metal/chains","exports"],function(e,t,r){"use strict";function n(e,t){var r=t||c(e),n=r.chains;return n?n.value()!==e&&(n=r.chains=n.copy(e)):n=r.chains=new u(null,null,e),n}function i(e,t,r){if("length"!==t||"array"!==s(e)){var i=r||c(e),o=i.watching;o[t]?o[t]=(o[t]||0)+1:(o[t]=1,n(e,i).add(t))}}function o(e,t,r){var i=r||c(e),o=i.watching;1===o[t]?(o[t]=0,n(e,i).remove(t)):o[t]>1&&o[t]--}var a=e.meta,s=e.typeOf,u=t.ChainNode,c=a;r.watchPath=i,r.unwatchPath=o}),e("ember-metal/watching",["ember-metal/utils","ember-metal/chains","ember-metal/watch_key","ember-metal/watch_path","ember-metal/path_cache","exports"],function(e,t,r,n,i,o){"use strict";function a(e,t,r){("length"!==t||"array"!==f(e))&&(E(t)?v(e,t,r):g(e,t,r))}function s(e,t){var r=e.__ember_meta__;return(r&&r.watching[t])>0}function u(e,t,r){("length"!==t||"array"!==f(e))&&(E(t)?b(e,t,r):y(e,t,r))}function c(e){var t=e.__ember_meta__,r=t&&t.chains;h in e&&!e.hasOwnProperty(h)&&d(e),r&&r.value()!==e&&(t.chains=r.copy(e))}function l(e){var t,r,n,i,o=e.__ember_meta__;if(o&&(e.__ember_meta__=null,t=o.chains))for(x.push(t);x.length>0;){if(t=x.pop(),r=t._chains)for(n in r)r.hasOwnProperty(n)&&x.push(r[n]);t._watching&&(i=t._object,i&&p(i,t._key,t))}}var h=(e.meta,e.GUID_KEY),f=e.typeOf,d=e.generateGuid,p=t.removeChainWatcher,m=t.flushPendingChains,g=r.watchKey,y=r.unwatchKey,v=n.watchPath,b=n.unwatchPath,E=i.isPath;o.watch=a,o.isWatching=s,a.flushPending=m,o.unwatch=u,o.rewatch=c;var x=[];o.destroy=l}),e("ember-routing-handlebars",["ember-metal/core","ember-handlebars","ember-routing/system/router","ember-routing-handlebars/helpers/shared","ember-routing-handlebars/helpers/link_to","ember-routing-handlebars/helpers/outlet","ember-routing-handlebars/helpers/render","ember-routing-handlebars/helpers/action","exports"],function(e,t,r,n,i,o,a,s,u){"use strict";var c=e["default"],l=t["default"],h=r["default"],f=n.resolvePaths,d=n.resolveParams,p=i.deprecatedLinkToHelper,m=i.linkToHelper,g=i.LinkView,y=i.queryParamsHelper,v=o.outletHelper,b=o.OutletView,E=a["default"],x=s.ActionHelper,w=s.actionHelper;h.resolveParams=d,h.resolvePaths=f,c.LinkView=g,l.ActionHelper=x,l.OutletView=b,l.registerHelper("render",E),l.registerHelper("action",w),l.registerHelper("outlet",v),l.registerHelper("link-to",m),l.registerHelper("linkTo",p),l.registerHelper("query-params",y),u["default"]=c}),e("ember-routing-handlebars/helpers/action",["ember-metal/core","ember-metal/property_get","ember-metal/array","ember-metal/utils","ember-metal/run_loop","ember-views/system/utils","ember-views/system/action_manager","ember-routing/system/router","ember-handlebars","ember-handlebars/ext","ember-handlebars/helpers/view","ember-routing-handlebars/helpers/shared","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f){"use strict";function d(e,t){var r=[];t&&r.push(t);var n=e.options.types.slice(1),i=e.options.data;return r.concat(w(e.context,e.params,{types:n,data:i}))}function p(e){var t=arguments[arguments.length-1],r=T.call(arguments,1,-1),n=t.hash,i=t.data.keywords.controller,o={eventName:n.on||"click",parameters:{context:this,options:t,params:r},view:t.data.view,bubbles:n.bubbles,preventDefault:n.preventDefault,target:{options:t},withKeyCode:n.withKeyCode,boundProperty:"ID"===t.types[0]};n.target?(o.target.root=this,o.target.target=n.target):i&&(o.target.root=i);var a=R.registerAction(e,o,n.allowedKeys);return new _('data-ember-action="'+a+'"')}var m=(e["default"],t.get,r.forEach),g=n.uuid,y=i["default"],v=o.isSimpleClick,b=a["default"],E=(s["default"],u["default"]),x=c.handlebarsGet,w=(l.viewHelper,h.resolveParams),_=(h.resolvePath,E.SafeString),T=Array.prototype.slice,R={};R.registeredActions=b.registeredActions,f.ActionHelper=R;var S=["alt","shift","meta","ctrl"],C=/^click|mouse|touch/,H=function(e,t){if("undefined"==typeof t){if(C.test(e.type))return v(e);t=""}if(t.indexOf("any")>=0)return!0;var r=!0;return m.call(S,function(n){e[n+"Key"]&&-1===t.indexOf(n)&&(r=!1)}),r};R.registerAction=function(e,t,r){var n=g();return b.registeredActions[n]={eventName:t.eventName,handler:function(n){if(!H(n,r))return!0;t.preventDefault!==!1&&n.preventDefault(),t.bubbles===!1&&n.stopPropagation();{var i,o=t.target,a=t.parameters;t.eventName}o=o.target?x(o.root,o.target,o.options):o.root,t.boundProperty&&(i=w(a.context,[e],{types:["ID"],data:a.options.data})[0],("undefined"==typeof i||"function"==typeof i)&&(i=e)),i||(i=e),y(function(){o.send?o.send.apply(o,d(a,i)):o[i].apply(o,d(a))})}},t.view.on("willClearRender",function(){delete b.registeredActions[n]}),n},f.actionHelper=p}),e("ember-routing-handlebars/helpers/link_to",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/merge","ember-metal/run_loop","ember-metal/computed","ember-runtime/system/lazy_load","ember-runtime/system/string","ember-runtime/system/object","ember-metal/keys","ember-views/system/utils","ember-views/views/component","ember-handlebars","ember-handlebars/helpers/view","ember-routing/system/router","ember-routing-handlebars/helpers/shared","exports"],function(e,r,n,i,o,a,s,u,c,l,h,f,d,p,m,g,y){"use strict";function v(e){var t=e.options.types,r=e.options.data;return F(e.context,e.params,{types:t,data:r})}function b(){var e=I.call(arguments,-1)[0],t=I.call(arguments,0,-1),r=e.hash;if(t[t.length-1]instanceof U&&(r.queryParamsObject=t.pop()),r.disabledBinding=r.disabledWhen,!e.fn){var n=t.shift(),i=e.types.shift(),o=this;"ID"===i?(e.linkTextPath=n,e.fn=function(){return O.getEscaped(o,n,e)}):e.fn=function(){return n}}return r.parameters={context:this,options:e,params:t},e.helperName=e.helperName||"link-to",L.call(this,V,e)}function E(e){return U.create({values:e.hash,types:e.hashTypes})}function x(){return b.apply(this,arguments)}function w(e){var t=e.parameters,r=e.queryParamsObject,n={};if(!r)return n;var i=r.values;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o],s=r.types[o];if("ID"===s){var u=_(a,t);a=O.get(u.root,u.path,t.options)}n[o]=a}return n}function _(e,t){return O.normalizePath(t.context,e,t.options.data)}function T(e){for(var t=0,r=e.length;r>t;++t){var n=e[t];if(null===n||"undefined"==typeof n)return!1}return!0}function R(e,t){var r;for(r in e)if(e.hasOwnProperty(r)&&e[r]!==t[r])return!1;for(r in t)if(t.hasOwnProperty(r)&&e[r]!==t[r])return!1;return!0}var S=e["default"],C=r.get,H=(n.set,i["default"]),M=o["default"],A=a.computed,N=(s.onLoad,u.fmt,c["default"]),P=(l["default"],h.isSimpleClick),k=f["default"],O=d["default"],L=p.viewHelper,D=(m["default"],g.resolveParams),F=g.resolvePaths,B=g.routeArgs,I=[].slice;t("ember-handlebars");var z=function(e,t){for(var r=0,n=0,i=t.length;i>n&&(r+=t[n].names.length,t[n].handler!==e);n++);return r},U=N.extend({values:null}),V=S.LinkView=k.extend({tagName:"a",currentWhen:null,"current-when":null,title:null,rel:null,activeClass:"active",loadingClass:"loading",disabledClass:"disabled",_isDisabled:!1,replace:!1,attributeBindings:["href","title","rel","tabindex"],classNameBindings:["active","loading","disabled"],eventName:"click",init:function(){this._super.apply(this,arguments);var e=C(this,"eventName");this.on(e,this,this._invoke)},_paramsChanged:function(){this.notifyPropertyChange("resolvedParams")},_setupPathObservers:function(){var e,t,r,n=this.parameters,i=n.options.linkTextPath,o=v(n),a=o.length;for(i&&(r=_(i,n),this.registerObserver(r.root,r.path,this,this.rerender)),t=0;a>t;t++)e=o[t],null!==e&&(r=_(e,n),this.registerObserver(r.root,r.path,this,this._paramsChanged));var s=this.queryParamsObject;if(s){var u=s.values;for(var c in u)u.hasOwnProperty(c)&&"ID"===s.types[c]&&(r=_(u[c],n),this.registerObserver(r.root,r.path,this,this._paramsChanged))}},afterRender:function(){this._super.apply(this,arguments),this._setupPathObservers()},disabled:A(function(e,t){return void 0!==t&&this.set("_isDisabled",t),t?C(this,"disabledClass"):!1}),active:A("loadedParams",function(){function e(e){var i=t.router.recognizer.handlersFor(e),a=i[i.length-1].handler,s=z(e,i);n.length>s&&(e=a);var u=B(e,n,null),c=t.isActive.apply(t,u);if(!c)return!1;var l=S.isEmpty(S.keys(r.queryParams));if(!o&&!l&&c){var h={};H(h,r.queryParams),t._prepareQueryParams(r.targetRouteName,r.models,h),c=R(h,t.router.state.queryParams)}return c}if(C(this,"loading"))return!1;var t=C(this,"router"),r=C(this,"loadedParams"),n=r.models,i=this["current-when"]||this.currentWhen,o=Boolean(i);i=i||r.targetRouteName,i=i.split(" ");for(var a=0,s=i.length;s>a;a++)if(e(i[a]))return C(this,"activeClass")}),loading:A("loadedParams",function(){return C(this,"loadedParams")?void 0:C(this,"loadingClass")}),router:A(function(){var e=C(this,"controller");return e&&e.container?e.container.lookup("router:main"):void 0}),_invoke:function(e){if(!P(e))return!0;if(this.preventDefault!==!1){var t=C(this,"target");t&&"_self"!==t||e.preventDefault()}if(this.bubbles===!1&&e.stopPropagation(),C(this,"_isDisabled"))return!1;if(C(this,"loading"))return S.Logger.warn("This link-to is in an inactive loading state because at least one of its parameters presently has a null/undefined value, or the provided route name is invalid."),!1;var r=C(this,"target");if(r&&"_self"!==r)return!1;var n=C(this,"router"),i=C(this,"loadedParams"),o=n._doTransition(i.targetRouteName,i.models,i.queryParams);C(this,"replace")&&o.method("replace");var a=B(i.targetRouteName,i.models,o.state.queryParams),s=n.router.generate.apply(n.router,a);M.scheduleOnce("routerTransitions",this,this._eagerUpdateUrl,o,s)},_eagerUpdateUrl:function(e,t){if(e.isActive&&e.urlMethod){0===t.indexOf("#")&&(t=t.slice(1));var r=C(this,"router.router");"update"===e.urlMethod?r.updateURL(t):"replace"===e.urlMethod&&r.replaceURL(t),e.method(null)}},resolvedParams:A("router.url",function(){var e,t,r=this.parameters,n=r.options,i=n.types,o=n.data,a=0===r.params.length;if(a){var s=this.container.lookup("controller:application");e=C(s,"currentRouteName"),t=[]}else t=D(r.context,r.params,{types:i,data:o}),e=t.shift();var u=w(this,e);return{targetRouteName:e,models:t,queryParams:u}}),loadedParams:A("resolvedParams",function(){var e=C(this,"router");if(e){var t=C(this,"resolvedParams"),r=t.targetRouteName;if(r&&T(t.models))return t}}),queryParamsObject:null,href:A("loadedParams",function(){if("a"===C(this,"tagName")){var e=C(this,"router"),t=C(this,"loadedParams");if(!t)return C(this,"loadingHref");var r={};H(r,t.queryParams),e._prepareQueryParams(t.targetRouteName,t.models,r);var n=B(t.targetRouteName,t.models,r),i=e.generate.apply(e,n);return i}}),loadingHref:"#"});V.toString=function(){return"LinkView"},V.reopen({attributeBindings:["target"],target:null}),y.queryParamsHelper=E,y.LinkView=V,y.deprecatedLinkToHelper=x,y.linkToHelper=b}),e("ember-routing-handlebars/helpers/outlet",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/lazy_load","ember-views/views/container_view","ember-handlebars/views/metamorph_view","ember-handlebars/helpers/view","exports"],function(e,t,r,n,i,o,a,s){"use strict";function u(e,t){var r,n,i,o,a;for(e&&e.data&&e.data.isRenderData&&(t=e,e="main"),n=t.data.view.container,r=t.data.view;!r.get("template.isTop");)r=r.get("_parentView");return i=t.hash.view,i&&(a="view:"+i),o=i?n.lookupFactory(a):t.hash.viewClass||f,t.data.view.set("outletSource",r),t.hash.currentViewBinding="_view.outletSource._outlets."+e,t.helperName=t.helperName||"outlet",h.call(this,o,t)}var c=(e["default"],t.get,r.set,n.onLoad,i["default"]),l=o._Metamorph,h=a.viewHelper,f=c.extend(l);s.OutletView=f,s.outletHelper=u}),e("ember-routing-handlebars/helpers/render",["ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/string","ember-routing/system/generate_controller","ember-handlebars/ext","ember-handlebars/helpers/view","exports"],function(e,t,r,n,i,o,a,s,u){"use strict";var c=(e["default"],t["default"]),l=(r.get,n.set,i.camelize),h=o.generateControllerFactory,f=o["default"],d=a.handlebarsGet,p=s.ViewHelper;u["default"]=function(e,t,r){var n,i,o,a,s,u=arguments.length;if(n=(r||t).data.keywords.controller.container,i=n.lookup("router:main"),2===u)r=t,t=void 0;else{if(3!==u)throw new c("You must pass a templateName to render");s=d(r.contexts[1],t,r)}e=e.replace(/\//g,"."),a=n.lookup("view:"+e)||n.lookup("view:default");var m=r.hash.controller||e,g="controller:"+m;r.hash.controller;var y=r.data.keywords.controller;if(u>2){var v=n.lookupFactory(g)||h(n,m,s);o=v.create({model:s,parentController:y,target:y}),a.one("willDestroyElement",function(){o.destroy()})}else o=n.lookup(g)||f(n,m),o.setProperties({target:y,parentController:y});var b=r.contexts[1];b&&a.registerObserver(b,t,function(){o.set("model",d(b,t,r))
}),r.hash.viewName=l(e);var E="template:"+e;r.hash.template=n.lookup(E),r.hash.controller=o,i&&!s&&i._connectActiveView(e,a),r.helperName=r.helperName||'render "'+e+'"',p.instanceHelper(this,a,r)}}),e("ember-routing-handlebars/helpers/shared",["ember-metal/property_get","ember-metal/array","ember-runtime/mixins/controller","ember-handlebars/ext","ember-metal/utils","exports"],function(e,t,r,n,i,o){"use strict";function a(e,t,r){var n=[];return"string"===g(e)&&n.push(""+e),n.push.apply(n,t),n.push({queryParams:r}),n}function s(e){var t=e.activeTransition?e.activeTransition.state.handlerInfos:e.state.handlerInfos;return t[t.length-1].name}function u(e,t,r){return f.call(l(e,t,r),function(n,i){return null===n?t[i]:m(e,n,r)})}function c(e,t){if(!t._namesStashed){for(var r=t[t.length-1].name,n=e.router.recognizer.handlersFor(r),i=null,o=0,a=t.length;a>o;++o){var s=t[o],u=n[o].names;u.length&&(i=s),s._names=u;var c=s.handler;c._stashNames(s,i)}t._namesStashed=!0}}function l(e,t,r){function n(e,t){return"controller"===t?t:d.detect(e)?n(h(e,"model"),t?t+".model":"model"):t}var i=p(e,t,r),o=r.types;return f.call(i,function(e,r){return"ID"===o[r]?n(e,t[r]):null})}var h=e.get,f=t.map,d=r["default"],p=n.resolveParams,m=n.handlebarsGet,g=i.typeOf,h=e.get;o.routeArgs=a,o.getActiveTargetName=s,o.resolveParams=u,o.stashParamNames=c,o.resolvePaths=l}),e("ember-routing",["ember-handlebars","ember-metal/core","ember-routing/ext/run_loop","ember-routing/ext/controller","ember-routing/ext/view","ember-routing/location/api","ember-routing/location/none_location","ember-routing/location/hash_location","ember-routing/location/history_location","ember-routing/location/auto_location","ember-routing/system/generate_controller","ember-routing/system/controller_for","ember-routing/system/dsl","ember-routing/system/router","ember-routing/system/route","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d,p,m){"use strict";var g=(e["default"],t["default"]),y=o["default"],v=a["default"],b=s["default"],E=u["default"],x=c["default"],w=l.generateControllerFactory,_=l["default"],T=h["default"],R=f["default"],S=d["default"],C=p["default"];g.Location=y,g.AutoLocation=x,g.HashLocation=b,g.HistoryLocation=E,g.NoneLocation=v,g.controllerFor=T,g.generateControllerFactory=w,g.generateController=_,g.RouterDSL=R,g.Router=S,g.Route=C,m["default"]=g}),e("ember-routing/ext/controller",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/computed","ember-metal/utils","ember-metal/merge","ember-metal/enumerable_utils","ember-runtime/mixins/controller","exports"],function(e,t,r,n,i,o,a,s,u){"use strict";function c(e,t){var r,n=e;"string"===p(n)&&(r={},r[n]={as:null},n=r);for(var i in n){if(!n.hasOwnProperty(i))return;var o=n[i];"string"===p(o)&&(o={as:o}),r=t[i]||{as:null,scope:"model"},g(r,o),t[i]=r}}function l(e){var t=h(e,"_normalizedQueryParams");for(var r in t)t.hasOwnProperty(r)&&e.addObserver(r+".[]",e,e._qpChanged)}var h=(e["default"],t.get),f=r.set,d=n.computed,p=i.typeOf,m=i.meta,g=o["default"],y=(a.map,s["default"]);y.reopen({concatenatedProperties:["queryParams","_pCacheMeta"],init:function(){this._super.apply(this,arguments),l(this)},queryParams:null,_qpDelegate:null,_normalizedQueryParams:d(function(){var e=m(this);if(e.proto!==this)return h(e.proto,"_normalizedQueryParams");var t=h(this,"queryParams");if(t._qpMap)return t._qpMap;for(var r=t._qpMap={},n=0,i=t.length;i>n;++n)c(t[n],r);return r}),_cacheMeta:d(function(){var e=m(this);if(e.proto!==this)return h(e.proto,"_cacheMeta");var t={},r=h(this,"_normalizedQueryParams");for(var n in r)if(r.hasOwnProperty(n)){var i,o=r[n],a=o.scope;"controller"===a&&(i=[]),t[n]={parts:i,values:null,scope:a,prefix:"",def:h(this,n)}}return t}),_updateCacheParams:function(e){var t=h(this,"_cacheMeta");for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];n.values=e;var i=this._calculateCacheKey(n.prefix,n.parts,n.values),o=this._bucketCache;if(o){var a=o.lookup(i,r,n.def);f(this,r,a)}}},_qpChanged:function(e,t){var r=t.substr(0,t.length-3),n=h(e,"_cacheMeta"),i=n[r],o=e._calculateCacheKey(i.prefix||"",i.parts,i.values),a=h(e,r),s=this._bucketCache;s&&e._bucketCache.stash(o,r,a);var u=e._qpDelegate;u&&u(e,r)},_calculateCacheKey:function(e,t,r){for(var n=t||[],i="",o=0,a=n.length;a>o;++o){var s=n[o],u=h(r,s);i+="::"+s+":"+u}return e+i.replace(v,"-")},transitionToRoute:function(){var e=h(this,"target"),t=e.transitionToRoute||e.transitionTo;return t.apply(e,arguments)},transitionTo:function(){return this.transitionToRoute.apply(this,arguments)},replaceRoute:function(){var e=h(this,"target"),t=e.replaceRoute||e.replaceWith;return t.apply(e,arguments)},replaceWith:function(){return this.replaceRoute.apply(this,arguments)}});var v=/\./g;u["default"]=y}),e("ember-routing/ext/run_loop",["ember-metal/run_loop"],function(e){"use strict";{var t=e["default"];t.queues}t._addQueue("routerTransitions","actions")}),e("ember-routing/ext/view",["ember-metal/property_get","ember-metal/property_set","ember-metal/run_loop","ember-views/views/view","exports"],function(e,t,r,n,i){"use strict";var o=e.get,a=t.set,s=r["default"],u=n["default"];u.reopen({init:function(){a(this,"_outlets",{}),this._super()},connectOutlet:function(e,t){if(this._pendingDisconnections&&delete this._pendingDisconnections[e],this._hasEquivalentView(e,t))return void t.destroy();var r=o(this,"_outlets"),n=o(this,"container"),i=n&&n.lookup("router:main"),s=o(t,"renderedName");a(r,e,t),i&&s&&i._connectActiveView(s,t)},_hasEquivalentView:function(e,t){var r=o(this,"_outlets."+e);return r&&r.constructor===t.constructor&&r.get("template")===t.get("template")&&r.get("context")===t.get("context")},disconnectOutlet:function(e){this._pendingDisconnections||(this._pendingDisconnections={}),this._pendingDisconnections[e]=!0,s.once(this,"_finishDisconnections")},_finishDisconnections:function(){if(!this.isDestroyed){var e=o(this,"_outlets"),t=this._pendingDisconnections;this._pendingDisconnections=null;for(var r in t)a(e,r,null)}}}),i["default"]=u}),e("ember-routing/location/api",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","exports"],function(e,t,r,n){"use strict";e["default"],t.get,r.set;n["default"]={create:function(e){var t=e&&e.implementation,r=this.implementations[t];return r.create.apply(r,arguments)},registerImplementation:function(e,t){this.implementations[e]=t},implementations:{},_location:window.location,_getHash:function(){var e=(this._location||this.location).href,t=e.indexOf("#");return-1===t?"":e.substr(t)}}}),e("ember-routing/location/auto_location",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-routing/location/api","ember-routing/location/history_location","ember-routing/location/hash_location","ember-routing/location/none_location","exports"],function(e,t,r,n,i,o,a,s){"use strict";var u=(e["default"],t.get,r.set),c=n["default"],l=i["default"],h=o["default"],f=a["default"];s["default"]={cancelRouterSetup:!1,rootURL:"/",_window:window,_location:window.location,_history:window.history,_HistoryLocation:l,_HashLocation:h,_NoneLocation:f,_getOrigin:function(){var e=this._location,t=e.origin;return t||(t=e.protocol+"//"+e.hostname,e.port&&(t+=":"+e.port)),t},_getSupportsHistory:function(){var e=this._window.navigator.userAgent;return-1!==e.indexOf("Android 2")&&-1!==e.indexOf("Mobile Safari")&&-1===e.indexOf("Chrome")?!1:!!(this._history&&"pushState"in this._history)},_getSupportsHashChange:function(){var e=this._window,t=e.document.documentMode;return"onhashchange"in e&&(void 0===t||t>7)},_replacePath:function(e){this._location.replace(this._getOrigin()+e)},_getRootURL:function(){return this.rootURL},_getPath:function(){var e=this._location.pathname;return"/"!==e.charAt(0)&&(e="/"+e),e},_getHash:c._getHash,_getQuery:function(){return this._location.search},_getFullPath:function(){return this._getPath()+this._getQuery()+this._getHash()},_getHistoryPath:function(){{var e,t,r=this._getRootURL(),n=this._getPath(),i=this._getHash(),o=this._getQuery();n.indexOf(r)}return"#/"===i.substr(0,2)?(t=i.substr(1).split("#"),e=t.shift(),"/"===n.slice(-1)&&(e=e.substr(1)),n+=e,n+=o,t.length&&(n+="#"+t.join("#"))):(n+=o,n+=i),n},_getHashPath:function(){var e=this._getRootURL(),t=e,r=this._getHistoryPath(),n=r.substr(e.length);return""!==n&&("/"!==n.charAt(0)&&(n="/"+n),t+="#"+n),t},create:function(e){e&&e.rootURL&&(this.rootURL=e.rootURL);var t,r,n=!1,i=this._NoneLocation,o=this._getFullPath();this._getSupportsHistory()?(t=this._getHistoryPath(),o===t?i=this._HistoryLocation:"/#"===o.substr(0,2)?(this._history.replaceState({path:t},null,t),i=this._HistoryLocation):(n=!0,this._replacePath(t))):this._getSupportsHashChange()&&(r=this._getHashPath(),o===r||"/"===o&&"/#/"===r?i=this._HashLocation:(n=!0,this._replacePath(r)));var a=i.create.apply(i,arguments);return n&&u(a,"cancelRouterSetup",!0),a}}}),e("ember-routing/location/hash_location",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/run_loop","ember-metal/utils","ember-runtime/system/object","ember-routing/location/api","exports"],function(e,t,r,n,i,o,a,s){"use strict";var u=e["default"],c=t.get,l=r.set,h=n["default"],f=i.guidFor,d=o["default"],p=a["default"];s["default"]=d.extend({implementation:"hash",init:function(){l(this,"location",c(this,"_location")||window.location)},getHash:p._getHash,getURL:function(){var e=this.getHash().substr(1);return e},setURL:function(e){c(this,"location").hash=e,l(this,"lastSetURL",e)},replaceURL:function(e){c(this,"location").replace("#"+e),l(this,"lastSetURL",e)},onUpdateURL:function(e){var t=this,r=f(this);u.$(window).on("hashchange.ember-location-"+r,function(){h(function(){var r=t.getURL();c(t,"lastSetURL")!==r&&(l(t,"lastSetURL",null),e(r))})})},formatURL:function(e){return"#"+e},willDestroy:function(){var e=f(this);u.$(window).off("hashchange.ember-location-"+e)}})}),e("ember-routing/location/history_location",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-runtime/system/object","ember-views/system/jquery","exports"],function(e,t,r,n,i,o,a){"use strict";var s=(e["default"],t.get),u=r.set,c=n.guidFor,l=i["default"],h=o["default"],f=!1,d=window.history&&"state"in window.history;a["default"]=l.extend({implementation:"history",init:function(){u(this,"location",s(this,"location")||window.location),u(this,"baseURL",h("base").attr("href")||"")},initState:function(){u(this,"history",s(this,"history")||window.history),this.replaceState(this.formatURL(this.getURL()))},rootURL:"/",getURL:function(){var e=s(this,"rootURL"),t=s(this,"location"),r=t.pathname,n=s(this,"baseURL");e=e.replace(/\/$/,""),n=n.replace(/\/$/,"");var i=r.replace(n,"").replace(e,""),o=t.search||"";return i+=o},setURL:function(e){var t=this.getState();e=this.formatURL(e),t&&t.path===e||this.pushState(e)},replaceURL:function(e){var t=this.getState();e=this.formatURL(e),t&&t.path===e||this.replaceState(e)},getState:function(){return d?s(this,"history").state:this._historyState},pushState:function(e){var t={path:e};s(this,"history").pushState(t,null,e),d||(this._historyState=t),this._previousURL=this.getURL()},replaceState:function(e){var t={path:e};s(this,"history").replaceState(t,null,e),d||(this._historyState=t),this._previousURL=this.getURL()},onUpdateURL:function(e){var t=c(this),r=this;h(window).on("popstate.ember-location-"+t,function(){(f||(f=!0,r.getURL()!==r._previousURL))&&e(r.getURL())})},formatURL:function(e){var t=s(this,"rootURL"),r=s(this,"baseURL");return""!==e?(t=t.replace(/\/$/,""),r=r.replace(/\/$/,"")):r.match(/^\//)&&t.match(/^\//)&&(r=r.replace(/\/$/,"")),r+t+e},willDestroy:function(){var e=c(this);h(window).off("popstate.ember-location-"+e)}})}),e("ember-routing/location/none_location",["ember-metal/property_get","ember-metal/property_set","ember-runtime/system/object","exports"],function(e,t,r,n){"use strict";var i=e.get,o=t.set,a=r["default"];n["default"]=a.extend({implementation:"none",path:"",getURL:function(){return i(this,"path")},setURL:function(e){o(this,"path",e)},onUpdateURL:function(e){this.updateCallback=e},handleURL:function(e){o(this,"path",e),this.updateCallback(e)},formatURL:function(e){return e}})}),e("ember-routing/system/cache",["ember-runtime/system/object","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=r.extend({init:function(){this.cache={}},has:function(e){return e in this.cache},stash:function(e,t,r){var n=this.cache[e];n||(n=this.cache[e]={}),n[t]=r},lookup:function(e,t,r){var n=this.cache;if(!(e in n))return r;var i=n[e];return t in i?i[t]:r},cache:null})}),e("ember-routing/system/controller_for",["exports"],function(e){"use strict";e["default"]=function(e,t,r){return e.lookup("controller:"+t,r)}}),e("ember-routing/system/dsl",["ember-metal/core","exports"],function(e,t){"use strict";function r(e){this.parent=e,this.matches=[]}function n(e){return e.parent&&"application"!==e.parent}function i(e,t,r){r=r||{},"string"!=typeof r.path&&(r.path="/"+t),n(e)&&r.resetNamespace!==!0&&(t=e.parent+"."+t),e.push(r.path,t,null)}e["default"];t["default"]=r,r.prototype={route:function(e,t,o){2===arguments.length&&"function"==typeof t&&(o=t,t={}),1===arguments.length&&(t={});t.resetNamespace===!0?"resource":"route";if("string"!=typeof t.path&&(t.path="/"+e),n(this)&&t.resetNamespace!==!0&&(e=this.parent+"."+e),o){var a=new r(e);i(a,"loading"),i(a,"error",{path:"/_unused_dummy_error_path_route_"+e+"/:error"}),o&&o.call(a),this.push(t.path,e,a.generate())}else this.push(t.path,e,null)},push:function(e,t,r){var n=t.split(".");(""===e||"/"===e||"index"===n[n.length-1])&&(this.explicitIndex=!0),this.matches.push([e,t,r])},resource:function(e,t,r){2===arguments.length&&"function"==typeof t&&(r=t,t={}),1===arguments.length&&(t={}),t.resetNamespace=!0,this.route(e,t,r)},generate:function(){var e=this.matches;return this.explicitIndex||i(this,"index",{path:"/"}),function(t){for(var r=0,n=e.length;n>r;r++){var i=e[r];t(i[0]).to(i[1],i[2])}}}},r.map=function(e){var t=new r;return e.call(t),t}}),e("ember-routing/system/generate_controller",["ember-metal/core","ember-metal/property_get","ember-metal/utils","exports"],function(e,t,r,n){"use strict";function i(e,t,r){var n,i,o,s;return s=r&&a(r)?"array":r?"object":"basic",o="controller:"+s,n=e.lookupFactory(o).extend({isGenerated:!0,toString:function(){return"(generated "+t+" controller)"}}),i="controller:"+t,e.register(i,n),n}var o=(e["default"],t.get),a=r.isArray;n.generateControllerFactory=i,n["default"]=function(e,t,r){i(e,t,r);var n="controller:"+t,a=e.lookup(n);return o(a,"namespace.LOG_ACTIVE_GENERATION"),a}}),e("ember-routing/system/route",["ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/get_properties","ember-metal/enumerable_utils","ember-metal/is_none","ember-metal/computed","ember-metal/merge","ember-metal/utils","ember-metal/run_loop","ember-metal/keys","ember-runtime/copy","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/mixins/action_handler","ember-routing/system/generate_controller","ember-routing-handlebars/helpers/shared","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d,p,m,g,y,v){"use strict";function b(e){var t=E(e,e.router.router.state.handlerInfos,-1);return t&&t.handler}function E(e,t,r){if(t)for(var n,i=r||0,o=0,a=t.length;a>o;o++)if(n=t[o].handler,n===e)return t[o+i]}function x(e){var t,r=b(e);if(r)return(t=r.lastRenderedTemplate)?t:x(r)}function w(e,t,r,n){n=n||{},n.into=n.into?n.into.replace(/\//g,"."):x(e),n.outlet=n.outlet||"main",n.name=t,n.template=r,n.LOG_VIEW_LOOKUPS=P(e.router,"namespace.LOG_VIEW_LOOKUPS");var i=n.controller,o=n.model;if(i=n.controller?n.controller:n.namePassed?e.container.lookup("controller:"+t)||e.controllerName||e.routeName:e.controllerName||e.container.lookup("controller:"+t),"string"==typeof i){var a=i;if(i=e.container.lookup("controller:"+a),!i)throw new N("You passed `controller: '"+a+"'` into the `render` method, but no such controller could be found.")}return o&&i.set("model",o),n.controller=i,n}function _(e,t,r){if(e)r.LOG_VIEW_LOOKUPS;else{var n=r.into?"view:default":"view:toplevel";e=t.lookup(n),r.LOG_VIEW_LOOKUPS}return P(e,"templateName")||(k(e,"template",r.template),k(e,"_debugTemplateName",r.name)),k(e,"renderedName",r.name),k(e,"controller",r.controller),e}function T(e,t,r){if(r.into){var n=e.router._lookupActiveView(r.into),i=S(n,r.outlet);e.teardownOutletViews||(e.teardownOutletViews=[]),D(e.teardownOutletViews,0,0,[i]),n.connectOutlet(r.outlet,t)}else{var o=P(e,"router.namespace.rootElement");e.teardownTopLevelView&&e.teardownTopLevelView(),e.router._connectActiveView(r.name,t),e.teardownTopLevelView=R(t),t.appendTo(o)}}function R(e){return function(){e.destroy()}}function S(e,t){return function(){e.disconnectOutlet(t)}}function C(e,t){if(t.fullQueryParams)return t.fullQueryParams;t.fullQueryParams={},B(t.fullQueryParams,t.queryParams);var r=t.handlerInfos[t.handlerInfos.length-1].name;return e._deserializeQueryParams(r,t.fullQueryParams),t.fullQueryParams}function H(e,t){t.queryParamsFor=t.queryParamsFor||{};var r=e.routeName;if(t.queryParamsFor[r])return t.queryParamsFor[r];for(var n=C(e.router,t),i=t.queryParamsFor[r]={},o=P(e,"_qp"),a=o.qps,s=0,u=a.length;u>s;++s){var c=a[s],l=c.prop in n;i[c.prop]=l?n[c.prop]:M(c.def)}return i}function M(e){return I(e)?A.A(e.slice()):e}var A=e["default"],N=t["default"],P=r.get,k=n.set,O=i["default"],L=o.forEach,D=o.replace,F=(a.isNone,s.computed),B=u["default"],I=c.isArray,z=c.typeOf,U=l["default"],V=h["default"],j=f["default"],q=(d.classify,d.fmt,p["default"]),G=m["default"],W=g["default"],K=y.stashParamNames,X=q.extend(G,{queryParams:{},_qp:F(function(){var e=this.controllerName||this.routeName,t=this.container.lookupFactory("controller:"+e);if(!t)return Y;var r=t.proto(),n=P(r,"_normalizedQueryParams"),i=P(r,"_cacheMeta"),o=[],a={},s=this;for(var u in n)if(n.hasOwnProperty(u)){var c=n[u],l=c.as||this.serializeQueryParamKey(u),h=P(r,u);I(h)&&(h=A.A(h.slice()));var f=z(h),d=this.serializeQueryParam(h,l,f),p=e+":"+u,m={def:h,sdef:d,type:f,urlKey:l,prop:u,fprop:p,ctrl:e,cProto:r,svalue:d,cacheType:c.scope,route:this,cacheMeta:i[u]};a[u]=a[l]=a[p]=m,o.push(m)}return{qps:o,map:a,states:{active:function(e,t){return s._activeQPChanged(e,a[t])},allowOverrides:function(e,t){return s._updatingQPChanged(e,a[t])},changingKeys:function(e,t){return s._updateSerializedQPValue(e,a[t])}}}}),_names:null,_stashNames:function(e,t){var r=e;if(!this._names){var n=this._names=r._names;n.length||(r=t,n=r&&r._names||[]);for(var i=P(this,"_qp.qps"),o=i.length,a=new Array(n.length),s=0,u=n.length;u>s;++s)a[s]=r.name+"."+n[s];for(var c=0;o>c;++c){var l=i[c],h=l.cacheMeta;"model"===h.scope&&(h.parts=a),h.prefix=l.ctrl}}},_updateSerializedQPValue:function(e,t){var r=P(e,t.prop);t.svalue=this.serializeQueryParam(r,t.urlKey,t.type)},_activeQPChanged:function(e,t){var r=P(e,t.prop);this.router._queuedQPChanges[t.fprop]=r,U.once(this,this._fireQueryParamTransition)},_updatingQPChanged:function(e,t){var r=this.router;r._qpUpdates||(r._qpUpdates={}),r._qpUpdates[t.urlKey]=!0},mergedProperties:["events","queryParams"],paramsFor:function(e){var t=this.container.lookup("route:"+e);if(!t)return{};var r=this.router.router.activeTransition,n=r?r.state:this.router.router.state,i={};return B(i,n.params[e]),B(i,H(t,n)),i},serializeQueryParamKey:function(e){return e},serializeQueryParam:function(e,t,r){return"array"===r?JSON.stringify(e):""+e},deserializeQueryParam:function(e,t,r){return"boolean"===r?"true"===e?!0:!1:"number"===r?Number(e).valueOf():"array"===r?A.A(JSON.parse(e)):e},_fireQueryParamTransition:function(){this.transitionTo({queryParams:this.router._queuedQPChanges}),this.router._queuedQPChanges={}},resetController:A.K,exit:function(){this.deactivate(),this.teardownViews()},_reset:function(e,t){var r=this.controller;r._qpDelegate=P(this,"_qp.states.inactive"),this.resetController(r,e,t)},enter:function(){this.activate()},viewName:null,templateName:null,controllerName:null,_actions:{queryParamsDidChange:function(e,t,r){for(var n=V(e).concat(V(r)),i=0,o=n.length;o>i;++i){var a=n[i],s=P(this.queryParams,a)||{};P(s,"refreshModel")&&this.refresh()}return!0},finalizeQueryParamChange:function(e,t,r){if("application"!==this.routeName)return!0;if(r){var n,i=r.state.handlerInfos,o=this.router,a=o._queryParamsFor(i[i.length-1].name),s=o._qpUpdates;K(o,i);for(var u=0,c=a.qps.length;c>u;++u){var l,h,f=a.qps[u],d=f.route,p=d.controller,m=f.urlKey in e&&f.urlKey;s&&f.urlKey in s?(l=P(p,f.prop),h=d.serializeQueryParam(l,f.urlKey,f.type)):m?(h=e[m],l=d.deserializeQueryParam(h,f.urlKey,f.type)):(h=f.sdef,l=M(f.def)),p._qpDelegate=P(this,"_qp.states.inactive");var g=h!==f.svalue;if(g){var y=P(d,"queryParams."+f.urlKey)||{};if(r.queryParamsOnly&&n!==!1){var v=P(y,"replace");v?n=!0:v===!1&&(n=!1)}k(p,f.prop,l)}f.svalue=h;var b=f.sdef===h;b||t.push({value:h,visible:!0,key:m||f.urlKey})}n&&r.method("replace"),L(a.qps,function(e){var t=P(e.route,"_qp"),r=e.route.controller;r._qpDelegate=P(t,"states.active")}),o._qpUpdates=null}}},events:null,deactivate:A.K,activate:A.K,transitionTo:function(){var e=this.router;return e.transitionTo.apply(e,arguments)},intermediateTransitionTo:function(){var e=this.router;e.intermediateTransitionTo.apply(e,arguments)},refresh:function(){return this.router.router.refresh(this)},replaceWith:function(){var e=this.router;return e.replaceWith.apply(e,arguments)},send:function(){return this.router.send.apply(this.router,arguments)},setup:function(e,t){var r=this.controllerName||this.routeName,n=this.controllerFor(r,!0);if(n||(n=this.generateController(r,e)),this.controller=n,this.setupControllers)this.setupControllers(n,e);else{var i=P(this,"_qp.states");if(t&&(K(this.router,t.state.handlerInfos),n._qpDelegate=i.changingKeys,n._updateCacheParams(t.params)),n._qpDelegate=i.allowOverrides,t){var o=H(this,t.state);n.setProperties(o)}this.setupController(n,e,t)}this.renderTemplates?this.renderTemplates(e):this.renderTemplate(n,e)},beforeModel:A.K,afterModel:A.K,redirect:A.K,contextDidChange:function(){this.currentModel=this.context},model:function(e,t){var r,n,i,o,a=P(this,"_qp.map");for(var s in e)"queryParams"===s||a&&s in a||((r=s.match(/^(.*)_id$/))&&(n=r[1],o=e[s]),i=!0);if(!n&&i)return j(e);if(!n){if(t.resolveIndex<1)return;var u=t.state.handlerInfos[t.resolveIndex-1].context;return u}return this.findModel(n,o)},deserialize:function(e,t){return this.model(this.paramsFor(this.routeName),t)},findModel:function(){var e=P(this,"store");return e.find.apply(e,arguments)},store:F(function(){{var e=this.container;this.routeName,P(this,"router.namespace")}return{find:function(t,r){var n=e.lookupFactory("model:"+t);if(n)return n.find(r)}}}),serialize:function(e,t){if(!(t.length<1)&&e){var r=t[0],n={};return/_id$/.test(r)&&1===t.length?n[r]=P(e,"id"):n=O(e,t),n}},setupController:function(e,t){e&&void 0!==t&&k(e,"model",t)},controllerFor:function(e){var t,r=this.container,n=r.lookup("route:"+e);return n&&n.controllerName&&(e=n.controllerName),t=r.lookup("controller:"+e)},generateController:function(e,t){var r=this.container;return t=t||this.modelFor(e),W(r,e,t)},modelFor:function(e){var t=this.container.lookup("route:"+e),r=this.router?this.router.router.activeTransition:null;if(r){var n=t&&t.routeName||e;if(r.resolvedModels.hasOwnProperty(n))return r.resolvedModels[n]}return t&&t.currentModel},renderTemplate:function(){this.render()},render:function(e,t){var r="string"==typeof e&&!!e;"object"!=typeof e||t||(t=e,e=this.routeName),t=t||{},t.namePassed=r;var n;e?(e=e.replace(/\//g,"."),n=e):(e=this.routeName,n=this.templateName||e);var i=t.view||r&&e||this.viewName||e,o=this.container,a=o.lookup("view:"+i),s=a?a.get("template"):null;return s||(s=o.lookup("template:"+n)),a||s?(t=w(this,e,s,t),a=_(a,o,t),"main"===t.outlet&&(this.lastRenderedTemplate=e),void T(this,a,t)):void P(this.router,"namespace.LOG_VIEW_LOOKUPS")},disconnectOutlet:function(e){if(!e||"string"==typeof e){var t=e;e={},e.outlet=t}e.parentView=e.parentView?e.parentView.replace(/\//g,"."):x(this),e.outlet=e.outlet||"main";var r=this.router._lookupActiveView(e.parentView);r&&r.disconnectOutlet(e.outlet)},willDestroy:function(){this.teardownViews()},teardownViews:function(){this.teardownTopLevelView&&this.teardownTopLevelView();var e=this.teardownOutletViews||[];L(e,function(e){e()}),delete this.teardownTopLevelView,delete this.teardownOutletViews,delete this.lastRenderedTemplate}}),Y={qps:[],map:{},states:{}};v["default"]=X}),e("ember-routing/system/router",["ember-metal/core","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/properties","ember-metal/computed","ember-metal/merge","ember-metal/run_loop","ember-metal/enumerable_utils","ember-runtime/system/string","ember-runtime/system/object","ember-runtime/mixins/evented","ember-routing/system/dsl","ember-views/views/view","ember-routing/location/api","ember-handlebars/views/metamorph_view","ember-routing-handlebars/helpers/shared","ember-metal/platform","exports"],function(e,r,n,i,o,a,s,u,c,l,h,f,d,p,m,g,y,v,b){"use strict";function E(e,t,r){for(var n,i,o=t.state.handlerInfos,a=!1,s=o.length-1;s>=0;--s)if(n=o[s],i=n.handler,a){if(r(i,o[s+1].handler)!==!0)return!1}else e===i&&(a=!0);return!0}function x(e,t){var r=[];t&&r.push(t),e&&(e.message&&r.push(e.message),e.stack&&r.push(e.stack),"string"==typeof e&&r.push(e)),A.Logger.error.apply(this,r)}function w(e,t,r){var n,i=e.router,o=(t.routeName.split(".").pop(),"application"===e.routeName?"":e.routeName+".");return n=o+r,_(i,n)?n:void 0}function _(e,t){var r=e.container;return e.hasRoute(t)&&(r.has("template:"+t)||r.has("route:"+t))}function T(e,t,r){var n=r.shift();if(!e){if(t)return;throw new N("Can't trigger action '"+n+"' because your app hasn't finished transitioning into its first route. To trigger an action on destination routes during a transition, you can call `.send()` on the `Transition` object passed to the `model/beforeModel/afterModel` hooks.")}for(var i,o,a=!1,s=e.length-1;s>=0;s--)if(i=e[s],o=i.handler,o._actions&&o._actions[n]){if(o._actions[n].apply(o,r)!==!0)return;a=!0}if($[n])return void $[n].apply(null,r);if(!a&&!t)throw new N("Nothing handled the action '"+n+"'. If you did handle the action, this error can be caused by returning true from an action handler in a controller, causing the action to bubble.")}function R(e,t,r){for(var n=e.router,i=n.applyIntent(t,r),o=i.handlerInfos,a=i.params,s=0,u=o.length;u>s;++s){var c=o[s];c.isResolved||(c=c.becomeResolved(null,c.context)),a[c.name]=c.params}return i}function S(e){var t=e.container.lookup("controller:application");if(t){var r=e.router.currentHandlerInfos,n=Y._routePath(r);"currentPath"in t||O(t,"currentPath"),k(t,"currentPath",n),"currentRouteName"in t||O(t,"currentRouteName"),k(t,"currentRouteName",r[r.length-1].name)}}function C(e){e.then(null,function(e){return e&&e.name?("UnrecognizedURLError"===e.name,e):void 0},"Ember: Process errors from Router")}function H(e){return"string"==typeof e&&(""===e||"/"===e.charAt(0))}function M(e,t,r,n){{var i=e._queryParamsFor(t);i.qps}for(var o in r)if(r.hasOwnProperty(o)){var a=r[o],s=i.map[o];s&&n(o,a,s)}}var A=e["default"],N=r["default"],P=n.get,k=i.set,O=o.defineProperty,L=a.computed,D=s["default"],F=u["default"],B=(c.forEach,l.fmt,h["default"]),I=f["default"],z=d["default"],U=p["default"],V=m["default"],j=g["default"],q=y.routeArgs,G=y.getActiveTargetName,W=y.stashParamNames,K=(v.create,t("router")["default"]),X=(t("router/transition").Transition,[].slice),Y=B.extend(I,{location:"hash",rootURL:"/",init:function(){this.router=this.constructor.router||this.constructor.map(A.K),this._activeViews={},this._setupLocation(),this._qpCache={},this._queuedQPChanges={},P(this,"namespace.LOG_TRANSITIONS_INTERNAL")&&(this.router.log=A.Logger.debug)},url:L(function(){return P(this,"location").getURL()}),startRouting:function(){this.router=this.router||this.constructor.map(A.K);var e=this.router,t=P(this,"location"),r=this.container,n=this,i=P(this,"initialURL");P(t,"cancelRouterSetup")||(this._setupRouter(e,t),r.register("view:default",j),r.register("view:toplevel",U.extend()),t.onUpdateURL(function(e){n.handleURL(e)}),"undefined"==typeof i&&(i=t.getURL()),this.handleURL(i))},didTransition:function(e){S(this),this._cancelLoadingEvent(),this.notifyPropertyChange("url"),F.once(this,this.trigger,"didTransition"),P(this,"namespace").LOG_TRANSITIONS&&A.Logger.log("Transitioned into '"+Y._routePath(e)+"'")},handleURL:function(e){return this._doURLTransition("handleURL",e)},_doURLTransition:function(e,t){var r=this.router[e](t||"/");return C(r),r},transitionTo:function(){var e,t=X.call(arguments);if(H(t[0]))return this._doURLTransition("transitionTo",t[0]);var r=t[t.length-1];e=r&&r.hasOwnProperty("queryParams")?t.pop().queryParams:{};var n=t.shift();return this._doTransition(n,t,e)},intermediateTransitionTo:function(){this.router.intermediateTransitionTo.apply(this.router,arguments),S(this);var e=this.router.currentHandlerInfos;P(this,"namespace").LOG_TRANSITIONS&&A.Logger.log("Intermediate-transitioned into '"+Y._routePath(e)+"'")},replaceWith:function(){return this.transitionTo.apply(this,arguments).method("replace")},generate:function(){var e=this.router.generate.apply(this.router,arguments);return this.location.formatURL(e)},isActive:function(){var e=this.router;return e.isActive.apply(e,arguments)},isActiveIntent:function(){var e=this.router;return e.isActive.apply(e,arguments)},send:function(){this.router.trigger.apply(this.router,arguments)},hasRoute:function(e){return this.router.hasRoute(e)},reset:function(){this.router.reset()},_lookupActiveView:function(e){var t=this._activeViews[e];return t&&t[0]},_connectActiveView:function(e,t){function r(){delete this._activeViews[e]}var n=this._activeViews[e];n&&n[0].off("willDestroyElement",this,n[1]),this._activeViews[e]=[t,r],t.one("willDestroyElement",this,r)},_setupLocation:function(){var e=P(this,"location"),t=P(this,"rootURL");if(t&&this.container&&!this.container.has("-location-setting:root-url")&&this.container.register("-location-setting:root-url",t,{instantiate:!1}),"string"==typeof e&&this.container){var r=this.container.lookup("location:"+e);if("undefined"!=typeof r)e=k(this,"location",r);else{var n={implementation:e};e=k(this,"location",V.create(n))}}null!==e&&"object"==typeof e&&(t&&"string"==typeof t&&(e.rootURL=t),"function"==typeof e.initState&&e.initState())},_getHandlerFunction:function(){var e={},t=this.container,r=t.lookupFactory("route:basic"),n=this;return function(i){var o="route:"+i,a=t.lookup(o);return e[i]?a:(e[i]=!0,a||(t.register(o,r.extend()),a=t.lookup(o),P(n,"namespace.LOG_ACTIVE_GENERATION")),a.routeName=i,a)}},_setupRouter:function(e,t){var r,n=this;e.getHandler=this._getHandlerFunction();var i=function(){t.setURL(r)};if(e.updateURL=function(e){r=e,F.once(i)},t.replaceURL){var o=function(){t.replaceURL(r)};e.replaceURL=function(e){r=e,F.once(o)}}e.didTransition=function(e){n.didTransition(e)}},_serializeQueryParams:function(e,t){var r={};M(this,e,t,function(e,n,i){var o=i.urlKey;r[o]||(r[o]=[]),r[o].push({qp:i,value:n}),delete t[e]});for(var n in r){var i=r[n];if(i.length>1){i[0].qp,i[1].qp}var o=i[0].qp;t[o.urlKey]=o.route.serializeQueryParam(i[0].value,o.urlKey,o.type)}},_deserializeQueryParams:function(e,t){M(this,e,t,function(e,r,n){delete t[e],t[n.prop]=n.route.deserializeQueryParam(r,n.urlKey,n.type)})},_pruneDefaultQueryParamValues:function(e,t){var r=this._queryParamsFor(e);for(var n in t){var i=r.map[n];i&&i.sdef===t[n]&&delete t[n]}},_doTransition:function(e,t,r){var n=e||G(this.router),i={};D(i,r),this._prepareQueryParams(n,t,i);var o=q(n,t,i),a=this.router.transitionTo.apply(this.router,o);return C(a),a},_prepareQueryParams:function(e,t,r){this._hydrateUnsuppliedQueryParams(e,t,r),this._serializeQueryParams(e,r),this._pruneDefaultQueryParamValues(e,r)},_queryParamsFor:function(e){if(this._qpCache[e])return this._qpCache[e];
for(var t={},r=[],n=(this._qpCache[e]={map:t,qps:r},this.router),i=n.recognizer.handlersFor(e),o=0,a=i.length;a>o;++o){var s=i[o],u=n.getHandler(s.handler),c=P(u,"_qp");c&&(D(t,c.map),r.push.apply(r,c.qps))}return{qps:r,map:t}},_hydrateUnsuppliedQueryParams:function(e,t,r){var n=R(this,e,t),i=n.handlerInfos,o=this._bucketCache;W(this,i);for(var a=0,s=i.length;s>a;++a)for(var u=i[a].handler,c=P(u,"_qp"),l=0,h=c.qps.length;h>l;++l){var f=c.qps[l],d=f.prop in r&&f.prop||f.fprop in r&&f.fprop;if(d)d!==f.fprop&&(r[f.fprop]=r[d],delete r[d]);else{var p=f.cProto,m=P(p,"_cacheMeta"),g=p._calculateCacheKey(f.ctrl,m[f.prop].parts,n.params);r[f.fprop]=o.lookup(g,f.prop,f.def)}}},_scheduleLoadingEvent:function(e,t){this._cancelLoadingEvent(),this._loadingStateTimer=F.scheduleOnce("routerTransitions",this,"_fireLoadingEvent",e,t)},_fireLoadingEvent:function(e,t){this.router.activeTransition&&e.trigger(!0,"loading",e,t)},_cancelLoadingEvent:function(){this._loadingStateTimer&&F.cancel(this._loadingStateTimer),this._loadingStateTimer=null}}),$={willResolveModel:function(e,t){t.router._scheduleLoadingEvent(e,t)},error:function(e,t,r){var n=r.router,i=E(r,t,function(t,r){var i=w(t,r,"error");return i?void n.intermediateTransitionTo(i,e):!0});return i&&_(r.router,"application_error")?void n.intermediateTransitionTo("application_error",e):void x(e,"Error while processing route: "+t.targetName)},loading:function(e,t){var r=t.router,n=E(t,e,function(t,n){var i=w(t,n,"loading");return i?void r.intermediateTransitionTo(i):e.pivotHandler!==t?!0:void 0});return n&&_(t.router,"application_loading")?void r.intermediateTransitionTo("application_loading"):void 0}};Y.reopenClass({router:null,map:function(e){var t=this.router;t||(t=new K,t._triggerWillChangeContext=A.K,t._triggerWillLeave=A.K,t.callbacks=[],t.triggerEvent=T,this.reopenClass({router:t}));var r=z.map(function(){this.resource("application",{path:"/"},function(){for(var r=0;r<t.callbacks.length;r++)t.callbacks[r].call(this);e.call(this)})});return t.callbacks.push(e),t.map(r.generate()),t},_routePath:function(e){function t(e,t){for(var r=0,n=e.length;n>r;++r)if(e[r]!==t[r])return!1;return!0}for(var r,n,i,o=[],a=1,s=e.length;s>a;a++){for(r=e[a].name,n=r.split("."),i=X.call(o);i.length&&!t(i,n);)i.shift();o.push.apply(o,n.slice(i.length))}return o.join(".")}}),b["default"]=Y}),e("ember-runtime",["ember-metal","ember-runtime/core","ember-runtime/compare","ember-runtime/copy","ember-runtime/system/namespace","ember-runtime/system/object","ember-runtime/system/tracked_array","ember-runtime/system/subarray","ember-runtime/system/container","ember-runtime/system/application","ember-runtime/system/array_proxy","ember-runtime/system/object_proxy","ember-runtime/system/core_object","ember-runtime/system/each_proxy","ember-runtime/system/native_array","ember-runtime/system/set","ember-runtime/system/string","ember-runtime/system/deferred","ember-runtime/system/lazy_load","ember-runtime/mixins/array","ember-runtime/mixins/comparable","ember-runtime/mixins/copyable","ember-runtime/mixins/enumerable","ember-runtime/mixins/freezable","ember-runtime/mixins/-proxy","ember-runtime/mixins/observable","ember-runtime/mixins/action_handler","ember-runtime/mixins/deferred","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/mutable_array","ember-runtime/mixins/target_action_support","ember-runtime/mixins/evented","ember-runtime/mixins/promise_proxy","ember-runtime/mixins/sortable","ember-runtime/computed/array_computed","ember-runtime/computed/reduce_computed","ember-runtime/computed/reduce_computed_macros","ember-runtime/controllers/array_controller","ember-runtime/controllers/object_controller","ember-runtime/controllers/controller","ember-runtime/mixins/controller","ember-runtime/ext/rsvp","ember-runtime/ext/string","ember-runtime/ext/function","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d,p,m,g,y,v,b,E,x,w,_,T,R,S,C,H,M,A,N,P,k,O,L,D,F,B,I,z,U,V,j,q){"use strict";var G=e["default"],W=t.isEqual,K=r["default"],X=n["default"],Y=i["default"],$=o["default"],Q=a["default"],Z=s["default"],J=u["default"],et=(c["default"],l["default"]),tt=h["default"],rt=f["default"],nt=d.EachArray,it=d.EachProxy,ot=p["default"],at=m["default"],st=g["default"],ut=y["default"],ct=v.onLoad,lt=v.runLoadHooks,ht=b["default"],ft=E["default"],dt=x["default"],pt=w["default"],mt=_.Freezable,gt=_.FROZEN_ERROR,yt=T["default"],vt=R["default"],bt=S["default"],Et=C["default"],xt=H["default"],wt=M["default"],_t=A["default"],Tt=N["default"],Rt=P["default"],St=k["default"],Ct=O.arrayComputed,Ht=O.ArrayComputedProperty,Mt=L.reduceComputed,At=L.ReduceComputedProperty,Nt=D.sum,Pt=D.min,kt=D.max,Ot=D.map,Lt=D.sort,Dt=D.setDiff,Ft=D.mapBy,Bt=D.mapProperty,It=D.filter,zt=D.filterBy,Ut=D.filterProperty,Vt=D.uniq,jt=D.union,qt=D.intersect,Gt=F["default"],Wt=B["default"],Kt=I["default"],Xt=z["default"],Yt=U["default"];G.compare=K,G.copy=X,G.isEqual=W,G.Array=ht,G.Comparable=ft,G.Copyable=dt,G.SortableMixin=St,G.Freezable=mt,G.FROZEN_ERROR=gt,G.DeferredMixin=Et,G.MutableEnumerable=xt,G.MutableArray=wt,G.TargetActionSupport=_t,G.Evented=Tt,G.PromiseProxyMixin=Rt,G.Observable=vt,G.arrayComputed=Ct,G.ArrayComputedProperty=Ht,G.reduceComputed=Mt,G.ReduceComputedProperty=At;var $t=G.computed;$t.sum=Nt,$t.min=Pt,$t.max=kt,$t.map=Ot,$t.sort=Lt,$t.setDiff=Dt,$t.mapBy=Ft,$t.mapProperty=Bt,$t.filter=It,$t.filterBy=zt,$t.filterProperty=Ut,$t.uniq=Vt,$t.union=jt,$t.intersect=qt,G.String=st,G.Object=$,G.TrackedArray=Q,G.SubArray=Z,G.Container=J,G.Namespace=Y,G.Enumerable=pt,G.ArrayProxy=et,G.ObjectProxy=tt,G.ActionHandler=bt,G.CoreObject=rt,G.EachArray=nt,G.EachProxy=it,G.NativeArray=ot,G.Set=at,G.Deferred=ut,G.onLoad=ct,G.runLoadHooks=lt,G.ArrayController=Gt,G.ObjectController=Wt,G.Controller=Kt,G.ControllerMixin=Xt,G._ProxyMixin=yt,G.RSVP=Yt,q["default"]=G}),e("ember-runtime/compare",["ember-metal/utils","ember-runtime/mixins/comparable","exports"],function(e,t,r){"use strict";function n(e,t){var r=e-t;return(r>0)-(0>r)}var i=e.typeOf,o=t["default"],a={undefined:0,"null":1,"boolean":2,number:3,string:4,array:5,object:6,instance:7,"function":8,"class":9,date:10};r["default"]=function s(e,t){if(e===t)return 0;var r=i(e),u=i(t);if(o){if("instance"===r&&o.detect(e.constructor))return e.constructor.compare(e,t);if("instance"===u&&o.detect(t.constructor))return 1-t.constructor.compare(t,e)}var c=n(a[r],a[u]);if(0!==c)return c;switch(r){case"boolean":case"number":return n(e,t);case"string":return n(e.localeCompare(t),0);case"array":for(var l=e.length,h=t.length,f=Math.min(l,h),d=0;f>d;d++){var p=s(e[d],t[d]);if(0!==p)return p}return n(l,h);case"instance":return o&&o.detect(e)?e.compare(e,t):0;case"date":return n(e.getTime(),t.getTime());default:return 0}}}),e("ember-runtime/computed/array_computed",["ember-metal/core","ember-runtime/computed/reduce_computed","ember-metal/enumerable_utils","ember-metal/platform","ember-metal/observer","ember-metal/error","exports"],function(e,t,r,n,i,o,a){"use strict";function s(){var e=this;return l.apply(this,arguments),this.func=function(t){return function(r){return e._hasInstanceMeta(this,r)||h(e._dependentKeys,function(t){d(this,t,function(){e.recomputeOnce.call(this,r)})},this),t.apply(this,arguments)}}(this.func),this}function u(e){var t;if(arguments.length>1&&(t=m.call(arguments,0,-1),e=m.call(arguments,-1)[0]),"object"!=typeof e)throw new p("Array Computed Property declared without an options hash");var r=new s(e);return t&&r.property.apply(r,t),r}var c=e["default"],l=(t.reduceComputed,t.ReduceComputedProperty),h=r.forEach,f=n.create,d=i.addObserver,p=o["default"],m=[].slice;s.prototype=f(l.prototype),s.prototype.initialValue=function(){return c.A()},s.prototype.resetValue=function(e){return e.clear(),e},s.prototype.didChange=function(){},a.arrayComputed=u,a.ArrayComputedProperty=s}),e("ember-runtime/computed/reduce_computed",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/error","ember-metal/property_events","ember-metal/expand_properties","ember-metal/observer","ember-metal/computed","ember-metal/platform","ember-metal/enumerable_utils","ember-runtime/system/tracked_array","ember-runtime/mixins/array","ember-metal/run_loop","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d,p){"use strict";function m(e,t){return"@this"===t?e:H(e,t)}function g(e,t,r){this.callbacks=e,this.cp=t,this.instanceMeta=r,this.dependentKeysByGuid={},this.trackedArraysByGuid={},this.suspended=!1,this.changedItems={},this.changedItemCount=0}function y(e,t,r){this.dependentArray=e,this.index=t,this.item=e.objectAt(t),this.trackedArray=r,this.beforeObserver=null,this.observer=null,this.destroyed=!1}function v(e,t,r){return 0>e?Math.max(0,t+e):t>e?e:Math.min(t-r,e)}function b(e,t,r){return Math.min(r,t-e)}function E(e,t,r,n,i,o,a){this.arrayChanged=e,this.index=r,this.item=t,this.propertyName=n,this.property=i,this.changedCount=o,a&&(this.previousValues=a)}function x(e,t,r,n,i){V(e,function(o,a){i.setValue(t.addedItem.call(this,i.getValue(),o,new E(e,o,a,n,r,e.length),i.sugarMeta))},this),t.flushedChanges.call(this,i.getValue(),i.sugarMeta)}function w(e,t){var r=(e._callbacks(),e._hasInstanceMeta(this,t)),n=e._instanceMeta(this,t);r&&n.setValue(e.resetValue(n.getValue())),e.options.initialize&&e.options.initialize.call(this,n.getValue(),{property:e,propertyName:t},n.sugarMeta)}function _(e,t){if(Z.test(t))return!1;var r=m(e,t);return q.detect(r)}function T(e,t,r){this.context=e,this.propertyName=t,this.cache=A(e).cache,this.dependentArrays={},this.sugarMeta={},this.initialValue=r}function R(e){var t=this;this.options=e,this._dependentKeys=null,this._itemPropertyKeys={},this._previousItemPropertyKeys={},this.readOnly(),this.cacheable(),this.recomputeOnce=function(e){G.once(this,r,e)};var r=function(e){var r=(t._dependentKeys,t._instanceMeta(this,e)),n=t._callbacks();w.call(this,t,e),r.dependentArraysObserver.suspendArrayObservers(function(){V(t._dependentKeys,function(e){if(_(this,e)){var n=m(this,e),i=r.dependentArrays[e];n===i?t._previousItemPropertyKeys[e]&&(delete t._previousItemPropertyKeys[e],r.dependentArraysObserver.setupPropertyObservers(e,t._itemPropertyKeys[e])):(r.dependentArrays[e]=n,i&&r.dependentArraysObserver.teardownObservers(i,e),n&&r.dependentArraysObserver.setupObservers(n,e))}},this)},this),V(t._dependentKeys,function(i){if(_(this,i)){var o=m(this,i);o&&x.call(this,o,n,t,e,r)}},this)};this.func=function(e){return r.call(this,e),t._instanceMeta(this,e).getValue()}}function S(e){return e}function C(e){var t;if(arguments.length>1&&(t=Y.call(arguments,0,-1),e=Y.call(arguments,-1)[0]),"object"!=typeof e)throw new N("Reduce Computed Property declared without an options hash");if(!("initialValue"in e))throw new N("Reduce Computed Property declared without an initial value");var r=new R(e);return t&&r.property.apply(r,t),r}var H=(e["default"],t.get),M=(r.set,n.guidFor),A=n.meta,N=i["default"],P=o.propertyWillChange,k=o.propertyDidChange,O=a["default"],L=s.addObserver,D=(s.observersFor,s.removeObserver),F=s.addBeforeObserver,B=s.removeBeforeObserver,I=u.ComputedProperty,z=u.cacheFor,U=c.create,V=l.forEach,j=h["default"],q=f["default"],G=d["default"],W=(n.isArray,z.set),K=z.get,X=z.remove,Y=[].slice,$=/^(.*)\.@each\.(.*)/,Q=/(.*\.@each){2,}/,Z=/\.\[\]$/;g.prototype={setValue:function(e){this.instanceMeta.setValue(e,!0)},getValue:function(){return this.instanceMeta.getValue()},setupObservers:function(e,t){this.dependentKeysByGuid[M(e)]=t,e.addArrayObserver(this,{willChange:"dependentArrayWillChange",didChange:"dependentArrayDidChange"}),this.cp._itemPropertyKeys[t]&&this.setupPropertyObservers(t,this.cp._itemPropertyKeys[t])},teardownObservers:function(e,t){var r=this.cp._itemPropertyKeys[t]||[];delete this.dependentKeysByGuid[M(e)],this.teardownPropertyObservers(t,r),e.removeArrayObserver(this,{willChange:"dependentArrayWillChange",didChange:"dependentArrayDidChange"})},suspendArrayObservers:function(e,t){var r=this.suspended;this.suspended=!0,e.call(t),this.suspended=r},setupPropertyObservers:function(e,t){var r=m(this.instanceMeta.context,e),n=m(r,"length"),i=new Array(n);this.resetTransformations(e,i),V(r,function(n,o){var a=this.createPropertyObserverContext(r,o,this.trackedArraysByGuid[e]);i[o]=a,V(t,function(e){F(n,e,this,a.beforeObserver),L(n,e,this,a.observer)},this)},this)},teardownPropertyObservers:function(e,t){var r,n,i,o=this,a=this.trackedArraysByGuid[e];a&&a.apply(function(e,a,s){s!==j.DELETE&&V(e,function(e){e.destroyed=!0,r=e.beforeObserver,n=e.observer,i=e.item,V(t,function(e){B(i,e,o,r),D(i,e,o,n)})})})},createPropertyObserverContext:function(e,t,r){var n=new y(e,t,r);return this.createPropertyObserver(n),n},createPropertyObserver:function(e){var t=this;e.beforeObserver=function(r,n){return t.itemPropertyWillChange(r,n,e.dependentArray,e)},e.observer=function(r,n){return t.itemPropertyDidChange(r,n,e.dependentArray,e)}},resetTransformations:function(e,t){this.trackedArraysByGuid[e]=new j(t)},trackAdd:function(e,t,r){var n=this.trackedArraysByGuid[e];n&&n.addItems(t,r)},trackRemove:function(e,t,r){var n=this.trackedArraysByGuid[e];return n?n.removeItems(t,r):[]},updateIndexes:function(e,t){var r=m(t,"length");e.apply(function(e,t,n,i){n!==j.DELETE&&(0!==i||n!==j.RETAIN||e.length!==r||0!==t)&&V(e,function(e,r){e.index=r+t})})},dependentArrayWillChange:function(e,t,r){function n(e){u[s].destroyed=!0,B(o,e,this,u[s].beforeObserver),D(o,e,this,u[s].observer)}if(!this.suspended){var i,o,a,s,u,c=this.callbacks.removedItem,l=M(e),h=this.dependentKeysByGuid[l],f=this.cp._itemPropertyKeys[h]||[],d=m(e,"length"),p=v(t,d,0),g=b(p,d,r);for(u=this.trackRemove(h,p,g),s=g-1;s>=0&&(a=p+s,!(a>=d));--s)o=e.objectAt(a),V(f,n,this),i=new E(e,o,a,this.instanceMeta.propertyName,this.cp,g),this.setValue(c.call(this.instanceMeta.context,this.getValue(),o,i,this.instanceMeta.sugarMeta));this.callbacks.flushedChanges.call(this.instanceMeta.context,this.getValue(),this.instanceMeta.sugarMeta)}},dependentArrayDidChange:function(e,t,r,n){if(!this.suspended){var i,o,a=this.callbacks.addedItem,s=M(e),u=this.dependentKeysByGuid[s],c=new Array(n),l=this.cp._itemPropertyKeys[u],h=m(e,"length"),f=v(t,h,n),d=f+n;V(e.slice(f,d),function(t,r){l&&(o=this.createPropertyObserverContext(e,f+r,this.trackedArraysByGuid[u]),c[r]=o,V(l,function(e){F(t,e,this,o.beforeObserver),L(t,e,this,o.observer)},this)),i=new E(e,t,f+r,this.instanceMeta.propertyName,this.cp,n),this.setValue(a.call(this.instanceMeta.context,this.getValue(),t,i,this.instanceMeta.sugarMeta))},this),this.callbacks.flushedChanges.call(this.instanceMeta.context,this.getValue(),this.instanceMeta.sugarMeta),this.trackAdd(u,f,c)}},itemPropertyWillChange:function(e,t,r,n){var i=M(e);this.changedItems[i]||(this.changedItems[i]={array:r,observerContext:n,obj:e,previousValues:{}}),++this.changedItemCount,this.changedItems[i].previousValues[t]=m(e,t)},itemPropertyDidChange:function(){0===--this.changedItemCount&&this.flushChanges()},flushChanges:function(){var e,t,r,n=this.changedItems;for(e in n)t=n[e],t.observerContext.destroyed||(this.updateIndexes(t.observerContext.trackedArray,t.observerContext.dependentArray),r=new E(t.array,t.obj,t.observerContext.index,this.instanceMeta.propertyName,this.cp,n.length,t.previousValues),this.setValue(this.callbacks.removedItem.call(this.instanceMeta.context,this.getValue(),t.obj,r,this.instanceMeta.sugarMeta)),this.setValue(this.callbacks.addedItem.call(this.instanceMeta.context,this.getValue(),t.obj,r,this.instanceMeta.sugarMeta)));this.changedItems={},this.callbacks.flushedChanges.call(this.instanceMeta.context,this.getValue(),this.instanceMeta.sugarMeta)}},T.prototype={getValue:function(){var e=K(this.cache,this.propertyName);return void 0!==e?e:this.initialValue},setValue:function(e,t){e!==K(this.cache,this.propertyName)&&(t&&P(this.context,this.propertyName),void 0===e?X(this.cache,this.propertyName):W(this.cache,this.propertyName,e),t&&k(this.context,this.propertyName))}},p.ReduceComputedProperty=R,R.prototype=U(I.prototype),R.prototype._callbacks=function(){if(!this.callbacks){var e=this.options;this.callbacks={removedItem:e.removedItem||S,addedItem:e.addedItem||S,flushedChanges:e.flushedChanges||S}}return this.callbacks},R.prototype._hasInstanceMeta=function(e,t){return!!A(e).cacheMeta[t]},R.prototype._instanceMeta=function(e,t){var r=A(e).cacheMeta,n=r[t];return n||(n=r[t]=new T(e,t,this.initialValue()),n.dependentArraysObserver=new g(this._callbacks(),this,n,e,t,n.sugarMeta)),n},R.prototype.initialValue=function(){return"function"==typeof this.options.initialValue?this.options.initialValue():this.options.initialValue},R.prototype.resetValue=function(){return this.initialValue()},R.prototype.itemPropertyKey=function(e,t){this._itemPropertyKeys[e]=this._itemPropertyKeys[e]||[],this._itemPropertyKeys[e].push(t)},R.prototype.clearItemPropertyKeys=function(e){this._itemPropertyKeys[e]&&(this._previousItemPropertyKeys[e]=this._itemPropertyKeys[e],this._itemPropertyKeys[e]=[])},R.prototype.property=function(){var e,t,r=this,n=Y.call(arguments),i={};V(n,function(n){if(Q.test(n))throw new N("Nested @each properties not supported: "+n);if(e=$.exec(n)){t=e[1];var o=e[2],a=function(e){r.itemPropertyKey(t,e)};O(o,a),i[M(t)]=t}else i[M(n)]=n});var o=[];for(var a in i)o.push(i[a]);return I.prototype.property.apply(this,o)},p.reduceComputed=C}),e("ember-runtime/computed/reduce_computed_macros",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/error","ember-metal/enumerable_utils","ember-metal/run_loop","ember-metal/observer","ember-runtime/computed/array_computed","ember-runtime/computed/reduce_computed","ember-runtime/system/subarray","ember-metal/keys","ember-runtime/compare","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d){"use strict";function p(e){return D(e,{initialValue:0,addedItem:function(e,t){return e+t},removedItem:function(e,t){return e-t}})}function m(e){return D(e,{initialValue:-1/0,addedItem:function(e,t){return Math.max(e,t)},removedItem:function(e,t){return e>t?e:void 0}})}function g(e){return D(e,{initialValue:1/0,addedItem:function(e,t){return Math.min(e,t)},removedItem:function(e,t){return t>e?e:void 0}})}function y(e,t){var r={addedItem:function(e,r,n){var i=t.call(this,r,n.index);return e.insertAt(n.index,i),e},removedItem:function(e,t,r){return e.removeAt(r.index,1),e}};return L(e,r)}function v(e,t){var r=function(e){return M(e,t)};return y(e+".@each."+t,r)}function b(e,t){var r={initialize:function(e,t,r){r.filteredArrayIndexes=new F},addedItem:function(e,r,n,i){var o=!!t.call(this,r,n.index),a=i.filteredArrayIndexes.addItem(n.index,o);return o&&e.insertAt(a,r),e},removedItem:function(e,t,r,n){var i=n.filteredArrayIndexes.removeItem(r.index);return i>-1&&e.removeAt(i),e}};return L(e,r)}function E(e,t,r){var n;return n=2===arguments.length?function(e){return M(e,t)}:function(e){return M(e,t)===r},b(e+".@each."+t,n)}function x(){var e=z.call(arguments);return e.push({initialize:function(e,t,r){r.itemCounts={}},addedItem:function(e,t,r,n){var i=A(t);return n.itemCounts[i]?++n.itemCounts[i]:(n.itemCounts[i]=1,e.pushObject(t)),e},removedItem:function(e,t,r,n){var i=A(t),o=n.itemCounts;return 0===--o[i]&&e.removeObject(t),e}}),L.apply(null,e)}function w(){var e=z.call(arguments);return e.push({initialize:function(e,t,r){r.itemCounts={}},addedItem:function(e,t,r,n){var i=A(t),o=A(r.arrayChanged),a=r.property._dependentKeys.length,s=n.itemCounts;return s[i]||(s[i]={}),void 0===s[i][o]&&(s[i][o]=0),1===++s[i][o]&&a===B(s[i]).length&&e.addObject(t),e},removedItem:function(e,t,r,n){var i,o=A(t),a=A(r.arrayChanged),s=(r.property._dependentKeys.length,n.itemCounts);return void 0===s[o][a]&&(s[o][a]=0),0===--s[o][a]&&(delete s[o][a],i=B(s[o]).length,0===i&&delete s[o],e.removeObject(t)),e}}),L.apply(null,e)}function _(e,t){if(2!==arguments.length)throw new N("setDiff requires exactly two dependent arrays.");return L(e,t,{addedItem:function(r,n,i){var o=M(this,e),a=M(this,t);return i.arrayChanged===o?a.contains(n)||r.addObject(n):r.removeObject(n),r},removedItem:function(r,n,i){var o=M(this,e),a=M(this,t);return i.arrayChanged===a?o.contains(n)&&r.addObject(n):r.removeObject(n),r}})}function T(e,t,r,n){var i,o,a,s,u;return arguments.length<4&&(n=M(e,"length")),arguments.length<3&&(r=0),r===n?r:(i=r+Math.floor((n-r)/2),o=e.objectAt(i),s=A(o),u=A(t),s===u?i:(a=this.order(o,t),0===a&&(a=u>s?-1:1),0>a?this.binarySearch(e,t,i+1,n):a>0?this.binarySearch(e,t,r,i):i))}function R(e,t){return"function"==typeof t?S(e,t):C(e,t)}function S(e,t){return L(e,{initialize:function(e,r,n){n.order=t,n.binarySearch=T,n.waitingInsertions=[],n.insertWaiting=function(){var t,r,i=n.waitingInsertions;n.waitingInsertions=[];for(var o=0;o<i.length;o++)r=i[o],t=n.binarySearch(e,r),e.insertAt(t,r)},n.insertLater=function(e){this.waitingInsertions.push(e)}},addedItem:function(e,t,r,n){return n.insertLater(t),e},removedItem:function(e,t){return e.removeObject(t),e},flushedChanges:function(e,t){t.insertWaiting()}})}function C(e,t){return L(e,{initialize:function(r,n,i){function o(){var r,o,s,u=M(this,t),c=i.sortProperties=[],l=i.sortPropertyAscending={};n.property.clearItemPropertyKeys(e),P(u,function(t){-1!==(o=t.indexOf(":"))?(r=t.substring(0,o),s="desc"!==t.substring(o+1).toLowerCase()):(r=t,s=!0),c.push(r),l[r]=s,n.property.itemPropertyKey(e,r)}),u.addObserver("@each",this,a)}function a(){k.once(this,s,n.propertyName)}function s(e){o.call(this),n.property.recomputeOnce.call(this,e)}O(this,t,a),o.call(this),i.order=function(e,t){for(var r,n,i,o=this.keyFor(e),a=this.keyFor(t),s=0;s<this.sortProperties.length;++s)if(r=this.sortProperties[s],n=I(o[r],a[r]),0!==n)return i=this.sortPropertyAscending[r],i?n:-1*n;return 0},i.binarySearch=T,H(i)},addedItem:function(e,t,r,n){var i=n.binarySearch(e,t);return e.insertAt(i,t),e},removedItem:function(e,t,r,n){var i=n.binarySearch(e,t);return e.removeAt(i),n.dropKeyFor(t),e}})}function H(e){e.keyFor=function(e){var t=A(e);if(this.keyCache[t])return this.keyCache[t];for(var r,n={},i=0;i<this.sortProperties.length;++i)r=this.sortProperties[i],n[r]=M(e,r);return this.keyCache[t]=n},e.dropKeyFor=function(e){var t=A(e);this.keyCache[t]=null},e.keyCache={}}var M=(e["default"],t.get),A=(r.set,n.isArray,n.guidFor),N=i["default"],P=o.forEach,k=a["default"],O=s.addObserver,L=u.arrayComputed,D=c.reduceComputed,F=l["default"],B=h["default"],I=f["default"],z=[].slice;d.sum=p,d.max=m,d.min=g,d.map=y,d.mapBy=v;var U=v;d.mapProperty=U,d.filter=b,d.filterBy=E;var V=E;d.filterProperty=V,d.uniq=x;var j=x;d.union=j,d.intersect=w,d.setDiff=_,d.sort=R}),e("ember-runtime/controllers/array_controller",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/enumerable_utils","ember-runtime/system/array_proxy","ember-runtime/mixins/sortable","ember-runtime/mixins/controller","ember-metal/computed","ember-metal/error","exports"],function(e,t,r,n,i,o,a,s,u,c){"use strict";var l=e["default"],h=t.get,f=(r.set,n.forEach),d=n.replace,p=i["default"],m=o["default"],g=a["default"],y=s.computed,v=u["default"];c["default"]=p.extend(g,m,{itemController:null,lookupItemController:function(){return h(this,"itemController")},objectAtContent:function(e){var t,r=h(this,"length"),n=h(this,"arrangedContent"),i=n&&n.objectAt(e);return e>=0&&r>e&&(t=this.lookupItemController(i))?this.controllerAt(e,i,t):i},arrangedContentDidChange:function(){this._super(),this._resetSubControllers()},arrayContentDidChange:function(e,t,r){var n=this._subControllers;if(n.length){var i=n.slice(e,e+t);f(i,function(e){e&&e.destroy()}),d(n,e,t,new Array(r))}this._super(e,t,r)},init:function(){this._super(),this._subControllers=[]},model:y(function(){return l.A()}),_isVirtual:!1,controllerAt:function(e,t,r){var n,i,o,a=h(this,"container"),s=this._subControllers;if(s.length>e&&(i=s[e]))return i;if(o=this._isVirtual?h(this,"parentController"):this,n="controller:"+r,!a.has(n))throw new v('Could not resolve itemController: "'+r+'"');return i=a.lookupFactory(n).create({target:o,parentController:o,model:t}),s[e]=i,i},_subControllers:null,_resetSubControllers:function(){var e,t=this._subControllers;if(t.length){for(var r=0,n=t.length;n>r;r++)e=t[r],e&&e.destroy();t.length=0}},willDestroy:function(){this._resetSubControllers(),this._super()}})}),e("ember-runtime/controllers/controller",["ember-runtime/system/object","ember-runtime/mixins/controller","exports"],function(e,t,r){"use strict";var n=e["default"],i=t["default"];r["default"]=n.extend(i)}),e("ember-runtime/controllers/object_controller",["ember-runtime/mixins/controller","ember-runtime/system/object_proxy","exports"],function(e,t,r){"use strict";var n=e["default"],i=t["default"];r["default"]=i.extend(n)}),e("ember-runtime/copy",["ember-metal/enumerable_utils","ember-metal/utils","ember-runtime/system/object","ember-runtime/mixins/copyable","exports"],function(e,t,r,n,i){"use strict";function o(e,t,r,n){var i,c,l;if("object"!=typeof e||null===e)return e;if(t&&(c=a(r,e))>=0)return n[c];if("array"===s(e)){if(i=e.slice(),t)for(c=i.length;--c>=0;)i[c]=o(i[c],t,r,n)}else if(u&&u.detect(e))i=e.copy(t,r,n);else if(e instanceof Date)i=new Date(e.getTime());else{i={};for(l in e)Object.prototype.hasOwnProperty.call(e,l)&&"__"!==l.substring(0,2)&&(i[l]=t?o(e[l],t,r,n):e[l])}return t&&(r.push(e),n.push(i)),i}var a=e.indexOf,s=t.typeOf,u=(r["default"],n["default"]);i["default"]=function(e,t){return"object"!=typeof e||null===e?e:u&&u.detect(e)?e.copy(t):o(e,t,t?[]:null,t?[]:null)}}),e("ember-runtime/core",["exports"],function(e){"use strict";var t=function(e,t){return e&&"function"==typeof e.isEqual?e.isEqual(t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e===t};e.isEqual=t}),e("ember-runtime/ext/function",["ember-metal/core","ember-metal/expand_properties","ember-metal/computed","ember-metal/mixin"],function(e,t,r,n){"use strict";var i=e["default"],o=t["default"],a=r.computed,s=n.observer,u=Array.prototype.slice,c=Function.prototype;(i.EXTEND_PROTOTYPES===!0||i.EXTEND_PROTOTYPES.Function)&&(c.property=function(){var e=a(this);return e.property.apply(e,arguments)},c.observes=function(){for(var e=arguments.length,t=new Array(e),r=0;e>r;r++)t[r]=arguments[r];return s.apply(this,t.concat(this))},c.observesImmediately=function(){for(var e=0,t=arguments.length;t>e;e++){arguments[e]}return this.observes.apply(this,arguments)},c.observesBefore=function(){for(var e=[],t=function(t){e.push(t)},r=0,n=arguments.length;n>r;++r)o(arguments[r],t);return this.__ember_observesBefore__=e,this},c.on=function(){var e=u.call(arguments);return this.__ember_listens__=e,this})}),e("ember-runtime/ext/rsvp",["ember-metal/core","ember-metal/logger","ember-metal/run_loop","exports"],function(e,r,n,i){"use strict";var o,a=e["default"],s=r["default"],u=n["default"],c=t("rsvp"),l="ember-testing/test",h=function(){a.Test&&a.Test.adapter&&a.Test.adapter.asyncStart()},f=function(){a.Test&&a.Test.adapter&&a.Test.adapter.asyncEnd()};c.configure("async",function(e,t){var r=!u.currentRunLoop;a.testing&&r&&h(),u.backburner.schedule("actions",function(){a.testing&&r&&f(),e(t)})}),c.Promise.prototype.fail=function(e,t){return this["catch"](e,t)},c.onerrorDefault=function(e){if(e instanceof Error)if(a.testing){if(!o&&a.__loader.registry[l]&&(o=t(l)["default"]),!o||!o.adapter)throw e;o.adapter.exception(e)}else a.onerror?a.onerror(e):s.error(e.stack)},c.on("error",c.onerrorDefault),i["default"]=c}),e("ember-runtime/ext/string",["ember-metal/core","ember-runtime/system/string"],function(e,t){"use strict";var r=e["default"],n=t.fmt,i=t.w,o=t.loc,a=t.camelize,s=t.decamelize,u=t.dasherize,c=t.underscore,l=t.capitalize,h=t.classify,f=String.prototype;(r.EXTEND_PROTOTYPES===!0||r.EXTEND_PROTOTYPES.String)&&(f.fmt=function(){return n(this,arguments)},f.w=function(){return i(this)},f.loc=function(){return o(this,arguments)},f.camelize=function(){return a(this)},f.decamelize=function(){return s(this)},f.dasherize=function(){return u(this)},f.underscore=function(){return c(this)},f.classify=function(){return h(this)},f.capitalize=function(){return l(this)})}),e("ember-runtime/mixins/-proxy",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/observer","ember-metal/property_events","ember-metal/computed","ember-metal/properties","ember-metal/mixin","ember-runtime/system/string","ember-runtime/system/object","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h){"use strict";function f(e,t){var r=t.slice(8);r in this||x(this,r)}function d(e,t){var r=t.slice(8);r in this||w(this,r)}{var p=(e["default"],t.get),m=r.set,g=n.meta,y=i.addObserver,v=i.removeObserver,b=i.addBeforeObserver,E=i.removeBeforeObserver,x=o.propertyWillChange,w=o.propertyDidChange,_=a.computed,T=s.defineProperty,R=u.Mixin,S=u.observer;c.fmt,l["default"]}h["default"]=R.create({content:null,_contentDidChange:S("content",function(){}),isTruthy:_.bool("content"),_debugContainerKey:null,willWatchProperty:function(e){var t="content."+e;b(this,t,null,f),y(this,t,null,d)},didUnwatchProperty:function(e){var t="content."+e;E(this,t,null,f),v(this,t,null,d)},unknownProperty:function(e){var t=p(this,"content");return t?p(t,e):void 0},setUnknownProperty:function(e,t){var r=g(this);if(r.proto===this)return T(this,e,null,t),t;var n=p(this,"content");return m(n,e,t)}})}),e("ember-runtime/mixins/action_handler",["ember-metal/merge","ember-metal/mixin","ember-metal/property_get","ember-metal/utils","exports"],function(e,t,r,n,i){"use strict";var o=e["default"],a=t.Mixin,s=r.get,u=n.typeOf,c=a.create({mergedProperties:["_actions"],willMergeMixin:function(e){var t;e._actions||("object"===u(e.actions)?t="actions":"object"===u(e.events)&&(t="events"),t&&(e._actions=o(e._actions||{},e[t])),delete e[t])},send:function(e){var t,r=[].slice.call(arguments,1);this._actions&&this._actions[e]&&this._actions[e].apply(this,r)!==!0||(t=s(this,"target"))&&t.send.apply(t,arguments)}});i["default"]=c}),e("ember-runtime/mixins/array",["ember-metal/core","ember-metal/property_get","ember-metal/computed","ember-metal/is_none","ember-runtime/mixins/enumerable","ember-metal/enumerable_utils","ember-metal/mixin","ember-metal/property_events","ember-metal/events","ember-metal/watching","exports"],function(e,r,n,i,o,a,s,u,c,l,h){"use strict";function f(e,t,r,n,i){var o=r&&r.willChange||"arrayWillChange",a=r&&r.didChange||"arrayDidChange",s=p(e,"hasArrayObservers");return s===i&&w(e,"hasArrayObservers"),n(e,"@array:before",t,o),n(e,"@array:change",t,a),s===i&&_(e,"hasArrayObservers"),e}var d=e["default"],p=r.get,m=n.computed,g=n.cacheFor,y=i.isNone,v=(i.none,o["default"]),b=a.map,E=s.Mixin,x=s.required,w=u.propertyWillChange,_=u.propertyDidChange,T=c.addListener,R=c.removeListener,S=c.sendEvent,C=c.hasListeners,H=l.isWatching;h["default"]=E.create(v,{length:x(),objectAt:function(e){return 0>e||e>=p(this,"length")?void 0:p(this,e)},objectsAt:function(e){var t=this;return b(e,function(e){return t.objectAt(e)})},nextObject:function(e){return this.objectAt(e)},"[]":m(function(e,t){return void 0!==t&&this.replace(0,p(this,"length"),t),this}),firstObject:m(function(){return this.objectAt(0)}),lastObject:m(function(){return this.objectAt(p(this,"length")-1)}),contains:function(e){return this.indexOf(e)>=0},slice:function(e,t){var r=d.A(),n=p(this,"length");for(y(e)&&(e=0),(y(t)||t>n)&&(t=n),0>e&&(e=n+e),0>t&&(t=n+t);t>e;)r[r.length]=this.objectAt(e++);return r},indexOf:function(e,t){var r,n=p(this,"length");for(void 0===t&&(t=0),0>t&&(t+=n),r=t;n>r;r++)if(this.objectAt(r)===e)return r;return-1},lastIndexOf:function(e,t){var r,n=p(this,"length");for((void 0===t||t>=n)&&(t=n-1),0>t&&(t+=n),r=t;r>=0;r--)if(this.objectAt(r)===e)return r;return-1},addArrayObserver:function(e,t){return f(this,e,t,T,!1)},removeArrayObserver:function(e,t){return f(this,e,t,R,!0)},hasArrayObservers:m(function(){return C(this,"@array:change")||C(this,"@array:before")}),arrayContentWillChange:function(e,t,r){var n,i;
if(void 0===e?(e=0,t=r=-1):(void 0===t&&(t=-1),void 0===r&&(r=-1)),H(this,"@each")&&p(this,"@each"),S(this,"@array:before",[this,e,t,r]),e>=0&&t>=0&&p(this,"hasEnumerableObservers")){n=[],i=e+t;for(var o=e;i>o;o++)n.push(this.objectAt(o))}else n=t;return this.enumerableContentWillChange(n,r),this},arrayContentDidChange:function(e,t,r){var n,i;if(void 0===e?(e=0,t=r=-1):(void 0===t&&(t=-1),void 0===r&&(r=-1)),e>=0&&r>=0&&p(this,"hasEnumerableObservers")){n=[],i=e+r;for(var o=e;i>o;o++)n.push(this.objectAt(o))}else n=r;this.enumerableContentDidChange(t,n),S(this,"@array:change",[this,e,t,r]);var a=p(this,"length"),s=g(this,"firstObject"),u=g(this,"lastObject");return this.objectAt(0)!==s&&(w(this,"firstObject"),_(this,"firstObject")),this.objectAt(a-1)!==u&&(w(this,"lastObject"),_(this,"lastObject")),this},"@each":m(function(){if(!this.__each){var e=t("ember-runtime/system/each_proxy").EachProxy;this.__each=new e(this)}return this.__each})})}),e("ember-runtime/mixins/comparable",["ember-metal/mixin","exports"],function(e,t){"use strict";var r=e.Mixin,n=e.required;t["default"]=r.create({compare:n(Function)})}),e("ember-runtime/mixins/controller",["ember-metal/core","ember-metal/property_get","ember-runtime/system/object","ember-metal/mixin","ember-metal/computed","ember-runtime/mixins/action_handler","ember-runtime/mixins/controller_content_model_alias_deprecation","exports"],function(e,t,r,n,i,o,a,s){"use strict";var u=(e["default"],t.get,r["default"],n.Mixin),c=i.computed,l=o["default"],h=a["default"];s["default"]=u.create(l,h,{isController:!0,target:null,container:null,parentController:null,store:null,model:null,content:c.alias("model")})}),e("ember-runtime/mixins/controller_content_model_alias_deprecation",["ember-metal/core","ember-metal/property_get","ember-metal/mixin","exports"],function(e,t,r,n){"use strict";var i=(e["default"],t.get,r.Mixin);n["default"]=i.create({willMergeMixin:function(e){this._super.apply(this,arguments);var t=!!e.model;e.content&&!t&&(e.model=e.content,delete e.content)}})}),e("ember-runtime/mixins/copyable",["ember-metal/property_get","ember-metal/property_set","ember-metal/mixin","ember-runtime/mixins/freezable","ember-runtime/system/string","ember-metal/error","exports"],function(e,t,r,n,i,o,a){"use strict";var s=e.get,u=(t.set,r.required),c=n.Freezable,l=r.Mixin,h=i.fmt,f=o["default"];a["default"]=l.create({copy:u(Function),frozenCopy:function(){if(c&&c.detect(this))return s(this,"isFrozen")?this:this.copy().freeze();throw new f(h("%@ does not support freezing",[this]))}})}),e("ember-runtime/mixins/deferred",["ember-metal/core","ember-metal/property_get","ember-metal/mixin","ember-metal/computed","ember-runtime/ext/rsvp","exports"],function(e,t,r,n,i,o){"use strict";var a=(e["default"],t.get),s=r.Mixin,u=n.computed,c=i["default"];o["default"]=s.create({then:function(e,t,r){function n(t){return e(t===o?s:t)}var i,o,s;return s=this,i=a(this,"_deferred"),o=i.promise,o.then(e&&n,t,r)},resolve:function(e){var t,r;t=a(this,"_deferred"),r=t.promise,t.resolve(e===this?r:e)},reject:function(e){a(this,"_deferred").reject(e)},_deferred:u(function(){return c.defer("Ember: DeferredMixin - "+this)})})}),e("ember-runtime/mixins/enumerable",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/mixin","ember-metal/enumerable_utils","ember-metal/computed","ember-metal/property_events","ember-metal/events","ember-runtime/compare","exports"],function(e,t,r,n,i,o,a,s,u,c,l){"use strict";function h(){return 0===N.length?{}:N.pop()}function f(e){return N.push(e),null}function d(e,t){function r(r){var i=m(r,e);return n?t===i:!!i}var n=2===arguments.length;return r}var p=e["default"],m=t.get,g=r.set,y=n.apply,v=i.Mixin,b=i.required,E=i.aliasMethod,x=o.indexOf,w=a.computed,_=s.propertyWillChange,T=s.propertyDidChange,R=u.addListener,S=u.removeListener,C=u.sendEvent,H=u.hasListeners,M=c["default"],A=Array.prototype.slice,N=[];l["default"]=v.create({nextObject:b(Function),firstObject:w("[]",function(){if(0===m(this,"length"))return void 0;var e,t=h();return e=this.nextObject(0,null,t),f(t),e}),lastObject:w("[]",function(){var e=m(this,"length");if(0===e)return void 0;var t,r=h(),n=0,i=null;do i=t,t=this.nextObject(n++,i,r);while(void 0!==t);return f(r),i}),contains:function(e){return void 0!==this.find(function(t){return t===e})},forEach:function(e,t){if("function"!=typeof e)throw new TypeError;var r=m(this,"length"),n=null,i=h();void 0===t&&(t=null);for(var o=0;r>o;o++){var a=this.nextObject(o,n,i);e.call(t,a,o,this),n=a}return n=null,i=f(i),this},getEach:function(e){return this.mapBy(e)},setEach:function(e,t){return this.forEach(function(r){g(r,e,t)})},map:function(e,t){var r=p.A();return this.forEach(function(n,i,o){r[i]=e.call(t,n,i,o)}),r},mapBy:function(e){return this.map(function(t){return m(t,e)})},mapProperty:E("mapBy"),filter:function(e,t){var r=p.A();return this.forEach(function(n,i,o){e.call(t,n,i,o)&&r.push(n)}),r},reject:function(e,t){return this.filter(function(){return!y(t,e,arguments)})},filterBy:function(){return this.filter(y(this,d,arguments))},filterProperty:E("filterBy"),rejectBy:function(e,t){var r=function(r){return m(r,e)===t},n=function(t){return!!m(t,e)},i=2===arguments.length?r:n;return this.reject(i)},rejectProperty:E("rejectBy"),find:function(e,t){var r=m(this,"length");void 0===t&&(t=null);for(var n,i,o=null,a=!1,s=h(),u=0;r>u&&!a;u++)n=this.nextObject(u,o,s),(a=e.call(t,n,u,this))&&(i=n),o=n;return n=o=null,s=f(s),i},findBy:function(){return this.find(y(this,d,arguments))},findProperty:E("findBy"),every:function(e,t){return!this.find(function(r,n,i){return!e.call(t,r,n,i)})},everyBy:E("isEvery"),everyProperty:E("isEvery"),isEvery:function(){return this.every(y(this,d,arguments))},any:function(e,t){var r,n,i=m(this,"length"),o=h(),a=!1,s=null;for(void 0===t&&(t=null),n=0;i>n&&!a;n++)r=this.nextObject(n,s,o),a=e.call(t,r,n,this),s=r;return r=s=null,o=f(o),a},some:E("any"),isAny:function(){return this.any(y(this,d,arguments))},anyBy:E("isAny"),someProperty:E("isAny"),reduce:function(e,t,r){if("function"!=typeof e)throw new TypeError;var n=t;return this.forEach(function(t,i){n=e(n,t,i,this,r)},this),n},invoke:function(e){var t,r=p.A();return arguments.length>1&&(t=A.call(arguments,1)),this.forEach(function(n,i){var o=n&&n[e];"function"==typeof o&&(r[i]=t?y(n,o,t):n[e]())},this),r},toArray:function(){var e=p.A();return this.forEach(function(t,r){e[r]=t}),e},compact:function(){return this.filter(function(e){return null!=e})},without:function(e){if(!this.contains(e))return this;var t=p.A();return this.forEach(function(r){r!==e&&(t[t.length]=r)}),t},uniq:function(){var e=p.A();return this.forEach(function(t){x(e,t)<0&&e.push(t)}),e},"[]":w(function(){return this}),addEnumerableObserver:function(e,t){var r=t&&t.willChange||"enumerableWillChange",n=t&&t.didChange||"enumerableDidChange",i=m(this,"hasEnumerableObservers");return i||_(this,"hasEnumerableObservers"),R(this,"@enumerable:before",e,r),R(this,"@enumerable:change",e,n),i||T(this,"hasEnumerableObservers"),this},removeEnumerableObserver:function(e,t){var r=t&&t.willChange||"enumerableWillChange",n=t&&t.didChange||"enumerableDidChange",i=m(this,"hasEnumerableObservers");return i&&_(this,"hasEnumerableObservers"),S(this,"@enumerable:before",e,r),S(this,"@enumerable:change",e,n),i&&T(this,"hasEnumerableObservers"),this},hasEnumerableObservers:w(function(){return H(this,"@enumerable:change")||H(this,"@enumerable:before")}),enumerableContentWillChange:function(e,t){var r,n,i;return r="number"==typeof e?e:e?m(e,"length"):e=-1,n="number"==typeof t?t:t?m(t,"length"):t=-1,i=0>n||0>r||n-r!==0,-1===e&&(e=null),-1===t&&(t=null),_(this,"[]"),i&&_(this,"length"),C(this,"@enumerable:before",[this,e,t]),this},enumerableContentDidChange:function(e,t){var r,n,i;return r="number"==typeof e?e:e?m(e,"length"):e=-1,n="number"==typeof t?t:t?m(t,"length"):t=-1,i=0>n||0>r||n-r!==0,-1===e&&(e=null),-1===t&&(t=null),C(this,"@enumerable:change",[this,e,t]),i&&T(this,"length"),T(this,"[]"),this},sortBy:function(){var e=arguments;return this.toArray().sort(function(t,r){for(var n=0;n<e.length;n++){var i=e[n],o=m(t,i),a=m(r,i),s=M(o,a);if(s)return s}return 0})}})}),e("ember-runtime/mixins/evented",["ember-metal/mixin","ember-metal/events","exports"],function(e,t,r){"use strict";var n=e.Mixin,i=t.addListener,o=t.removeListener,a=t.hasListeners,s=t.sendEvent;r["default"]=n.create({on:function(e,t,r){return i(this,e,t,r),this},one:function(e,t,r){return r||(r=t,t=null),i(this,e,t,r,!0),this},trigger:function(e){for(var t=arguments.length,r=new Array(t-1),n=1;t>n;n++)r[n-1]=arguments[n];s(this,e,r)},off:function(e,t,r){return o(this,e,t,r),this},has:function(e){return a(this,e)}})}),e("ember-runtime/mixins/freezable",["ember-metal/mixin","ember-metal/property_get","ember-metal/property_set","exports"],function(e,t,r,n){"use strict";var i=e.Mixin,o=t.get,a=r.set,s=i.create({isFrozen:!1,freeze:function(){return o(this,"isFrozen")?this:(a(this,"isFrozen",!0),this)}});n.Freezable=s;var u="Frozen object cannot be modified.";n.FROZEN_ERROR=u}),e("ember-runtime/mixins/mutable_array",["ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/error","ember-metal/mixin","ember-runtime/mixins/array","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/enumerable","exports"],function(e,t,r,n,i,o,a,s,u){"use strict";var c="Index out of range",l=[],h=e.get,f=(t.set,r.isArray),d=n["default"],p=i.Mixin,m=i.required,g=o["default"],y=a["default"],v=s["default"];u["default"]=p.create(g,y,{replace:m(),clear:function(){var e=h(this,"length");return 0===e?this:(this.replace(0,e,l),this)},insertAt:function(e,t){if(e>h(this,"length"))throw new d(c);return this.replace(e,0,[t]),this},removeAt:function(e,t){if("number"==typeof e){if(0>e||e>=h(this,"length"))throw new d(c);void 0===t&&(t=1),this.replace(e,t,l)}return this},pushObject:function(e){return this.insertAt(h(this,"length"),e),e},pushObjects:function(e){if(!v.detect(e)&&!f(e))throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects");return this.replace(h(this,"length"),0,e),this},popObject:function(){var e=h(this,"length");if(0===e)return null;var t=this.objectAt(e-1);return this.removeAt(e-1,1),t},shiftObject:function(){if(0===h(this,"length"))return null;var e=this.objectAt(0);return this.removeAt(0),e},unshiftObject:function(e){return this.insertAt(0,e),e},unshiftObjects:function(e){return this.replace(0,0,e),this},reverseObjects:function(){var e=h(this,"length");if(0===e)return this;var t=this.toArray().reverse();return this.replace(0,e,t),this},setObjects:function(e){if(0===e.length)return this.clear();var t=h(this,"length");return this.replace(0,t,e),this},removeObject:function(e){for(var t=h(this,"length")||0;--t>=0;){var r=this.objectAt(t);r===e&&this.removeAt(t)}return this},addObject:function(e){return this.contains(e)||this.pushObject(e),this}})}),e("ember-runtime/mixins/mutable_enumerable",["ember-metal/enumerable_utils","ember-runtime/mixins/enumerable","ember-metal/mixin","ember-metal/property_events","exports"],function(e,t,r,n,i){"use strict";var o=e.forEach,a=t["default"],s=r.Mixin,u=r.required,c=n.beginPropertyChanges,l=n.endPropertyChanges;i["default"]=s.create(a,{addObject:u(Function),addObjects:function(e){return c(this),o(e,function(e){this.addObject(e)},this),l(this),this},removeObject:u(Function),removeObjects:function(e){c(this);for(var t=e.length-1;t>=0;t--)this.removeObject(e[t]);return l(this),this}})}),e("ember-runtime/mixins/observable",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/get_properties","ember-metal/set_properties","ember-metal/mixin","ember-metal/events","ember-metal/property_events","ember-metal/observer","ember-metal/computed","ember-metal/is_none","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f){"use strict";var d=(e["default"],t.get),p=t.getWithDefault,m=r.set,g=n.apply,y=i["default"],v=o["default"],b=a.Mixin,E=s.hasListeners,x=u.beginPropertyChanges,w=u.propertyWillChange,_=u.propertyDidChange,T=u.endPropertyChanges,R=c.addObserver,S=c.addBeforeObserver,C=c.removeObserver,H=c.observersFor,M=l.cacheFor,A=h.isNone,N=Array.prototype.slice;f["default"]=b.create({get:function(e){return d(this,e)},getProperties:function(){return g(null,y,[this].concat(N.call(arguments)))},set:function(e,t){return m(this,e,t),this},setProperties:function(e){return v(this,e)},beginPropertyChanges:function(){return x(),this},endPropertyChanges:function(){return T(),this},propertyWillChange:function(e){return w(this,e),this},propertyDidChange:function(e){return _(this,e),this},notifyPropertyChange:function(e){return this.propertyWillChange(e),this.propertyDidChange(e),this},addBeforeObserver:function(e,t,r){S(this,e,t,r)},addObserver:function(e,t,r){R(this,e,t,r)},removeObserver:function(e,t,r){C(this,e,t,r)},hasObserverFor:function(e){return E(this,e+":change")},getWithDefault:function(e,t){return p(this,e,t)},incrementProperty:function(e,t){return A(t)&&(t=1),m(this,e,(parseFloat(d(this,e))||0)+t),d(this,e)},decrementProperty:function(e,t){return A(t)&&(t=1),m(this,e,(d(this,e)||0)-t),d(this,e)},toggleProperty:function(e){return m(this,e,!d(this,e)),d(this,e)},cacheFor:function(e){return M(this,e)},observersForKey:function(e){return H(this,e)}})}),e("ember-runtime/mixins/promise_proxy",["ember-metal/property_get","ember-metal/set_properties","ember-metal/computed","ember-metal/mixin","ember-metal/error","exports"],function(e,t,r,n,i,o){"use strict";function a(e,t){return c(e,{isFulfilled:!1,isRejected:!1}),t.then(function(t){return c(e,{content:t,isFulfilled:!0}),t},function(t){throw c(e,{reason:t,isRejected:!0}),t},"Ember: PromiseProxy")}function s(e){return function(){var t=u(this,"promise");return t[e].apply(t,arguments)}}var u=e.get,c=t["default"],l=r.computed,h=n.Mixin,f=i["default"],d=l.not,p=l.or;o["default"]=h.create({reason:null,isPending:d("isSettled").readOnly(),isSettled:p("isRejected","isFulfilled").readOnly(),isRejected:!1,isFulfilled:!1,promise:l(function(e,t){if(2===arguments.length)return a(this,t);throw new f("PromiseProxy's promise must be set")}),then:s("then"),"catch":s("catch"),"finally":s("finally")})}),e("ember-runtime/mixins/sortable",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/enumerable_utils","ember-metal/mixin","ember-runtime/mixins/mutable_enumerable","ember-runtime/compare","ember-metal/observer","ember-metal/computed","exports"],function(e,t,r,n,i,o,a,s,u,c){"use strict";var l=e["default"],h=t.get,f=(r.set,n.forEach),d=i.Mixin,p=o["default"],m=a["default"],g=s.addObserver,y=s.removeObserver,v=u.computed,b=i.beforeObserver,E=i.observer;c["default"]=d.create(p,{sortProperties:null,sortAscending:!0,sortFunction:m,orderBy:function(e,t){var r=0,n=h(this,"sortProperties"),i=h(this,"sortAscending"),o=h(this,"sortFunction");return f(n,function(n){0===r&&(r=o.call(this,h(e,n),h(t,n)),0===r||i||(r=-1*r))},this),r},destroy:function(){var e=h(this,"content"),t=h(this,"sortProperties");return e&&t&&f(e,function(e){f(t,function(t){y(e,t,this,"contentItemSortPropertyDidChange")},this)},this),this._super()},isSorted:v.notEmpty("sortProperties"),arrangedContent:v("content","sortProperties.@each",function(){var e=h(this,"content"),t=h(this,"isSorted"),r=h(this,"sortProperties"),n=this;return e&&t?(e=e.slice(),e.sort(function(e,t){return n.orderBy(e,t)}),f(e,function(e){f(r,function(t){g(e,t,this,"contentItemSortPropertyDidChange")},this)},this),l.A(e)):e}),_contentWillChange:b("content",function(){var e=h(this,"content"),t=h(this,"sortProperties");e&&t&&f(e,function(e){f(t,function(t){y(e,t,this,"contentItemSortPropertyDidChange")},this)},this),this._super()}),sortPropertiesWillChange:b("sortProperties",function(){this._lastSortAscending=void 0}),sortPropertiesDidChange:E("sortProperties",function(){this._lastSortAscending=void 0}),sortAscendingWillChange:b("sortAscending",function(){this._lastSortAscending=h(this,"sortAscending")}),sortAscendingDidChange:E("sortAscending",function(){if(void 0!==this._lastSortAscending&&h(this,"sortAscending")!==this._lastSortAscending){var e=h(this,"arrangedContent");e.reverseObjects()}}),contentArrayWillChange:function(e,t,r,n){var i=h(this,"isSorted");if(i){var o=h(this,"arrangedContent"),a=e.slice(t,t+r),s=h(this,"sortProperties");f(a,function(e){o.removeObject(e),f(s,function(t){y(e,t,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(e,t,r,n)},contentArrayDidChange:function(e,t,r,n){var i=h(this,"isSorted"),o=h(this,"sortProperties");if(i){var a=e.slice(t,t+n);f(a,function(e){this.insertItemSorted(e),f(o,function(t){g(e,t,this,"contentItemSortPropertyDidChange")},this)},this)}return this._super(e,t,r,n)},insertItemSorted:function(e){var t=h(this,"arrangedContent"),r=h(t,"length"),n=this._binarySearch(e,0,r);t.insertAt(n,e)},contentItemSortPropertyDidChange:function(e){var t=h(this,"arrangedContent"),r=t.indexOf(e),n=t.objectAt(r-1),i=t.objectAt(r+1),o=n&&this.orderBy(e,n),a=i&&this.orderBy(e,i);(0>o||a>0)&&(t.removeObject(e),this.insertItemSorted(e))},_binarySearch:function(e,t,r){var n,i,o,a;return t===r?t:(a=h(this,"arrangedContent"),n=t+Math.floor((r-t)/2),i=a.objectAt(n),o=this.orderBy(i,e),0>o?this._binarySearch(e,n+1,r):o>0?this._binarySearch(e,t,n):n)}})}),e("ember-runtime/mixins/target_action_support",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/mixin","ember-metal/computed","exports"],function(e,t,r,n,i,o,a){"use strict";var s=e["default"],u=t.get,c=(r.set,n.typeOf),l=i.Mixin,h=o.computed,f=l.create({target:null,action:null,actionContext:null,targetObject:h(function(){var e=u(this,"target");if("string"===c(e)){var t=u(this,e);return void 0===t&&(t=u(s.lookup,e)),t}return e}).property("target"),actionContextObject:h(function(){var e=u(this,"actionContext");if("string"===c(e)){var t=u(this,e);return void 0===t&&(t=u(s.lookup,e)),t}return e}).property("actionContext"),triggerAction:function(e){function t(e,t){var r=[];return t&&r.push(t),r.concat(e)}e=e||{};var r=e.action||u(this,"action"),n=e.target||u(this,"targetObject"),i=e.actionContext;if("undefined"==typeof i&&(i=u(this,"actionContextObject")||this),n&&r){var o;return o=n.send?n.send.apply(n,t(i,r)):n[r].apply(n,t(i)),o!==!1&&(o=!0),o}return!1}});a["default"]=f}),e("ember-runtime/system/application",["ember-runtime/system/namespace","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=r.extend()}),e("ember-runtime/system/array_proxy",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/computed","ember-metal/mixin","ember-metal/property_events","ember-metal/error","ember-runtime/system/object","ember-runtime/mixins/mutable_array","ember-runtime/mixins/enumerable","ember-runtime/system/string","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f){"use strict";var d=e["default"],p=t.get,m=(r.set,n.isArray),g=n.apply,y=i.computed,v=o.beforeObserver,b=o.observer,E=a.beginPropertyChanges,x=a.endPropertyChanges,w=s["default"],_=u["default"],T=c["default"],R=l["default"],S=(h.fmt,"Index out of range"),C=[],H=y.alias,M=d.K,A=_.extend(T,{content:null,arrangedContent:H("content"),objectAtContent:function(e){return p(this,"arrangedContent").objectAt(e)},replaceContent:function(e,t,r){p(this,"content").replace(e,t,r)},_contentWillChange:v("content",function(){this._teardownContent()}),_teardownContent:function(){var e=p(this,"content");e&&e.removeArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},contentArrayWillChange:M,contentArrayDidChange:M,_contentDidChange:b("content",function(){p(this,"content");this._setupContent()}),_setupContent:function(){var e=p(this,"content");e&&e.addArrayObserver(this,{willChange:"contentArrayWillChange",didChange:"contentArrayDidChange"})},_arrangedContentWillChange:v("arrangedContent",function(){var e=p(this,"arrangedContent"),t=e?p(e,"length"):0;this.arrangedContentArrayWillChange(this,0,t,void 0),this.arrangedContentWillChange(this),this._teardownArrangedContent(e)}),_arrangedContentDidChange:b("arrangedContent",function(){var e=p(this,"arrangedContent"),t=e?p(e,"length"):0;this._setupArrangedContent(),this.arrangedContentDidChange(this),this.arrangedContentArrayDidChange(this,0,void 0,t)}),_setupArrangedContent:function(){var e=p(this,"arrangedContent");e&&e.addArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})},_teardownArrangedContent:function(){var e=p(this,"arrangedContent");e&&e.removeArrayObserver(this,{willChange:"arrangedContentArrayWillChange",didChange:"arrangedContentArrayDidChange"})},arrangedContentWillChange:M,arrangedContentDidChange:M,objectAt:function(e){return p(this,"content")&&this.objectAtContent(e)},length:y(function(){var e=p(this,"arrangedContent");return e?p(e,"length"):0}),_replace:function(e,t,r){var n=p(this,"content");return n&&this.replaceContent(e,t,r),this},replace:function(){if(p(this,"arrangedContent")!==p(this,"content"))throw new w("Using replace on an arranged ArrayProxy is not allowed.");g(this,this._replace,arguments)},_insertAt:function(e,t){if(e>p(this,"content.length"))throw new w(S);return this._replace(e,0,[t]),this},insertAt:function(e,t){if(p(this,"arrangedContent")===p(this,"content"))return this._insertAt(e,t);throw new w("Using insertAt on an arranged ArrayProxy is not allowed.")},removeAt:function(e,t){if("number"==typeof e){var r,n=p(this,"content"),i=p(this,"arrangedContent"),o=[];if(0>e||e>=p(this,"length"))throw new w(S);for(void 0===t&&(t=1),r=e;e+t>r;r++)o.push(n.indexOf(i.objectAt(r)));for(o.sort(function(e,t){return t-e}),E(),r=0;r<o.length;r++)this._replace(o[r],1,C);x()}return this},pushObject:function(e){return this._insertAt(p(this,"content.length"),e),e},pushObjects:function(e){if(!R.detect(e)&&!m(e))throw new TypeError("Must pass Ember.Enumerable to Ember.MutableArray#pushObjects");return this._replace(p(this,"length"),0,e),this},setObjects:function(e){if(0===e.length)return this.clear();var t=p(this,"length");return this._replace(0,t,e),this},unshiftObject:function(e){return this._insertAt(0,e),e},unshiftObjects:function(e){return this._replace(0,0,e),this},slice:function(){var e=this.toArray();return e.slice.apply(e,arguments)},arrangedContentArrayWillChange:function(e,t,r,n){this.arrayContentWillChange(t,r,n)},arrangedContentArrayDidChange:function(e,t,r,n){this.arrayContentDidChange(t,r,n)},init:function(){this._super(),this._setupContent(),this._setupArrangedContent()},willDestroy:function(){this._teardownArrangedContent(),this._teardownContent()}});f["default"]=A}),e("ember-runtime/system/container",["ember-metal/property_set","exports"],function(e,r){"use strict";var n=e["default"],i=t("container")["default"];i.set=n,r["default"]=i}),e("ember-runtime/system/core_object",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/platform","ember-metal/watching","ember-metal/chains","ember-metal/events","ember-metal/mixin","ember-metal/enumerable_utils","ember-metal/error","ember-metal/keys","ember-runtime/mixins/action_handler","ember-metal/properties","ember-metal/binding","ember-metal/computed","ember-metal/run_loop","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d,p,m,g,y){function v(){var e,t,r=!1,n=function(){r||n.proto(),F(this,S,$),F(this,"__nextSuper",Y);var i=C(this),o=i.proto;if(i.proto=this,e){var a=e;e=null,_(this,this.reopen,a)}if(t){var s=t;t=null;for(var u=this.concatenatedProperties,c=0,l=s.length;l>c;c++){var h=s[c];if("object"!=typeof h&&void 0!==h)throw new D("Ember.Object.create only accepts objects.");if(h)for(var f=B(h),d=0,p=f.length;p>d;d++){var m=f[d];if(h.hasOwnProperty(m)){var g=h[m];if(P.test(m)){var y=i.bindings;y?i.hasOwnProperty("bindings")||(y=i.bindings=T(i.bindings)):y=i.bindings={},y[m]=g}var v=i.descs[m];if(u&&L(u,m)>=0){var b=this[m];g=b?"function"==typeof b.concat?b.concat(g):H(b).concat(g):H(g)}v?v.set(this,m,g):"function"!=typeof this.setUnknownProperty||m in this?this[m]=g:this.setUnknownProperty(m,g)}}}}W(this,i);for(var E=arguments.length,x=new Array(E),w=0;E>w;w++)x[w]=arguments[w];_(this,this.init,x),i.proto=o,A(this),N(this,"init")};return n.toString=k.prototype.toString,n.willReopen=function(){r&&(n.PrototypeMixin=k.create(n.PrototypeMixin)),r=!1},n._initMixins=function(t){e=t},n._initProperties=function(e){t=e},n.proto=function(){var e=n.superclass;return e&&e.proto(),r||(r=!0,n.PrototypeMixin.applyPartial(n.prototype),M(n.prototype)),this.prototype},n}function b(e){return function(){return e}}var E=e["default"],x=t.get,w=(r.set,n.guidFor),_=n.apply,T=i.create,R=n.generateGuid,S=n.GUID_KEY,C=n.meta,H=n.makeArray,M=o.rewatch,A=a.finishChains,N=s.sendEvent,P=u.IS_BINDING,k=u.Mixin,O=u.required,L=c.indexOf,D=l["default"],F=i.defineProperty,B=h["default"],I=(f["default"],d.defineProperty,p.Binding),z=m.ComputedProperty,U=g["default"],V=o.destroy,j=e.K,q=(i.hasPropertyAccessors,U.schedule),G=k._apply,W=k.finishPartial,K=k.prototype.reopen,X=!1,Y={configurable:!0,writable:!0,enumerable:!1,value:void 0},$={configurable:!0,writable:!0,enumerable:!1,value:null},Q=v();Q.toString=function(){return"Ember.CoreObject"},Q.PrototypeMixin=k.create({reopen:function(){for(var e=arguments.length,t=new Array(e),r=0;e>r;r++)t[r]=arguments[r];return G(this,t,!0),this},init:function(){},concatenatedProperties:null,isDestroyed:!1,isDestroying:!1,destroy:function(){return this.isDestroying?void 0:(this.isDestroying=!0,q("actions",this,this.willDestroy),q("destroy",this,this._scheduledDestroy),this)},willDestroy:j,_scheduledDestroy:function(){this.isDestroyed||(V(this),this.isDestroyed=!0)},bind:function(e,t){return t instanceof I||(t=I.from(t)),t.to(e).connect(this),t},toString:function(){var e="function"==typeof this.toStringExtension,t=e?":"+this.toStringExtension():"",r="<"+this.constructor.toString()+":"+w(this)+t+">";return this.toString=b(r),r}}),Q.PrototypeMixin.ownerConstructor=Q,E.config.overridePrototypeMixin&&E.config.overridePrototypeMixin(Q.PrototypeMixin),Q.__super__=null;var Z=k.create({ClassMixin:O(),PrototypeMixin:O(),isClass:!0,isMethod:!1,extend:function(){var e,t=v();return t.ClassMixin=k.create(this.ClassMixin),t.PrototypeMixin=k.create(this.PrototypeMixin),t.ClassMixin.ownerConstructor=t,t.PrototypeMixin.ownerConstructor=t,K.apply(t.PrototypeMixin,arguments),t.superclass=this,t.__super__=this.prototype,e=t.prototype=T(this.prototype),e.constructor=t,R(e),C(e).proto=e,t.ClassMixin.apply(t),t},createWithMixins:function(){var e=this,t=arguments.length;if(t>0){for(var r=new Array(t),n=0;t>n;n++)r[n]=arguments[n];this._initMixins(r)}return new e},create:function(){var e=this,t=arguments.length;if(t>0){for(var r=new Array(t),n=0;t>n;n++)r[n]=arguments[n];this._initProperties(r)}return new e},reopen:function(){this.willReopen();var e=arguments.length,t=new Array(e);if(e>0)for(var r=0;e>r;r++)t[r]=arguments[r];return _(this.PrototypeMixin,K,t),this},reopenClass:function(){var e=arguments.length,t=new Array(e);if(e>0)for(var r=0;e>r;r++)t[r]=arguments[r];return _(this.ClassMixin,K,t),G(this,arguments,!1),this},detect:function(e){if("function"!=typeof e)return!1;for(;e;){if(e===this)return!0;e=e.superclass}return!1},detectInstance:function(e){return e instanceof this},metaForProperty:function(e){var t=this.proto().__ember_meta__,r=t&&t.descs[e];return r._meta||{}},_computedProperties:E.computed(function(){X=!0;var e,t=this.proto(),r=C(t).descs,n=[];for(var i in r)e=r[i],e instanceof z&&n.push({name:i,meta:e._meta});return n}).readOnly(),eachComputedProperty:function(e,t){for(var r,n,i={},o=x(this,"_computedProperties"),a=0,s=o.length;s>a;a++)r=o[a],n=r.name,e.call(t||this,r.name,r.meta||i)}});Z.ownerConstructor=Q,E.config.overrideClassMixin&&E.config.overrideClassMixin(Z),Q.ClassMixin=Z,Z.apply(Q),Q.reopen({didDefineProperty:function(e,t,r){if(X!==!1&&r instanceof E.ComputedProperty){var n=E.meta(this.constructor).cache;void 0!==n._computedProperties&&(n._computedProperties=void 0)}}}),y["default"]=Q}),e("ember-runtime/system/deferred",["ember-metal/core","ember-runtime/mixins/deferred","ember-metal/property_get","ember-runtime/system/object","exports"],function(e,t,r,n,i){"use strict";var o=(e["default"],t["default"]),a=(r.get,n["default"]),s=a.extend(o,{init:function(){this._super()}});s.reopenClass({promise:function(e,t){var r=s.create();return e.call(t,r),r}}),i["default"]=s}),e("ember-runtime/system/each_proxy",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/enumerable_utils","ember-metal/array","ember-runtime/mixins/array","ember-runtime/system/object","ember-metal/computed","ember-metal/observer","ember-metal/events","ember-metal/properties","ember-metal/property_events","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d){"use strict";function p(e,t,r,n,i){var o,a=r._objects;for(a||(a=r._objects={});--i>=n;){var s=e.objectAt(i);s&&(T(s,t,r,"contentKeyWillChange"),_(s,t,r,"contentKeyDidChange"),o=y(s),a[o]||(a[o]=[]),a[o].push(i))}}function m(e,t,r,n,i){var o=r._objects;o||(o=r._objects={});for(var a,s;--i>=n;){var u=e.objectAt(i);u&&(R(u,t,r,"contentKeyWillChange"),S(u,t,r,"contentKeyDidChange"),s=y(u),a=o[s],a[b.call(a,i)]=null)}}var g=(e["default"],t.get),y=(r.set,n.guidFor),v=i.forEach,b=o.indexOf,E=a["default"],x=s["default"],w=u.computed,_=c.addObserver,T=c.addBeforeObserver,R=c.removeBeforeObserver,S=c.removeObserver,C=(n.typeOf,l.watchedEvents),H=h.defineProperty,M=f.beginPropertyChanges,A=f.propertyDidChange,N=f.propertyWillChange,P=f.endPropertyChanges,k=f.changeProperties,O=x.extend(E,{init:function(e,t,r){this._super(),this._keyName=t,this._owner=r,this._content=e},objectAt:function(e){var t=this._content.objectAt(e);return t&&g(t,this._keyName)},length:w(function(){var e=this._content;return e?g(e,"length"):0})}),L=/^.+:(before|change)$/,D=x.extend({init:function(e){this._super(),this._content=e,e.addArrayObserver(this),v(C(this),function(e){this.didAddListener(e)},this)},unknownProperty:function(e){var t;return t=new O(this._content,e,this),H(this,e,null,t),this.beginObservingContentKey(e),t},arrayWillChange:function(e,t,r){var n,i,o=this._keys;i=r>0?t+r:-1,M(this);for(n in o)o.hasOwnProperty(n)&&(i>0&&m(e,n,this,t,i),N(this,n));N(this._content,"@each"),P(this)},arrayDidChange:function(e,t,r,n){var i,o=this._keys;i=n>0?t+n:-1,k(function(){for(var r in o)o.hasOwnProperty(r)&&(i>0&&p(e,r,this,t,i),A(this,r));A(this._content,"@each")},this)},didAddListener:function(e){L.test(e)&&this.beginObservingContentKey(e.slice(0,-7))},didRemoveListener:function(e){L.test(e)&&this.stopObservingContentKey(e.slice(0,-7))},beginObservingContentKey:function(e){var t=this._keys;if(t||(t=this._keys={}),t[e])t[e]++;else{t[e]=1;var r=this._content,n=g(r,"length");p(r,e,this,0,n)}},stopObservingContentKey:function(e){var t=this._keys;if(t&&t[e]>0&&--t[e]<=0){var r=this._content,n=g(r,"length");m(r,e,this,0,n)}},contentKeyWillChange:function(e,t){N(this,t)},contentKeyDidChange:function(e,t){A(this,t)}});d.EachArray=O,d.EachProxy=D}),e("ember-runtime/system/lazy_load",["ember-metal/core","ember-metal/array","ember-runtime/system/native_array","exports"],function(e,t,r,n){"use strict";function i(e,t){var r;u[e]=u[e]||a.A(),u[e].pushObject(t),(r=c[e])&&t(r)}function o(e,t){if(c[e]=t,"object"==typeof window&&"function"==typeof window.dispatchEvent&&"function"==typeof CustomEvent){var r=new CustomEvent(e,{detail:t,name:e});window.dispatchEvent(r)}u[e]&&s.call(u[e],function(e){e(t)})}var a=e["default"],s=t.forEach,u=a.ENV.EMBER_LOAD_HOOKS||{},c={};n.onLoad=i,n.runLoadHooks=o}),e("ember-runtime/system/namespace",["ember-metal/core","ember-metal/property_get","ember-metal/array","ember-metal/utils","ember-metal/mixin","ember-runtime/system/object","exports"],function(e,t,r,n,i,o,a){"use strict";
function s(e,t,r){var n=e.length;w[e.join(".")]=t;for(var i in t)if(_.call(t,i)){var o=t[i];if(e[n]=i,o&&o.toString===h)o.toString=d(e.join(".")),o[R]=e.join(".");else if(o&&o.isNamespace){if(r[v(o)])continue;r[v(o)]=!0,s(e,o,r)}}e.length=n}function u(e,t){try{var r=e[t];return r&&r.isNamespace&&r}catch(n){}}function c(){var e,t=p.lookup;if(!x.PROCESSED)for(var r in t)T.test(r)&&(!t.hasOwnProperty||t.hasOwnProperty(r))&&(e=u(t,r),e&&(e[R]=r))}function l(e){var t=e.superclass;return t?t[R]?t[R]:l(t):void 0}function h(){p.BOOTED||this[R]||f();var e;if(this[R])e=this[R];else if(this._toString)e=this._toString;else{var t=l(this);e=t?"(subclass of "+t+")":"(unknown mixin)",this.toString=d(e)}return e}function f(){var e=!x.PROCESSED,t=p.anyUnprocessedMixins;if(e&&(c(),x.PROCESSED=!0),e||t){for(var r,n=x.NAMESPACES,i=0,o=n.length;o>i;i++)r=n[i],s([r.toString()],r,{});p.anyUnprocessedMixins=!1}}function d(e){return function(){return e}}var p=e["default"],m=t.get,g=r.indexOf,y=n.GUID_KEY,v=n.guidFor,b=i.Mixin,E=o["default"],x=E.extend({isNamespace:!0,init:function(){x.NAMESPACES.push(this),x.PROCESSED=!1},toString:function(){var e=m(this,"name")||m(this,"modulePrefix");return e?e:(c(),this[R])},nameClasses:function(){s([this.toString()],this,{})},destroy:function(){var e=x.NAMESPACES,t=this.toString();t&&(p.lookup[t]=void 0,delete x.NAMESPACES_BY_ID[t]),e.splice(g.call(e,this),1),this._super()}});x.reopenClass({NAMESPACES:[p],NAMESPACES_BY_ID:{},PROCESSED:!1,processAll:f,byName:function(e){return p.BOOTED||f(),w[e]}});var w=x.NAMESPACES_BY_ID,_={}.hasOwnProperty,T=/^[A-Z]/,R=p.NAME_KEY=y+"_name";b.prototype.toString=h,a["default"]=x}),e("ember-runtime/system/native_array",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/enumerable_utils","ember-metal/mixin","ember-metal/array","ember-runtime/mixins/array","ember-runtime/mixins/mutable_array","ember-runtime/mixins/observable","ember-runtime/mixins/copyable","ember-runtime/mixins/freezable","ember-runtime/copy","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f){"use strict";var d=e["default"],p=t.get,m=(r.set,n._replace),g=n.forEach,y=i.Mixin,v=o.indexOf,b=o.lastIndexOf,E=a["default"],x=s["default"],w=u["default"],_=c["default"],T=l.FROZEN_ERROR,R=h["default"],S=y.create(x,w,_,{get:function(e){return"length"===e?this.length:"number"==typeof e?this[e]:this._super(e)},objectAt:function(e){return this[e]},replace:function(e,t,r){if(this.isFrozen)throw T;var n=r?p(r,"length"):0;return this.arrayContentWillChange(e,t,n),0===n?this.splice(e,t):m(this,e,t,r),this.arrayContentDidChange(e,t,n),this},unknownProperty:function(e,t){var r;return void 0!==t&&void 0===r&&(r=this[e]=t),r},indexOf:v,lastIndexOf:b,copy:function(e){return e?this.map(function(e){return R(e,!0)}):this.slice()}}),C=["length"];g(S.keys(),function(e){Array.prototype[e]&&C.push(e)}),C.length>0&&(S=S.without.apply(S,C));var H=function(e){return void 0===e&&(e=[]),E.detect(e)?e:S.apply(e)};S.activate=function(){S.apply(Array.prototype),H=function(e){return e||[]}},(d.EXTEND_PROTOTYPES===!0||d.EXTEND_PROTOTYPES.Array)&&S.activate(),d.A=H,f.A=H,f.NativeArray=S,f["default"]=S}),e("ember-runtime/system/object",["ember-runtime/system/core_object","ember-runtime/mixins/observable","exports"],function(e,t,r){"use strict";var n=e["default"],i=t["default"],o=n.extend(i);o.toString=function(){return"Ember.Object"},r["default"]=o}),e("ember-runtime/system/object_proxy",["ember-runtime/system/object","ember-runtime/mixins/-proxy","exports"],function(e,t,r){"use strict";var n=e["default"],i=t["default"];r["default"]=n.extend(i)}),e("ember-runtime/system/set",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/utils","ember-metal/is_none","ember-runtime/system/string","ember-runtime/system/core_object","ember-runtime/mixins/mutable_enumerable","ember-runtime/mixins/enumerable","ember-runtime/mixins/copyable","ember-runtime/mixins/freezable","ember-metal/error","ember-metal/property_events","ember-metal/mixin","ember-metal/computed","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d,p,m){"use strict";var g=(e["default"],t.get),y=r.set,v=n.guidFor,b=i.isNone,E=o.fmt,x=a["default"],w=s["default"],_=u["default"],T=c["default"],R=l.Freezable,S=l.FROZEN_ERROR,C=h["default"],H=f.propertyWillChange,M=f.propertyDidChange,A=d.aliasMethod,N=p.computed;m["default"]=x.extend(w,T,R,{length:0,clear:function(){if(this.isFrozen)throw new C(S);var e=g(this,"length");if(0===e)return this;var t;this.enumerableContentWillChange(e,0),H(this,"firstObject"),H(this,"lastObject");for(var r=0;e>r;r++)t=v(this[r]),delete this[t],delete this[r];return y(this,"length",0),M(this,"firstObject"),M(this,"lastObject"),this.enumerableContentDidChange(e,0),this},isEqual:function(e){if(!_.detect(e))return!1;var t=g(this,"length");if(g(e,"length")!==t)return!1;for(;--t>=0;)if(!e.contains(this[t]))return!1;return!0},add:A("addObject"),remove:A("removeObject"),pop:function(){if(g(this,"isFrozen"))throw new C(S);var e=this.length>0?this[this.length-1]:null;return this.remove(e),e},push:A("addObject"),shift:A("pop"),unshift:A("push"),addEach:A("addObjects"),removeEach:A("removeObjects"),init:function(e){this._super(),e&&this.addObjects(e)},nextObject:function(e){return this[e]},firstObject:N(function(){return this.length>0?this[0]:void 0}),lastObject:N(function(){return this.length>0?this[this.length-1]:void 0}),addObject:function(e){if(g(this,"isFrozen"))throw new C(S);if(b(e))return this;var t,r=v(e),n=this[r],i=g(this,"length");return n>=0&&i>n&&this[n]===e?this:(t=[e],this.enumerableContentWillChange(null,t),H(this,"lastObject"),i=g(this,"length"),this[r]=i,this[i]=e,y(this,"length",i+1),M(this,"lastObject"),this.enumerableContentDidChange(null,t),this)},removeObject:function(e){if(g(this,"isFrozen"))throw new C(S);if(b(e))return this;var t,r,n=v(e),i=this[n],o=g(this,"length"),a=0===i,s=i===o-1;return i>=0&&o>i&&this[i]===e&&(r=[e],this.enumerableContentWillChange(r,null),a&&H(this,"firstObject"),s&&H(this,"lastObject"),o-1>i&&(t=this[o-1],this[i]=t,this[v(t)]=i),delete this[n],delete this[o-1],y(this,"length",o-1),a&&M(this,"firstObject"),s&&M(this,"lastObject"),this.enumerableContentDidChange(r,null)),this},contains:function(e){return this[v(e)]>=0},copy:function(){var e=this.constructor,t=new e,r=g(this,"length");for(y(t,"length",r);--r>=0;)t[r]=this[r],t[v(this[r])]=r;return t},toString:function(){var e,t=this.length,r=[];for(e=0;t>e;e++)r[e]=this[e];return E("Ember.Set<%@>",[r.join(",")])}})}),e("ember-runtime/system/string",["ember-metal/core","ember-metal/utils","ember-metal/cache","exports"],function(e,t,r,n){"use strict";function i(e,t){var r=t;if(!p(r)||arguments.length>2){r=new Array(arguments.length-1);for(var n=1,i=arguments.length;i>n;n++)r[n-1]=arguments[n]}var o=0;return e.replace(/%@([0-9]+)?/g,function(e,t){return t=t?parseInt(t,10)-1:o++,e=r[t],null===e?"(null)":void 0===e?"":m(e)})}function o(e,t){return(!p(t)||arguments.length>2)&&(t=Array.prototype.slice.call(arguments,1)),e=d.STRINGS[e]||e,i(e,t)}function a(e){return e.split(/\s+/)}function s(e){return _.get(e)}function u(e){return v.get(e)}function c(e){return b.get(e)}function l(e){return E.get(e)}function h(e){return x.get(e)}function f(e){return w.get(e)}var d=e["default"],p=t.isArray,m=t.inspect,g=r["default"],y=/[ _]/g,v=new g(1e3,function(e){return s(e).replace(y,"-")}),b=new g(1e3,function(e){return e.replace(R,function(e,t,r){return r?r.toUpperCase():""}).replace(/^([A-Z])/,function(e){return e.toLowerCase()})}),E=new g(1e3,function(e){for(var t=e.split("."),r=[],n=0,i=t.length;i>n;n++){var o=c(t[n]);r.push(o.charAt(0).toUpperCase()+o.substr(1))}return r.join(".")}),x=new g(1e3,function(e){return e.replace(S,"$1_$2").replace(C,"_").toLowerCase()}),w=new g(1e3,function(e){return e.charAt(0).toUpperCase()+e.substr(1)}),_=new g(1e3,function(e){return e.replace(T,"$1_$2").toLowerCase()}),T=/([a-z\d])([A-Z])/g,R=/(\-|_|\.|\s)+(.)?/g,S=/([a-z\d])([A-Z]+)/g,C=/\-|\s+/g;d.STRINGS={},n["default"]={fmt:i,loc:o,w:a,decamelize:s,dasherize:u,camelize:c,classify:l,underscore:h,capitalize:f},n.fmt=i,n.loc=o,n.w=a,n.decamelize=s,n.dasherize=u,n.camelize=c,n.classify=l,n.underscore=h,n.capitalize=f}),e("ember-runtime/system/subarray",["ember-metal/property_get","ember-metal/error","ember-metal/enumerable_utils","exports"],function(e,t,r,n){"use strict";function i(e,t){this.type=e,this.count=t}function o(e){arguments.length<1&&(e=0),this._operations=e>0?[new i(u,e)]:[]}var a=(e.get,t["default"]),s=r["default"],u="r",c="f";n["default"]=o,o.prototype={addItem:function(e,t){var r=-1,n=t?u:c,o=this;return this._findOperation(e,function(a,s,c,l,h){var f,d;n===a.type?++a.count:e===c?o._operations.splice(s,0,new i(n,1)):(f=new i(n,1),d=new i(a.type,l-e+1),a.count=e-c,o._operations.splice(s+1,0,f,d)),t&&(r=a.type===u?h+(e-c):h),o._composeAt(s)},function(e){o._operations.push(new i(n,1)),t&&(r=e),o._composeAt(o._operations.length-1)}),r},removeItem:function(e){var t=-1,r=this;return this._findOperation(e,function(n,i,o,a,s){n.type===u&&(t=s+(e-o)),n.count>1?--n.count:(r._operations.splice(i,1),r._composeAt(i))},function(){throw new a("Can't remove an item that has never been added.")}),t},_findOperation:function(e,t,r){var n,i,o,a,s,c=0;for(n=a=0,i=this._operations.length;i>n;a=s+1,++n){if(o=this._operations[n],s=a+o.count-1,e>=a&&s>=e)return void t(o,n,a,s,c);o.type===u&&(c+=o.count)}r(c)},_composeAt:function(e){var t,r=this._operations[e];r&&(e>0&&(t=this._operations[e-1],t.type===r.type&&(r.count+=t.count,this._operations.splice(e-1,1),--e)),e<this._operations.length-1&&(t=this._operations[e+1],t.type===r.type&&(r.count+=t.count,this._operations.splice(e+1,1))))},toString:function(){var e="";return s.forEach(this._operations,function(t){e+=" "+t.type+":"+t.count}),e.substring(1)}}}),e("ember-runtime/system/tracked_array",["ember-metal/property_get","ember-metal/enumerable_utils","exports"],function(e,t,r){"use strict";function n(e){arguments.length<1&&(e=[]);var t=a(e,"length");this._operations=t?[new i(u,t,e)]:[]}function i(e,t,r){this.type=e,this.count=t,this.items=r}function o(e,t,r,n){this.operation=e,this.index=t,this.split=r,this.rangeStart=n}var a=e.get,s=t.forEach,u="r",c="i",l="d";r["default"]=n,n.RETAIN=u,n.INSERT=c,n.DELETE=l,n.prototype={addItems:function(e,t){var r=a(t,"length");if(!(1>r)){var n,o,s=this._findArrayOperation(e),u=s.operation,l=s.index,h=s.rangeStart;o=new i(c,r,t),u?s.split?(this._split(l,e-h,o),n=l+1):(this._operations.splice(l,0,o),n=l):(this._operations.push(o),n=l),this._composeInsert(n)}},removeItems:function(e,t){if(!(1>t)){var r,n,o=this._findArrayOperation(e),a=(o.operation,o.index),s=o.rangeStart;return r=new i(l,t),o.split?(this._split(a,e-s,r),n=a+1):(this._operations.splice(a,0,r),n=a),this._composeDelete(n)}},apply:function(e){var t=[],r=0;s(this._operations,function(n,i){e(n.items,r,n.type,i),n.type!==l&&(r+=n.count,t=t.concat(n.items))}),this._operations=[new i(u,t.length,t)]},_findArrayOperation:function(e){var t,r,n,i,a,s=!1;for(t=n=0,a=this._operations.length;a>t;++t)if(r=this._operations[t],r.type!==l){if(i=n+r.count-1,e===n)break;if(e>n&&i>=e){s=!0;break}n=i+1}return new o(r,t,s,n)},_split:function(e,t,r){var n=this._operations[e],o=n.items.slice(t),a=new i(n.type,o.length,o);n.count=t,n.items=n.items.slice(0,t),this._operations.splice(e+1,0,r,a)},_composeInsert:function(e){var t=this._operations[e],r=this._operations[e-1],n=this._operations[e+1],i=r&&r.type,o=n&&n.type;i===c?(r.count+=t.count,r.items=r.items.concat(t.items),o===c?(r.count+=n.count,r.items=r.items.concat(n.items),this._operations.splice(e,2)):this._operations.splice(e,1)):o===c&&(t.count+=n.count,t.items=t.items.concat(n.items),this._operations.splice(e+1,1))},_composeDelete:function(e){var t,r,n,i=this._operations[e],o=i.count,a=this._operations[e-1],s=a&&a.type,u=!1,h=[];s===l&&(i=a,e-=1);for(var f=e+1;o>0;++f)t=this._operations[f],r=t.type,n=t.count,r!==l?(n>o?(h=h.concat(t.items.splice(0,o)),t.count-=o,f-=1,n=o,o=0):(n===o&&(u=!0),h=h.concat(t.items),o-=n),r===c&&(i.count-=n)):i.count+=n;return i.count>0?this._operations.splice(e+1,f-1-e):this._operations.splice(e,u?2:1),h},toString:function(){var e="";return s(this._operations,function(t){e+=" "+t.type+":"+t.count}),e.substring(1)}}}),e("ember-views",["ember-runtime","ember-views/system/jquery","ember-views/system/utils","ember-views/system/render_buffer","ember-views/system/ext","ember-views/views/states","ember-views/views/core_view","ember-views/views/view","ember-views/views/container_view","ember-views/views/collection_view","ember-views/views/component","ember-views/system/event_dispatcher","ember-views/mixins/view_target_action_support","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d){"use strict";var p=e["default"],m=t["default"],g=r.isSimpleClick,y=n["default"],v=o.cloneStates,b=o.states,E=a["default"],x=s["default"],w=u["default"],_=c["default"],T=l["default"],R=h["default"],S=f["default"];p.$=m,p.ViewTargetActionSupport=S,p.RenderBuffer=y;var C=p.ViewUtils={};C.isSimpleClick=g,p.CoreView=E,p.View=x,p.View.states=b,p.View.cloneStates=v,p.ContainerView=w,p.CollectionView=_,p.Component=T,p.EventDispatcher=R,d["default"]=p}),e("ember-views/mixins/component_template_deprecation",["ember-metal/core","ember-metal/property_get","ember-metal/mixin","exports"],function(e,t,r,n){"use strict";var i=(e["default"],t.get),o=r.Mixin;n["default"]=o.create({willMergeMixin:function(e){this._super.apply(this,arguments);var t,r,n=e.layoutName||e.layout||i(this,"layoutName");e.templateName&&!n&&(t="templateName",r="layoutName",e.layoutName=e.templateName,delete e.templateName),e.template&&!n&&(t="template",r="layout",e.layout=e.template,delete e.template)}})}),e("ember-views/mixins/view_target_action_support",["ember-metal/mixin","ember-runtime/mixins/target_action_support","ember-metal/computed","exports"],function(e,t,r,n){"use strict";var i=e.Mixin,o=t["default"],a=r.computed,s=a.alias;n["default"]=i.create(o,{target:s("controller"),actionContext:s("context")})}),e("ember-views/system/action_manager",["exports"],function(e){"use strict";function t(){}t.registeredActions={},e["default"]=t}),e("ember-views/system/event_dispatcher",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/is_none","ember-metal/run_loop","ember-metal/utils","ember-runtime/system/string","ember-runtime/system/object","ember-views/system/jquery","ember-views/system/action_manager","ember-views/views/view","ember-metal/merge","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f){"use strict";var d=(e["default"],t.get),p=r.set,m=n.isNone,g=i["default"],y=o.typeOf,v=(a.fmt,s["default"]),b=u["default"],E=c["default"],x=l["default"],w=h["default"];f["default"]=v.extend({events:{touchstart:"touchStart",touchmove:"touchMove",touchend:"touchEnd",touchcancel:"touchCancel",keydown:"keyDown",keyup:"keyUp",keypress:"keyPress",mousedown:"mouseDown",mouseup:"mouseUp",contextmenu:"contextMenu",click:"click",dblclick:"doubleClick",mousemove:"mouseMove",focusin:"focusIn",focusout:"focusOut",mouseenter:"mouseEnter",mouseleave:"mouseLeave",submit:"submit",input:"input",change:"change",dragstart:"dragStart",drag:"drag",dragenter:"dragEnter",dragleave:"dragLeave",dragover:"dragOver",drop:"drop",dragend:"dragEnd"},rootElement:"body",canDispatchToEventManager:!0,setup:function(e,t){var r,n=d(this,"events");w(n,e||{}),m(t)||p(this,"rootElement",t),t=b(d(this,"rootElement")),t.addClass("ember-application");for(r in n)n.hasOwnProperty(r)&&this.setupHandler(t,r,n[r])},setupHandler:function(e,t,r){var n=this;e.on(t+".ember",".ember-view",function(e,t){var i=x.views[this.id],o=!0,a=n.canDispatchToEventManager?n._findNearestEventManager(i,r):null;return a&&a!==t?o=n._dispatchEvent(a,e,r,i):i&&(o=n._bubbleEvent(i,e,r)),o}),e.on(t+".ember","[data-ember-action]",function(e){var t=b(e.currentTarget).attr("data-ember-action"),n=E.registeredActions[t];return n&&n.eventName===r?n.handler(e):void 0})},_findNearestEventManager:function(e,t){for(var r=null;e&&(r=d(e,"eventManager"),!r||!r[t]);)e=d(e,"parentView");return r},_dispatchEvent:function(e,t,r,n){var i=!0,o=e[r];return"function"===y(o)?(i=g(e,o,t,n),t.stopPropagation()):i=this._bubbleEvent(n,t,r),i},_bubbleEvent:function(e,t,r){return g(e,e.handleEvent,r,t)},destroy:function(){var e=d(this,"rootElement");return b(e).off(".ember","**").removeClass("ember-application"),this._super()},toString:function(){return"(EventDispatcher)"}})}),e("ember-views/system/ext",["ember-metal/run_loop"],function(e){"use strict";{var t=e["default"];t.queues}t._addQueue("render","actions"),t._addQueue("afterRender","render")}),e("ember-views/system/jquery",["ember-metal/core","ember-runtime/system/string","ember-metal/enumerable_utils","exports"],function(e,t,n,i){"use strict";var o=e["default"],a=t.w,s=n.forEach,u=o.imports&&o.imports.jQuery||this&&this.jQuery;if(u||"function"!=typeof r||(u=r("jquery")),u){var c=a("dragstart drag dragenter dragleave dragover drop dragend");s(c,function(e){u.event.fixHooks[e]={props:["dataTransfer"]}})}i["default"]=u}),e("ember-views/system/render_buffer",["ember-views/system/jquery","morph","ember-metal/core","ember-metal/platform","exports"],function(e,t,r,n,i){"use strict";function o(e,t){if("TABLE"===t.tagName){var r=p.exec(e);if(r)return d[r[1].toLowerCase()]}}function a(){this.seen=f(null),this.list=[]}function s(e){return e&&m.test(e)?e.replace(g,""):e}function u(e){var t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},r=function(e){return t[e]||"&amp;"},n=e.toString();return v.test(n)?n.replace(y,r):n}function c(e,t){this.tagName=e,this._outerContextualElement=t,this.buffer=null,this.childViews=[],this.dom=new h}var l=e["default"],h=t.DOMHelper,f=(r["default"],n.create),d={tr:document.createElement("tbody"),col:document.createElement("colgroup")},p=/(?:<script)*.*?<([\w:]+)/i;a.prototype={add:function(e){this.seen[e]!==!0&&(this.seen[e]=!0,this.list.push(e))},toDOM:function(){return this.list.join(" ")}};var m=/[^a-zA-Z0-9\-]/,g=/[^a-zA-Z0-9\-]/g,y=/&(?!\w+;)|[<>"'`]/g,v=/[&<>"'`]/,b=function(){var e=document.createElement("div"),t=document.createElement("input");return t.setAttribute("name","foo"),e.appendChild(t),!!e.innerHTML.match("foo")}();i["default"]=function(e,t){return new c(e,t)},c.prototype={reset:function(e,t){this.tagName=e,this.buffer=null,this._element=null,this._outerContextualElement=t,this.elementClasses=null,this.elementId=null,this.elementAttributes=null,this.elementProperties=null,this.elementTag=null,this.elementStyle=null,this.childViews.length=0},_element:null,_outerContextualElement:null,elementClasses:null,classes:null,elementId:null,elementAttributes:null,elementProperties:null,elementTag:null,elementStyle:null,pushChildView:function(e){var t=this.childViews.length;this.childViews[t]=e,this.push("<script id='morph-"+t+"' type='text/x-placeholder'></script>")},hydrateMorphs:function(e){for(var t=this.childViews,r=this._element,n=0,i=t.length;i>n;n++){var o=t[n],a=r.querySelector("#morph-"+n),s=a.parentNode;o._morph=this.dom.insertMorphBefore(s,a,1===s.nodeType?s:e),s.removeChild(a)}},push:function(e){return null===this.buffer&&(this.buffer=""),this.buffer+=e,this},addClass:function(e){return this.elementClasses=this.elementClasses||new a,this.elementClasses.add(e),this.classes=this.elementClasses.list,this},setClasses:function(e){this.elementClasses=null;var t,r=e.length;for(t=0;r>t;t++)this.addClass(e[t])},id:function(e){return this.elementId=e,this},attr:function(e,t){var r=this.elementAttributes=this.elementAttributes||{};return 1===arguments.length?r[e]:(r[e]=t,this)},removeAttr:function(e){var t=this.elementAttributes;return t&&delete t[e],this},prop:function(e,t){var r=this.elementProperties=this.elementProperties||{};return 1===arguments.length?r[e]:(r[e]=t,this)},removeProp:function(e){var t=this.elementProperties;return t&&delete t[e],this},style:function(e,t){return this.elementStyle=this.elementStyle||{},this.elementStyle[e]=t,this},generateElement:function(){var e,t,r,n=this.tagName,i=this.elementId,o=this.classes,a=this.elementAttributes,c=this.elementProperties,h=this.elementStyle,f="";r=a&&a.name&&!b?"<"+s(n)+' name="'+u(a.name)+'">':n;var d=this.dom.createElement(r,this.outerContextualElement()),p=l(d);if(i&&(this.dom.setAttribute(d,"id",i),this.elementId=null),o&&(this.dom.setAttribute(d,"class",o.join(" ")),this.classes=null,this.elementClasses=null),h){for(t in h)h.hasOwnProperty(t)&&(f+=t+":"+h[t]+";");this.dom.setAttribute(d,"style",f),this.elementStyle=null}if(a){for(e in a)a.hasOwnProperty(e)&&this.dom.setAttribute(d,e,a[e]);this.elementAttributes=null}if(c){for(t in c)c.hasOwnProperty(t)&&p.prop(t,c[t]);this.elementProperties=null}this._element=d},element:function(){var e=this.innerContent();if(null===e)return this._element;var t=this.innerContextualElement(e);this.dom.detectNamespace(t),this._element||(this._element=document.createDocumentFragment());for(var r=this.dom.parseHTML(e,t);r[0];)this._element.appendChild(r[0]);return this.hydrateMorphs(t),this._element},string:function(){if(this._element){var e=this.element(),t=e.outerHTML;return"undefined"==typeof t?l("<div/>").append(e).html():t}return this.innerString()},outerContextualElement:function(){return this._outerContextualElement||(this.outerContextualElement=document.body),this._outerContextualElement},innerContextualElement:function(e){var t;t=this._element&&1===this._element.nodeType?this._element:this.outerContextualElement();var r;return e&&(r=o(e,t)),r||t},innerString:function(){var e=this.innerContent();return e&&!e.nodeType?e:void 0},innerContent:function(){return this.buffer}}}),e("ember-views/system/renderer",["ember-metal/core","ember-metal-views/renderer","ember-metal/platform","ember-views/system/render_buffer","ember-metal/run_loop","ember-metal/property_set","ember-metal/instrumentation","exports"],function(e,t,r,n,i,o,a,s){"use strict";function u(){this.buffer=h(),c.call(this)}var c=(e["default"],t["default"]),l=r.create,h=n["default"],f=i["default"],d=o.set,p=a._instrumentStart,m=a.subscribers;u.prototype=l(c.prototype),u.prototype.constructor=u;u.prototype.scheduleRender=function(e,t){return f.scheduleOnce("render",e,t)},u.prototype.cancelRender=function(e){f.cancel(e)},u.prototype.createChildViewsMorph=function(e,t){if(e.createChildViewsMorph)return e.createChildViewsMorph(t);var r=t;return""===e.tagName?e._morph?e._childViewsMorph=e._morph:(r=document.createDocumentFragment(),e._childViewsMorph=this._dom.appendMorph(r)):e._childViewsMorph=this._dom.createMorph(r,r.lastChild,null),r},u.prototype.createElement=function(e,t){{var r=e.tagName,n=e.classNameBindings;""===r&&n.length>0}(null===r||void 0===r)&&(r="div");var i=e.buffer=this.buffer;i.reset(r,t),e.beforeRender&&e.beforeRender(i),""!==r&&(e.applyAttributesToBuffer&&e.applyAttributesToBuffer(i),i.generateElement()),e.render&&e.render(i),e.afterRender&&e.afterRender(i);var o=i.element();return e.isContainer&&this.createChildViewsMorph(e,o),e.buffer=null,o&&1===o.nodeType&&d(e,"element",o),o},u.prototype.destroyView=function(e){e.removedFromDOM=!0,e.destroy()},u.prototype.childViews=function(e){return e._childViews},c.prototype.willCreateElement=function(e){m.length&&e.instrumentDetails&&(e._instrumentEnd=p("render."+e.instrumentName,function(){var t={};return e.instrumentDetails(t),t})),e._transitionTo&&e._transitionTo("inBuffer")},c.prototype.didCreateElement=function(e){e._transitionTo&&e._transitionTo("hasElement"),e._instrumentEnd&&e._instrumentEnd()},c.prototype.willInsertElement=function(e){e.trigger&&e.trigger("willInsertElement")},c.prototype.didInsertElement=function(e){e._transitionTo&&e._transitionTo("inDOM"),e.trigger&&e.trigger("didInsertElement")},c.prototype.willRemoveElement=function(){},c.prototype.willDestroyElement=function(e){e.trigger&&e.trigger("willDestroyElement"),e.trigger&&e.trigger("willClearRender")},c.prototype.didDestroyElement=function(e){d(e,"element",null),e._transitionTo&&e._transitionTo("preRender")},s["default"]=u}),e("ember-views/system/utils",["exports"],function(e){"use strict";function t(e){var t=e.shiftKey||e.metaKey||e.altKey||e.ctrlKey,r=e.which>1;return!t&&!r}e.isSimpleClick=t}),e("ember-views/views/collection_view",["ember-metal/core","ember-metal/platform","ember-metal/binding","ember-metal/merge","ember-metal/property_get","ember-metal/property_set","ember-runtime/system/string","ember-views/views/container_view","ember-views/views/core_view","ember-views/views/view","ember-metal/mixin","ember-handlebars/ext","ember-runtime/mixins/array","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d){"use strict";var p=(e["default"],t.create,r.isGlobalPath),m=(n["default"],i.get),g=o.set,y=(a.fmt,s["default"]),v=u["default"],b=c["default"],E=l.observer,x=l.beforeObserver,w=h.handlebarsGetView,_=(f["default"],y.extend({content:null,emptyViewClass:b,emptyView:null,itemViewClass:b,init:function(){var e=this._super();return this._contentDidChange(),e},_contentWillChange:x("content",function(){var e=this.get("content");e&&e.removeArrayObserver(this);var t=e?m(e,"length"):0;this.arrayWillChange(e,0,t)}),_contentDidChange:E("content",function(){var e=m(this,"content");e&&(this._assertArrayLike(e),e.addArrayObserver(this));var t=e?m(e,"length"):0;this.arrayDidChange(e,0,null,t)}),_assertArrayLike:function(){},destroy:function(){if(this._super()){var e=m(this,"content");return e&&e.removeArrayObserver(this),this._createdEmptyView&&this._createdEmptyView.destroy(),this}},arrayWillChange:function(e,t,r){var n=m(this,"emptyView");n&&n instanceof b&&n.removeFromParent();var i,o,a=this._childViews;for(o=t+r-1;o>=t;o--)i=a[o],i.destroy()},arrayDidChange:function(e,t,r,n){var i,o,a,s,u,c,l=[];if(s=e?m(e,"length"):0)for(u=m(this,"itemViewClass"),u=w(e,u,this.container),a=t;t+n>a;a++)o=e.objectAt(a),i=this.createChildView(u,{content:o,contentIndex:a}),l.push(i);else{if(c=m(this,"emptyView"),!c)return;"string"==typeof c&&p(c)&&(c=m(c)||c),c=this.createChildView(c),l.push(c),g(this,"emptyView",c),v.detect(c)&&(this._createdEmptyView=c)}this.replace(t,0,l)},createChildView:function(e,t){e=this._super(e,t);var r=m(e,"tagName");return(null===r||void 0===r)&&(r=_.CONTAINER_MAP[m(this,"tagName")],g(e,"tagName",r)),e}}));_.CONTAINER_MAP={ul:"li",ol:"li",table:"tr",thead:"tr",tbody:"tr",tfoot:"tr",tr:"td",select:"option"},d["default"]=_}),e("ember-views/views/component",["ember-metal/core","ember-views/mixins/component_template_deprecation","ember-runtime/mixins/target_action_support","ember-views/views/view","ember-metal/property_get","ember-metal/property_set","ember-metal/is_none","ember-metal/computed","exports"],function(e,t,r,n,i,o,a,s,u){"use strict";var c=e["default"],l=t["default"],h=r["default"],f=n["default"],d=i.get,p=o.set,m=(a.isNone,s.computed),g=Array.prototype.slice,y=f.extend(h,l,{instrumentName:"component",instrumentDisplay:m(function(){return this._debugContainerKey?"{{"+this._debugContainerKey.split(":")[1]+"}}":void 0}),init:function(){this._super(),p(this,"origContext",d(this,"context")),p(this,"context",this),p(this,"controller",this)},defaultLayout:function(e,t){c.Handlebars.helpers["yield"].call(e,t)},template:m(function(e,t){if(void 0!==t)return t;var r=d(this,"templateName"),n=this.templateForName(r,"template");return n||d(this,"defaultTemplate")}).property("templateName"),templateName:null,cloneKeywords:function(){return{view:this,controller:this}},_yield:function(e,t){var r=t.data.view,n=this._parentView,i=d(this,"template");i&&r.appendChild(f,{isVirtual:!0,tagName:"",_contextView:n,template:i,context:t.data.insideGroup?d(this,"origContext"):d(n,"context"),controller:d(n,"controller"),templateData:{keywords:n.cloneKeywords(),insideGroup:t.data.insideGroup}})},targetObject:m(function(){var e=d(this,"_parentView");return e?d(e,"controller"):null}).property("_parentView"),sendAction:function(e){var t,r=g.call(arguments,1);t=void 0===e?d(this,"action"):d(this,e),void 0!==t&&this.triggerAction({action:t,actionContext:r})}});u["default"]=y}),e("ember-views/views/container_view",["ember-metal/core","ember-metal/merge","ember-runtime/mixins/mutable_array","ember-metal/property_get","ember-metal/property_set","ember-views/views/view","ember-views/views/states","ember-metal/error","ember-metal/enumerable_utils","ember-metal/computed","ember-metal/run_loop","ember-metal/properties","ember-views/system/render_buffer","ember-metal/mixin","ember-runtime/system/native_array","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d,p,m){"use strict";var g=e["default"],y=t["default"],v=r["default"],b=n.get,E=i.set,x=o["default"],w=a.cloneStates,_=a.states,T=s["default"],R=u.forEach,S=c.computed,C=l["default"],H=h.defineProperty,M=(f["default"],d.observer),A=d.beforeObserver,N=(p.A,w(_)),P=x.extend(v,{isContainer:!0,_states:N,willWatchProperty:function(){},init:function(){this._super();var e=b(this,"childViews");H(this,"childViews",x.childViewsProperty);var t=this._childViews;R(e,function(e,r){var n;"string"==typeof e?(n=b(this,e),n=this.createChildView(n),E(this,e,n)):n=this.createChildView(e),t[r]=n},this);var r=b(this,"currentView");r&&(t.length||(t=this._childViews=this._childViews.slice()),t.push(this.createChildView(r)))},replace:function(e,t,r){var n=r?b(r,"length"):0;if(this.arrayContentWillChange(e,t,n),this.childViewsWillChange(this._childViews,e,t),0===n)this._childViews.splice(e,t);else{var i=[e,t].concat(r);r.length&&!this._childViews.length&&(this._childViews=this._childViews.slice()),this._childViews.splice.apply(this._childViews,i)}return this.arrayContentDidChange(e,t,n),this.childViewsDidChange(this._childViews,e,t,n),this},objectAt:function(e){return this._childViews[e]},length:S(function(){return this._childViews.length})["volatile"](),render:function(){},instrumentName:"container",childViewsWillChange:function(e,t,r){if(this.propertyWillChange("childViews"),r>0){var n=e.slice(t,t+r);this.currentState.childViewsWillChange(this,e,t,r),this.initializeViews(n,null,null)}},removeChild:function(e){return this.removeObject(e),this},childViewsDidChange:function(e,t,r,n){if(n>0){var i=e.slice(t,t+n);this.initializeViews(i,this,b(this,"templateData")),this.currentState.childViewsDidChange(this,e,t,n)}this.propertyDidChange("childViews")},initializeViews:function(e,t,r){R(e,function(e){E(e,"_parentView",t),!e.container&&t&&E(e,"container",t.container),b(e,"templateData")||E(e,"templateData",r)})},currentView:null,_currentViewWillChange:A("currentView",function(){var e=b(this,"currentView");e&&e.destroy()}),_currentViewDidChange:M("currentView",function(){var e=b(this,"currentView");e&&this.pushObject(e)}),_ensureChildrenAreInDOM:function(){this.currentState.ensureChildrenAreInDOM(this)}});y(N._default,{childViewsWillChange:g.K,childViewsDidChange:g.K,ensureChildrenAreInDOM:g.K}),y(N.inBuffer,{childViewsDidChange:function(){throw new T("You cannot modify child views while in the inBuffer state")}}),y(N.hasElement,{childViewsWillChange:function(e,t,r,n){for(var i=r;r+n>i;i++)t[i].remove()},childViewsDidChange:function(e){C.scheduleOnce("render",e,"_ensureChildrenAreInDOM")},ensureChildrenAreInDOM:function(e){var t,r,n,i=e._childViews,o=e._renderer;for(t=0,r=i.length;r>t;t++)n=i[t],n._elementCreated||o.renderTree(n,e,t)}}),m["default"]=P}),e("ember-views/views/core_view",["ember-views/system/renderer","ember-views/views/states","ember-runtime/system/object","ember-runtime/mixins/evented","ember-runtime/mixins/action_handler","ember-metal/property_get","ember-metal/property_set","ember-metal/computed","ember-metal/utils","ember-metal/instrumentation","exports"],function(e,t,r,n,o,a,s,u,c,l,h){"use strict";var f=e["default"],d=t.cloneStates,p=t.states,m=r["default"],g=n["default"],y=o["default"],v=a.get,b=(s.set,u.computed),E=c.typeOf,x=(l.instrument,m.extend(g,y,{isView:!0,isVirtual:!1,isContainer:!1,_states:d(p),init:function(){this._super(),this._transitionTo("preRender"),this._isVisible=v(this,"isVisible")
},parentView:b("_parentView",function(){var e=this._parentView;return e&&e.isVirtual?v(e,"parentView"):e}),_state:null,_parentView:null,concreteView:b("parentView",function(){return this.isVirtual?v(this,"parentView.concreteView"):this}),instrumentName:"core_view",instrumentDetails:function(e){e.object=this.toString(),e.containerKey=this._debugContainerKey,e.view=this},trigger:function(){this._super.apply(this,arguments);var e=arguments[0],t=this[e];if(t){for(var r=arguments.length,n=new Array(r-1),i=1;r>i;i++)n[i-1]=arguments[i];return t.apply(this,n)}},has:function(e){return"function"===E(this[e])||this._super(e)},destroy:function(){var e=this._parentView;if(this._super())return!this.removedFromDOM&&this._renderer&&this._renderer.remove(this,!0),e&&e.removeChild(this),this._transitionTo("destroying",!1),this},clearRenderedChildren:i.K,_transitionTo:i.K,destroyElement:i.K}));x.reopenClass({renderer:new f}),h["default"]=x}),e("ember-views/views/states",["ember-metal/platform","ember-metal/merge","ember-views/views/states/default","ember-views/views/states/pre_render","ember-views/views/states/in_buffer","ember-views/views/states/has_element","ember-views/views/states/in_dom","ember-views/views/states/destroying","exports"],function(e,t,r,n,i,o,a,s,u){"use strict";function c(e){var t={};t._default={},t.preRender=l(t._default),t.destroying=l(t._default),t.inBuffer=l(t._default),t.hasElement=l(t._default),t.inDOM=l(t.hasElement);for(var r in e)e.hasOwnProperty(r)&&h(t[r],e[r]);return t}var l=e.create,h=t["default"],f=r["default"],d=n["default"],p=i["default"],m=o["default"],g=a["default"],y=s["default"];u.cloneStates=c;var v={_default:f,preRender:d,inDOM:g,inBuffer:p,hasElement:m,destroying:y};u.states=v}),e("ember-views/views/states/default",["ember-metal/core","ember-metal/property_get","ember-metal/property_set","ember-metal/run_loop","ember-metal/error","exports"],function(e,t,r,n,i,o){"use strict";var a=e["default"],s=(t.get,r.set,n["default"],i["default"]);o["default"]={appendChild:function(){throw new s("You can't use appendChild outside of the rendering process")},$:function(){return void 0},getElement:function(){return null},handleEvent:function(){return!0},destroyElement:function(e){return e._renderer&&e._renderer.remove(e,!1),e},rerender:a.K,invokeObserver:a.K}}),e("ember-views/views/states/destroying",["ember-metal/merge","ember-metal/platform","ember-runtime/system/string","ember-views/views/states/default","ember-metal/error","exports"],function(e,t,r,n,i,o){"use strict";var a=e["default"],s=t.create,u=r.fmt,c=n["default"],l=i["default"],h="You can't call %@ on a view being destroyed",f=s(c);a(f,{appendChild:function(){throw new l(u(h,["appendChild"]))},rerender:function(){throw new l(u(h,["rerender"]))},destroyElement:function(){throw new l(u(h,["destroyElement"]))}}),o["default"]=f}),e("ember-views/views/states/has_element",["ember-views/views/states/default","ember-metal/run_loop","ember-metal/merge","ember-metal/platform","ember-views/system/jquery","ember-metal/error","ember-metal/property_get","ember-metal/property_set","exports"],function(e,t,r,n,i,o,a,s,u){"use strict";var c=e["default"],l=t["default"],h=r["default"],f=n.create,d=i["default"],p=o["default"],m=a.get,g=(s.set,f(c));h(g,{$:function(e,t){var r=e.get("concreteView").element;return t?d(t,r):d(r)},getElement:function(e){var t=m(e,"parentView");return t&&(t=m(t,"element")),t?e.findElementInParentElement(t):d("#"+m(e,"elementId"))[0]},rerender:function(e){if(e._root._morph&&!e._elementInserted)throw new p("Something you did caused a view to re-render after it rendered but before it was inserted into the DOM.");l.scheduleOnce("render",function(){e.isDestroying||e._renderer.renderTree(e,e._parentView)})},destroyElement:function(e){return e._renderer.remove(e,!1),e},handleEvent:function(e,t,r){return e.has(t)?e.trigger(t,r):!0},invokeObserver:function(e,t){t.call(e)}}),u["default"]=g}),e("ember-views/views/states/in_buffer",["ember-views/views/states/default","ember-metal/error","ember-metal/core","ember-metal/platform","ember-metal/merge","exports"],function(e,t,r,n,i,o){"use strict";var a=e["default"],s=t["default"],u=r["default"],c=n.create,l=i["default"],h=c(a);l(h,{$:function(e){return e.rerender(),u.$()},rerender:function(){throw new s("Something you did caused a view to re-render after it rendered but before it was inserted into the DOM.")},appendChild:function(e,t,r){var n=e.buffer,i=e._childViews;return t=e.createChildView(t,r),i.length||(i=e._childViews=i.slice()),i.push(t),t._morph||n.pushChildView(t),e.propertyDidChange("childViews"),t},invokeObserver:function(e,t){t.call(e)}}),o["default"]=h}),e("ember-views/views/states/in_dom",["ember-metal/core","ember-metal/platform","ember-metal/merge","ember-metal/error","ember-views/views/states/has_element","exports"],function(e,r,n,i,o,a){"use strict";var s,u=(e["default"],r.create),c=n["default"],l=i["default"],h=o["default"],f=u(h);c(f,{enter:function(e){s||(s=t("ember-views/views/view")["default"]),e.isVirtual||(s.views[e.elementId]=e),e.addBeforeObserver("elementId",function(){throw new l("Changing a view's elementId after creation is not allowed")})},exit:function(e){s||(s=t("ember-views/views/view")["default"]),this.isVirtual||delete s.views[e.elementId]}}),a["default"]=f}),e("ember-views/views/states/pre_render",["ember-views/views/states/default","ember-metal/platform","ember-metal/merge","ember-views/system/jquery","exports"],function(e,t,r,n,i){"use strict";var o=e["default"],a=t.create,s=(r["default"],n["default"],a(o));i["default"]=s}),e("ember-views/views/view",["ember-metal/core","ember-runtime/mixins/evented","ember-runtime/system/object","ember-metal/error","ember-metal/property_get","ember-metal/property_set","ember-metal/set_properties","ember-metal/run_loop","ember-metal/observer","ember-metal/properties","ember-metal/utils","ember-metal/computed","ember-metal/mixin","ember-metal/is_none","ember-metal/deprecate_property","ember-runtime/system/native_array","ember-runtime/system/string","ember-metal/enumerable_utils","ember-runtime/copy","ember-metal/binding","ember-metal/property_events","ember-views/system/jquery","ember-views/system/ext","ember-views/views/core_view","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d,p,m,g,y,v,b,E,x,w,_,T){"use strict";var R=e["default"],S=t["default"],C=r["default"],H=n["default"],M=i.get,A=o.set,N=a["default"],P=s["default"],k=u.addObserver,O=u.removeObserver,L=c.defineProperty,D=c.deprecateProperty,F=l.guidFor,B=(l.meta,h.computed),I=f.observer,z=l.typeOf,U=l.isArray,V=d.isNone,j=f.Mixin,D=p.deprecateProperty,q=m.A,G=g.dasherize,W=y.forEach,K=y.addObject,X=y.removeObject,Y=f.beforeObserver,$=v["default"],Q=b.isGlobalPath,Z=E.propertyWillChange,J=E.propertyDidChange,et=x["default"],tt=_["default"],rt=B(function(){var e=this._childViews,t=q();return W(e,function(e){var r;e.isVirtual?(r=M(e,"childViews"))&&t.pushObjects(r):t.push(e)}),t.replace=function(){throw new H("childViews is immutable")},t});R.TEMPLATES={};var nt=[],it=tt.extend({concatenatedProperties:["classNames","classNameBindings","attributeBindings"],isView:!0,templateName:null,layoutName:null,instrumentDisplay:B(function(){return this.helperName?"{{"+this.helperName+"}}":void 0}),template:B("templateName",function(e,t){if(void 0!==t)return t;var r=M(this,"templateName"),n=this.templateForName(r,"template");return n||M(this,"defaultTemplate")}),controller:B("_parentView",function(){var e=M(this,"_parentView");return e?M(e,"controller"):null}),layout:B(function(){var e=M(this,"layoutName"),t=this.templateForName(e,"layout");return t||M(this,"defaultLayout")}).property("layoutName"),_yield:function(e,t){var r=M(this,"template");r&&r(e,t)},templateForName:function(e){if(e){if(!this.container)throw new H("Container was not found when looking up a views template. This is most likely due to manually instantiating an Ember.View. See: http://git.io/EKPpnA");return this.container.lookup("template:"+e)}},context:B(function(e,t){return 2===arguments.length?(A(this,"_context",t),t):M(this,"_context")})["volatile"](),_context:B(function(){var e,t;return(t=M(this,"controller"))?t:(e=this._parentView,e?M(e,"_context"):null)}),_contextDidChange:I("context",function(){this.rerender()}),isVisible:!0,childViews:rt,_childViews:nt,_childViewsWillChange:Y("childViews",function(){if(this.isVirtual){var e=M(this,"parentView");e&&Z(e,"childViews")}}),_childViewsDidChange:I("childViews",function(){if(this.isVirtual){var e=M(this,"parentView");e&&J(e,"childViews")}}),nearestInstanceOf:function(e){for(var t=M(this,"parentView");t;){if(t instanceof e)return t;t=M(t,"parentView")}},nearestOfType:function(e){for(var t=M(this,"parentView"),r=e instanceof j?function(t){return e.detect(t)}:function(t){return e.detect(t.constructor)};t;){if(r(t))return t;t=M(t,"parentView")}},nearestWithProperty:function(e){for(var t=M(this,"parentView");t;){if(e in t)return t;t=M(t,"parentView")}},nearestChildOf:function(e){for(var t=M(this,"parentView");t;){if(M(t,"parentView")instanceof e)return t;t=M(t,"parentView")}},_parentViewDidChange:I("_parentView",function(){this.isDestroying||(this.trigger("parentViewDidChange"),M(this,"parentView.controller")&&!M(this,"controller")&&this.notifyPropertyChange("controller"))}),_controllerDidChange:I("controller",function(){this.isDestroying||(this.rerender(),this.forEachChildView(function(e){e.propertyDidChange("controller")}))}),cloneKeywords:function(){var e=M(this,"templateData"),t=e?$(e.keywords):{};return A(t,"view",this.isVirtual?t.view:this),A(t,"_view",this),A(t,"controller",M(this,"controller")),t},render:function(e){var t=M(this,"layout")||M(this,"template");if(t){var r,n=M(this,"context"),i=this.cloneKeywords(),o={view:this,buffer:e,isRenderData:!0,keywords:i,insideGroup:M(this,"templateData.insideGroup")};r=t(n,{data:o}),void 0!==r&&e.push(r)}},rerender:function(){return this.currentState.rerender(this)},_applyClassNameBindings:function(e){var t,r,n,i=this.classNames;W(e,function(e){var o,a=it._parsePropertyPath(e),s=function(){r=this._classStringForProperty(e),t=this.$(),o&&(t.removeClass(o),i.removeObject(o)),r?(t.addClass(r),o=r):o=null};n=this._classStringForProperty(e),n&&(K(i,n),o=n),this.registerObserver(this,a.path,s),this.one("willClearRender",function(){o&&(i.removeObject(o),o=null)})},this)},_unspecifiedAttributeBindings:null,_applyAttributeBindings:function(e,t){var r,n=this._unspecifiedAttributeBindings=this._unspecifiedAttributeBindings||{};W(t,function(t){var i=t.split(":"),o=i[0],a=i[1]||o;o in this?(this._setupAttributeBindingObservation(o,a),r=M(this,o),it.applyAttributeBindings(e,a,r)):n[o]=a},this),this.setUnknownProperty=this._setUnknownProperty},_setupAttributeBindingObservation:function(e,t){var r,n,i=function(){n=this.$(),r=M(this,e),it.applyAttributeBindings(n,t,r)};this.registerObserver(this,e,i)},setUnknownProperty:null,_setUnknownProperty:function(e,t){var r=this._unspecifiedAttributeBindings&&this._unspecifiedAttributeBindings[e];return r&&this._setupAttributeBindingObservation(e,r),L(this,e),A(this,e,t)},_classStringForProperty:function(e){var t=it._parsePropertyPath(e),r=t.path,n=M(this,r);return void 0===n&&Q(r)&&(n=M(R.lookup,r)),it._classStringForValue(r,n,t.className,t.falsyClassName)},element:null,$:function(e){return this.currentState.$(this,e)},mutateChildViews:function(e){for(var t,r=this._childViews,n=r.length;--n>=0;)t=r[n],e(this,t,n);return this},forEachChildView:function(e){var t=this._childViews;if(!t)return this;var r,n,i=t.length;for(n=0;i>n;n++)r=t[n],e(r);return this},appendTo:function(e){var t=et(e);return this.constructor.renderer.appendTo(this,t[0]),this},replaceIn:function(e){var t=et(e);return this.constructor.renderer.replaceIn(this,t[0]),this},append:function(){return this.appendTo(document.body)},remove:function(){this.removedFromDOM||this.destroyElement()},elementId:null,findElementInParentElement:function(e){var t="#"+this.elementId;return et(t)[0]||et(t,e)[0]},createElement:function(){return this.element?this:(this._didCreateElementWithoutMorph=!0,this.constructor.renderer.renderTree(this),this)},willInsertElement:R.K,didInsertElement:R.K,willClearRender:R.K,destroyElement:function(){return this.currentState.destroyElement(this)},willDestroyElement:R.K,parentViewDidChange:R.K,instrumentName:"view",instrumentDetails:function(e){e.template=M(this,"templateName"),this._super(e)},beforeRender:function(){},afterRender:function(){},applyAttributesToBuffer:function(e){var t=M(this,"classNameBindings");t.length&&this._applyClassNameBindings(t);var r=M(this,"attributeBindings");r.length&&this._applyAttributeBindings(e,r),e.setClasses(this.classNames),e.id(this.elementId);var n=M(this,"ariaRole");n&&e.attr("role",n),M(this,"isVisible")===!1&&e.style("display","none")},tagName:null,ariaRole:null,classNames:["ember-view"],classNameBindings:nt,attributeBindings:nt,init:function(){this.isVirtual||this.elementId||(this.elementId=F(this)),this._super(),this._childViews=this._childViews.slice(),this.classNameBindings=q(this.classNameBindings.slice()),this.classNames=q(this.classNames.slice())},appendChild:function(e,t){return this.currentState.appendChild(this,e,t)},removeChild:function(e){if(!this.isDestroying){A(e,"_parentView",null);var t=this._childViews;return X(t,e),this.propertyDidChange("childViews"),this}},removeAllChildren:function(){return this.mutateChildViews(function(e,t){e.removeChild(t)})},destroyAllChildren:function(){return this.mutateChildViews(function(e,t){t.destroy()})},removeFromParent:function(){var e=this._parentView;return this.remove(),e&&e.removeChild(this),this},destroy:function(){var e=(this._childViews,M(this,"parentView")),t=this.viewName;return this._super()?(t&&e&&e.set(t,null),this):void 0},createChildView:function(e,t){if(!e)throw new TypeError("createChildViews first argument must exist");if(e.isView&&e._parentView===this&&e.container===this.container)return e;if(t=t||{},t._parentView=this,tt.detect(e))t.templateData=t.templateData||M(this,"templateData"),t.container=this.container,e=e.create(t),e.viewName&&A(M(this,"concreteView"),e.viewName,e);else if("string"==typeof e){var r="view:"+e,n=this.container.lookupFactory(r);t.templateData=M(this,"templateData"),e=n.create(t)}else t.container=this.container,M(e,"templateData")||(t.templateData=M(this,"templateData")),N(e,t);return e},becameVisible:R.K,becameHidden:R.K,_isVisibleDidChange:I("isVisible",function(){this._isVisible!==M(this,"isVisible")&&P.scheduleOnce("render",this,this._toggleVisibility)}),_toggleVisibility:function(){var e=this.$(),t=M(this,"isVisible");this._isVisible!==t&&(this._isVisible=t,e&&(e.toggle(t),this._isAncestorHidden()||(t?this._notifyBecameVisible():this._notifyBecameHidden())))},_notifyBecameVisible:function(){this.trigger("becameVisible"),this.forEachChildView(function(e){var t=M(e,"isVisible");(t||null===t)&&e._notifyBecameVisible()})},_notifyBecameHidden:function(){this.trigger("becameHidden"),this.forEachChildView(function(e){var t=M(e,"isVisible");(t||null===t)&&e._notifyBecameHidden()})},_isAncestorHidden:function(){for(var e=M(this,"parentView");e;){if(M(e,"isVisible")===!1)return!0;e=M(e,"parentView")}return!1},transitionTo:function(e,t){this._transitionTo(e,t)},_transitionTo:function(e){var t=this.currentState,r=this.currentState=this._states[e];this._state=e,t&&t.exit&&t.exit(this),r.enter&&r.enter(this)},handleEvent:function(e,t){return this.currentState.handleEvent(this,e,t)},registerObserver:function(e,t,r,n){if(n||"function"!=typeof r||(n=r,r=null),e&&"object"==typeof e){var i=this,o=function(){i.currentState.invokeObserver(this,n)},a=function(){P.scheduleOnce("render",this,o)};k(e,t,r,a),this.one("willClearRender",function(){O(e,t,r,a)})}}});D(it.prototype,"state","_state"),D(it.prototype,"states","_states"),it.reopenClass({_parsePropertyPath:function(e){var t,r,n=e.split(":"),i=n[0],o="";return n.length>1&&(t=n[1],3===n.length&&(r=n[2]),o=":"+t,r&&(o+=":"+r)),{path:i,classNames:o,className:""===t?void 0:t,falsyClassName:r}},_classStringForValue:function(e,t,r,n){if(U(t)&&(t=0!==M(t,"length")),r||n)return r&&t?r:n&&!t?n:null;if(t===!0){var i=e.split(".");return G(i[i.length-1])}return t!==!1&&null!=t?t:null}});var ot=C.extend(S).create();it.addMutationListener=function(e){ot.on("change",e)},it.removeMutationListener=function(e){ot.off("change",e)},it.notifyMutationListeners=function(){ot.trigger("change")},it.views={},it.childViewsProperty=rt,it.applyAttributeBindings=function(e,t,r){var n=z(r);"value"===t||"string"!==n&&("number"!==n||isNaN(r))?"value"===t||"boolean"===n?V(r)||r===!1?(e.removeAttr(t),"required"===t?e.removeProp(t):e.prop(t,"")):r!==e.prop(t)&&e.prop(t,r):r||e.removeAttr(t):r!==e.attr(t)&&e.attr(t,r)},T["default"]=it}),e("ember",["ember-metal","ember-runtime","ember-handlebars","ember-views","ember-routing","ember-routing-handlebars","ember-application","ember-extension-support"],function(){"use strict";i.__loader.registry["ember-testing"]&&t("ember-testing")}),e("morph",["./morph/morph","./morph/dom-helper","exports"],function(e,t,r){"use strict";var n,n=e["default"];r.Morph=n;var i,i=t["default"];r.DOMHelper=i}),e("morph/dom-helper",["../morph/morph","./dom-helper/build-html-dom","exports"],function(e,t,r){"use strict";function n(e){return e===l}function i(e){return e&&e.namespaceURI===l&&!h[e.tagName]?l:null}function o(e,t){if("TABLE"===t.tagName){var r=p.exec(e);if(r){var n=r[1];return"tr"===n||"col"===n}}}function a(e,t){var r=t.document.createElement("div");return r.innerHTML="<svg>"+e+"</svg>",r.firstChild.childNodes}function s(e){this.document=e||window.document,this.namespace=null}var u=e["default"],c=t.buildHTMLDOM,l=t.svgNamespace,h=t.svgHTMLIntegrationPoints,f=function(){var e=document.createElement("div");e.appendChild(document.createTextNode(""));var t=e.cloneNode(!0);return 0===t.childNodes.length}(),d=function(){var e=document.createElement("input");e.setAttribute("checked","checked");var t=e.cloneNode(!1);return!t.checked}(),p=/<([\w:]+)/,m=s.prototype;m.constructor=s,m.insertBefore=function(e,t,r){return e.insertBefore(t,r)},m.appendChild=function(e,t){return e.appendChild(t)},m.appendText=function(e,t){return e.appendChild(this.document.createTextNode(t))},m.setAttribute=function(e,t,r){e.setAttribute(t,r)},m.createElement=document.createElementNS?function(e,t){var r=this.namespace;return t&&(r="svg"===e?l:i(t)),r?this.document.createElementNS(r,e):this.document.createElement(e)}:function(e){return this.document.createElement(e)},m.setNamespace=function(e){this.namespace=e},m.detectNamespace=function(e){this.namespace=i(e)},m.createDocumentFragment=function(){return this.document.createDocumentFragment()},m.createTextNode=function(e){return this.document.createTextNode(e)},m.repairClonedNode=function(e,t,r){if(f&&t.length>0)for(var n=0,i=t.length;i>n;n++){var o=this.document.createTextNode(""),a=t[n],s=e.childNodes[a];s?e.insertBefore(o,s):e.appendChild(o)}d&&r&&e.setAttribute("checked","checked")},m.cloneNode=function(e,t){var r=e.cloneNode(!!t);return r},m.createMorph=function(e,t,r,n){return n||1!==e.nodeType||(n=e),new u(e,t,r,this,n)},m.createMorphAt=function(e,t,r,n){var i=e.childNodes,o=-1===t?null:i[t],a=-1===r?null:i[r];return this.createMorph(e,o,a,n)},m.insertMorphBefore=function(e,t,r){var n=this.document.createTextNode(""),i=this.document.createTextNode("");return e.insertBefore(n,t),e.insertBefore(i,t),this.createMorph(e,n,i,r)},m.appendMorph=function(e,t){var r=this.document.createTextNode(""),n=this.document.createTextNode("");return e.appendChild(r),e.appendChild(n),this.createMorph(e,r,n,t)},m.parseHTML=function(e,t){var r=n(this.namespace)&&!h[t.tagName];if(r)return a(e,this);var i=c(e,t,this);if(o(e,t)){for(var s=i[0];s&&1!==s.nodeType;)s=s.nextSibling;return s.childNodes}return i},r["default"]=s}),e("morph/dom-helper/build-html-dom",["exports"],function(e){"use strict";function t(e,t){t="&shy;"+t,e.innerHTML=t;for(var r=e.childNodes,n=r[0];1===n.nodeType&&!n.nodeName;)n=n.firstChild;if(3===n.nodeType&&"­"===n.nodeValue.charAt(0)){var i=n.nodeValue.slice(1);i.length?n.nodeValue=n.nodeValue.slice(1):n.parentNode.removeChild(n)}return r}function r(e,r){var n=r.tagName,i=r.outerHTML||(new XMLSerializer).serializeToString(r);if(!i)throw"Can't set innerHTML on "+n+" in this browser";for(var o=f[n.toLowerCase()],a=i.match(new RegExp("<"+n+"([^>]*)>","i"))[0],s="</"+n+">",u=[a,e,s],c=o.length,l=1+c;c--;)u.unshift("<"+o[c]+">"),u.push("</"+o[c]+">");var h=document.createElement("div");t(h,u.join(""));for(var d=h;l--;)for(d=d.firstChild;d&&1!==d.nodeType;)d=d.nextSibling;for(;d&&d.tagName!==n;)d=d.nextSibling;return d?d.childNodes:[]}function n(e,t,r){var n=v(e,t,r);if("SELECT"===t.tagName)for(var i=0;n[i];i++)if("OPTION"===n[i].tagName){a(n[i].parentNode,n[i],e)&&(n[i].parentNode.selectedIndex=-1);break}return n}var i={foreignObject:1,desc:1,title:1};e.svgHTMLIntegrationPoints=i;var o="http://www.w3.org/2000/svg";e.svgNamespace=o;var a,s=document&&document.createElementNS&&function(){var e=document.createElementNS(o,"title");return e.innerHTML="<div></div>",0===e.childNodes.length||1!==e.childNodes[0].nodeType}(),u=document&&function(){var e=document.createElement("div");return e.innerHTML="<div></div>",e.firstChild.innerHTML="<script></script>",""===e.firstChild.innerHTML}(),c=document&&function(){var e=document.createElement("div");return e.innerHTML="Test: <script type='text/x-placeholder'></script>Value","Test:"===e.childNodes[0].nodeValue&&" Value"===e.childNodes[2].nodeValue}(),l=document&&function(){var e=document.createElement("div");return e.innerHTML="<select><option></option></select>","selected"===e.childNodes[0].childNodes[0].getAttribute("selected")}();if(l){var h=/<option[^>]*selected/;a=function(e,t,r){return 0===e.selectedIndex&&!h.test(r)}}else a=function(e,t){var r=t.getAttribute("selected");return 0===e.selectedIndex&&(null===r||""!==r&&"selected"!==r.toLowerCase())};var f,d,p=document.createElement("table");try{p.innerHTML="<tbody></tbody>"}catch(m){}finally{d=0===p.childNodes.length}d&&(f={colgroup:["table"],table:[],tbody:["table"],tfoot:["table"],thead:["table"],tr:["table","tbody"]});var g=document.createElement("select");g.innerHTML="<option></option>",g&&(f=f||{},f.select=[]);var y;y=u?function(e,r,n){return r=n.cloneNode(r,!1),t(r,e),r.childNodes}:function(e,t,r){return t=r.cloneNode(t,!1),t.innerHTML=e,t.childNodes};var v;v=f||c?function(e,t,n){var i=[],o=[];e=e.replace(/(\s*)(<script)/g,function(e,t,r){return i.push(t),r}),e=e.replace(/(<\/script>)(\s*)/g,function(e,t,r){return o.push(r),t});var a;a=f[t.tagName.toLowerCase()]?r(e,t):y(e,t,n);var s,u,c,l,h=[];for(s=0;c=a[s];s++)if(1===c.nodeType)if("SCRIPT"===c.tagName)h.push(c);else for(l=c.getElementsByTagName("script"),u=0;u<l.length;u++)h.push(l[u]);var d,p,m,g;for(s=0;d=h[s];s++)m=i[s],m&&m.length>0&&(p=n.document.createTextNode(m),d.parentNode.insertBefore(p,d)),g=o[s],g&&g.length>0&&(p=n.document.createTextNode(g),d.parentNode.insertBefore(p,d.nextSibling));return a}:y;var b;b=s?function(e,t,r){return i[t.tagName]?n(e,document.createElement("div"),r):n(e,t,r)}:n,e.buildHTMLDOM=b}),e("morph/morph",["exports"],function(e){"use strict";function t(e,t){if(null===e||null===t)throw new Error("a fragment parent must have boundary nodes in order to detect insertion")}function r(e){if(!e||1!==e.nodeType)throw new Error("An element node must be provided for a contextualElement, you provided "+(e?"nodeType "+e.nodeType:"nothing"))}function n(e,n,i,o,a){11===e.nodeType?(t(n,i),this.element=null):this.element=e,this._parent=e,this.start=n,this.end=i,this.domHelper=o,r(a),this.contextualElement=a,this.reset()}function i(e,t,r){for(var n,i=t,o=r.length;o--;)n=r[o],e.insertBefore(n,i),i=n}function o(e,t,r){var n,i;for(n=null===r?e.lastChild:r.previousSibling;null!==n&&n!==t;)i=n.previousSibling,e.removeChild(n),n=i}var a=Array.prototype.splice;n.prototype.reset=function(){this.text=null,this.owner=null,this.morphs=null,this.before=null,this.after=null,this.escaped=!0},n.prototype.parent=function(){if(!this.element){var e=this.start.parentNode;this._parent!==e&&(this.element=this._parent=e)}return this._parent},n.prototype.destroy=function(){this.owner?this.owner.removeMorph(this):o(this.element||this.parent(),this.start,this.end)},n.prototype.removeMorph=function(e){for(var t=this.morphs,r=0,n=t.length;n>r;r++)if(t[r]===e){this.replace(r,1);break}},n.prototype.update=function(e){this._update(this.element||this.parent(),e)},n.prototype.updateNode=function(e){var t=this.element||this.parent();return e?void this._updateNode(t,e):this._updateText(t,"")},n.prototype.updateText=function(e){this._updateText(this.element||this.parent(),e)},n.prototype.updateHTML=function(e){var t=this.element||this.parent();return e?void this._updateHTML(t,e):this._updateText(t,"")},n.prototype._update=function(e,t){null===t||void 0===t?this._updateText(e,""):"string"==typeof t?this.escaped?this._updateText(e,t):this._updateHTML(e,t):t.nodeType?this._updateNode(e,t):t.string?this._updateHTML(e,t.string):this._updateText(e,t.toString())},n.prototype._updateNode=function(e,t){if(this.text){if(3===t.nodeType)return void(this.text.nodeValue=t.nodeValue);this.text=null}var r=this.start,n=this.end;o(e,r,n),e.insertBefore(t,n),null!==this.before&&(this.before.end=r.nextSibling),null!==this.after&&(this.after.start=n.previousSibling)},n.prototype._updateText=function(e,t){if(this.text)return void(this.text.nodeValue=t);var r=this.domHelper.createTextNode(t);this.text=r,o(e,this.start,this.end),e.insertBefore(r,this.end),null!==this.before&&(this.before.end=r),null!==this.after&&(this.after.start=r)},n.prototype._updateHTML=function(e,t){var r=this.start,n=this.end;o(e,r,n),this.text=null;var a=this.domHelper.parseHTML(t,this.contextualElement);i(e,n,a),null!==this.before&&(this.before.end=r.nextSibling),null!==this.after&&(this.after.start=n.previousSibling)},n.prototype.append=function(e){null===this.morphs&&(this.morphs=[]);var t=this.morphs.length;return this.insert(t,e)},n.prototype.insert=function(e,t){null===this.morphs&&(this.morphs=[]);var r=this.element||this.parent(),i=this.morphs,o=e>0?i[e-1]:null,a=e<i.length?i[e]:null,s=null===o?this.start:null===o.end?r.lastChild:o.end.previousSibling,u=null===a?this.end:null===a.start?r.firstChild:a.start.nextSibling,c=new n(r,s,u,this.domHelper,this.contextualElement);return c.owner=this,c._update(r,t),null!==o&&(c.before=o,o.end=s.nextSibling,o.after=c),null!==a&&(c.after=a,a.before=c,a.start=u.previousSibling),this.morphs.splice(e,0,c),c},n.prototype.replace=function(e,t,r){null===this.morphs&&(this.morphs=[]);var i,s,u,c=this.element||this.parent(),l=this.morphs,h=e>0?l[e-1]:null,f=e+t<l.length?l[e+t]:null,d=null===h?this.start:null===h.end?c.lastChild:h.end.previousSibling,p=null===f?this.end:null===f.start?c.firstChild:f.start.nextSibling,m=void 0===r?0:r.length;if(t>0&&o(c,d,p),0===m)return null!==h&&(h.after=f,h.end=p),null!==f&&(f.before=h,f.start=d),void l.splice(e,t);if(i=new Array(m+2),m>0){for(s=0;m>s;s++)i[s+2]=u=new n(c,d,p,this.domHelper,this.contextualElement),u._update(c,r[s]),u.owner=this,null!==h&&(u.before=h,h.end=d.nextSibling,h.after=u),h=u,d=null===p?c.lastChild:p.previousSibling;null!==f&&(u.after=f,f.before=u,f.start=p.previousSibling)}i[0]=e,i[1]=t,a.apply(l,i)},e["default"]=n}),e("route-recognizer",["route-recognizer/dsl","exports"],function(e,t){"use strict";function r(e){return"[object Array]"===Object.prototype.toString.call(e)}function n(e){this.string=e}function i(e){this.name=e}function o(e){this.name=e}function a(){}function s(e,t,r){"/"===e.charAt(0)&&(e=e.substr(1));for(var s=e.split("/"),u=[],c=0,l=s.length;l>c;c++){var h,f=s[c];(h=f.match(/^:([^\/]+)$/))?(u.push(new i(h[1])),t.push(h[1]),r.dynamics++):(h=f.match(/^\*([^\/]+)$/))?(u.push(new o(h[1])),t.push(h[1]),r.stars++):""===f?u.push(new a):(u.push(new n(f)),r.statics++)}return u}function u(e){this.charSpec=e,this.nextStates=[]}function c(e){return e.sort(function(e,t){if(e.types.stars!==t.types.stars)return e.types.stars-t.types.stars;if(e.types.stars){if(e.types.statics!==t.types.statics)return t.types.statics-e.types.statics;if(e.types.dynamics!==t.types.dynamics)return t.types.dynamics-e.types.dynamics}return e.types.dynamics!==t.types.dynamics?e.types.dynamics-t.types.dynamics:e.types.statics!==t.types.statics?t.types.statics-e.types.statics:0})}function l(e,t){for(var r=[],n=0,i=e.length;i>n;n++){var o=e[n];r=r.concat(o.match(t))}return r}function h(e){this.queryParams=e||{}}function f(e,t,r){for(var n=e.handlers,i=e.regex,o=t.match(i),a=1,s=new h(r),u=0,c=n.length;c>u;u++){for(var l=n[u],f=l.names,d={},p=0,m=f.length;m>p;p++)d[f[p]]=o[a++];s.push({handler:l.handler,params:d,isDynamic:!!f.length})}return s}function d(e,t){return t.eachChar(function(t){e=e.put(t)}),e}var p=e["default"],m=["/",".","*","+","?","|","(",")","[","]","{","}","\\"],g=new RegExp("(\\"+m.join("|\\")+")","g");n.prototype={eachChar:function(e){for(var t,r=this.string,n=0,i=r.length;i>n;n++)t=r.charAt(n),e({validChars:t})},regex:function(){return this.string.replace(g,"\\$1")},generate:function(){return this.string}},i.prototype={eachChar:function(e){e({invalidChars:"/",repeat:!0})},regex:function(){return"([^/]+)"},generate:function(e){return e[this.name]}},o.prototype={eachChar:function(e){e({invalidChars:"",repeat:!0})},regex:function(){return"(.+)"},generate:function(e){return e[this.name]}},a.prototype={eachChar:function(){},regex:function(){return""},generate:function(){return""}},u.prototype={get:function(e){for(var t=this.nextStates,r=0,n=t.length;n>r;r++){var i=t[r],o=i.charSpec.validChars===e.validChars;if(o=o&&i.charSpec.invalidChars===e.invalidChars)return i}},put:function(e){var t;return(t=this.get(e))?t:(t=new u(e),this.nextStates.push(t),e.repeat&&t.nextStates.push(t),t)},match:function(e){for(var t,r,n,i=this.nextStates,o=[],a=0,s=i.length;s>a;a++)t=i[a],r=t.charSpec,"undefined"!=typeof(n=r.validChars)?-1!==n.indexOf(e)&&o.push(t):"undefined"!=typeof(n=r.invalidChars)&&-1===n.indexOf(e)&&o.push(t);return o}};var y=Object.create||function(e){function t(){}return t.prototype=e,new t};h.prototype=y({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var v=function(){this.rootState=new u,this.names={}};v.prototype={add:function(e,t){for(var r,n=this.rootState,i="^",o={statics:0,dynamics:0,stars:0},u=[],c=[],l=!0,h=0,f=e.length;f>h;h++){var p=e[h],m=[],g=s(p.path,m,o);c=c.concat(g);for(var y=0,v=g.length;v>y;y++){var b=g[y];b instanceof a||(l=!1,n=n.put({validChars:"/"}),i+="/",n=d(n,b),i+=b.regex())}var E={handler:p.handler,names:m};u.push(E)}l&&(n=n.put({validChars:"/"}),i+="/"),n.handlers=u,n.regex=new RegExp(i+"$"),n.types=o,(r=t&&t.as)&&(this.names[r]={segments:c,handlers:u})},handlersFor:function(e){var t=this.names[e],r=[];if(!t)throw new Error("There is no route named "+e);for(var n=0,i=t.handlers.length;i>n;n++)r.push(t.handlers[n]);return r},hasRoute:function(e){return!!this.names[e]},generate:function(e,t){var r=this.names[e],n="";if(!r)throw new Error("There is no route named "+e);for(var i=r.segments,o=0,s=i.length;s>o;o++){var u=i[o];u instanceof a||(n+="/",n+=u.generate(t))}return"/"!==n.charAt(0)&&(n="/"+n),t&&t.queryParams&&(n+=this.generateQueryString(t.queryParams,r.handlers)),n},generateQueryString:function(e){var t=[],n=[];for(var i in e)e.hasOwnProperty(i)&&n.push(i);n.sort();for(var o=0,a=n.length;a>o;o++){i=n[o];var s=e[i];if(null!=s){var u=encodeURIComponent(i);if(r(s))for(var c=0,l=s.length;l>c;c++){var h=i+"[]="+encodeURIComponent(s[c]);t.push(h)}else u+="="+encodeURIComponent(s),t.push(u)}}return 0===t.length?"":"?"+t.join("&")},parseQueryString:function(e){for(var t=e.split("&"),r={},n=0;n<t.length;n++){var i,o=t[n].split("="),a=decodeURIComponent(o[0]),s=a.length,u=!1;1===o.length?i="true":(s>2&&"[]"===a.slice(s-2)&&(u=!0,a=a.slice(0,s-2),r[a]||(r[a]=[])),i=o[1]?decodeURIComponent(o[1]):""),u?r[a].push(i):r[a]=i
}return r},recognize:function(e){var t,r,n,i,o=[this.rootState],a={},s=!1;if(i=e.indexOf("?"),-1!==i){var u=e.substr(i+1,e.length);e=e.substr(0,i),a=this.parseQueryString(u)}for(e=decodeURI(e),"/"!==e.charAt(0)&&(e="/"+e),t=e.length,t>1&&"/"===e.charAt(t-1)&&(e=e.substr(0,t-1),s=!0),r=0,n=e.length;n>r&&(o=l(o,e.charAt(r)),o.length);r++);var h=[];for(r=0,n=o.length;n>r;r++)o[r].handlers&&h.push(o[r]);o=c(h);var d=h[0];return d&&d.handlers?(s&&"(.+)$"===d.regex.source.slice(-5)&&(e+="/"),f(d,e,a)):void 0}},v.prototype.map=p,t["default"]=v}),e("route-recognizer/dsl",["exports"],function(e){"use strict";function t(e,t,r){this.path=e,this.matcher=t,this.delegate=r}function r(e){this.routes={},this.children={},this.target=e}function n(e,r,i){return function(o,a){var s=e+o;return a?void a(n(s,r,i)):new t(e+o,r,i)}}function i(e,t,r){for(var n=0,i=0,o=e.length;o>i;i++)n+=e[i].path.length;t=t.substr(n);var a={path:t,handler:r};e.push(a)}function o(e,t,r,n){var a=t.routes;for(var s in a)if(a.hasOwnProperty(s)){var u=e.slice();i(u,s,a[s]),t.children[s]?o(u,t.children[s],r,n):r.call(n,u)}}t.prototype={to:function(e,t){var r=this.delegate;if(r&&r.willAddRoute&&(e=r.willAddRoute(this.matcher.target,e)),this.matcher.add(this.path,e),t){if(0===t.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,e,t,this.delegate)}return this}},r.prototype={add:function(e,t){this.routes[e]=t},addChild:function(e,t,i,o){var a=new r(t);this.children[e]=a;var s=n(e,a,o);o&&o.contextEntered&&o.contextEntered(t,s),i(s)}},e["default"]=function(e,t){var i=new r;e(n("",i,this.delegate)),o([],i,function(e){t?t(this,e):this.add(e)},this)}}),e("router",["./router/router","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=r}),e("router/handler-info",["./utils","rsvp/promise","exports"],function(e,t,r){"use strict";function n(e){var t=e||{};a(this,t),this.initialize(t)}function i(e,t){if(!e^!t)return!1;if(!e)return!0;for(var r in e)if(e.hasOwnProperty(r)&&e[r]!==t[r])return!1;return!0}var o=e.bind,a=e.merge,s=(e.serialize,e.promiseLabel),u=e.applyHook,c=t["default"];n.prototype={name:null,handler:null,params:null,context:null,factory:null,initialize:function(){},log:function(e,t){e.log&&e.log(this.name+": "+t)},promiseLabel:function(e){return s("'"+this.name+"' "+e)},getUnresolved:function(){return this},serialize:function(){return this.params||{}},resolve:function(e,t){var r=o(this,this.checkForAbort,e),n=o(this,this.runBeforeModelHook,t),i=o(this,this.getModel,t),a=o(this,this.runAfterModelHook,t),s=o(this,this.becomeResolved,t);return c.resolve(void 0,this.promiseLabel("Start handler")).then(r,null,this.promiseLabel("Check for abort")).then(n,null,this.promiseLabel("Before model")).then(r,null,this.promiseLabel("Check if aborted during 'beforeModel' hook")).then(i,null,this.promiseLabel("Model")).then(r,null,this.promiseLabel("Check if aborted in 'model' hook")).then(a,null,this.promiseLabel("After model")).then(r,null,this.promiseLabel("Check if aborted in 'afterModel' hook")).then(s,null,this.promiseLabel("Become resolved"))},runBeforeModelHook:function(e){return e.trigger&&e.trigger(!0,"willResolveModel",e,this.handler),this.runSharedModelHook(e,"beforeModel",[])},runAfterModelHook:function(e,t){var r=this.name;return this.stashResolvedModel(e,t),this.runSharedModelHook(e,"afterModel",[t]).then(function(){return e.resolvedModels[r]},null,this.promiseLabel("Ignore fulfillment value and return model value"))},runSharedModelHook:function(e,t,r){this.log(e,"calling "+t+" hook"),this.queryParams&&r.push(this.queryParams),r.push(e);var n=u(this.handler,t,r);return n&&n.isTransition&&(n=null),c.resolve(n,this.promiseLabel("Resolve value returned from one of the model hooks"))},getModel:null,checkForAbort:function(e,t){return c.resolve(e(),this.promiseLabel("Check for abort")).then(function(){return t},null,this.promiseLabel("Ignore fulfillment value and continue"))},stashResolvedModel:function(e,t){e.resolvedModels=e.resolvedModels||{},e.resolvedModels[this.name]=t},becomeResolved:function(e,t){var r=this.serialize(t);return e&&(this.stashResolvedModel(e,t),e.params=e.params||{},e.params[this.name]=r),this.factory("resolved",{context:t,name:this.name,handler:this.handler,params:r})},shouldSupercede:function(e){if(!e)return!0;var t=e.context===this.context;return e.name!==this.name||this.hasOwnProperty("context")&&!t||this.hasOwnProperty("params")&&!i(this.params,e.params)}},r["default"]=n}),e("router/handler-info/factory",["router/handler-info/resolved-handler-info","router/handler-info/unresolved-handler-info-by-object","router/handler-info/unresolved-handler-info-by-param","exports"],function(e,t,r,n){"use strict";function i(e,t){var r=i.klasses[e],n=new r(t||{});return n.factory=i,n}var o=e["default"],a=t["default"],s=r["default"];i.klasses={resolved:o,param:s,object:a},n["default"]=i}),e("router/handler-info/resolved-handler-info",["../handler-info","router/utils","rsvp/promise","exports"],function(e,t,r,n){"use strict";var i=e["default"],o=t.subclass,a=(t.promiseLabel,r["default"]),s=o(i,{resolve:function(e,t){return t&&t.resolvedModels&&(t.resolvedModels[this.name]=this.context),a.resolve(this,this.promiseLabel("Resolve"))},getUnresolved:function(){return this.factory("param",{name:this.name,handler:this.handler,params:this.params})},isResolved:!0});n["default"]=s}),e("router/handler-info/unresolved-handler-info-by-object",["../handler-info","router/utils","rsvp/promise","exports"],function(e,t,r,n){"use strict";var i=e["default"],o=(t.merge,t.subclass),a=(t.promiseLabel,t.isParam),s=r["default"],u=o(i,{getModel:function(e){return this.log(e,this.name+": resolving provided model"),s.resolve(this.context)},initialize:function(e){this.names=e.names||[],this.context=e.context},serialize:function(e){var t=e||this.context,r=this.names,n=this.handler,i={};if(a(t))return i[r[0]]=t,i;if(n.serialize)return n.serialize(t,r);if(1===r.length){var o=r[0];return i[o]=/_id$/.test(o)?t.id:t,i}}});n["default"]=u}),e("router/handler-info/unresolved-handler-info-by-param",["../handler-info","router/utils","exports"],function(e,t,r){"use strict";var n=e["default"],i=t.resolveHook,o=t.merge,a=t.subclass,s=(t.promiseLabel,a(n,{initialize:function(e){this.params=e.params||{}},getModel:function(e){var t=this.params;e&&e.queryParams&&(t={},o(t,this.params),t.queryParams=e.queryParams);var r=this.handler,n=i(r,"deserialize")||i(r,"model");return this.runSharedModelHook(e,n,[t])}}));r["default"]=s}),e("router/router",["route-recognizer","rsvp/promise","./utils","./transition-state","./transition","./transition-intent/named-transition-intent","./transition-intent/url-transition-intent","./handler-info","exports"],function(e,t,r,n,i,o,a,s,u){"use strict";function c(){this.recognizer=new x,this.reset()}function l(e,t){var r,n=!!this.activeTransition,i=n?this.activeTransition.state:this.state,o=e.applyToState(i,this.recognizer,this.getHandler,t),a=M(i.queryParams,o.queryParams);return v(o.handlerInfos,i.handlerInfos)?a&&(r=this.queryParamsTransition(a,n,i,o))?r:new O(this):t?void f(this,o):(r=new O(this,e,o),this.activeTransition&&this.activeTransition.abort(),this.activeTransition=r,r.promise=r.promise.then(function(e){return g(r,e.state)},null,A("Settle transition promise when transition is finalized")),n||E(this,o,r),h(this,o,a),r)}function h(e,t,r){r&&(e._changedQueryParams=r.all,_(e,t.handlerInfos,!0,["queryParamsDidChange",r.changed,r.all,r.removed]),e._changedQueryParams=null)}function f(e,t,r){var n=p(e.state,t);S(n.exited,function(e){var t=e.handler;delete t.context,N(t,"reset",!0,r),N(t,"exit",r)});var i=e.oldState=e.state;e.state=t;var o=e.currentHandlerInfos=n.unchanged.slice();try{S(n.reset,function(e){var t=e.handler;N(t,"reset",!1,r)}),S(n.updatedContext,function(e){return d(o,e,!1,r)}),S(n.entered,function(e){return d(o,e,!0,r)})}catch(a){throw e.state=i,e.currentHandlerInfos=i.handlerInfos,a}e.state.queryParams=b(e,o,t.queryParams,r)}function d(e,t,r,n){var i=t.handler,o=t.context;if(r&&N(i,"enter",n),n&&n.isAborted)throw new L;if(i.context=o,N(i,"contextDidChange"),N(i,"setup",o,n),n&&n.isAborted)throw new L;return e.push(t),!0}function p(e,t){var r,n,i,o=e.handlerInfos,a=t.handlerInfos,s={updatedContext:[],exited:[],entered:[],unchanged:[]},u=!1;for(n=0,i=a.length;i>n;n++){var c=o[n],l=a[n];c&&c.handler===l.handler||(r=!0),r?(s.entered.push(l),c&&s.exited.unshift(c)):u||c.context!==l.context?(u=!0,s.updatedContext.push(l)):s.unchanged.push(c)}for(n=a.length,i=o.length;i>n;n++)s.exited.unshift(o[n]);return s.reset=s.updatedContext.slice(),s.reset.reverse(),s}function m(e,t){var r=e.urlMethod;if(r){for(var n=e.router,i=t.handlerInfos,o=i[i.length-1].name,a={},s=i.length-1;s>=0;--s){var u=i[s];C(a,u.params),u.handler.inaccessibleByURL&&(r=null)}if(r){a.queryParams=e._visibleQueryParams||t.queryParams;var c=n.recognizer.generate(o,a);"replace"===r?n.replaceURL(c):n.updateURL(c)}}}function g(e,t){try{T(e.router,e.sequence,"Resolved all models on destination route; finalizing transition.");{var r=e.router,n=t.handlerInfos;e.sequence}return f(r,t,e),e.isAborted?(r.state.handlerInfos=r.currentHandlerInfos,w.reject(k(e))):(m(e,t,e.intent.url),e.isActive=!1,r.activeTransition=null,_(r,r.currentHandlerInfos,!0,["didTransition"]),r.didTransition&&r.didTransition(r.currentHandlerInfos),T(r,e.sequence,"TRANSITION COMPLETE."),n[n.length-1].handler)}catch(i){if(!(i instanceof L)){var o=e.state.handlerInfos;e.trigger(!0,"error",i,e,o[o.length-1].handler),e.abort()}throw i}}function y(e,t,r){var n=t[0]||"/",i=t[t.length-1],o={};i&&i.hasOwnProperty("queryParams")&&(o=B.call(t).queryParams);var a;if(0===t.length){T(e,"Updating query params");var s=e.state.handlerInfos;a=new D({name:s[s.length-1].name,contexts:[],queryParams:o})}else"/"===n.charAt(0)?(T(e,"Attempting URL transition to "+n),a=new F({url:n})):(T(e,"Attempting transition to "+n),a=new D({name:t[0],contexts:R.call(t,1),queryParams:o}));return e.transitionByIntent(a,r)}function v(e,t){if(e.length!==t.length)return!1;for(var r=0,n=e.length;n>r;++r)if(e[r]!==t[r])return!1;return!0}function b(e,t,r,n){for(var i in r)r.hasOwnProperty(i)&&null===r[i]&&delete r[i];var o=[];_(e,t,!0,["finalizeQueryParamChange",r,o,n]),n&&(n._visibleQueryParams={});for(var a={},s=0,u=o.length;u>s;++s){var c=o[s];a[c.key]=c.value,n&&c.visible!==!1&&(n._visibleQueryParams[c.key]=c.value)}return a}function E(e,t,r){var n,i,o,a,s,u,c=e.state.handlerInfos,l=[],h=null;for(a=c.length,o=0;a>o;o++){if(s=c[o],u=t.handlerInfos[o],!u||s.name!==u.name){h=o;break}u.isResolved||l.push(s)}null!==h&&(n=c.slice(h,a),i=function(e){for(var t=0,r=n.length;r>t;t++)if(n[t].name===e)return!0;return!1},e._triggerWillLeave(n,r,i)),l.length>0&&e._triggerWillChangeContext(l,r),_(e,c,!0,["willTransition",r])}var x=e["default"],w=t["default"],_=r.trigger,T=r.log,R=r.slice,S=r.forEach,C=r.merge,H=(r.serialize,r.extractQueryParams),M=r.getChangelist,A=r.promiseLabel,N=r.callHook,P=n["default"],k=i.logAbort,O=i.Transition,L=i.TransitionAborted,D=o["default"],F=a["default"],B=(s.ResolvedHandlerInfo,Array.prototype.pop);c.prototype={map:function(e){this.recognizer.delegate=this.delegate,this.recognizer.map(e,function(e,t){for(var r=t.length-1,n=!0;r>=0&&n;--r){var i=t[r];e.add(t,{as:i.handler}),n="/"===i.path||""===i.path||".index"===i.handler.slice(-6)}})},hasRoute:function(e){return this.recognizer.hasRoute(e)},queryParamsTransition:function(e,t,r,n){var i=this;if(h(this,n,e),!t&&this.activeTransition)return this.activeTransition;var o=new O(this);return o.queryParamsOnly=!0,r.queryParams=b(this,n.handlerInfos,n.queryParams,o),o.promise=o.promise.then(function(e){return m(o,r,!0),i.didTransition&&i.didTransition(i.currentHandlerInfos),e},null,A("Transition complete")),o},transitionByIntent:function(e){try{return l.apply(this,arguments)}catch(t){return new O(this,e,null,t)}},reset:function(){this.state&&S(this.state.handlerInfos.slice().reverse(),function(e){var t=e.handler;N(t,"exit")}),this.state=new P,this.currentHandlerInfos=null},activeTransition:null,handleURL:function(e){var t=R.call(arguments);return"/"!==e.charAt(0)&&(t[0]="/"+e),y(this,t).method(null)},updateURL:function(){throw new Error("updateURL is not implemented")},replaceURL:function(e){this.updateURL(e)},transitionTo:function(){return y(this,arguments)},intermediateTransitionTo:function(){return y(this,arguments,!0)},refresh:function(e){for(var t=this.activeTransition?this.activeTransition.state:this.state,r=t.handlerInfos,n={},i=0,o=r.length;o>i;++i){var a=r[i];n[a.name]=a.params||{}}T(this,"Starting a refresh transition");var s=new D({name:r[r.length-1].name,pivotHandler:e||r[0].handler,contexts:[],queryParams:this._changedQueryParams||t.queryParams||{}});return this.transitionByIntent(s,!1)},replaceWith:function(){return y(this,arguments).method("replace")},generate:function(e){for(var t=H(R.call(arguments,1)),r=t[0],n=t[1],i=new D({name:e,contexts:r}),o=i.applyToState(this.state,this.recognizer,this.getHandler),a={},s=0,u=o.handlerInfos.length;u>s;++s){var c=o.handlerInfos[s],l=c.serialize();C(a,l)}return a.queryParams=n,this.recognizer.generate(e,a)},applyIntent:function(e,t){var r=new D({name:e,contexts:t}),n=this.activeTransition&&this.activeTransition.state||this.state;return r.applyToState(n,this.recognizer,this.getHandler)},isActiveIntent:function(e,t,r){var n,i,o=this.state.handlerInfos;if(!o.length)return!1;var a=o[o.length-1].name,s=this.recognizer.handlersFor(a),u=0;for(i=s.length;i>u&&(n=o[u],n.name!==e);++u);if(u===s.length)return!1;var c=new P;c.handlerInfos=o.slice(0,u+1),s=s.slice(0,u+1);var l=new D({name:a,contexts:t}),h=l.applyToHandlers(c,s,this.getHandler,a,!0,!0),f=v(h.handlerInfos,c.handlerInfos);if(!r||!f)return f;var d={};C(d,r);var p=this.state.queryParams;for(var m in p)p.hasOwnProperty(m)&&d.hasOwnProperty(m)&&(d[m]=p[m]);return f&&!M(d,r)},isActive:function(e){var t=H(R.call(arguments,1));return this.isActiveIntent(e,t[0],t[1])},trigger:function(){var e=R.call(arguments);_(this,this.currentHandlerInfos,!1,e)},log:null,_willChangeContextEvent:"willChangeContext",_triggerWillChangeContext:function(e,t){_(this,e,!0,[this._willChangeContextEvent,t])},_triggerWillLeave:function(e,t,r){_(this,e,!0,["willLeave",t,r])}},u["default"]=c}),e("router/transition-intent",["./utils","exports"],function(e,t){"use strict";function r(e){this.initialize(e),this.data=this.data||{}}e.merge;r.prototype={initialize:null,applyToState:null},t["default"]=r}),e("router/transition-intent/named-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","exports"],function(e,t,r,n,i){"use strict";var o=e["default"],a=t["default"],s=r["default"],u=n.isParam,c=n.extractQueryParams,l=n.merge,h=n.subclass;i["default"]=h(o,{name:null,pivotHandler:null,contexts:null,queryParams:null,initialize:function(e){this.name=e.name,this.pivotHandler=e.pivotHandler,this.contexts=e.contexts||[],this.queryParams=e.queryParams},applyToState:function(e,t,r,n){var i=c([this.name].concat(this.contexts)),o=i[0],a=(i[1],t.handlersFor(o[0])),s=a[a.length-1].handler;return this.applyToHandlers(e,a,r,s,n)},applyToHandlers:function(e,t,r,n,i,o){var s,u,c=new a,h=this.contexts.slice(0),f=t.length;if(this.pivotHandler)for(s=0,u=t.length;u>s;++s)if(r(t[s].handler)===this.pivotHandler){f=s;break}!this.pivotHandler;for(s=t.length-1;s>=0;--s){var d=t[s],p=d.handler,m=r(p),g=e.handlerInfos[s],y=null;if(y=d.names.length>0?s>=f?this.createParamHandlerInfo(p,m,d.names,h,g):this.getHandlerInfoForDynamicSegment(p,m,d.names,h,g,n,s):this.createParamHandlerInfo(p,m,d.names,h,g),o){y=y.becomeResolved(null,y.context);var v=g&&g.context;d.names.length>0&&y.context===v&&(y.params=g&&g.params),y.context=v}var b=g;(s>=f||y.shouldSupercede(g))&&(f=Math.min(s,f),b=y),i&&!o&&(b=b.becomeResolved(null,b.context)),c.handlerInfos.unshift(b)}if(h.length>0)throw new Error("More context objects were passed than there are dynamic segments for the route: "+n);return i||this.invalidateChildren(c.handlerInfos,f),l(c.queryParams,this.queryParams||{}),c},invalidateChildren:function(e,t){for(var r=t,n=e.length;n>r;++r){{e[r]}e[r]=e[r].getUnresolved()}},getHandlerInfoForDynamicSegment:function(e,t,r,n,i,o,a){{var c;r.length}if(n.length>0){if(c=n[n.length-1],u(c))return this.createParamHandlerInfo(e,t,r,n,i);n.pop()}else{if(i&&i.name===e)return i;if(!this.preTransitionState)return i;var l=this.preTransitionState.handlerInfos[a];c=l&&l.context}return s("object",{name:e,handler:t,context:c,names:r})},createParamHandlerInfo:function(e,t,r,n,i){for(var o={},a=r.length;a--;){var c=i&&e===i.name&&i.params||{},l=n[n.length-1],h=r[a];if(u(l))o[h]=""+n.pop();else{if(!c.hasOwnProperty(h))throw new Error("You didn't provide enough string/numeric parameters to satisfy all of the dynamic segments for route "+e);o[h]=c[h]}}return s("param",{name:e,handler:t,params:o})}})}),e("router/transition-intent/url-transition-intent",["../transition-intent","../transition-state","../handler-info/factory","../utils","exports"],function(e,t,r,n,i){"use strict";function o(e){this.message=e||"UnrecognizedURLError",this.name="UnrecognizedURLError"}var a=e["default"],s=t["default"],u=r["default"],c=(n.oCreate,n.merge),l=n.subclass;i["default"]=l(a,{url:null,initialize:function(e){this.url=e.url},applyToState:function(e,t,r){var n,i,a=new s,l=t.recognize(this.url);if(!l)throw new o(this.url);var h=!1;for(n=0,i=l.length;i>n;++n){var f=l[n],d=f.handler,p=r(d);if(p.inaccessibleByURL)throw new o(this.url);var m=u("param",{name:d,handler:p,params:f.params}),g=e.handlerInfos[n];h||m.shouldSupercede(g)?(h=!0,a.handlerInfos[n]=m):a.handlerInfos[n]=g}return c(a.queryParams,l.queryParams),a}})}),e("router/transition-state",["./handler-info","./utils","rsvp/promise","exports"],function(e,t,r,n){"use strict";function i(){this.handlerInfos=[],this.queryParams={},this.params={}}var o=(e.ResolvedHandlerInfo,t.forEach),a=t.promiseLabel,s=t.callHook,u=r["default"];i.prototype={handlerInfos:null,queryParams:null,params:null,promiseLabel:function(e){var t="";return o(this.handlerInfos,function(e){""!==t&&(t+="."),t+=e.name}),a("'"+t+"': "+e)},resolve:function(e,t){function r(){return u.resolve(e(),l.promiseLabel("Check if should continue"))["catch"](function(e){return h=!0,u.reject(e)},l.promiseLabel("Handle abort"))}function n(e){var r=l.handlerInfos,n=t.resolveIndex>=r.length?r.length-1:t.resolveIndex;return u.reject({error:e,handlerWithError:l.handlerInfos[n].handler,wasAborted:h,state:l})}function i(e){var n=l.handlerInfos[t.resolveIndex].isResolved;if(l.handlerInfos[t.resolveIndex++]=e,!n){var i=e.handler;s(i,"redirect",e.context,t)}return r().then(a,null,l.promiseLabel("Resolve handler"))}function a(){if(t.resolveIndex===l.handlerInfos.length)return{error:null,state:l};var e=l.handlerInfos[t.resolveIndex];return e.resolve(r,t).then(i,null,l.promiseLabel("Proceed"))}var c=this.params;o(this.handlerInfos,function(e){c[e.name]=e.params||{}}),t=t||{},t.resolveIndex=0;var l=this,h=!1;return u.resolve(null,this.promiseLabel("Start transition")).then(a,null,this.promiseLabel("Resolve handler"))["catch"](n,this.promiseLabel("Handle error"))}},n["default"]=i}),e("router/transition",["rsvp/promise","./handler-info","./utils","exports"],function(e,t,r,n){"use strict";function i(e,t,r,n){function a(){return u.isAborted?s.reject(void 0,h("Transition aborted - reject")):void 0}var u=this;if(this.state=r||e.state,this.intent=t,this.router=e,this.data=this.intent&&this.intent.data||{},this.resolvedModels={},this.queryParams={},n)return void(this.promise=s.reject(n));if(r){this.params=r.params,this.queryParams=r.queryParams,this.handlerInfos=r.handlerInfos;var c=r.handlerInfos.length;c&&(this.targetName=r.handlerInfos[c-1].name);for(var l=0;c>l;++l){var f=r.handlerInfos[l];if(!f.isResolved)break;this.pivotHandler=f.handler}this.sequence=i.currentSequence++,this.promise=r.resolve(a,this)["catch"](function(e){return e.wasAborted||u.isAborted?s.reject(o(u)):(u.trigger("error",e.error,u,e.handlerWithError),u.abort(),s.reject(e.error))},h("Handle Abort"))}else this.promise=s.resolve(this.state),this.params={}}function o(e){return l(e.router,e.sequence,"detected abort."),new a}function a(e){this.message=e||"TransitionAborted",this.name="TransitionAborted"}var s=e["default"],u=(t.ResolvedHandlerInfo,r.trigger),c=r.slice,l=r.log,h=r.promiseLabel;i.currentSequence=0,i.prototype={targetName:null,urlMethod:"update",intent:null,params:null,pivotHandler:null,resolveIndex:0,handlerInfos:null,resolvedModels:null,isActive:!0,state:null,queryParamsOnly:!1,isTransition:!0,isExiting:function(e){for(var t=this.handlerInfos,r=0,n=t.length;n>r;++r){var i=t[r];if(i.name===e||i.handler===e)return!1}return!0},promise:null,data:null,then:function(e,t,r){return this.promise.then(e,t,r)},"catch":function(e,t){return this.promise["catch"](e,t)},"finally":function(e,t){return this.promise["finally"](e,t)},abort:function(){return this.isAborted?this:(l(this.router,this.sequence,this.targetName+": transition was aborted"),this.intent.preTransitionState=this.router.state,this.isAborted=!0,this.isActive=!1,this.router.activeTransition=null,this)},retry:function(){return this.abort(),this.router.transitionByIntent(this.intent,!1)},method:function(e){return this.urlMethod=e,this},trigger:function(e){var t=c.call(arguments);"boolean"==typeof e?t.shift():e=!1,u(this.router,this.state.handlerInfos.slice(0,this.resolveIndex+1),e,t)},followRedirects:function(){var e=this.router;return this.promise["catch"](function(t){return e.activeTransition?e.activeTransition.followRedirects():s.reject(t)})},toString:function(){return"Transition (sequence "+this.sequence+")"},log:function(e){l(this.router,this.sequence,e)}},i.prototype.send=i.prototype.trigger,n.Transition=i,n.logAbort=o,n.TransitionAborted=a}),e("router/utils",["exports"],function(e){"use strict";function t(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])}function r(e){var t,r,n=e&&e.length;return n&&n>0&&e[n-1]&&e[n-1].hasOwnProperty("queryParams")?(r=e[n-1].queryParams,t=g.call(e,0,n-1),[t,r]):[e,null]}function n(e){for(var t in e)if("number"==typeof e[t])e[t]=""+e[t];else if(y(e[t]))for(var r=0,n=e[t].length;n>r;r++)e[t][r]=""+e[t][r]}function i(e,t,r){e.log&&(3===arguments.length?e.log("Transition #"+t+": "+r):(r=t,e.log(r)))}function o(e,t){var r=arguments;return function(n){var i=g.call(r,2);return i.push(n),t.apply(e,i)}}function a(e){return"string"==typeof e||e instanceof String||"number"==typeof e||e instanceof Number}function s(e,t){for(var r=0,n=e.length;n>r&&!1!==t(e[r]);r++);}function u(e,t,r,n){if(e.triggerEvent)return void e.triggerEvent(t,r,n);var i=n.shift();if(!t){if(r)return;throw new Error("Could not trigger event '"+i+"'. There are no active handlers")}for(var o=!1,a=t.length-1;a>=0;a--){var s=t[a],u=s.handler;if(u.events&&u.events[i]){if(u.events[i].apply(u,n)!==!0)return;o=!0}}if(!o&&!r)throw new Error("Nothing handled the event '"+i+"'.")}function c(e,r){var i,o={all:{},changed:{},removed:{}};t(o.all,r);var a=!1;n(e),n(r);for(i in e)e.hasOwnProperty(i)&&(r.hasOwnProperty(i)||(a=!0,o.removed[i]=e[i]));for(i in r)if(r.hasOwnProperty(i))if(y(e[i])&&y(r[i]))if(e[i].length!==r[i].length)o.changed[i]=r[i],a=!0;else for(var s=0,u=e[i].length;u>s;s++)e[i][s]!==r[i][s]&&(o.changed[i]=r[i],a=!0);else e[i]!==r[i]&&(o.changed[i]=r[i],a=!0);return a&&o}function l(e){return"Router: "+e}function h(e,r){function n(t){e.call(this,t||{})}return n.prototype=v(e.prototype),t(n.prototype,r),n}function f(e,t){if(e){var r="_"+t;return e[r]&&r||e[t]&&t}}function d(e,t){var r=g.call(arguments,2);return p(e,t,r)}function p(e,t,r){var n=f(e,t);return n?e[n].apply(e,r):void 0}var m,g=Array.prototype.slice;m=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var y=m;e.isArray=y;var v=Object.create||function(e){function t(){}return t.prototype=e,new t};e.oCreate=v,e.extractQueryParams=r,e.log=i,e.bind=o,e.forEach=s,e.trigger=u,e.getChangelist=c,e.promiseLabel=l,e.subclass=h,e.merge=t,e.slice=g,e.isParam=a,e.coerceQueryParamsToString=n,e.callHook=d,e.resolveHook=f,e.applyHook=p}),e("rsvp",["./rsvp/promise","./rsvp/events","./rsvp/node","./rsvp/all","./rsvp/all-settled","./rsvp/race","./rsvp/hash","./rsvp/hash-settled","./rsvp/rethrow","./rsvp/defer","./rsvp/config","./rsvp/map","./rsvp/resolve","./rsvp/reject","./rsvp/filter","./rsvp/asap","exports"],function(e,t,r,n,i,o,a,s,u,c,l,h,f,d,p,m,g){"use strict";function y(e,t){A.async(e,t)}function v(){A.on.apply(A,arguments)}function b(){A.off.apply(A,arguments)}var E=e["default"],x=t["default"],w=r["default"],_=n["default"],T=i["default"],R=o["default"],S=a["default"],C=s["default"],H=u["default"],M=c["default"],A=l.config,N=l.configure,P=h["default"],k=f["default"],O=d["default"],L=p["default"],D=m["default"];A.async=D;var F=k;if("undefined"!=typeof window&&"object"==typeof window.__PROMISE_INSTRUMENTATION__){var B=window.__PROMISE_INSTRUMENTATION__;N("instrument",!0);for(var I in B)B.hasOwnProperty(I)&&v(I,B[I])}g.cast=F,g.Promise=E,g.EventTarget=x,g.all=_,g.allSettled=T,g.race=R,g.hash=S,g.hashSettled=C,g.rethrow=H,g.defer=M,g.denodeify=w,g.configure=N,g.on=v,g.off=b,g.resolve=k,g.reject=O,g.async=y,g.map=P,g.filter=L}),e("rsvp.umd",["./rsvp"],function(t){"use strict";var r=t.Promise,n=t.allSettled,i=t.hash,o=t.hashSettled,a=t.denodeify,s=t.on,u=t.off,c=t.map,l=t.filter,h=t.resolve,f=t.reject,d=t.rethrow,p=t.all,m=t.defer,g=t.EventTarget,y=t.configure,v=t.race,b=t.async,E={race:v,Promise:r,allSettled:n,hash:i,hashSettled:o,denodeify:a,on:s,off:u,map:c,filter:l,resolve:h,reject:f,all:p,rethrow:d,defer:m,EventTarget:g,configure:y,async:b};"function"==typeof e&&e.amd?e(function(){return E}):"undefined"!=typeof module&&module.exports?module.exports=E:"undefined"!=typeof this&&(this.RSVP=E)}),e("rsvp/-internal",["./utils","./instrument","./config","exports"],function(e,t,r,n){"use strict";function i(){return new TypeError("A promises callback cannot return that same promise.")}function o(){}function a(e){try{return e.then}catch(t){return H.error=t,H}}function s(e,t,r,n){try{e.call(t,r,n)}catch(i){return i}}function u(e,t,r){T.async(function(e){var n=!1,i=s(r,t,function(r){n||(n=!0,t!==r?h(e,r):d(e,r))},function(t){n||(n=!0,p(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&i&&(n=!0,p(e,i))},e)}function c(e,t){t._state===S?d(e,t._result):e._state===C?p(e,t._result):m(t,void 0,function(r){t!==r?h(e,r):d(e,r)},function(t){p(e,t)})}function l(e,t){if(t.constructor===e.constructor)c(e,t);else{var r=a(t);r===H?p(e,H.error):void 0===r?d(e,t):w(r)?u(e,t,r):d(e,t)}}function h(e,t){e===t?d(e,t):x(t)?l(e,t):d(e,t)}function f(e){e._onerror&&e._onerror(e._result),g(e)}function d(e,t){e._state===R&&(e._result=t,e._state=S,0===e._subscribers.length?T.instrument&&_("fulfilled",e):T.async(g,e))}function p(e,t){e._state===R&&(e._state=C,e._result=t,T.async(f,e))}function m(e,t,r,n){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+S]=r,i[o+C]=n,0===o&&e._state&&T.async(g,e)}function g(e){var t=e._subscribers,r=e._state;if(T.instrument&&_(r===S?"fulfilled":"rejected",e),0!==t.length){for(var n,i,o=e._result,a=0;a<t.length;a+=3)n=t[a],i=t[a+r],n?b(r,n,i,o):i(o);e._subscribers.length=0}}function y(){this.error=null}function v(e,t){try{return e(t)}catch(r){return M.error=r,M}}function b(e,t,r,n){var o,a,s,u,c=w(r);if(c){if(o=v(r,n),o===M?(u=!0,a=o.error,o=null):s=!0,t===o)return void p(t,i())}else o=n,s=!0;t._state!==R||(c&&s?h(t,o):u?p(t,a):e===S?d(t,o):e===C&&p(t,o))}function E(e,t){try{t(function(t){h(e,t)},function(t){p(e,t)})}catch(r){p(e,r)}}var x=e.objectOrFunction,w=e.isFunction,_=t["default"],T=r.config,R=void 0,S=1,C=2,H=new y,M=new y;n.noop=o,n.resolve=h,n.reject=p,n.fulfill=d,n.subscribe=m,n.publish=g,n.publishRejection=f,n.initializePromise=E,n.invokeCallback=b,n.FULFILLED=S,n.REJECTED=C,n.PENDING=R}),e("rsvp/all-settled",["./enumerator","./promise","./utils","exports"],function(e,t,r,n){"use strict";function i(e,t,r){this._superConstructor(e,t,!1,r)}var o=e["default"],a=e.makeSettledResult,s=t["default"],u=r.o_create;i.prototype=u(o.prototype),i.prototype._superConstructor=o,i.prototype._makeResult=a,i.prototype._validationError=function(){return new Error("allSettled must be called with an array")},n["default"]=function(e,t){return new i(s,e,t).promise}}),e("rsvp/all",["./promise","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=function(e,t){return r.all(e,t)}}),e("rsvp/asap",["exports"],function(e){"use strict";function t(){return function(){process.nextTick(s)}}function n(){return function(){vertxNext(s)}}function i(){var e=0,t=new d(s),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function o(){var e=new MessageChannel;return e.port1.onmessage=s,function(){e.port2.postMessage(0)}}function a(){return function(){setTimeout(s,1)}}function s(){for(var e=0;c>e;e+=2){var t=m[e],r=m[e+1];t(r),m[e]=void 0,m[e+1]=void 0}c=0}function u(){try{{var e=r("vertx");e.runOnLoop||e.runOnContext}return n()}catch(t){return a()}}var c=0;e["default"]=function(e,t){m[c]=e,m[c+1]=t,c+=2,2===c&&l()};var l,h="undefined"!=typeof window?window:void 0,f=h||{},d=f.MutationObserver||f.WebKitMutationObserver,p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,m=new Array(1e3);l="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?t():d?i():p?o():void 0===h&&"function"==typeof r?u():a()}),e("rsvp/config",["./events","exports"],function(e,t){"use strict";function r(e,t){return"onerror"===e?void i.on("error",t):2!==arguments.length?i[e]:void(i[e]=t)}var n=e["default"],i={instrument:!1};n.mixin(i),t.config=i,t.configure=r}),e("rsvp/defer",["./promise","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=function(e){var t={};return t.promise=new r(function(e,r){t.resolve=e,t.reject=r},e),t}}),e("rsvp/enumerator",["./utils","./-internal","exports"],function(e,t,r){"use strict";function n(e,t,r){return e===h?{state:"fulfilled",value:r}:{state:"rejected",reason:r}}function i(e,t,r,n){this._instanceConstructor=e,this.promise=new e(s,n),this._abortOnReject=r,this._validateInput(t)?(this._input=t,this.length=t.length,this._remaining=t.length,this._init(),0===this.length?c(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&c(this.promise,this._result))):u(this.promise,this._validationError())}var o=e.isArray,a=e.isMaybeThenable,s=t.noop,u=t.reject,c=t.fulfill,l=t.subscribe,h=t.FULFILLED,f=t.REJECTED,d=t.PENDING;r.makeSettledResult=n,i.prototype._validateInput=function(e){return o(e)},i.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},i.prototype._init=function(){this._result=new Array(this.length)},r["default"]=i,i.prototype._enumerate=function(){for(var e=this.length,t=this.promise,r=this._input,n=0;t._state===d&&e>n;n++)this._eachEntry(r[n],n)},i.prototype._eachEntry=function(e,t){var r=this._instanceConstructor;a(e)?e.constructor===r&&e._state!==d?(e._onerror=null,this._settledAt(e._state,t,e._result)):this._willSettleAt(r.resolve(e),t):(this._remaining--,this._result[t]=this._makeResult(h,t,e))},i.prototype._settledAt=function(e,t,r){var n=this.promise;n._state===d&&(this._remaining--,this._abortOnReject&&e===f?u(n,r):this._result[t]=this._makeResult(e,t,r)),0===this._remaining&&c(n,this._result)},i.prototype._makeResult=function(e,t,r){return r},i.prototype._willSettleAt=function(e,t){var r=this;l(e,void 0,function(e){r._settledAt(h,t,e)},function(e){r._settledAt(f,t,e)})}}),e("rsvp/events",["exports"],function(e){"use strict";function t(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r]===t)return r;return-1}function r(e){var t=e._promiseCallbacks;return t||(t=e._promiseCallbacks={}),t}e["default"]={mixin:function(e){return e.on=this.on,e.off=this.off,e.trigger=this.trigger,e._promiseCallbacks=void 0,e
},on:function(e,n){var i,o=r(this);i=o[e],i||(i=o[e]=[]),-1===t(i,n)&&i.push(n)},off:function(e,n){var i,o,a=r(this);return n?(i=a[e],o=t(i,n),void(-1!==o&&i.splice(o,1))):void(a[e]=[])},trigger:function(e,t){var n,i,o=r(this);if(n=o[e])for(var a=0;a<n.length;a++)(i=n[a])(t)}}}),e("rsvp/filter",["./promise","./utils","exports"],function(e,t,r){"use strict";var n=e["default"],i=t.isFunction;r["default"]=function(e,t,r){return n.all(e,r).then(function(e){if(!i(t))throw new TypeError("You must pass a function as filter's second argument.");for(var o=e.length,a=new Array(o),s=0;o>s;s++)a[s]=t(e[s]);return n.all(a,r).then(function(t){for(var r=new Array(o),n=0,i=0;o>i;i++)t[i]&&(r[n]=e[i],n++);return r.length=n,r})})}}),e("rsvp/hash-settled",["./promise","./enumerator","./promise-hash","./utils","exports"],function(e,t,r,n,i){"use strict";function o(e,t,r){this._superConstructor(e,t,!1,r)}var a=e["default"],s=t.makeSettledResult,u=r["default"],c=t["default"],l=n.o_create;o.prototype=l(u.prototype),o.prototype._superConstructor=c,o.prototype._makeResult=s,o.prototype._validationError=function(){return new Error("hashSettled must be called with an object")},i["default"]=function(e,t){return new o(a,e,t).promise}}),e("rsvp/hash",["./promise","./promise-hash","exports"],function(e,t,r){"use strict";var n=e["default"],i=t["default"];r["default"]=function(e,t){return new i(n,e,t).promise}}),e("rsvp/instrument",["./config","./utils","exports"],function(e,t,r){"use strict";function n(){setTimeout(function(){for(var e,t=0;t<a.length;t++){e=a[t];var r=e.payload;r.guid=r.key+r.id,r.childGuid=r.key+r.childId,r.error&&(r.stack=r.error.stack),i.trigger(e.name,e.payload)}a.length=0},50)}var i=e.config,o=t.now,a=[];r["default"]=function(e,t,r){1===a.push({name:e,payload:{key:t._guidKey,id:t._id,eventName:e,detail:t._result,childId:r&&r._id,label:t._label,timeStamp:o(),error:i["instrument-with-stack"]?new Error(t._label):null}})&&n()}}),e("rsvp/map",["./promise","./utils","exports"],function(e,t,r){"use strict";var n=e["default"],i=t.isFunction;r["default"]=function(e,t,r){return n.all(e,r).then(function(e){if(!i(t))throw new TypeError("You must pass a function as map's second argument.");for(var o=e.length,a=new Array(o),s=0;o>s;s++)a[s]=t(e[s]);return n.all(a,r)})}}),e("rsvp/node",["./promise","./-internal","./utils","exports"],function(e,t,r,n){"use strict";function i(){this.value=void 0}function o(e){try{return e.then}catch(t){return v.value=t,v}}function a(e,t,r){try{e.apply(t,r)}catch(n){return v.value=n,v}}function s(e,t){for(var r,n,i={},o=e.length,a=new Array(o),s=0;o>s;s++)a[s]=e[s];for(n=0;n<t.length;n++)r=t[n],i[r]=a[n+1];return i}function u(e){for(var t=e.length,r=new Array(t-1),n=1;t>n;n++)r[n-1]=e[n];return r}function c(e,t){return{then:function(r,n){return e.call(t,r,n)}}}function l(e,t,r,n){var i=a(r,n,t);return i===v&&g(e,i.value),e}function h(e,t,r,n){return d.all(t).then(function(t){var i=a(r,n,t);return i===v&&g(e,i.value),e})}function f(e){return e&&"object"==typeof e?e.constructor===d?!0:o(e):!1}var d=e["default"],p=t.noop,m=t.resolve,g=t.reject,y=r.isArray,v=new i,b=new i;n["default"]=function(e,t){var r=function(){for(var r,n=this,i=arguments.length,o=new Array(i+1),a=!1,v=0;i>v;++v){if(r=arguments[v],!a){if(a=f(r),a===b){var E=new d(p);return g(E,b.value),E}a&&a!==!0&&(r=c(a,r))}o[v]=r}var x=new d(p);return o[i]=function(e,r){e?g(x,e):void 0===t?m(x,r):t===!0?m(x,u(arguments)):y(t)?m(x,s(arguments,t)):m(x,r)},a?h(x,o,e,n):l(x,o,e,n)};return r.__proto__=e,r}}),e("rsvp/promise-hash",["./enumerator","./-internal","./utils","exports"],function(e,t,r,n){"use strict";function i(e,t,r){this._superConstructor(e,t,!0,r)}var o=e["default"],a=t.PENDING,s=r.o_create;n["default"]=i,i.prototype=s(o.prototype),i.prototype._superConstructor=o,i.prototype._init=function(){this._result={}},i.prototype._validateInput=function(e){return e&&"object"==typeof e},i.prototype._validationError=function(){return new Error("Promise.hash must be called with an object")},i.prototype._enumerate=function(){var e=this.promise,t=this._input,r=[];for(var n in t)e._state===a&&t.hasOwnProperty(n)&&r.push({position:n,entry:t[n]});var i=r.length;this._remaining=i;for(var o,s=0;e._state===a&&i>s;s++)o=r[s],this._eachEntry(o.entry,o.position)}}),e("rsvp/promise",["./config","./instrument","./utils","./-internal","./promise/all","./promise/race","./promise/resolve","./promise/reject","exports"],function(e,t,r,n,i,o,a,s,u){"use strict";function c(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function l(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function h(e,t){this._id=C++,this._label=t,this._state=void 0,this._result=void 0,this._subscribers=[],f.instrument&&d("created",this),g!==e&&(p(e)||c(),this instanceof h||l(),v(this,e))}var f=e.config,d=t["default"],p=r.isFunction,m=r.now,g=n.noop,y=n.subscribe,v=n.initializePromise,b=n.invokeCallback,E=n.FULFILLED,x=n.REJECTED,w=i["default"],_=o["default"],T=a["default"],R=s["default"],S="rsvp_"+m()+"-",C=0;u["default"]=h,h.cast=T,h.all=w,h.race=_,h.resolve=T,h.reject=R,h.prototype={constructor:h,_guidKey:S,_onerror:function(e){f.trigger("error",e)},then:function(e,t,r){var n=this,i=n._state;if(i===E&&!e||i===x&&!t)return f.instrument&&d("chained",this,this),this;n._onerror=null;var o=new this.constructor(g,r),a=n._result;if(f.instrument&&d("chained",n,o),i){var s=arguments[i-1];f.async(function(){b(i,o,s,a)})}else y(n,o,e,t);return o},"catch":function(e,t){return this.then(null,e,t)},"finally":function(e,t){var r=this.constructor;return this.then(function(t){return r.resolve(e()).then(function(){return t})},function(t){return r.resolve(e()).then(function(){throw t})},t)}}}),e("rsvp/promise/all",["../enumerator","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=function(e,t){return new r(this,e,!0,t).promise}}),e("rsvp/promise/race",["../utils","../-internal","exports"],function(e,t,r){"use strict";var n=e.isArray,i=t.noop,o=t.resolve,a=t.reject,s=t.subscribe,u=t.PENDING;r["default"]=function(e,t){function r(e){o(h,e)}function c(e){a(h,e)}var l=this,h=new l(i,t);if(!n(e))return a(h,new TypeError("You must pass an array to race.")),h;for(var f=e.length,d=0;h._state===u&&f>d;d++)s(l.resolve(e[d]),void 0,r,c);return h}}),e("rsvp/promise/reject",["../-internal","exports"],function(e,t){"use strict";var r=e.noop,n=e.reject;t["default"]=function(e,t){var i=this,o=new i(r,t);return n(o,e),o}}),e("rsvp/promise/resolve",["../-internal","exports"],function(e,t){"use strict";var r=e.noop,n=e.resolve;t["default"]=function(e,t){var i=this;if(e&&"object"==typeof e&&e.constructor===i)return e;var o=new i(r,t);return n(o,e),o}}),e("rsvp/race",["./promise","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=function(e,t){return r.race(e,t)}}),e("rsvp/reject",["./promise","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=function(e,t){return r.reject(e,t)}}),e("rsvp/resolve",["./promise","exports"],function(e,t){"use strict";var r=e["default"];t["default"]=function(e,t){return r.resolve(e,t)}}),e("rsvp/rethrow",["exports"],function(e){"use strict";e["default"]=function(e){throw setTimeout(function(){throw e}),e}}),e("rsvp/utils",["exports"],function(e){"use strict";function t(e){return"function"==typeof e||"object"==typeof e&&null!==e}function r(e){return"function"==typeof e}function n(e){return"object"==typeof e&&null!==e}function i(){}e.objectOrFunction=t,e.isFunction=r,e.isMaybeThenable=n;var o;o=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var a=o;e.isArray=a;var s=Date.now||function(){return(new Date).getTime()};e.now=s;var u=Object.create||function(e){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof e)throw new TypeError("Argument must be an object");return i.prototype=e,new i};e.o_create=u}),t("ember")}(),function(){define("ember",[],function(){"use strict";return{"default":Ember}}),define("ember-data",[],function(){"use strict";return{"default":DS}})}(),define("jquery",[],function(){"use strict";return{"default":jQuery}}),function(){define("ember/resolver",[],function(){"use strict";function e(e){return{create:function(t){return"function"==typeof e.extend?e.extend(t):e}}}function t(){var e=Object.create(null);return e._dict=null,delete e._dict,e}function r(e){if(e.parsedName===!0)return e;var t,r=e.split("@");2===r.length&&("view"===r[0].split(":")[0]&&(r[0]=r[0].split(":")[1],r[1]="view:"+r[1]),t=r[0]);var n=r[r.length-1].split(":"),i=n[0],s=n[1],u=s,c=a(this,"namespace"),l=c;return{parsedName:!0,fullName:e,prefix:t||this.prefix({type:i}),type:i,fullNameWithoutType:s,name:u,root:l,resolveMethodName:"resolve"+o(i)}}function n(e,t){var r=Ember.String.underscore(t);if(t!==r&&e[t]&&e[r])throw new TypeError("Ambiguous module names: `"+t+"` and `"+r+"`");if(e[t])return t;if(e[r])return r;var n=t.replace(/\/-([^\/]*)$/,"/_$1");return e[n]?(Ember.deprecate('Modules should not contain underscores. Attempted to lookup "'+t+'" which was not found. Please rename "'+n+'" to "'+t+'" instead.',!1),n):t}function i(t){Ember.assert("`modulePrefix` must be defined",this.namespace.modulePrefix);var r=this.findModuleName(t);if(r){var n=require(r,null,null,!0);if(n&&n["default"]&&(n=n["default"]),void 0===n)throw new Error(" Expected to find: '"+t.fullName+"' within '"+r+"' but got 'undefined'. Did you forget to `export default` within '"+r+"'?");return this.shouldWrapInClassFactory(n,t)&&(n=e(n)),n}return this._super(t)}if("undefined"==typeof requirejs.entries&&(requirejs.entries=requirejs._eak_seen),!Object.create||Object.create(null).hasOwnProperty)throw new Error("This browser does not support Object.create(null), please polyfil with es5-sham: http://git.io/yBU2rg");var o=(Ember.String.underscore,Ember.String.classify),a=Ember.get,s=Ember.DefaultResolver.extend({resolveOther:i,resolveTemplate:i,pluralizedTypes:null,makeToString:function(e,t){return""+this.namespace.modulePrefix+"@"+t+":"},parseName:r,shouldWrapInClassFactory:function(){return!1},init:function(){this._super(),this.moduleBasedResolver=!0,this._normalizeCache=t(),this.pluralizedTypes=this.pluralizedTypes||t(),this.pluralizedTypes.config||(this.pluralizedTypes.config="config")},normalize:function(e){return this._normalizeCache[e]||(this._normalizeCache[e]=this._normalize(e))},_normalize:function(e){var t=e.split(":");return t.length>1?t[0]+":"+Ember.String.dasherize(t[1].replace(/\./g,"/")):e},pluralize:function(e){return this.pluralizedTypes[e]||(this.pluralizedTypes[e]=e+"s")},podBasedLookupWithPrefix:function(e,t){var r=t.fullNameWithoutType;return"template"===t.type&&(r=r.replace(/^components\//,"")),e+"/"+r+"/"+t.type},podBasedModuleName:function(e){var t=this.namespace.podModulePrefix||this.namespace.modulePrefix;return this.podBasedLookupWithPrefix(t,e)},podBasedComponentsInSubdir:function(e){var t=this.namespace.podModulePrefix||this.namespace.modulePrefix;return t+="/components","component"===e.type||e.fullNameWithoutType.match(/^components/)?this.podBasedLookupWithPrefix(t,e):void 0},mainModuleName:function(e){var t=e.prefix+"/"+e.type;return"main"===e.fullNameWithoutType?t:void 0},defaultModuleName:function(e){return e.prefix+"/"+this.pluralize(e.type)+"/"+e.fullNameWithoutType},prefix:function(e){var t=this.namespace.modulePrefix;return this.namespace[e.type+"Prefix"]&&(t=this.namespace[e.type+"Prefix"]),t},moduleNameLookupPatterns:Ember.computed(function(){return Ember.A([this.podBasedModuleName,this.podBasedComponentsInSubdir,this.mainModuleName,this.defaultModuleName])}),findModuleName:function(e,t){var r,i=this;return this.get("moduleNameLookupPatterns").find(function(o){var a=requirejs.entries,s=o.call(i,e);return s&&(s=n(a,s)),s&&a[s]&&(t||i._logLookup(!0,e,s),r=s),t||i._logLookup(r,e,s),r}),r},lookupDescription:function(e){var t=this.parseName(e),r=this.findModuleName(t,!0);return r},_logLookup:function(e,t,r){if(Ember.ENV.LOG_MODULE_RESOLVER||t.root.LOG_RESOLVER){var n,i;n=e?"[✓]":"[ ]",i=t.fullName.length>60?".":new Array(60-t.fullName.length).join("."),r||(r=this.lookupDescription(t)),Ember.Logger.info(n,t.fullName,i,r)}}});return s.moduleBasedResolver=!0,s["default"]=s,s}),define("resolver",["ember/resolver"],function(e){return Ember.deprecate('Importing/requiring Ember Resolver as "resolver" is deprecated, please use "ember/resolver" instead'),e})}(),function(){define("ember/container-debug-adapter",[],function(){"use strict";if("undefined"==typeof Ember.ContainerDebugAdapter)return null;var e=Ember.ContainerDebugAdapter.extend({canCatalogEntriesByType:function(){return!0},catalogEntriesByType:function(e){var t=requirejs.entries,r=Ember.A();for(var n in t)t.hasOwnProperty(n)&&-1!==n.indexOf(e)&&r.push(n.split(e+"s/").pop());return r}});return e["default"]=e,e})}(),function(){!function(){"use strict";Ember.Application.initializer({name:"container-debug-adapter",initialize:function(e){{var t=require("ember/container-debug-adapter");require("ember/resolver")}e.register("container-debug-adapter:main",t)}})}()}(),function(){define("ember/load-initializers",[],function(){"use strict";return{"default":function(e,t){var r=new RegExp("^"+t+"/initializers");Ember.keys(requirejs._eak_seen).filter(function(e){return r.test(e)}).forEach(function(t){var r=require(t,null,null,!0);if(!r)throw new Error(t+" must export an initializer.");e.initializer(r["default"])})}}})}(),function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return i(r?r:e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e){define("npm:mathjs",function(){return{"default":e("mathjs")}})},{mathjs:161}],2:[function(e,t,r){function n(e,t,r){if(!(this instanceof n))return new n(e,t,r);var i,o=typeof e;if("number"===o)i=e>0?e>>>0:0;else if("string"===o)"base64"===t&&(e=_(e)),i=n.byteLength(e,t);else{if("object"!==o||null===e)throw new TypeError("must start with number, buffer, array or string");"Buffer"===e.type&&L(e.data)&&(e=e.data),i=+e.length>0?Math.floor(+e.length):0}if(this.length>D)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+D.toString(16)+" bytes");var a;n.TYPED_ARRAY_SUPPORT?a=n._augment(new Uint8Array(i)):(a=this,a.length=i,a._isBuffer=!0);var s;if(n.TYPED_ARRAY_SUPPORT&&"number"==typeof e.byteLength)a._set(e);else if(R(e))if(n.isBuffer(e))for(s=0;i>s;s++)a[s]=e.readUInt8(s);else for(s=0;i>s;s++)a[s]=(e[s]%256+256)%256;else if("string"===o)a.write(e,0,t);else if("number"===o&&!n.TYPED_ARRAY_SUPPORT&&!r)for(s=0;i>s;s++)a[s]=0;return a}function i(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;if(o%2!==0)throw new Error("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;n>a;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[r+a]=s}return a}function o(e,t,r,n){var i=N(C(t),e,r,n);return i}function a(e,t,r,n){var i=N(H(t),e,r,n);return i}function s(e,t,r,n){return a(e,t,r,n)}function u(e,t,r,n){var i=N(A(t),e,r,n);return i}function c(e,t,r,n){var i=N(M(t),e,r,n,2);return i}function l(e,t,r){return k.fromByteArray(0===t&&r===e.length?e:e.slice(t,r))}function h(e,t,r){var n="",i="";r=Math.min(e.length,r);for(var o=t;r>o;o++)e[o]<=127?(n+=P(i)+String.fromCharCode(e[o]),i=""):i+="%"+e[o].toString(16);return n+P(i)}function f(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;r>i;i++)n+=String.fromCharCode(e[i]);return n}function d(e,t,r){return f(e,t,r)}function p(e,t,r){var n=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>n)&&(r=n);for(var i="",o=t;r>o;o++)i+=S(e[o]);return i}function m(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function g(e,t,r){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function y(e,t,r,i,o,a){if(!n.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(t>o||a>t)throw new TypeError("value is out of bounds");if(r+i>e.length)throw new TypeError("index out of range")}function v(e,t,r,n){0>t&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-r,2);o>i;i++)e[r+i]=(t&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function b(e,t,r,n){0>t&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-r,4);o>i;i++)e[r+i]=t>>>8*(n?i:3-i)&255}function E(e,t,r,n,i,o){if(t>i||o>t)throw new TypeError("value is out of bounds");if(r+n>e.length)throw new TypeError("index out of range")}function x(e,t,r,n,i){return i||E(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),O.write(e,t,r,n,23,4),r+4}function w(e,t,r,n,i){return i||E(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),O.write(e,t,r,n,52,8),r+8}function _(e){for(e=T(e).replace(B,"");e.length%4!==0;)e+="=";return e}function T(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function R(e){return L(e)||n.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function S(e){return 16>e?"0"+e.toString(16):e.toString(16)}function C(e){for(var t=[],r=0;r<e.length;r++){var n=e.charCodeAt(r);if(127>=n)t.push(n);else{var i=r;n>=55296&&57343>=n&&r++;for(var o=encodeURIComponent(e.slice(i,r+1)).substr(1).split("%"),a=0;a<o.length;a++)t.push(parseInt(o[a],16))}}return t}function H(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t}function M(e){for(var t,r,n,i=[],o=0;o<e.length;o++)t=e.charCodeAt(o),r=t>>8,n=t%256,i.push(n),i.push(r);return i}function A(e){return k.toByteArray(e)}function N(e,t,r,n,i){i&&(n-=n%i);for(var o=0;n>o&&!(o+r>=t.length||o>=e.length);o++)t[o+r]=e[o];return o}function P(e){try{return decodeURIComponent(e)}catch(t){return String.fromCharCode(65533)}}var k=e("base64-js"),O=e("ieee754"),L=e("is-array");r.Buffer=n,r.SlowBuffer=n,r.INSPECT_MAX_BYTES=50,n.poolSize=8192;var D=1073741823;n.TYPED_ARRAY_SUPPORT=function(){try{var e=new ArrayBuffer(0),t=new Uint8Array(e);return t.foo=function(){return 42},42===t.foo()&&"function"==typeof t.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(r){return!1}}(),n.isBuffer=function(e){return!(null==e||!e._isBuffer)},n.compare=function(e,t){if(!n.isBuffer(e)||!n.isBuffer(t))throw new TypeError("Arguments must be Buffers");for(var r=e.length,i=t.length,o=0,a=Math.min(r,i);a>o&&e[o]===t[o];o++);return o!==a&&(r=e[o],i=t[o]),i>r?-1:r>i?1:0},n.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},n.concat=function(e,t){if(!L(e))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===e.length)return new n(0);if(1===e.length)return e[0];var r;if(void 0===t)for(t=0,r=0;r<e.length;r++)t+=e[r].length;var i=new n(t),o=0;for(r=0;r<e.length;r++){var a=e[r];a.copy(i,o),o+=a.length}return i},n.byteLength=function(e,t){var r;switch(e+="",t||"utf8"){case"ascii":case"binary":case"raw":r=e.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":r=2*e.length;break;case"hex":r=e.length>>>1;break;case"utf8":case"utf-8":r=C(e).length;break;case"base64":r=A(e).length;break;default:r=e.length}return r},n.prototype.length=void 0,n.prototype.parent=void 0,n.prototype.toString=function(e,t,r){var n=!1;if(t>>>=0,r=void 0===r||1/0===r?this.length:r>>>0,e||(e="utf8"),0>t&&(t=0),r>this.length&&(r=this.length),t>=r)return"";for(;;)switch(e){case"hex":return p(this,t,r);case"utf8":case"utf-8":return h(this,t,r);case"ascii":return f(this,t,r);case"binary":return d(this,t,r);case"base64":return l(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return m(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}},n.prototype.equals=function(e){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");return 0===n.compare(this,e)},n.prototype.inspect=function(){var e="",t=r.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},n.prototype.compare=function(e){if(!n.isBuffer(e))throw new TypeError("Argument must be a Buffer");return n.compare(this,e)},n.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},n.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},n.prototype.write=function(e,t,r,n){if(isFinite(t))isFinite(r)||(n=r,r=void 0);else{var l=n;n=t,t=r,r=l}t=Number(t)||0;var h=this.length-t;r?(r=Number(r),r>h&&(r=h)):r=h,n=String(n||"utf8").toLowerCase();var f;switch(n){case"hex":f=i(this,e,t,r);break;case"utf8":case"utf-8":f=o(this,e,t,r);break;case"ascii":f=a(this,e,t,r);break;case"binary":f=s(this,e,t,r);break;case"base64":f=u(this,e,t,r);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":f=c(this,e,t,r);break;default:throw new TypeError("Unknown encoding: "+n)}return f},n.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},n.prototype.slice=function(e,t){var r=this.length;if(e=~~e,t=void 0===t?r:~~t,0>e?(e+=r,0>e&&(e=0)):e>r&&(e=r),0>t?(t+=r,0>t&&(t=0)):t>r&&(t=r),e>t&&(t=e),n.TYPED_ARRAY_SUPPORT)return n._augment(this.subarray(e,t));for(var i=t-e,o=new n(i,void 0,!0),a=0;i>a;a++)o[a]=this[a+e];return o},n.prototype.readUInt8=function(e,t){return t||g(e,1,this.length),this[e]},n.prototype.readUInt16LE=function(e,t){return t||g(e,2,this.length),this[e]|this[e+1]<<8},n.prototype.readUInt16BE=function(e,t){return t||g(e,2,this.length),this[e]<<8|this[e+1]},n.prototype.readUInt32LE=function(e,t){return t||g(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},n.prototype.readUInt32BE=function(e,t){return t||g(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},n.prototype.readInt8=function(e,t){return t||g(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},n.prototype.readInt16LE=function(e,t){t||g(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},n.prototype.readInt16BE=function(e,t){t||g(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},n.prototype.readInt32LE=function(e,t){return t||g(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},n.prototype.readInt32BE=function(e,t){return t||g(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},n.prototype.readFloatLE=function(e,t){return t||g(e,4,this.length),O.read(this,e,!0,23,4)},n.prototype.readFloatBE=function(e,t){return t||g(e,4,this.length),O.read(this,e,!1,23,4)},n.prototype.readDoubleLE=function(e,t){return t||g(e,8,this.length),O.read(this,e,!0,52,8)},n.prototype.readDoubleBE=function(e,t){return t||g(e,8,this.length),O.read(this,e,!1,52,8)},n.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||y(this,e,t,1,255,0),n.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=e,t+1},n.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||y(this,e,t,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):v(this,e,t,!0),t+2},n.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||y(this,e,t,2,65535,0),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):v(this,e,t,!1),t+2},n.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||y(this,e,t,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e):b(this,e,t,!0),t+4},n.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||y(this,e,t,4,4294967295,0),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):b(this,e,t,!1),t+4},n.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||y(this,e,t,1,127,-128),n.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=e,t+1},n.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||y(this,e,t,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8):v(this,e,t,!0),t+2},n.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||y(this,e,t,2,32767,-32768),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=e):v(this,e,t,!1),t+2},n.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||y(this,e,t,4,2147483647,-2147483648),n.TYPED_ARRAY_SUPPORT?(this[t]=e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):b(this,e,t,!0),t+4},n.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||y(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),n.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e):b(this,e,t,!1),t+4},n.prototype.writeFloatLE=function(e,t,r){return x(this,e,t,!0,r)},n.prototype.writeFloatBE=function(e,t,r){return x(this,e,t,!1,r)},n.prototype.writeDoubleLE=function(e,t,r){return w(this,e,t,!0,r)},n.prototype.writeDoubleBE=function(e,t,r){return w(this,e,t,!1,r)},n.prototype.copy=function(e,t,r,i){var o=this;if(r||(r=0),i||0===i||(i=this.length),t||(t=0),i!==r&&0!==e.length&&0!==o.length){if(r>i)throw new TypeError("sourceEnd < sourceStart");if(0>t||t>=e.length)throw new TypeError("targetStart out of bounds");if(0>r||r>=o.length)throw new TypeError("sourceStart out of bounds");if(0>i||i>o.length)throw new TypeError("sourceEnd out of bounds");i>this.length&&(i=this.length),e.length-t<i-r&&(i=e.length-t+r);var a=i-r;if(1e3>a||!n.TYPED_ARRAY_SUPPORT)for(var s=0;a>s;s++)e[s+t]=this[s+r];else e._set(this.subarray(r,r+a),t)}},n.prototype.fill=function(e,t,r){if(e||(e=0),t||(t=0),r||(r=this.length),t>r)throw new TypeError("end < start");if(r!==t&&0!==this.length){if(0>t||t>=this.length)throw new TypeError("start out of bounds");if(0>r||r>this.length)throw new TypeError("end out of bounds");var n;if("number"==typeof e)for(n=t;r>n;n++)this[n]=e;else{var i=C(e.toString()),o=i.length;for(n=t;r>n;n++)this[n]=i[n%o]}return this}},n.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(n.TYPED_ARRAY_SUPPORT)return new n(this).buffer;for(var e=new Uint8Array(this.length),t=0,r=e.length;r>t;t+=1)e[t]=this[t];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var F=n.prototype;n._augment=function(e){return e.constructor=n,e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=F.get,e.set=F.set,e.write=F.write,e.toString=F.toString,e.toLocaleString=F.toString,e.toJSON=F.toJSON,e.equals=F.equals,e.compare=F.compare,e.copy=F.copy,e.slice=F.slice,e.readUInt8=F.readUInt8,e.readUInt16LE=F.readUInt16LE,e.readUInt16BE=F.readUInt16BE,e.readUInt32LE=F.readUInt32LE,e.readUInt32BE=F.readUInt32BE,e.readInt8=F.readInt8,e.readInt16LE=F.readInt16LE,e.readInt16BE=F.readInt16BE,e.readInt32LE=F.readInt32LE,e.readInt32BE=F.readInt32BE,e.readFloatLE=F.readFloatLE,e.readFloatBE=F.readFloatBE,e.readDoubleLE=F.readDoubleLE,e.readDoubleBE=F.readDoubleBE,e.writeUInt8=F.writeUInt8,e.writeUInt16LE=F.writeUInt16LE,e.writeUInt16BE=F.writeUInt16BE,e.writeUInt32LE=F.writeUInt32LE,e.writeUInt32BE=F.writeUInt32BE,e.writeInt8=F.writeInt8,e.writeInt16LE=F.writeInt16LE,e.writeInt16BE=F.writeInt16BE,e.writeInt32LE=F.writeInt32LE,e.writeInt32BE=F.writeInt32BE,e.writeFloatLE=F.writeFloatLE,e.writeFloatBE=F.writeFloatBE,e.writeDoubleLE=F.writeDoubleLE,e.writeDoubleBE=F.writeDoubleBE,e.fill=F.fill,e.inspect=F.inspect,e.toArrayBuffer=F.toArrayBuffer,e};var B=/[^+\/0-9A-z]/g},{"base64-js":3,ieee754:4,"is-array":5}],3:[function(e,t,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a?62:t===s?63:u>t?-1:u+10>t?t-u+26+26:l+26>t?t-l:c+26>t?t-c+26:void 0}function r(e){function r(e){c[h++]=e}var n,i,a,s,u,c;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var l=e.length;u="="===e.charAt(l-2)?2:"="===e.charAt(l-1)?1:0,c=new o(3*e.length/4-u),a=u>0?e.length-4:e.length;var h=0;for(n=0,i=0;a>n;n+=4,i+=3)s=t(e.charAt(n))<<18|t(e.charAt(n+1))<<12|t(e.charAt(n+2))<<6|t(e.charAt(n+3)),r((16711680&s)>>16),r((65280&s)>>8),r(255&s);return 2===u?(s=t(e.charAt(n))<<2|t(e.charAt(n+1))>>4,r(255&s)):1===u&&(s=t(e.charAt(n))<<10|t(e.charAt(n+1))<<4|t(e.charAt(n+2))>>2,r(s>>8&255),r(255&s)),c}function i(e){function t(e){return n.charAt(e)}function r(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var i,o,a,s=e.length%3,u="";for(i=0,a=e.length-s;a>i;i+=3)o=(e[i]<<16)+(e[i+1]<<8)+e[i+2],u+=r(o);switch(s){case 1:o=e[e.length-1],u+=t(o>>2),u+=t(o<<4&63),u+="==";break;case 2:o=(e[e.length-2]<<8)+e[e.length-1],u+=t(o>>10),u+=t(o>>4&63),u+=t(o<<2&63),u+="="}return u}var o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),c="a".charCodeAt(0),l="A".charCodeAt(0);e.toByteArray=r,e.fromByteArray=i}("undefined"==typeof r?this.base64js={}:r)},{}],4:[function(e,t,r){r.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,u=(1<<s)-1,c=u>>1,l=-7,h=r?i-1:0,f=r?-1:1,d=e[t+h];for(h+=f,o=d&(1<<-l)-1,d>>=-l,l+=s;l>0;o=256*o+e[t+h],h+=f,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=n;l>0;a=256*a+e[t+h],h+=f,l-=8);if(0===o)o=1-c;else{if(o===u)return a?0/0:1/0*(d?-1:1);a+=Math.pow(2,n),o-=c}return(d?-1:1)*a*Math.pow(2,o-n)},r.write=function(e,t,r,n,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,h=l>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,m=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||1/0===t?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+h>=1?f/u:f*Math.pow(2,1-h),t*u>=2&&(a++,u/=2),a+h>=l?(s=0,a=l):a+h>=1?(s=(t*u-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[r+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[r+d]=255&a,d+=p,a/=256,c-=8);e[r+d-p]|=128*m}},{}],5:[function(e,t){var r=Array.isArray,n=Object.prototype.toString;t.exports=r||function(e){return!!e&&"[object Array]"==n.call(e)}},{}],6:[function(e,t,r){"use strict";r.randomBytes=r.rng=r.pseudoRandomBytes=r.prng=e("randombytes"),r.createHash=r.Hash=e("create-hash"),r.createHmac=r.Hmac=e("create-hmac");var n=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(e("browserify-sign/algos")));r.getHashes=function(){return n};var i=e("pbkdf2-compat");r.pbkdf2=i.pbkdf2,r.pbkdf2Sync=i.pbkdf2Sync;var o=e("browserify-aes");["Cipher","createCipher","Cipheriv","createCipheriv","Decipher","createDecipher","Decipheriv","createDecipheriv","getCiphers","listCiphers"].forEach(function(e){r[e]=o[e]});var a=e("diffie-hellman");["DiffieHellmanGroup","createDiffieHellmanGroup","getDiffieHellman","createDiffieHellman","DiffieHellman"].forEach(function(e){r[e]=a[e]}),e("browserify-sign/inject")(t.exports,r),e("create-ecdh/inject")(t.exports,r),e("public-encrypt/inject")(t.exports,r),["createCredentials","privateEncrypt","publicDecrypt"].forEach(function(e){r[e]=function(){throw new Error(["sorry, "+e+" is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))}})},{"browserify-aes":10,"browserify-sign/algos":25,"browserify-sign/inject":26,"create-ecdh/inject":72,"create-hash":94,"create-hmac":105,"diffie-hellman":106,"pbkdf2-compat":113,"public-encrypt/inject":114,randombytes:141}],7:[function(e,t){(function(r){function n(e,t,n){r.isBuffer(e)||(e=new r(e,"binary")),t/=8,n=n||0;for(var o,a,s=0,u=0,c=new r(t),l=new r(n),h=0,f=[];;){if(h++>0&&f.push(o),f.push(e),o=i(r.concat(f)),f=[],a=0,t>0)for(;;){if(0===t)break;if(a===o.length)break;c[s++]=o[a],t--,a++}if(n>0&&a!==o.length)for(;;){if(0===n)break;if(a===o.length)break;l[u++]=o[a],n--,a++}if(0===t&&0===n)break}for(a=0;a<o.length;a++)o[a]=0;return{key:c,iv:l}}var i=e("create-hash/md5");t.exports=n}).call(this,e("buffer").Buffer)},{buffer:2,"create-hash/md5":96}],8:[function(e,t,r){(function(e){function t(e){var t,r;
return t=e>s||0>e?(r=Math.abs(e)%s,0>e?s-r:r):e}function n(e){var t,r,n;for(t=r=0,n=e.length;n>=0?n>r:r>n;t=n>=0?++r:--r)e[t]=0;return!1}function i(){var e;this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=function(){var t,r;for(r=[],e=t=0;4>t;e=++t)r.push([]);return r}(),this.INV_SUB_MIX=function(){var t,r;for(r=[],e=t=0;4>t;e=++t)r.push([]);return r}(),this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function o(e){for(var t=e.length/4,r=new Array(t),n=-1;++n<t;)r[n]=e.readUInt32BE(4*n);return r}function a(e){this._key=o(e),this._doReset()}var s=Math.pow(2,32);i.prototype.init=function(){var e,t,r,n,i,o,a,s,u,c;for(e=function(){var e,r;for(r=[],t=e=0;256>e;t=++e)r.push(128>t?t<<1:t<<1^283);return r}(),i=0,u=0,t=c=0;256>c;t=++c)r=u^u<<1^u<<2^u<<3^u<<4,r=r>>>8^255&r^99,this.SBOX[i]=r,this.INV_SBOX[r]=i,o=e[i],a=e[o],s=e[a],n=257*e[r]^16843008*r,this.SUB_MIX[0][i]=n<<24|n>>>8,this.SUB_MIX[1][i]=n<<16|n>>>16,this.SUB_MIX[2][i]=n<<8|n>>>24,this.SUB_MIX[3][i]=n,n=16843009*s^65537*a^257*o^16843008*i,this.INV_SUB_MIX[0][r]=n<<24|n>>>8,this.INV_SUB_MIX[1][r]=n<<16|n>>>16,this.INV_SUB_MIX[2][r]=n<<8|n>>>24,this.INV_SUB_MIX[3][r]=n,0===i?i=u=1:(i=o^e[e[e[s^o]]],u^=e[e[u]]);return!0};var u=new i;a.blockSize=16,a.prototype.blockSize=a.blockSize,a.keySize=32,a.prototype.keySize=a.keySize,a.prototype._doReset=function(){var e,t,r,n,i,o,a,s;for(r=this._key,t=r.length,this._nRounds=t+6,i=4*(this._nRounds+1),this._keySchedule=[],n=a=0;i>=0?i>a:a>i;n=i>=0?++a:--a)this._keySchedule[n]=t>n?r[n]:(o=this._keySchedule[n-1],n%t===0?(o=o<<8|o>>>24,o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o],o^=u.RCON[n/t|0]<<24):t>6&&n%t===4?o=u.SBOX[o>>>24]<<24|u.SBOX[o>>>16&255]<<16|u.SBOX[o>>>8&255]<<8|u.SBOX[255&o]:void 0,this._keySchedule[n-t]^o);for(this._invKeySchedule=[],e=s=0;i>=0?i>s:s>i;e=i>=0?++s:--s)n=i-e,o=this._keySchedule[n-(e%4?0:4)],this._invKeySchedule[e]=4>e||4>=n?o:u.INV_SUB_MIX[0][u.SBOX[o>>>24]]^u.INV_SUB_MIX[1][u.SBOX[o>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[o>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&o]];return!0},a.prototype.encryptBlock=function(t){t=o(new e(t));var r=this._doCryptBlock(t,this._keySchedule,u.SUB_MIX,u.SBOX),n=new e(16);return n.writeUInt32BE(r[0],0),n.writeUInt32BE(r[1],4),n.writeUInt32BE(r[2],8),n.writeUInt32BE(r[3],12),n},a.prototype.decryptBlock=function(t){t=o(new e(t));var r=[t[3],t[1]];t[1]=r[0],t[3]=r[1];var n=this._doCryptBlock(t,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX),i=new e(16);return i.writeUInt32BE(n[0],0),i.writeUInt32BE(n[3],4),i.writeUInt32BE(n[2],8),i.writeUInt32BE(n[1],12),i},a.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},a.prototype._doCryptBlock=function(e,r,n,i){var o,a,s,u,c,l,h,f,d,p,m,g;for(s=e[0]^r[0],u=e[1]^r[1],c=e[2]^r[2],l=e[3]^r[3],o=4,a=m=1,g=this._nRounds;g>=1?g>m:m>g;a=g>=1?++m:--m)h=n[0][s>>>24]^n[1][u>>>16&255]^n[2][c>>>8&255]^n[3][255&l]^r[o++],f=n[0][u>>>24]^n[1][c>>>16&255]^n[2][l>>>8&255]^n[3][255&s]^r[o++],d=n[0][c>>>24]^n[1][l>>>16&255]^n[2][s>>>8&255]^n[3][255&u]^r[o++],p=n[0][l>>>24]^n[1][s>>>16&255]^n[2][u>>>8&255]^n[3][255&c]^r[o++],s=h,u=f,c=d,l=p;return h=(i[s>>>24]<<24|i[u>>>16&255]<<16|i[c>>>8&255]<<8|i[255&l])^r[o++],f=(i[u>>>24]<<24|i[c>>>16&255]<<16|i[l>>>8&255]<<8|i[255&s])^r[o++],d=(i[c>>>24]<<24|i[l>>>16&255]<<16|i[s>>>8&255]<<8|i[255&u])^r[o++],p=(i[l>>>24]<<24|i[s>>>16&255]<<16|i[u>>>8&255]<<8|i[255&c])^r[o++],[t(h),t(f),t(d),t(p)]},r.AES=a}).call(this,e("buffer").Buffer)},{buffer:2}],9:[function(e,t){(function(r){function n(e,t,i,s){if(!(this instanceof n))return new n(e,t,i);a.call(this),this._finID=r.concat([i,new r([0,0,0,1])]),i=r.concat([i,new r([0,0,0,2])]),this._cipher=new o.AES(t),this._prev=new r(i.length),this._cache=new r(""),this._secCache=new r(""),this._decrypt=s,this._alen=0,this._len=0,i.copy(this._prev),this._mode=e;var c=new r(4);c.fill(0),this._ghash=new u(this._cipher.encryptBlock(c)),this._authTag=null,this._called=!1}function i(e,t){var r=0;e.length!==t.length&&r++;for(var n=Math.min(e.length,t.length),i=-1;++i<n;)r+=e[i]^t[i];return r}var o=e("./aes"),a=e("./cipherBase"),s=e("inherits"),u=e("./ghash"),c=e("./xor");s(n,a),t.exports=n,n.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;16>t&&(t=new r(t),t.fill(0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._ghash.update(this._decrypt?e:n),this._len+=e.length,n},n.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=c(this._ghash["final"](8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(i(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=e;this._cipher.scrub()},n.prototype.getAuthTag=function(){if(!this._decrypt&&r.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},n.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},n.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length}}).call(this,e("buffer").Buffer)},{"./aes":8,"./cipherBase":11,"./ghash":14,"./xor":24,buffer:2,inherits:143}],10:[function(e,t,r){function n(){return Object.keys(a)}var i=e("./encrypter");r.createCipher=r.Cipher=i.createCipher,r.createCipheriv=r.Cipheriv=i.createCipheriv;var o=e("./decrypter");r.createDecipher=r.Decipher=o.createDecipher,r.createDecipheriv=r.Decipheriv=o.createDecipheriv;var a=e("./modes");r.listCiphers=r.getCiphers=n},{"./decrypter":12,"./encrypter":13,"./modes":15}],11:[function(e,t){(function(r){function n(){i.call(this)}var i=e("stream").Transform,o=e("inherits");t.exports=n,o(n,i),n.prototype.update=function(e,t,n){"string"==typeof e&&(e=new r(e,t));var i=this._update(e);return n&&(i=i.toString(n)),i},n.prototype._transform=function(e,t,r){this.push(this._update(e)),r()},n.prototype._flush=function(e){try{this.push(this._final())}catch(t){return e(t)}e()},n.prototype["final"]=function(e){var t=this._final()||new r("");return e&&(t=t.toString(e)),t}}).call(this,e("buffer").Buffer)},{buffer:2,inherits:143,stream:157}],12:[function(e,t,r){(function(t){function n(e,r,o){return this instanceof n?(c.call(this),this._cache=new i,this._last=void 0,this._cipher=new u.AES(r),this._prev=new t(o.length),o.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new n(e,r,o)}function i(){return this instanceof i?void(this.cache=new t("")):new i}function o(e){for(var t=e[15],r=-1;++r<t;)if(e[r+(16-t)]!==t)throw new Error("unable to decrypt data");return 16!==t?e.slice(0,16-t):void 0}function a(e,r,i){var o=h[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=new t(i)),"string"==typeof r&&(r=new t(r)),r.length!==o.key/8)throw new TypeError("invalid key length "+r.length);if(i.length!==o.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===o.type?new f(m[o.mode],r,i,!0):"auth"===o.type?new d(m[o.mode],r,i,!0):new n(m[o.mode],r,i)}function s(e,t){var r=h[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=p(t,r.key,r.iv);return a(e,n.key,n.iv)}var u=e("./aes"),c=e("./cipherBase"),l=e("inherits"),h=e("./modes"),f=e("./streamCipher"),d=e("./authCipher"),p=e("./EVP_BytesToKey");l(n,c),n.prototype._update=function(e){this._cache.add(e);for(var r,n,i=[];r=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,r),i.push(n);return t.concat(i)},n.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return o(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},n.prototype.setAutoPadding=function(e){this._autopadding=!!e},i.prototype.add=function(e){this.cache=t.concat([this.cache,e])},i.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},i.prototype.flush=function(){return this.cache.length?this.cache:void 0};var m={ECB:e("./modes/ecb"),CBC:e("./modes/cbc"),CFB:e("./modes/cfb"),CFB8:e("./modes/cfb8"),CFB1:e("./modes/cfb1"),OFB:e("./modes/ofb"),CTR:e("./modes/ctr"),GCM:e("./modes/ctr")};r.createDecipher=s,r.createDecipheriv=a}).call(this,e("buffer").Buffer)},{"./EVP_BytesToKey":7,"./aes":8,"./authCipher":9,"./cipherBase":11,"./modes":15,"./modes/cbc":16,"./modes/cfb":17,"./modes/cfb1":18,"./modes/cfb8":19,"./modes/ctr":20,"./modes/ecb":21,"./modes/ofb":22,"./streamCipher":23,buffer:2,inherits:143}],13:[function(e,t,r){(function(t){function n(e,r,o){return this instanceof n?(u.call(this),this._cache=new i,this._cipher=new s.AES(r),this._prev=new t(o.length),o.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new n(e,r,o)}function i(){return this instanceof i?void(this.cache=new t("")):new i}function o(e,r,i){var o=l[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");if("string"==typeof i&&(i=new t(i)),"string"==typeof r&&(r=new t(r)),r.length!==o.key/8)throw new TypeError("invalid key length "+r.length);if(i.length!==o.iv)throw new TypeError("invalid iv length "+i.length);return"stream"===o.type?new f(p[o.mode],r,i):"auth"===o.type?new d(p[o.mode],r,i):new n(p[o.mode],r,i)}function a(e,t){var r=l[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=h(t,r.key,r.iv);return o(e,n.key,n.iv)}var s=e("./aes"),u=e("./cipherBase"),c=e("inherits"),l=e("./modes"),h=e("./EVP_BytesToKey"),f=e("./streamCipher"),d=e("./authCipher");c(n,u),n.prototype._update=function(e){this._cache.add(e);for(var r,n,i=[];r=this._cache.get();)n=this._mode.encrypt(this,r),i.push(n);return t.concat(i)},n.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if("10101010101010101010101010101010"!==e.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},n.prototype.setAutoPadding=function(e){this._autopadding=!!e},i.prototype.add=function(e){this.cache=t.concat([this.cache,e])},i.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},i.prototype.flush=function(){for(var e=16-this.cache.length,r=new t(e),n=-1;++n<e;)r.writeUInt8(e,n);var i=t.concat([this.cache,r]);return i};var p={ECB:e("./modes/ecb"),CBC:e("./modes/cbc"),CFB:e("./modes/cfb"),CFB8:e("./modes/cfb8"),CFB1:e("./modes/cfb1"),OFB:e("./modes/ofb"),CTR:e("./modes/ctr"),GCM:e("./modes/ctr")};r.createCipheriv=o,r.createCipher=a}).call(this,e("buffer").Buffer)},{"./EVP_BytesToKey":7,"./aes":8,"./authCipher":9,"./cipherBase":11,"./modes":15,"./modes/cbc":16,"./modes/cfb":17,"./modes/cfb1":18,"./modes/cfb8":19,"./modes/ctr":20,"./modes/ecb":21,"./modes/ofb":22,"./streamCipher":23,buffer:2,inherits:143}],14:[function(e,t){(function(e){function r(t){this.h=t,this.state=new e(16),this.state.fill(0),this.cache=new e("")}function n(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function i(t){t=t.map(o);var r=new e(16);return r.writeUInt32BE(t[0],0),r.writeUInt32BE(t[1],4),r.writeUInt32BE(t[2],8),r.writeUInt32BE(t[3],12),r}function o(e){var t,r;return t=e>u||0>e?(r=Math.abs(e)%u,0>e?u-r:r):e}function a(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]}var s=new e(16);s.fill(0),t.exports=r,r.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},r.prototype._multiply=function(){for(var e,t,r,o=n(this.h),s=[0,0,0,0],u=-1;++u<128;){for(t=0!==(this.state[~~(u/8)]&1<<7-u%8),t&&(s=a(s,o)),r=0!==(1&o[3]),e=3;e>0;e--)o[e]=o[e]>>>1|(1&o[e-1])<<31;o[0]=o[0]>>>1,r&&(o[0]=o[0]^225<<24)}this.state=i(s)},r.prototype.update=function(t){this.cache=e.concat([this.cache,t]);for(var r;this.cache.length>=16;)r=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(r)},r.prototype["final"]=function(t,r){return this.cache.length&&this.ghash(e.concat([this.cache,s],16)),this.ghash(i([0,t,0,r])),this.state};var u=Math.pow(2,32)}).call(this,e("buffer").Buffer)},{buffer:2}],15:[function(e,t,r){r["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},r["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},r["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},r["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},r["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},r["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},r.aes128=r["aes-128-cbc"],r.aes192=r["aes-192-cbc"],r.aes256=r["aes-256-cbc"],r["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},r["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},r["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},r["aes-128-cfb8"]={cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},r["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},r["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},r["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},r["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},r["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},r["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},r["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},r["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},r["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},r["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},r["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},r["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},r["aes-192-gcm"]={cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},r["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}},{}],16:[function(e,t,r){var n=e("../xor");r.encrypt=function(e,t){var r=n(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},r.decrypt=function(e,t){var r=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return n(i,r)}},{"../xor":24}],17:[function(e,t,r){(function(t){function n(e,r,n){var o=r.length,a=i(r,e._cache);return e._cache=e._cache.slice(o),e._prev=t.concat([e._prev,n?r:a]),a}var i=e("../xor");r.encrypt=function(e,r,i){for(var o,a=new t("");r.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=new t("")),!(e._cache.length<=r.length)){a=t.concat([a,n(e,r,i)]);break}o=e._cache.length,a=t.concat([a,n(e,r.slice(0,o),i)]),r=r.slice(o)}return a}}).call(this,e("buffer").Buffer)},{"../xor":24,buffer:2}],18:[function(e,t,r){(function(e){function t(e,t,r){for(var i,o,a,s=-1,u=8,c=0;++s<u;)i=e._cipher.encryptBlock(e._prev),o=t&1<<7-s?128:0,a=i[0]^o,c+=(128&a)>>s%8,e._prev=n(e._prev,r?o:a);return c}function n(t,r){var n=t.length,i=-1,o=new e(t.length);for(t=e.concat([t,new e([r])]);++i<n;)o[i]=t[i]<<1|t[i+1]>>7;return o}r.encrypt=function(r,n,i){for(var o=n.length,a=new e(o),s=-1;++s<o;)a[s]=t(r,n[s],i);return a}}).call(this,e("buffer").Buffer)},{buffer:2}],19:[function(e,t,r){(function(e){function t(t,r,n){var i=t._cipher.encryptBlock(t._prev),o=i[0]^r;return t._prev=e.concat([t._prev.slice(1),new e([n?r:o])]),o}r.encrypt=function(r,n,i){for(var o=n.length,a=new e(o),s=-1;++s<o;)a[s]=t(r,n[s],i);return a}}).call(this,e("buffer").Buffer)},{buffer:2}],20:[function(e,t,r){(function(t){function n(e){var t=e._cipher.encryptBlock(e._prev);return i(e._prev),t}function i(e){for(var t,r=e.length;r--;){if(t=e.readUInt8(r),255!==t){t++,e.writeUInt8(t,r);break}e.writeUInt8(0,r)}}var o=e("../xor");r.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=t.concat([e._cache,n(e)]);var i=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),o(r,i)}}).call(this,e("buffer").Buffer)},{"../xor":24,buffer:2}],21:[function(e,t,r){r.encrypt=function(e,t){return e._cipher.encryptBlock(t)},r.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},{}],22:[function(e,t,r){(function(t){function n(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var i=e("../xor");r.encrypt=function(e,r){for(;e._cache.length<r.length;)e._cache=t.concat([e._cache,n(e)]);var o=e._cache.slice(0,r.length);return e._cache=e._cache.slice(r.length),i(r,o)}}).call(this,e("buffer").Buffer)},{"../xor":24,buffer:2}],23:[function(e,t){(function(r){function n(e,t,a,s){return this instanceof n?(o.call(this),this._cipher=new i.AES(t),this._prev=new r(a.length),this._cache=new r(""),this._secCache=new r(""),this._decrypt=s,a.copy(this._prev),void(this._mode=e)):new n(e,t,a)}var i=e("./aes"),o=e("./cipherBase"),a=e("inherits");a(n,o),t.exports=n,n.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},n.prototype._final=function(){this._cipher.scrub()}}).call(this,e("buffer").Buffer)},{"./aes":8,"./cipherBase":11,buffer:2,inherits:143}],24:[function(e,t){(function(e){function r(t,r){for(var n=Math.min(t.length,r.length),i=new e(n),o=-1;++o<n;)i.writeUInt8(t[o]^r[o],o);return i}t.exports=r}).call(this,e("buffer").Buffer)},{buffer:2}],25:[function(e,t,r){(function(e){r["RSA-SHA224"]=r.sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:new e("302d300d06096086480165030402040500041c","hex")},r["RSA-SHA256"]=r.sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:new e("3031300d060960864801650304020105000420","hex")},r["RSA-SHA384"]=r.sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:new e("3041300d060960864801650304020205000430","hex")},r["RSA-SHA512"]=r.sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:new e("3051300d060960864801650304020305000440","hex")},r["RSA-SHA1"]={sign:"rsa",hash:"sha1",id:new e("3021300906052b0e03021a05000414","hex")},r["ecdsa-with-SHA1"]={sign:"ecdsa",hash:"sha1",id:new e("","hex")},r.DSA=r["DSA-SHA1"]=r["DSA-SHA"]={sign:"dsa",hash:"sha1",id:new e("","hex")},r["DSA-SHA224"]=r["DSA-WITH-SHA224"]={sign:"dsa",hash:"sha224",id:new e("","hex")},r["DSA-SHA256"]=r["DSA-WITH-SHA256"]={sign:"dsa",hash:"sha256",id:new e("","hex")},r["DSA-SHA384"]=r["DSA-WITH-SHA384"]={sign:"dsa",hash:"sha384",id:new e("","hex")},r["DSA-SHA512"]=r["DSA-WITH-SHA512"]={sign:"dsa",hash:"sha512",id:new e("","hex")},r["DSA-RIPEMD160"]={sign:"dsa",hash:"rmd160",id:new e("","hex")},r["RSA-RIPEMD160"]=r.ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:new e("3021300906052b2403020105000414","hex")},r["RSA-MD5"]=r.md5WithRSAEncryption={sign:"rsa",hash:"md5",id:new e("3020300c06082a864886f70d020505000410","hex")}}).call(this,e("buffer").Buffer)},{buffer:2}],26:[function(e,t){(function(r){function n(e,t){s.Writable.call(this);var r=l[e];if(!r)throw new Error("Unknown message digest");this._hashType=r.hash,this._hash=t.createHash(r.hash),this._tag=r.id,this._crypto=t}function i(e,t){s.Writable.call(this);var r=l[e];if(!r)throw new Error("Unknown message digest");this._hash=t.createHash(r.hash),this._tag=r.id}var o=e("./sign"),a=e("./verify"),s=e("stream"),u=e("inherits"),c=e("./algos"),l={};Object.keys(c).forEach(function(e){l[e]=l[e.toLowerCase()]=c[e]}),t.exports=function(e,t){function r(e){return new n(e,t)}function o(e){return new i(e,t)}e.createSign=e.Sign=r,e.createVerify=e.Verify=o},u(n,s.Writable),n.prototype._write=function(e,t,r){this._hash.update(e),r()},n.prototype.update=function(e){return this.write(e),this},n.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),i=o(r.concat([this._tag,n]),e,this._hashType,this._crypto);return t&&(i=i.toString(t)),i},u(i,s.Writable),i.prototype._write=function(e,t,r){this._hash.update(e),r()},i.prototype.update=function(e){return this.write(e),this},i.prototype.verify=function(e,t,n){this.end();var i=this._hash.digest();return r.isBuffer(t)||(t=new r(t,n)),a(t,r.concat([this._tag,i]),e)}}).call(this,e("buffer").Buffer)},{"./algos":25,"./sign":69,"./verify":70,buffer:2,inherits:143,stream:157}],27:[function(e,t){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){return null!==e&&"object"==typeof e&&Array.isArray(e.words)?e:(this.sign=!1,this.words=null,this.length=0,this.red=null,("le"===t||"be"===t)&&(r=t,t=10),void(null!==e&&this._init(e||0,t||10,r||"be")))}function o(e,t,r){for(var n=0,i=Math.min(e.length,r),o=t;i>o;o++){var a=e.charCodeAt(o)-48;n<<=4,n|=a>=49&&54>=a?a-49+10:a>=17&&22>=a?a-17+10:15&a}return n}function a(e,t,r,n){for(var i=0,o=Math.min(e.length,r),a=t;o>a;a++){var s=e.charCodeAt(a)-48;i*=n,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}function s(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).ishln(this.n).isub(this.p),this.tmp=this._tmp()}function u(){s.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function c(){s.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function l(){s.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function h(){s.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function f(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else this.m=e,this.prime=null}function d(e){f.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).ishln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r.invm(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv.sign=!0,this.minv=this.minv.mod(this.r)}"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26,i.prototype._init=function(e,t,n){if("number"==typeof e)return 0>e&&(this.sign=!0,e=-e),void(67108864>e?(this.words=[67108863&e],this.length=1):(this.words=[67108863&e,e/67108864&67108863],this.length=2));if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&36>=t),e=e.toString().replace(/\s+/g,"");var i=0;"-"===e[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.sign=!0),this.strip()},i.prototype._initArray=function(e,t,n){r("number"==typeof e.length),this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o=0;if("be"===n)for(var i=e.length-1,a=0;i>=0;i-=3){var s=e[i]|e[i-1]<<8|e[i-2]<<16;this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,o+=24,o>=26&&(o-=26,a++)}else if("le"===n)for(var i=0,a=0;i<e.length;i+=3){var s=e[i]|e[i+1]<<8|e[i+2]<<16;this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,o+=24,o>=26&&(o-=26,a++)}return this.strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;for(var n=0,r=e.length-6,i=0;r>=t;r-=6){var a=o(e,r,r+6);this.words[i]|=a<<n&67108863,this.words[i+1]|=a>>>26-n&4194303,n+=24,n>=26&&(n-=26,i++)}if(r+6!==t){var a=o(e,t,r+6);this.words[i]|=a<<n&67108863,this.words[i+1]|=a>>>26-n&4194303}this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;67108863>=i;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,u=Math.min(o,o-s)+r,c=0,l=r;u>l;l+=n)c=a(e,l,l+n,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==s){for(var h=1,c=a(e,l,e.length,t),l=0;s>l;l++)h*=t;this.imuln(h),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.sign=this.sign,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.sign=!1),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],m=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){if(e=e||10,16===e||"hex"===e){for(var n="",i=0,t=0|t||1,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,n=0!==o||a!==this.length-1?p[6-u.length]+u+n:u+n,i+=2,i>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return this.sign&&(n="-"+n),n}if(e===(0|e)&&e>=2&&36>=e){var c=m[e],l=g[e],n="",h=this.clone();for(h.sign=!1;0!==h.cmpn(0);){var f=h.modn(l).toString(e);h=h.idivn(l),n=0!==h.cmpn(0)?p[c-f.length]+f+n:f+n}return 0===this.cmpn(0)&&(n="0"+n),this.sign&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toArray=function(){this.strip();var e=new Array(this.byteLength());e[0]=0;for(var t=this.clone(),r=0;0!==t.cmpn(0);r++){var n=t.andln(255);t.ishrn(8),e[e.length-r-1]=n}return e},i.prototype._countBits=function(e){return e>=33554432?26:e>=16777216?25:e>=8388608?24:e>=4194304?23:e>=2097152?22:e>=1048576?21:e>=524288?20:e>=262144?19:e>=131072?18:e>=65536?17:e>=32768?16:e>=16384?15:e>=8192?14:e>=4096?13:e>=2048?12:e>=1024?11:e>=512?10:e>=256?9:e>=128?8:e>=64?7:e>=32?6:e>=16?5:e>=8?4:e>=4?3:e>=2?2:e>=1?1:0},i.prototype.bitLength=function(){var e=0,t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.neg=function(){if(0===this.cmpn(0))return this.clone();var e=this.clone();return e.sign=!this.sign,e},i.prototype.ior=function(e){for(this.sign=this.sign||e.sign;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.iand=function(e){this.sign=this.sign&&e.sign;var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.ixor=function(e){this.sign=this.sign||e.sign;var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);for(var n=e/26|0,i=e%26;this.length<=n;)this.words[this.length++]=0;return this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){if(this.sign&&!e.sign){this.sign=!1;var t=this.isub(e);return this.sign=!this.sign,this._normSign()}if(!this.sign&&e.sign){e.sign=!1;var t=this.isub(e);return e.sign=!0,t._normSign()}var r,n;this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++){var t=r.words[o]+n.words[o]+i;this.words[o]=67108863&t,i=t>>>26}for(;0!==i&&o<r.length;o++){var t=r.words[o]+i;this.words[o]=67108863&t,i=t>>>26}if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},i.prototype.add=function(e){if(e.sign&&!this.sign){e.sign=!1;var t=this.sub(e);return e.sign=!0,t}if(!e.sign&&this.sign){this.sign=!1;var t=e.sub(this);return this.sign=!0,t}return this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(e.sign){e.sign=!1;var t=this.iadd(e);return e.sign=!0,t._normSign()}if(this.sign)return this.sign=!1,this.iadd(e),this.sign=!0,this._normSign();var r=this.cmp(e);if(0===r)return this.sign=!1,this.length=1,this.words[0]=0,this;var n,i;r>0?(n=this,i=e):(n=e,i=this);for(var o=0,a=0;a<i.length;a++){var t=n.words[a]-i.words[a]+o;o=t>>26,this.words[a]=67108863&t}for(;0!==o&&a<n.length;a++){var t=n.words[a]+o;o=t>>26,this.words[a]=67108863&t}if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.sign=!0),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)},i.prototype._smallMulTo=function(e,t){t.sign=e.sign!==this.sign,t.length=this.length+e.length;for(var r=0,n=0;n<t.length-1;n++){for(var i=r>>>26,o=67108863&r,a=Math.min(n,e.length-1),s=Math.max(0,n-this.length+1);a>=s;s++){var u=n-s,c=0|this.words[u],l=0|e.words[s],h=c*l,f=67108863&h;i=i+(h/67108864|0)|0,f=f+o|0,o=67108863&f,i=i+(f>>>26)|0}t.words[n]=o,r=i}return 0!==r?t.words[n]=r:t.length--,t.strip()},i.prototype._bigMulTo=function(e,t){t.sign=e.sign!==this.sign,t.length=this.length+e.length;for(var r=0,n=0,i=0;i<t.length-1;i++){var o=n;n=0;for(var a=67108863&r,s=Math.min(i,e.length-1),u=Math.max(0,i-this.length+1);s>=u;u++){var c=i-u,l=0|this.words[c],h=0|e.words[u],f=l*h,d=67108863&f;o=o+(f/67108864|0)|0,d=d+a|0,a=67108863&d,o=o+(d>>>26)|0,n+=o>>>26,o&=67108863}t.words[i]=a,r=o,o=n}return 0!==r?t.words[i]=r:t.length--,t.strip()},i.prototype.mulTo=function(e,t){var r;return r=this.length+e.length<63?this._smallMulTo(e,t):this._bigMulTo(e,t)},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.imul=function(e){if(0===this.cmpn(0)||0===e.cmpn(0))return this.words[0]=0,this.length=1,this;var t=this.length,r=e.length;this.sign=e.sign!==this.sign,this.length=this.length+e.length,this.words[this.length-1]=0;for(var n=this.length-2;n>=0;n--){for(var i=0,o=0,a=Math.min(n,r-1),s=Math.max(0,n-t+1);a>=s;s++){var u=n-s,c=this.words[u],l=e.words[s],h=c*l,f=67108863&h;i+=h/67108864|0,f+=o,o=67108863&f,i+=f>>>26}this.words[n]=o,this.words[n+1]+=i,i=0}for(var i=0,u=1;u<this.length;u++){var d=this.words[u]+i;this.words[u]=67108863&d,i=d>>>26}return this.strip()},i.prototype.imuln=function(e){r("number"==typeof e);for(var t=0,n=0;n<this.length;n++){var i=this.words[n]*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.mul(this)},i.prototype.ishln=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=67108863>>>26-t<<26-t;if(0!==t){for(var o=0,a=0;a<this.length;a++){var s=this.words[a]&i,u=this.words[a]-s<<t;this.words[a]=u|o,o=s>>>26-t}o&&(this.words[a]=o,this.length++)}if(0!==n){for(var a=this.length-1;a>=0;a--)this.words[a+n]=this.words[a];for(var a=0;n>a;a++)this.words[a]=0;this.length+=n}return this.strip()},i.prototype.ishrn=function(e,t,n){r("number"==typeof e&&e>=0),t=t?(t-t%26)/26:0;var i=e%26,o=Math.min((e-i)/26,this.length),a=67108863^67108863>>>i<<i,s=n;if(t-=o,t=Math.max(0,t),s){for(var u=0;o>u;u++)s.words[u]=this.words[u];s.length=o}if(0===o);else if(this.length>o){this.length-=o;for(var u=0;u<this.length;u++)this.words[u]=this.words[u+o]}else this.words[0]=0,this.length=1;for(var c=0,u=this.length-1;u>=0&&(0!==c||u>=t);u--){var l=this.words[u];this.words[u]=c<<26-i|l>>>i,c=l&a
}return s&&0!==c&&(s.words[s.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip(),n?{hi:this,lo:s}:this},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return!1;var o=this.words[n];return!!(o&i)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(!this.sign,"imaskn works only with positive numbers"),0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),0>e?this.isubn(-e):this.sign?1===this.length&&this.words[0]<e?(this.words[0]=e-this.words[0],this.sign=!1,this):(this.sign=!1,this.isubn(e),this.sign=!0,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),0>e)return this.iaddn(-e);if(this.sign)return this.sign=!1,this.iaddn(e),this.sign=!0,this;this.words[0]-=e;for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.sign=!1,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,o=e.length+n;if(this.words.length<o){for(var a=new Array(o),i=0;i<this.length;i++)a[i]=this.words[i];this.words=a}else i=this.length;for(this.length=Math.max(this.length,o);i<this.length;i++)this.words[i]=0;for(var s=0,i=0;i<e.length;i++){var u=this.words[i+n]+s,c=e.words[i]*t;u-=67108863&c,s=(u>>26)-(c/67108864|0),this.words[i+n]=67108863&u}for(;i<this.length-n;i++){var u=this.words[i+n]+s;s=u>>26,this.words[i+n]=67108863&u}if(0===s)return this.strip();r(-1===s),s=0;for(var i=0;i<this.length;i++){var u=-this.words[i]+s;s=u>>26,this.words[i]=67108863&u}return this.sign=!0,this.strip()},i.prototype._wordDiv=function(e,t){for(var r=this.length-e.length,n=this.clone(),o=e,a=o.words[o.length-1],r=0;33554432>a;r++)a<<=1;0!==r&&(o=o.shln(r),n.ishln(r),a=o.words[o.length-1]);var s,u=n.length-o.length;if("mod"!==t){s=new i(null),s.length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=n.clone()._ishlnsubmul(o,1,u);l.sign||(n=l,s&&(s.words[u]=1));for(var h=u-1;h>=0;h--){var f=67108864*n.words[o.length+h]+n.words[o.length+h-1];for(f=Math.min(f/a|0,67108863),n._ishlnsubmul(o,f,h);n.sign;)f--,n.sign=!1,n._ishlnsubmul(o,1,h),n.sign=!n.sign;s&&(s.words[h]=f)}return s&&s.strip(),n.strip(),"div"!==t&&0!==r&&n.ishrn(r),{div:s?s:null,mod:n}},i.prototype.divmod=function(e,t){if(r(0!==e.cmpn(0)),this.sign&&!e.sign){var n,o,a=this.neg().divmod(e,t);return"mod"!==t&&(n=a.div.neg()),"div"!==t&&(o=0===a.mod.cmpn(0)?a.mod:e.sub(a.mod)),{div:n,mod:o}}if(!this.sign&&e.sign){var n,a=this.divmod(e.neg(),t);return"mod"!==t&&(n=a.div.neg()),{div:n,mod:a.mod}}return this.sign&&e.sign?this.neg().divmod(e.neg(),t):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t)},i.prototype.div=function(e){return this.divmod(e,"div").div},i.prototype.mod=function(e){return this.divmod(e,"mod").mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(0===t.mod.cmpn(0))return t.div;var r=t.div.sign?t.mod.isub(e):t.mod,n=e.shrn(1),i=e.andln(1),o=r.cmp(n);return 0>o||1===i&&0===o?t.div:t.div.sign?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(67108863>=e);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+this.words[i])%e;return n},i.prototype.idivn=function(e){r(67108863>=e);for(var t=0,n=this.length-1;n>=0;n--){var i=this.words[n]+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype._egcd=function(e,t){r(!t.sign),r(0!==t.cmpn(0));var n=this,o=t.clone();n=n.sign?n.mod(t):n.clone();for(var a=new i(0);o.isEven();)o.ishrn(1);for(var s=o.clone();n.cmpn(1)>0&&o.cmpn(1)>0;){for(;n.isEven();)n.ishrn(1),e.isEven()?e.ishrn(1):e.iadd(s).ishrn(1);for(;o.isEven();)o.ishrn(1),a.isEven()?a.ishrn(1):a.iadd(s).ishrn(1);n.cmp(o)>=0?(n.isub(o),e.isub(a)):(o.isub(n),a.isub(e))}return 0===n.cmpn(1)?e:a},i.prototype.gcd=function(e){if(0===this.cmpn(0))return e.clone();if(0===e.cmpn(0))return this.clone();var t=this.clone(),r=e.clone();t.sign=!1,r.sign=!1;for(var n=0;t.isEven()&&r.isEven();n++)t.ishrn(1),r.ishrn(1);for(;t.isEven();)t.ishrn(1);do{for(;r.isEven();)r.ishrn(1);if(t.cmp(r)<0){var i=t;t=r,r=i}t.isub(t.div(r).mul(r))}while(0!==t.cmpn(0)&&0!==r.cmpn(0));return 0===t.cmpn(0)?r.ishln(n):t.ishln(n)},i.prototype.invm=function(e){return this._egcd(new i(1),e).mod(e)},i.prototype.isEven=function(){return 0===(1&this.words[0])},i.prototype.isOdd=function(){return 1===(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n){for(var o=this.length;n+1>o;o++)this.words[o]=0;return this.words[n]|=i,this.length=n+1,this}for(var a=i,o=n;0!==a&&o<this.length;o++){var s=this.words[o];s+=a,a=s>>>26,s&=67108863,this.words[o]=s}return 0!==a&&(this.words[o]=a,this.length++),this},i.prototype.cmpn=function(e){var t=0>e;if(t&&(e=-e),this.sign&&!t)return-1;if(!this.sign&&t)return 1;e&=67108863,this.strip();var r;if(this.length>1)r=1;else{var n=this.words[0];r=n===e?0:e>n?-1:1}return this.sign&&(r=-r),r},i.prototype.cmp=function(e){if(this.sign&&!e.sign)return-1;if(!this.sign&&e.sign)return 1;var t=this.ucmp(e);return this.sign?-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=this.words[r],i=e.words[r];if(n!==i){i>n?t=-1:n>i&&(t=1);break}}return t},i.red=function(e){return new f(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(!this.sign,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};s.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},s.prototype.ireduce=function(e){var t,r=e;do{var n=r.ishrn(this.n,0,this.tmp);r=this.imulK(n.hi),r=r.iadd(n.lo),t=r.bitLength()}while(t>this.n);var i=t<this.n?-1:r.cmp(this.p);return 0===i?(r.words[0]=0,r.length=1):i>0?r.isub(this.p):r.strip(),r},s.prototype.imulK=function(e){return e.imul(this.k)},n(u,s),u.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t,r=0,n=0;n<e.length;n++){var i=e.words[n];t=64*i,r+=977*i,t+=r/67108864|0,r&=67108863,e.words[n]=r,r=t}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(c,s),n(l,s),n(h,s),h.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*e.words[r]+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function v(e){if(y[e])return y[e];var v;if("k256"===e)v=new u;else if("p224"===e)v=new c;else if("p192"===e)v=new l;else{if("p25519"!==e)throw new Error("Unknown prime "+e);v=new h}return y[e]=v,v},f.prototype._verify1=function(e){r(!e.sign,"red works only with positives"),r(e.red,"red works only with red numbers")},f.prototype._verify2=function(e,t){r(!e.sign&&!t.sign,"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},f.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.mod(this.m)._forceRed(this)},f.prototype.neg=function(e){var t=e.clone();return t.sign=!t.sign,t.iadd(this.m)._forceRed(this)},f.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},f.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},f.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},f.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},f.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.shln(t))},f.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},f.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},f.prototype.isqr=function(e){return this.imul(e,e)},f.prototype.sqr=function(e){return this.mul(e,e)},f.prototype.sqrt=function(e){if(0===e.cmpn(0))return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new i(1)).ishrn(2),o=this.pow(e,n);return o}for(var a=this.m.subn(1),s=0;0!==a.cmpn(0)&&0===a.andln(1);)s++,a.ishrn(1);r(0!==a.cmpn(0));var u=new i(1).toRed(this),c=u.redNeg(),l=this.m.subn(1).ishrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);0!==this.pow(h,l).cmp(c);)h.redIAdd(c);for(var f=this.pow(h,a),o=this.pow(e,a.addn(1).ishrn(1)),d=this.pow(e,a),p=s;0!==d.cmp(u);){for(var m=d,g=0;0!==m.cmp(u);g++)m=m.redSqr();r(p>g);var y=this.pow(f,new i(1).ishln(p-g-1));o=o.redMul(y),f=y.redSqr(),d=d.redMul(f),p=g}return o},f.prototype.invm=function(e){var t=e._egcd(new i(1),this.m);return t.sign?(t.sign=!1,this.imod(t).redNeg()):this.imod(t)},f.prototype.pow=function(e,t){for(var r=[],n=t.clone();0!==n.cmpn(0);)r.push(n.andln(1)),n.ishrn(1);for(var i=e,o=0;o<r.length&&0===r[o];o++,i=this.sqr(i));if(++o<r.length)for(var n=this.sqr(i);o<r.length;o++,n=this.sqr(n))0!==r[o]&&(i=this.mul(i,n));return i},f.prototype.convertTo=function(e){return e.clone()},f.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new d(e)},n(d,f),d.prototype.convertTo=function(e){return this.imod(e.shln(this.shift))},d.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},d.prototype.imul=function(e,t){if(0===e.cmpn(0)||0===t.cmpn(0))return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).ishrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},d.prototype.mul=function(e,t){if(0===e.cmpn(0)||0===t.cmpn(0))return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),o=r.isub(n).ishrn(this.shift),a=o;return o.cmp(this.m)>=0?a=o.isub(this.m):o.cmpn(0)<0&&(a=o.iadd(this.m)),a._forceRed(this)},d.prototype.invm=function(e){var t=this.imod(e.invm(this.m).mul(this.r2));return t._forceRed(this)}}("undefined"==typeof t||t,this)},{}],28:[function(e,t){(function(r){function n(e,t){var r=o(e,t),n=r.toRed(a.mont(e.modulus)).redPow(new a(e.publicExponent)).fromRed();return{blinder:n,unblinder:r.invm(e.modulus)}}function i(e,t,i){var o=n(t,i),s=t.modulus.byteLength(),u=(a.mont(t.modulus),new a(e).mul(o.blinder).mod(t.modulus)),c=u.toRed(a.mont(t.prime1)),l=u.toRed(a.mont(t.prime2)),h=t.coefficient,f=t.prime1,d=t.prime2,p=c.redPow(t.exponent1),m=l.redPow(t.exponent2);p=p.fromRed(),m=m.fromRed();var g=p.isub(m).imul(h).mod(f);g.imul(d),m.iadd(g);var y=new r(m.imul(o.unblinder).mod(t.modulus).toArray());if(y.length<s){var v=new r(s-y.length);v.fill(0),y=r.concat([v,y],s)}return y}function o(e,t){for(var r=e.modulus.byteLength(),n=new a(t.randomBytes(r));n.cmp(e.modulus)>=0||!n.mod(e.prime1)||!n.mod(e.prime2);)n=new a(t.randomBytes(r));return n}var a=e("bn.js");t.exports=i,i.getr=o}).call(this,e("buffer").Buffer)},{"bn.js":27,buffer:2}],29:[function(e,t,r){var n=r;n.version=e("../package.json").version,n.utils=e("./elliptic/utils"),n.rand=e("brorand"),n.hmacDRBG=e("./elliptic/hmac-drbg"),n.curve=e("./elliptic/curve"),n.curves=e("./elliptic/curves"),n.ec=e("./elliptic/ec")},{"../package.json":48,"./elliptic/curve":32,"./elliptic/curves":35,"./elliptic/ec":36,"./elliptic/hmac-drbg":39,"./elliptic/utils":40,brorand:41}],30:[function(e,t){function r(e,t){this.type=e,this.p=new i(t.p,16),this.red=t.prime?i.red(t.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=t.n&&new i(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4)}function n(e,t){this.curve=e,this.type=t,this.precomputed=null}var i=e("bn.js"),o=e("../../elliptic"),a=o.utils.getNAF,s=o.utils.getJSF,u=o.utils.assert;t.exports=r,r.prototype.point=function(){throw new Error("Not implemented")},r.prototype.validate=function(){throw new Error("Not implemented")},r.prototype._fixedNafMul=function(e,t){var r=e._getDoubles(),n=a(t,1),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;for(var o=[],s=0;s<n.length;s+=r.step){for(var u=0,t=s+r.step-1;t>=s;t--)u=(u<<1)+n[t];o.push(u)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=i;h>0;h--){for(var s=0;s<o.length;s++){var u=o[s];u===h?l=l.mixedAdd(r.points[s]):u===-h&&(l=l.mixedAdd(r.points[s].neg()))}c=c.add(l)}return c.toP()},r.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,o=a(t,r),s=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var t=0;c>=0&&0===o[c];c--)t++;if(c>=0&&t++,s=s.dblp(t),0>c)break;var l=o[c];u(0!==l),s="affine"===e.type?s.mixedAdd(l>0?i[l-1>>1]:i[-l-1>>1].neg()):s.add(l>0?i[l-1>>1]:i[-l-1>>1].neg())}return"affine"===e.type?s.toP():s},r.prototype._wnafMulAdd=function(e,t,r,n){for(var i=this._wnafT1,o=this._wnafT2,u=this._wnafT3,c=0,l=0;n>l;l++){var h=t[l],f=h._getNAFPoints(e);i[l]=f.wnd,o[l]=f.points}for(var l=n-1;l>=1;l-=2){var d=l-1,p=l;if(1===i[d]&&1===i[p]){var m=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(m[1]=t[d].add(t[p]),m[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(m[1]=t[d].toJ().mixedAdd(t[p]),m[2]=t[d].add(t[p].neg())):(m[1]=t[d].toJ().mixedAdd(t[p]),m[2]=t[d].toJ().mixedAdd(t[p].neg()));var g=[-3,-1,-5,-7,0,7,5,1,3],y=s(r[d],r[p]);c=Math.max(y[0].length,c),u[d]=new Array(c),u[p]=new Array(c);for(var v=0;c>v;v++){var b=0|y[0][v],E=0|y[1][v];u[d][v]=g[3*(b+1)+(E+1)],u[p][v]=0,o[d]=m}}else u[d]=a(r[d],i[d]),u[p]=a(r[p],i[p]),c=Math.max(u[d].length,c),c=Math.max(u[p].length,c)}for(var x=this.jpoint(null,null,null),w=this._wnafT4,l=c;l>=0;l--){for(var _=0;l>=0;){for(var T=!0,v=0;n>v;v++)w[v]=0|u[v][l],0!==w[v]&&(T=!1);if(!T)break;_++,l--}if(l>=0&&_++,x=x.dblp(_),0>l)break;for(var v=0;n>v;v++){var h,R=w[v];0!==R&&(R>0?h=o[v][R-1>>1]:0>R&&(h=o[v][-R-1>>1].neg()),x="affine"===h.type?x.mixedAdd(h):x.add(h))}}for(var l=0;n>l;l++)o[l]=null;return x.toP()},r.BasePoint=n,n.prototype.validate=function(){return this.curve.validate(this)},n.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},n.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;t>i;i+=e){for(var o=0;e>o;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},n.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;r>i;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},n.prototype._getBeta=function(){return null},n.prototype.dblp=function(e){for(var t=this,r=0;e>r;r++)t=t.dbl();return t}},{"../../elliptic":29,"bn.js":27}],31:[function(e,t){function r(e){this.twisted=1!=e.a,this.mOneA=this.twisted&&-1==e.a,this.extended=this.mOneA,u.call(this,"mont",e),this.a=new a(e.a,16).mod(this.red.m).toRed(this.red),this.c=new a(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==e.c}function n(e,t,r,n,i){u.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(t,16),this.y=new a(r,16),this.z=n?new a(n,16):this.curve.one,this.t=i&&new a(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var i=e("../curve"),o=e("../../elliptic"),a=e("bn.js"),s=e("inherits"),u=i.base,c=(o.utils.getNAF,o.utils.assert);s(r,u),t.exports=r,r.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},r.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},r.prototype.point=function(e,t,r,i){return new n(this,e,t,r,i)},r.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},r.prototype.pointFromJSON=function(e){return n.fromJSON(this,e)},r.prototype.pointFromX=function(e,t){t=new a(t,16),t.red||(t=t.toRed(this.red));var r=t.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(o.redInvm()).redSqrt(),u=s.fromRed().isOdd();return(e&&!u||!e&&u)&&(s=s.redNeg()),this.point(t,s,i.one)},r.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},s(n,u.BasePoint),n.fromJSON=function(e,t){return new n(e,t[0],t[1],t[2])},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},n.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),a=o.redSub(r),s=n.redSub(t),u=i.redMul(a),c=o.redMul(s),l=i.redMul(s),h=a.redMul(o);return this.curve.point(u,c,h,l)},n.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),t=this.x.redSqr(),r=this.y.redSqr();if(this.curve.twisted){var n=this.curve._mulA(t),i=n.redAdd(r);if(this.zOne)var o=e.redSub(t).redSub(r).redMul(i.redSub(this.curve.two)),a=i.redMul(n.redSub(r)),s=i.redSqr().redSub(i).redSub(i);else var u=this.z.redSqr(),c=i.redSub(u).redISub(u),o=e.redSub(t).redISub(r).redMul(c),a=i.redMul(n.redSub(r)),s=i.redMul(c)}else var n=t.redAdd(r),u=this.curve._mulC(redMul(this.z)).redSqr(),c=n.redSub(u).redSub(u),o=this.curve._mulC(e.redISub(n)).redMul(c),a=this.curve._mulC(n).redMul(t.redISub(r)),s=n.redMul(c);return this.curve.point(o,a,s)},n.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},n.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),a=i.redSub(n),s=i.redAdd(n),u=r.redAdd(t),c=o.redMul(a),l=s.redMul(u),h=o.redMul(u),f=a.redMul(s);return this.curve.point(c,l,f,h)},n.prototype._projAdd=function(e){var t=this.z.redMul(e.z),r=t.redSqr(),n=this.x.redMul(e.x),i=this.y.redMul(e.y),o=this.curve.d.redMul(n).redMul(i),a=r.redSub(o),s=r.redAdd(o),u=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(n).redISub(i),c=t.redMul(a).redMul(u);if(this.curve.twisted)var l=t.redMul(s).redMul(i.redSub(this.curve._mulA(n))),h=a.redMul(s);else var l=t.redMul(s).redMul(i.redSub(n)),h=this.curve._mulC(a).redMul(s);return this.curve.point(c,l,h)},n.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},n.prototype.mul=function(e){return this.precomputed&&this.precomputed.doubles?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},n.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2)},n.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},n.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()},n.prototype.getY=function(){return this.normalize(),this.y.fromRed()},n.prototype.toP=n.prototype.normalize,n.prototype.mixedAdd=n.prototype.add},{"../../elliptic":29,"../curve":32,"bn.js":27,inherits:143}],32:[function(e,t,r){var n=r;n.base=e("./base"),n["short"]=e("./short"),n.mont=e("./mont"),n.edwards=e("./edwards")},{"./base":30,"./edwards":31,"./mont":33,"./short":34}],33:[function(e,t){function r(e){u.call(this,"mont",e),this.a=new a(e.a,16).toRed(this.red),this.b=new a(e.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function n(e,t,r){u.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(t,16),this.z=new a(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}{var i=e("../curve"),o=e("../../elliptic"),a=e("bn.js"),s=e("inherits"),u=i.base;o.utils.getNAF,o.utils.assert}s(r,u),t.exports=r,r.prototype.point=function(e,t){return new n(this,e,t)},r.prototype.pointFromJSON=function(e){return n.fromJSON(this,e)},r.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t),i=n.redSqrt();return 0===i.redSqr().cmp(n)},s(n,u.BasePoint),n.prototype.precompute=function(){},n.fromJSON=function(e,t){return new n(e,t[0],t[1]||e.one)},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},n.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),r=this.x.redSub(this.z),n=r.redSqr(),i=t.redSub(n),o=t.redMul(n),a=i.redMul(n.redAdd(this.curve.a24.redMul(i)));return this.curve.point(o,a)},n.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(r),s=i.redMul(n),u=t.z.redMul(a.redAdd(s).redSqr()),c=t.x.redMul(a.redISub(s).redSqr());return this.curve.point(u,c)},n.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=this,o=[];0!==t.cmpn(0);t.ishrn(1))o.push(t.andln(1));for(var a=o.length-1;a>=0;a--)0===o[a]?(r=r.diffAdd(n,i),n=n.dbl()):(n=r.diffAdd(n,i),r=r.dbl());return n},n.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../../elliptic":29,"../curve":32,"bn.js":27,inherits:143}],34:[function(e,t){function r(e){c.call(this,"short",e),this.a=new s(e.a,16).toRed(this.red),this.b=new s(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function n(e,t,r,n){c.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(t,16),this.y=new s(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function i(e,t,r,n){c.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(t,16),this.y=new s(r,16),this.z=new s(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var o=e("../curve"),a=e("../../elliptic"),s=e("bn.js"),u=e("inherits"),c=o.base,l=(a.utils.getNAF,a.utils.assert);u(r,c),t.exports=r,r.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new s(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=n[0].cmp(n[1])<0?n[0]:n[1],t=t.toRed(this.red)}if(e.lambda)r=new s(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],l(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}var o;return o=e.basis?e.basis.map(function(e){return{a:new s(e.a,16),b:new s(e.b,16)}}):this._getEndoBasis(r),{beta:t,lambda:r,basis:o}}},r.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:s.mont(e),r=new s(2).toRed(t).redInvm(),n=r.redNeg(),i=(new s(1).toRed(t),new s(3).toRed(t).redNeg().redSqrt().redMul(r)),o=n.redAdd(i).fromRed(),a=n.redSub(i).fromRed();return[o,a]},r.prototype._getEndoBasis=function(e){for(var t,r,n,i,o,a,u,c=this.n.shrn(Math.floor(this.n.bitLength()/2)),l=e,h=this.n.clone(),f=new s(1),d=new s(0),p=new s(0),m=new s(1),g=0;0!==l.cmpn(0);){var y=h.div(l),v=h.sub(y.mul(l)),b=p.sub(y.mul(f)),E=m.sub(y.mul(d));if(!n&&v.cmp(c)<0)t=u.neg(),r=f,n=v.neg(),i=b;else if(n&&2===++g)break;u=v,h=l,l=v,p=f,f=b,m=d,d=E}o=v.neg(),a=b;var x=n.sqr().add(i.sqr()),w=o.sqr().add(a.sqr());return w.cmp(x)>=0&&(o=t,a=r),n.sign&&(n=n.neg(),i=i.neg()),o.sign&&(o=o.neg(),a=a.neg()),[{a:n,b:i},{a:o,b:a}]},r.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),a=i.mul(r.a),s=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b),l=e.sub(a).sub(s),h=u.add(c).neg();return{k1:l,k2:h}},r.prototype.point=function(e,t,r){return new n(this,e,t,r)},r.prototype.pointFromX=function(e,t){t=new s(t,16),t.red||(t=t.toRed(this.red));var r=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),n=r.redSqrt(),i=n.fromRed().isOdd();return(e&&!i||!e&&i)&&(n=n.redNeg()),this.point(t,n)},r.prototype.jpoint=function(e,t,r){return new i(this,e,t,r)},r.prototype.pointFromJSON=function(e,t){return n.fromJSON(this,e,t)},r.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},r.prototype._endoWnafMulAdd=function(e,t){for(var r=this._endoWnafT1,n=this._endoWnafT2,i=0;i<e.length;i++){var o=this._endoSplit(t[i]),a=e[i],s=a._getBeta();o.k1.sign&&(o.k1.sign=!o.k1.sign,a=a.neg(!0)),o.k2.sign&&(o.k2.sign=!o.k2.sign,s=s.neg(!0)),r[2*i]=a,r[2*i+1]=s,n[2*i]=o.k1,n[2*i+1]=o.k2}for(var u=this._wnafMulAdd(1,r,n,2*i),c=0;2*i>c;c++)r[c]=null,n[c]=null;return u},u(n,c.BasePoint),n.prototype._getBeta=function(){function e(e){return n.point(e.x.redMul(n.endo.beta),e.y)}if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve;t.beta=r,r.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(e)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(e)}}}return r}},n.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},n.fromJSON=function(e,t,r){function n(t){return e.point(t[0],t[1],r)}"string"==typeof t&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;var o=t[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(n))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(n))}},i},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.inf},n.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},n.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},n.prototype.getX=function(){return this.x.fromRed()},n.prototype.getY=function(){return this.y.fromRed()},n.prototype.mul=function(e){return e=new s(e,16),this.precomputed&&this.precomputed.doubles?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},n.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},n.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))
},n.prototype.neg=function(e){function t(e){return e.neg()}if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed;r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(t)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(t)}}}return r},n.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},u(i,c.BasePoint),i.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},i.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},i.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(r.redMul(this.z)),s=n.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),h=n.redMul(c),f=u.redSqr().redIAdd(l).redISub(h).redISub(h),d=u.redMul(h.redISub(f)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(f,d,p)},i.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=r.redSub(n),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),l=r.redMul(u),h=s.redSqr().redIAdd(c).redISub(l).redISub(l),f=s.redMul(l.redISub(h)).redISub(i.redMul(c)),d=this.z.redMul(a);return this.curve.jpoint(h,f,d)},i.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;e>r;r++)t=t.dbl();return t}for(var n=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),c=a.redAdd(a),r=0;e>r;r++){var l=o.redSqr(),h=c.redSqr(),f=h.redSqr(),d=l.redAdd(l).redIAdd(l).redIAdd(n.redMul(u)),p=o.redMul(h),m=d.redSqr().redISub(p.redAdd(p)),g=p.redISub(m),y=d.redMul(g);y=y.redIAdd(y).redISub(f);var v=c.redMul(s);e>r+1&&(u=u.redMul(f)),o=m,s=v,c=y}return this.curve.jpoint(o,c.redMul(i),s)},i.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},i.prototype._zeroDbl=function(){if(this.zOne){var e=this.x.redSqr(),t=this.y.redSqr(),r=t.redSqr(),n=this.x.redAdd(t).redSqr().redISub(e).redISub(r);n=n.redIAdd(n);var i=e.redAdd(e).redIAdd(e),o=i.redSqr().redISub(n).redISub(n),a=r.redIAdd(r);a=a.redIAdd(a),a=a.redIAdd(a);var s=o,u=i.redMul(n.redISub(o)).redISub(a),c=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),h=this.y.redSqr(),f=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(l).redISub(f);d=d.redIAdd(d);var p=l.redAdd(l).redIAdd(l),m=p.redSqr(),g=f.redIAdd(f);g=g.redIAdd(g),g=g.redIAdd(g);var s=m.redISub(d).redISub(d),u=p.redMul(d.redISub(s)).redISub(g),c=this.y.redMul(this.z);c=c.redIAdd(c)}return this.curve.jpoint(s,u,c)},i.prototype._threeDbl=function(){if(this.zOne){var e=this.x.redSqr(),t=this.y.redSqr(),r=t.redSqr(),n=this.x.redAdd(t).redSqr().redISub(e).redISub(r);n=n.redIAdd(n);var i=e.redAdd(e).redIAdd(e).redIAdd(this.curve.a),o=i.redSqr().redISub(n).redISub(n),a=o,s=r.redIAdd(r);s=s.redIAdd(s),s=s.redIAdd(s);var u=i.redMul(n.redISub(o)).redISub(s),c=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),h=this.y.redSqr(),f=this.x.redMul(h),d=this.x.redSub(l).redMul(this.x.redAdd(l));d=d.redAdd(d).redIAdd(d);var p=f.redIAdd(f);p=p.redIAdd(p);var m=p.redAdd(p),a=d.redSqr().redISub(m),c=this.y.redAdd(this.z).redSqr().redISub(h).redISub(l),g=h.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var u=d.redMul(p.redISub(a)).redISub(g)}return this.curve.jpoint(a,u,c)},i.prototype._dbl=function(){var e=this.curve.a,t=(this.curve.tinv,this.x),r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),a=r.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t);u=u.redIAdd(u);var c=u.redMul(a),l=s.redSqr().redISub(c.redAdd(c)),h=c.redISub(l),f=a.redSqr();f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var d=s.redMul(h).redISub(f),p=r.redAdd(r).redMul(n);return this.curve.jpoint(l,d,p)},i.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(n);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var s=a.redSqr(),u=n.redIAdd(n);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),l=t.redMul(c);l=l.redIAdd(l),l=l.redIAdd(l);var h=this.x.redMul(s).redISub(l);h=h.redIAdd(h),h=h.redIAdd(h);var f=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(s)));f=f.redIAdd(f),f=f.redIAdd(f),f=f.redIAdd(f);var d=this.z.redAdd(a).redSqr().redISub(r).redISub(s);return this.curve.jpoint(h,f,d)},i.prototype.mul=function(e,t){return e=new s(e,t),this.curve._wnafMul(this,e)},i.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},i.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../../elliptic":29,"../curve":32,"bn.js":27,inherits:143}],35:[function(e,t,r){function n(e){this.curve="short"===e.type?new s.curve["short"](e):"edwards"===e.type?new s.curve.edwards(e):new s.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function i(e,t){Object.defineProperty(o,e,{configurable:!0,enumerable:!0,get:function(){var r=new n(t);return Object.defineProperty(o,e,{configurable:!0,enumerable:!0,value:r}),r}})}var o=r,a=e("hash.js"),s=(e("bn.js"),e("../elliptic")),u=s.utils.assert;o.PresetCurve=n,i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"0",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",{doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}]})
},{"../elliptic":29,"bn.js":27,"hash.js":42}],36:[function(e,t){function r(e){return this instanceof r?("string"==typeof e&&(a(i.curves.hasOwnProperty(e),"Unknown curve "+e),e=i.curves[e]),e instanceof i.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.shrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),void(this.hash=e.hash||e.curve.hash)):new r(e)}var n=e("bn.js"),i=e("../../elliptic"),o=i.utils,a=o.assert,s=e("./key"),u=e("./signature");t.exports=r,r.prototype.keyPair=function(e,t){return new s(this,e,t)},r.prototype.genKeyPair=function(e){e||(e={});for(var t=new i.hmacDRBG({hash:this.hash,pers:e.pers,entropy:e.entropy||i.rand(this.hash.hmacStrength),nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var a=new n(t.generate(r));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyPair(a)}},r.prototype._truncateToN=function(e,t){var r=8*e.byteLength()-this.n.bitLength();return r>0&&(e=e.shrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},r.prototype.sign=function(e,t,r){t=this.keyPair(t,"hex"),e=this._truncateToN(new n(e,16)),r||(r={});for(var o=this.n.byteLength(),a=t.getPrivate().toArray(),s=a.length;21>s;s++)a.unshift(0);for(var c=e.toArray(),s=c.length;o>s;s++)c.unshift(0);for(var l=new i.hmacDRBG({hash:this.hash,entropy:a,nonce:c}),h=this.n.sub(new n(1));;){var f=new n(l.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(h)>=0)){var d=this.g.mul(f);if(!d.isInfinity()){var p=d.getX().mod(this.n);if(0!==p.cmpn(0)){var m=f.invm(this.n).mul(p.mul(t.getPrivate()).iadd(e)).mod(this.n);if(0!==m.cmpn(0))return r.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m)),new u(p,m)}}}}},r.prototype.verify=function(e,t,r){e=this._truncateToN(new n(e,16)),r=this.keyPair(r,"hex"),t=new u(t,"hex");var i=t.r,o=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),s=a.mul(e).mod(this.n),c=a.mul(i).mod(this.n),l=this.g.mulAdd(s,r.getPublic(),c);return l.isInfinity()?!1:0===l.getX().mod(this.n).cmp(i)}},{"../../elliptic":29,"./key":37,"./signature":38,"bn.js":27}],37:[function(e,t){function r(e,t,n){return t instanceof r?t:n instanceof r?n:(t||(t=n,n=null),null!==t&&"object"==typeof t&&(t.x?(n=t,t=null):(t.priv||t.pub)&&(n=t.pub,t=t.priv)),this.ec=e,this.priv=null,this.pub=null,void(this._importPublicHex(t,n)||("hex"===n&&(n=null),t&&this._importPrivate(t),n&&this._importPublic(n))))}{var n=e("bn.js"),i=e("../../elliptic"),o=i.utils;o.assert}t.exports=r,r.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(e,t){if(this.pub||(this.pub=this.ec.g.mul(this.priv)),"string"==typeof e&&(t=e,e=null),!t)return this.pub;for(var r=this.ec.curve.p.byteLength(),n=this.pub.getX().toArray(),i=n.length;r>i;i++)n.unshift(0);if(e)var a=[this.pub.getY().isEven()?2:3].concat(n);else{for(var s=this.pub.getY().toArray(),i=s.length;r>i;i++)s.unshift(0);var a=[4].concat(n,s)}return o.encode(a,t)},r.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(e){this.priv=new n(e,16),this.priv=this.priv.mod(this.ec.curve.n)},r.prototype._importPublic=function(e){this.pub=this.ec.curve.point(e.x,e.y)},r.prototype._importPublicHex=function(e,t){e=o.toArray(e,t);var r=this.ec.curve.p.byteLength();if(4===e[0]&&e.length-1===2*r)this.pub=this.ec.curve.point(e.slice(1,1+r),e.slice(1+r,1+2*r));else{if(2!==e[0]&&3!==e[0]||e.length-1!==r)return!1;this.pub=this.ec.curve.pointFromX(3===e[0],e.slice(1,1+r))}return!0},r.prototype.derive=function(e){return e.mul(this.priv).getX()},r.prototype.sign=function(e){return this.ec.sign(e,this)},r.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../../elliptic":29,"bn.js":27}],38:[function(e,t){function r(e,t){return e instanceof r?e:void(this._importDER(e,t)||(a(e&&t,"Signature without r or s"),this.r=new n(e,16),this.s=new n(t,16)))}var n=e("bn.js"),i=e("../../elliptic"),o=i.utils,a=o.assert;t.exports=r,r.prototype._importDER=function(e,t){if(e=o.toArray(e,t),e.length<6||48!==e[0]||2!==e[2])return!1;var r=e[1];if(1+r>e.length)return!1;var i=e[3];if(i>=128)return!1;if(4+i+2>=e.length)return!1;if(2!==e[4+i])return!1;var a=e[5+i];return a>=128?!1:4+i+2+a>e.length?!1:(this.r=new n(e.slice(4,4+i)),this.s=new n(e.slice(4+i+2,4+i+2+a)),!0)},r.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r));var n=t.length+r.length+4,i=[48,n,2,t.length];return i=i.concat(t,[2,r.length],r),o.encode(i,e)}},{"../../elliptic":29,"bn.js":27}],39:[function(e,t){function r(e){if(!(this instanceof r))return new r(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this.reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=o.toArray(e.entropy,e.entropyEnc),n=o.toArray(e.nonce,e.nonceEnc),i=o.toArray(e.pers,e.persEnc);a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,i)}var n=e("hash.js"),i=e("../elliptic"),o=i.utils,a=o.assert;t.exports=r,r.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this.reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},r.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=o.toBuffer(e,t),r=o.toBuffer(r,n),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this.reseed=1},r.prototype.generate=function(e,t,r,n){if(this.reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=o.toArray(r,n),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this.reseed++,o.encode(a,t)}},{"../elliptic":29,"hash.js":42}],40:[function(e,t,r){function n(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t){e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!==0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}else for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}function i(e){for(var t="",r=0;r<e.length;r++)t+=o(e[r].toString(16));return t}function o(e){return 1===e.length?"0"+e:e}function a(e,t){for(var r=[],n=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var a=i.andln(n-1);o=a>(n>>1)-1?(n>>1)-a:a,i.isubn(o)}else o=0;r.push(o);for(var s=0!==i.cmpn(0)&&0===i.andln(n-1)?t+1:1,u=1;s>u;u++)r.push(0);i.ishrn(s)}return r}function s(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var o=e.andln(3)+n&3,a=t.andln(3)+i&3;3===o&&(o=-1),3===a&&(a=-1);var s;if(0===(1&o))s=0;else{var u=e.andln(7)+n&7;s=3!==u&&5!==u||2!==a?o:-o}r[0].push(s);var c;if(0===(1&a))c=0;else{var u=t.andln(7)+i&7;c=3!==u&&5!==u||2!==o?a:-a}r[1].push(c),2*n===s+1&&(n=1-n),2*i===c+1&&(i=1-i),e.ishrn(1),t.ishrn(1)}return r}var u=(e("bn.js"),r);u.assert=function(e,t){if(!e)throw new Error(t||"Assertion failed")},u.toArray=n,u.toHex=i,u.encode=function(e,t){return"hex"===t?i(e):e},u.zero2=o,u.getNAF=a,u.getJSF=s},{"bn.js":27}],41:[function(e,t){function r(e){this.rand=e}var n;if(t.exports=function(e){return n||(n=new r(null)),n.generate(e)},t.exports.Rand=r,r.prototype.generate=function(e){return this._rand(e)},"object"==typeof window)r.prototype._rand=window.crypto&&window.crypto.getRandomValues?function(e){var t=new Uint8Array(e);return window.crypto.getRandomValues(t),t}:window.msCrypto&&window.msCrypto.getRandomValues?function(e){var t=new Uint8Array(e);return window.msCrypto.getRandomValues(t),t}:function(){throw new Error("Not implemented yet")};else try{var i=e("crypto");r.prototype._rand=function(e){return i.randomBytes(e)}}catch(o){r.prototype._rand=function(e){for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t}}},{}],42:[function(e,t,r){var n=r;n.utils=e("./hash/utils"),n.common=e("./hash/common"),n.sha=e("./hash/sha"),n.ripemd=e("./hash/ripemd"),n.hmac=e("./hash/hmac"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},{"./hash/common":43,"./hash/hmac":44,"./hash/ripemd":45,"./hash/sha":46,"./hash/utils":47}],43:[function(e,t,r){function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var i=e("../hash"),o=i.utils,a=o.assert;r.BlockHash=n,n.prototype.update=function(e,t){if(e=o.toArray(e,t),this.pending=this.pending?this.pending.concat(e):e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=o.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},n.prototype.digest=function(e){return this.update(this._pad()),a(null===this.pending),this._digest(e)},n.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;r>i;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else{n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0;for(var o=8;o<this.padLength;o++)n[i++]=0}return n}},{"../hash":42}],44:[function(e,t,r){function n(e,t,r){return this instanceof n?(this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,void this._init(o.toArray(t,r))):new n(e,t,r)}var i=e("../hash"),o=i.utils,a=o.assert;t.exports=n,n.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),a(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(var t=0;t<e.length;t++)e[t]^=54;this.inner=(new this.Hash).update(e);for(var t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},n.prototype.update=function(e,t){return this.inner.update(e,t),this},n.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"../hash":42}],45:[function(e,t,r){function n(){return this instanceof n?(d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new n}function i(e,t,r,n){return 15>=e?t^r^n:31>=e?t&r|~t&n:47>=e?(t|~r)^n:63>=e?t&n|r&~n:t^(r|~n)}function o(e){return 15>=e?0:31>=e?1518500249:47>=e?1859775393:63>=e?2400959708:2840853838}function a(e){return 15>=e?1352829926:31>=e?1548603684:47>=e?1836072691:63>=e?2053994217:0}var s=e("../hash"),u=s.utils,c=u.rotl32,l=u.sum32,h=u.sum32_3,f=u.sum32_4,d=s.common.BlockHash;u.inherits(n,d),r.ripemd160=n,n.blockSize=512,n.outSize=160,n.hmacStrength=192,n.padLength=64,n.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],s=this.h[2],u=this.h[3],d=this.h[4],v=r,b=n,E=s,x=u,w=d,_=0;80>_;_++){var T=l(c(f(r,i(_,n,s,u),e[p[_]+t],o(_)),g[_]),d);r=d,d=u,u=c(s,10),s=n,n=T,T=l(c(f(v,i(79-_,b,E,x),e[m[_]+t],a(_)),y[_]),w),v=w,w=x,x=c(E,10),E=b,b=T}T=h(this.h[1],s,x),this.h[1]=h(this.h[2],u,w),this.h[2]=h(this.h[3],d,v),this.h[3]=h(this.h[4],r,b),this.h[4]=h(this.h[0],n,E),this.h[0]=T},n.prototype._digest=function(e){return"hex"===e?u.toHex32(this.h,"little"):u.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],m=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],y=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"../hash":42}],46:[function(e,t,r){function n(){return this instanceof n?(K.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=X,void(this.W=new Array(64))):new n}function i(){return this instanceof i?(n.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new i}function o(){return this instanceof o?(K.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Y,void(this.W=new Array(160))):new o}function a(){return this instanceof a?(o.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new a}function s(){return this instanceof s?(K.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=new Array(80))):new s}function u(e,t,r){return e&t^~e&r}function c(e,t,r){return e&t^e&r^t&r}function l(e,t,r){return e^t^r}function h(e){return N(e,2)^N(e,13)^N(e,22)}function f(e){return N(e,6)^N(e,11)^N(e,25)}function d(e){return N(e,7)^N(e,18)^e>>>3}function p(e){return N(e,17)^N(e,19)^e>>>10}function m(e,t,r,n){return 0===e?u(t,r,n):1===e||3===e?l(t,r,n):2===e?c(t,r,n):void 0}function g(e,t,r,n,i){var o=e&r^~e&i;return 0>o&&(o+=4294967296),o}function y(e,t,r,n,i,o){var a=t&n^~t&o;return 0>a&&(a+=4294967296),a}function v(e,t,r,n,i){var o=e&r^e&i^r&i;return 0>o&&(o+=4294967296),o}function b(e,t,r,n,i,o){var a=t&n^t&o^n&o;return 0>a&&(a+=4294967296),a}function E(e,t){var r=D(e,t,28),n=D(t,e,2),i=D(t,e,7),o=r^n^i;return 0>o&&(o+=4294967296),o}function x(e,t){var r=F(e,t,28),n=F(t,e,2),i=F(t,e,7),o=r^n^i;return 0>o&&(o+=4294967296),o}function w(e,t){var r=D(e,t,14),n=D(e,t,18),i=D(t,e,9),o=r^n^i;return 0>o&&(o+=4294967296),o}function _(e,t){var r=F(e,t,14),n=F(e,t,18),i=F(t,e,9),o=r^n^i;return 0>o&&(o+=4294967296),o}function T(e,t){var r=D(e,t,1),n=D(e,t,8),i=B(e,t,7),o=r^n^i;return 0>o&&(o+=4294967296),o}function R(e,t){var r=F(e,t,1),n=F(e,t,8),i=I(e,t,7),o=r^n^i;return 0>o&&(o+=4294967296),o}function S(e,t){var r=D(e,t,19),n=D(t,e,29),i=B(e,t,6),o=r^n^i;return 0>o&&(o+=4294967296),o}function C(e,t){var r=F(e,t,19),n=F(t,e,29),i=I(e,t,6),o=r^n^i;return 0>o&&(o+=4294967296),o}var H=e("../hash"),M=H.utils,A=M.assert,N=M.rotr32,P=M.rotl32,k=M.sum32,O=M.sum32_4,L=M.sum32_5,D=M.rotr64_hi,F=M.rotr64_lo,B=M.shr64_hi,I=M.shr64_lo,z=M.sum64,U=M.sum64_hi,V=M.sum64_lo,j=M.sum64_4_hi,q=M.sum64_4_lo,G=M.sum64_5_hi,W=M.sum64_5_lo,K=H.common.BlockHash,X=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],$=[1518500249,1859775393,2400959708,3395469782];M.inherits(n,K),r.sha256=n,n.blockSize=512,n.outSize=256,n.hmacStrength=192,n.padLength=64,n.prototype._update=function(e,t){for(var r=this.W,n=0;16>n;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=O(p(r[n-2]),r[n-7],d(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],l=this.h[4],m=this.h[5],g=this.h[6],y=this.h[7];A(this.k.length===r.length);for(var n=0;n<r.length;n++){var v=L(y,f(l),u(l,m,g),this.k[n],r[n]),b=k(h(i),c(i,o,a));y=g,g=m,m=l,l=k(s,v),s=a,a=o,o=i,i=k(v,b)}this.h[0]=k(this.h[0],i),this.h[1]=k(this.h[1],o),this.h[2]=k(this.h[2],a),this.h[3]=k(this.h[3],s),this.h[4]=k(this.h[4],l),this.h[5]=k(this.h[5],m),this.h[6]=k(this.h[6],g),this.h[7]=k(this.h[7],y)},n.prototype._digest=function(e){return"hex"===e?M.toHex32(this.h,"big"):M.split32(this.h,"big")},M.inherits(i,n),r.sha224=i,i.blockSize=512,i.outSize=224,i.hmacStrength=192,i.padLength=64,i.prototype._digest=function(e){return"hex"===e?M.toHex32(this.h.slice(0,7),"big"):M.split32(this.h.slice(0,7),"big")},M.inherits(o,K),r.sha512=o,o.blockSize=1024,o.outSize=512,o.hmacStrength=192,o.padLength=128,o.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;32>n;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=S(r[n-4],r[n-3]),o=C(r[n-4],r[n-3]),a=r[n-14],s=r[n-13],u=T(r[n-30],r[n-29]),c=R(r[n-30],r[n-29]),l=r[n-32],h=r[n-31];r[n]=j(i,o,a,s,u,c,l,h),r[n+1]=q(i,o,a,s,u,c,l,h)}},o.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],a=this.h[3],s=this.h[4],u=this.h[5],c=this.h[6],l=this.h[7],h=this.h[8],f=this.h[9],d=this.h[10],p=this.h[11],m=this.h[12],T=this.h[13],R=this.h[14],S=this.h[15];A(this.k.length===r.length);for(var C=0;C<r.length;C+=2){var H=R,M=S,N=w(h,f),P=_(h,f),k=g(h,f,d,p,m,T),O=y(h,f,d,p,m,T),L=this.k[C],D=this.k[C+1],F=r[C],B=r[C+1],I=G(H,M,N,P,k,O,L,D,F,B),j=W(H,M,N,P,k,O,L,D,F,B),H=E(n,i),M=x(n,i),N=v(n,i,o,a,s,u),P=b(n,i,o,a,s,u),q=U(H,M,N,P),K=V(H,M,N,P);R=m,S=T,m=d,T=p,d=h,p=f,h=U(c,l,I,j),f=V(l,l,I,j),c=s,l=u,s=o,u=a,o=n,a=i,n=U(I,j,q,K),i=V(I,j,q,K)}z(this.h,0,n,i),z(this.h,2,o,a),z(this.h,4,s,u),z(this.h,6,c,l),z(this.h,8,h,f),z(this.h,10,d,p),z(this.h,12,m,T),z(this.h,14,R,S)},o.prototype._digest=function(e){return"hex"===e?M.toHex32(this.h,"big"):M.split32(this.h,"big")},M.inherits(a,o),r.sha384=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(e){return"hex"===e?M.toHex32(this.h.slice(0,12),"big"):M.split32(this.h.slice(0,12),"big")},M.inherits(s,K),r.sha1=s,s.blockSize=512,s.outSize=160,s.hmacStrength=80,s.padLength=64,s.prototype._update=function(e,t){for(var r=this.W,n=0;16>n;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=P(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);for(var i=this.h[0],o=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],n=0;n<r.length;n++){var c=~~(n/20),l=L(P(i,5),m(c,o,a,s),u,r[n],$[c]);u=s,s=a,a=P(o,30),o=i,i=l}this.h[0]=k(this.h[0],i),this.h[1]=k(this.h[1],o),this.h[2]=k(this.h[2],a),this.h[3]=k(this.h[3],s),this.h[4]=k(this.h[4],u)},s.prototype._digest=function(e){return"hex"===e?M.toHex32(this.h,"big"):M.split32(this.h,"big")}},{"../hash":42}],47:[function(e,t,r){function n(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t){e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!==0&&(e="0"+e);for(var n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,a=255&i;o?r.push(o,a):r.push(a)}else for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}function i(e){for(var t="",r=0;r<e.length;r++)t+=s(e[r].toString(16));return t}function o(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24;return t>>>0}function a(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=o(i)),r+=u(i.toString(16))}return r}function s(e){return 1===e.length?"0"+e:e}function u(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}function c(e,t,r,n){var i=r-t;y(i%4===0);for(var o=new Array(i/4),a=0,s=t;a<o.length;a++,s+=4){var u;u="big"===n?e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3]:e[s+3]<<24|e[s+2]<<16|e[s+1]<<8|e[s],o[a]=u>>>0}return o}function l(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r}function h(e,t){return e>>>t|e<<32-t}function f(e,t){return e<<t|e>>>32-t}function d(e,t){return e+t>>>0}function p(e,t,r){return e+t+r>>>0}function m(e,t,r,n){return e+t+r+n>>>0}function g(e,t,r,n,i){return e+t+r+n+i>>>0}function y(e,t){if(!e)throw new Error(t||"Assertion failed")}function v(e,t,r,n){var i=e[t],o=e[t+1],a=n+o>>>0,s=(n>a?1:0)+r+i;e[t]=s>>>0,e[t+1]=a}function b(e,t,r,n){var i=t+n>>>0,o=(t>i?1:0)+e+r;return o>>>0}function E(e,t,r,n){var i=t+n;return i>>>0}function x(e,t,r,n,i,o,a,s){var u=0,c=t;c=c+n>>>0,u+=t>c?1:0,c=c+o>>>0,u+=o>c?1:0,c=c+s>>>0,u+=s>c?1:0;var l=e+r+i+a+u;return l>>>0}function w(e,t,r,n,i,o,a,s){var u=t+n+o+s;return u>>>0}function _(e,t,r,n,i,o,a,s,u,c){var l=0,h=t;h=h+n>>>0,l+=t>h?1:0,h=h+o>>>0,l+=o>h?1:0,h=h+s>>>0,l+=s>h?1:0,h=h+c>>>0,l+=c>h?1:0;var f=e+r+i+a+u+l;return f>>>0}function T(e,t,r,n,i,o,a,s,u,c){var l=t+n+o+s+c;return l>>>0}function R(e,t,r){var n=t<<32-r|e>>>r;return n>>>0}function S(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}function C(e,t,r){return e>>>r}function H(e,t,r){var n=e<<32-r|t>>>r;return n>>>0}var M=r,A=e("inherits");M.toArray=n,M.toHex=i,M.htonl=o,M.toHex32=a,M.zero2=s,M.zero8=u,M.join32=c,M.split32=l,M.rotr32=h,M.rotl32=f,M.sum32=d,M.sum32_3=p,M.sum32_4=m,M.sum32_5=g,M.assert=y,M.inherits=A,r.sum64=v,r.sum64_hi=b,r.sum64_lo=E,r.sum64_4_hi=x,r.sum64_4_lo=w,r.sum64_5_hi=_,r.sum64_5_lo=T,r.rotr64_hi=R,r.rotr64_lo=S,r.shr64_hi=C,r.shr64_lo=H},{inherits:143}],48:[function(e,t){t.exports={name:"elliptic",version:"1.0.1",description:"EC cryptography",main:"lib/elliptic.js",scripts:{test:"mocha --reporter=spec test/*-test.js"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:{name:"Fedor Indutny",email:"fedor@indutny.com"},license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{browserify:"^3.44.2",mocha:"^1.18.2","uglify-js":"^2.4.13"},dependencies:{"bn.js":"^1.0.0",brorand:"^1.0.1","hash.js":"^1.0.0",inherits:"^2.0.1"},gitHead:"17dc013761dd1efcfb868e2b06b0b897627b40be",_id:"elliptic@1.0.1",_shasum:"d180376b66a17d74995c837796362ac4d22aefe3",_from:"elliptic@^1.0.0",_npmVersion:"1.4.28",_npmUser:{name:"indutny",email:"fedor@indutny.com"},maintainers:[{name:"indutny",email:"fedor@indutny.com"}],dist:{shasum:"d180376b66a17d74995c837796362ac4d22aefe3",tarball:"http://registry.npmjs.org/elliptic/-/elliptic-1.0.1.tgz"},directories:{},_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-1.0.1.tgz"}},{}],49:[function(e,t){(function(e){t.exports=function(t,r,n,i){i/=8;for(var o,a,s,u=0,c=new e(i),l=0;;){if(o=t.createHash("md5"),l++>0&&o.update(a),o.update(r),o.update(n),a=o.digest(),s=0,i>0)for(;;){if(0===i)break;if(s===a.length)break;c[u++]=a[s++],i--}if(0===i)break}for(s=0;s<a.length;s++)a[s]=0;return c}}).call(this,e("buffer").Buffer)},{buffer:2}],50:[function(e,t){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],51:[function(e,t,r){var n=e("asn1.js"),i=e("asn1.js-rfc3280"),o=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("modulus")["int"](),this.key("publicExponent")["int"](),this.key("privateExponent")["int"](),this.key("prime1")["int"](),this.key("prime2")["int"](),this.key("exponent1")["int"](),this.key("exponent2")["int"](),this.key("coefficient")["int"]())});r.RSAPrivateKey=o;var a=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus")["int"](),this.key("publicExponent")["int"]())});r.RSAPublicKey=a;var s=i.SubjectPublicKeyInfo;r.PublicKey=s;var u=n.define("ECPublicKey",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("curve").objid()),this.key("subjectPrivateKey").bitstr())});r.ECPublicKey=u;var c=n.define("ECPrivateWrap",function(){this.seq().obj(this.key("version")["int"](),this.key("algorithm").seq().obj(this.key("id").objid(),this.key("curve").objid()),this.key("subjectPrivateKey").octstr())});r.ECPrivateWrap=c;var l=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version")["int"](),this.key("algorithm").use(i.AlgorithmIdentifier),this.key("subjectPrivateKey").octstr())});r.PrivateKey=l;var h=n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters")["int"]())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}),f=n.define("dsaParams",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").seq().obj(this.key("p")["int"](),this.key("q")["int"](),this.key("g")["int"]()))});r.EncryptedPrivateKey=h;var d=n.define("DSAPublicKey",function(){this.seq().obj(this.key("algorithm").use(f),this.key("subjectPublicKey").bitstr())});r.DSAPublicKey=d;var p=n.define("DSAPrivateWrap",function(){this.seq().obj(this.key("version")["int"](),this.key("algorithm").seq().obj(this.key("id").objid(),this.key("parameters").seq().obj(this.key("p")["int"](),this.key("q")["int"](),this.key("g")["int"]())),this.key("subjectPrivateKey").octstr())});r.DSAPrivateWrap=p;var m=n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("p")["int"](),this.key("q")["int"](),this.key("g")["int"](),this.key("pub_key")["int"](),this.key("priv_key")["int"]())});r.DSAPrivateKey=m,r.DSAparam=n.define("DSAparam",function(){this["int"]()});var g=n.define("ECPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(y),this.key("publicKey").optional().explicit(1).bitstr())});r.ECPrivateKey=g;var y=n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),v=n.define("ECPrivateKey2",function(){this.seq().obj(this.key("version")["int"](),this.key("privateKey").octstr(),this.key("publicKey").seq().obj(this.key("key").bitstr()))});r.ECPrivateKey2=v,r.signature=n.define("signature",function(){this.seq().obj(this.key("r")["int"](),this.key("s")["int"]())})},{"asn1.js":55,"asn1.js-rfc3280":54}],52:[function(e,t){(function(r){function n(e){for(var t=[];e;){if(e.length<64){t.push(e);break}t.push(e.slice(0,64)),e=e.slice(64)}return t.join("\n")}var i=/Proc-Type: 4,ENCRYPTED\n\r?DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\n\r?\n\r?([0-9A-z\n\r\+\/\=]+)\n\r?/m,o=/^-----BEGIN (.*)-----\n/,a=e("./EVP_BytesToKey");t.exports=function(e,t,s){var u=e.toString(),c=u.match(i);if(!c)return e;var l="aes"+c[1],h=new r(c[2],"hex"),f=new r(c[3].replace(/\n\r?/g,""),"base64"),d=a(s,t,h.slice(0,8),parseInt(c[1])),p=[],m=s.createDecipheriv(l,d,h);p.push(m.update(f)),p.push(m["final"]());var g=r.concat(p).toString("base64"),y=u.match(o)[1];return"-----BEGIN "+y+"-----\n"+n(g)+"\n-----END "+y+"-----\n"}}).call(this,e("buffer").Buffer)},{"./EVP_BytesToKey":49,buffer:2}],53:[function(e,t){(function(r){function n(e,t){var n;"object"!=typeof e||r.isBuffer(e)||(n=e.passphrase,e=e.key),"string"==typeof e&&(e=new r(e)),n&&(e=u(e,n,t));var s,c,l=o.strip(e),h=l.tag,f=new r(l.base64,"base64");switch(h){case"PUBLIC KEY":switch(c=a.PublicKey.decode(f,"der"),s=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPublicKey.decode(c.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return{type:"ec",data:a.ECPublicKey.decode(f,"der")};case"1.2.840.10040.4.1":return c=a.DSAPublicKey.decode(f,"der"),c.algorithm.parameters.pub_key=a.DSAparam.decode(c.subjectPublicKey.data,"der"),{type:"dsa",data:c.algorithm.parameters};default:throw new Error("unknown key id "+s)}throw new Error("unknown key type "+h);case"ENCRYPTED PRIVATE KEY":f=a.EncryptedPrivateKey.decode(f,"der"),f=i(t,f,n);case"PRIVATE KEY":switch(c=a.PrivateKey.decode(f,"der"),s=c.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return a.RSAPrivateKey.decode(c.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return c=a.ECPrivateWrap.decode(f,"der"),{curve:c.algorithm.curve,privateKey:a.ECPrivateKey.decode(c.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return c=a.DSAPrivateWrap.decode(f,"der"),c.algorithm.parameters.priv_key=a.DSAparam.decode(c.subjectPrivateKey,"der"),{type:"dsa",params:c.algorithm.parameters};default:throw new Error("unknown key id "+s)}throw new Error("unknown key type "+h);case"RSA PUBLIC KEY":return a.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return a.RSAPrivateKey.decode(f,"der");
case"DSA PRIVATE KEY":return{type:"dsa",params:a.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return f=a.ECPrivateKey.decode(f,"der"),{curve:f.parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+h)}}function i(e,t,n){var i=t.algorithm.decrypt.kde.kdeparams.salt,o=t.algorithm.decrypt.kde.kdeparams.iters,a=s[t.algorithm.decrypt.cipher.algo.join(".")],u=t.algorithm.decrypt.cipher.iv,c=t.subjectPrivateKey,l=parseInt(a.split("-")[1],10)/8,h=e.pbkdf2Sync(n,i,o,l),f=e.createDecipheriv(a,h,u),d=[];return d.push(f.update(c)),d.push(f["final"]()),r.concat(d)}var o=e("pemstrip"),a=e("./asn1"),s=e("./aesid.json"),u=e("./fixProc");t.exports=n,n.signature=a.signature}).call(this,e("buffer").Buffer)},{"./aesid.json":50,"./asn1":51,"./fixProc":52,buffer:2,pemstrip:68}],54:[function(e,t,r){try{var n=e("asn1.js")}catch(i){var n=e("../..")}var o=n.define("CRLReason",function(){this["enum"]({0:"unspecified",1:"keyCompromise",2:"CACompromise",3:"affiliationChanged",4:"superseded",5:"cessationOfOperation",6:"certificateHold",8:"removeFromCRL",9:"privilegeWithdrawn",10:"AACompromise"})});r.CRLReason=o;var a=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())});r.AlgorithmIdentifier=a;var s=n.define("Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(u),this.key("signatureAlgorithm").use(a),this.key("signature").bitstr())});r.Certificate=s;var u=n.define("TBSCertificate",function(){this.seq().obj(this.key("version").def("v1").explicit(0).use(c),this.key("serialNumber").use(l),this.key("signature").use(a),this.key("issuer").use(y),this.key("validity").use(h),this.key("subject").use(y),this.key("subjectPublicKeyInfo").use(p),this.key("issuerUniqueID").optional().explicit(1).use(d),this.key("subjectUniqueID").optional().explicit(2).use(d),this.key("extensions").optional().explicit(3).use(m))});r.TBSCertificate=u;var c=n.define("Version",function(){this["int"]({0:"v1",1:"v2",2:"v3"})});r.Version=c;var l=n.define("CertificateSerialNumber",function(){this["int"]()});r.CertificateSerialNumber=l;var h=n.define("Validity",function(){this.seq().obj(this.key("notBefore").use(f),this.key("notAfter").use(f))});r.Validity=h;var f=n.define("Time",function(){this.choice({utcTime:this.utctime(),genTime:this.gentime()})});r.Time=f;var d=n.define("UniqueIdentifier",function(){this.bitstr()});r.UniqueIdentifier=d;var p=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});r.SubjectPublicKeyInfo=p;var m=n.define("Extensions",function(){this.seqof(g)});r.Extensions=m;var g=n.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())});r.Extension=g;var y=n.define("Name",function(){this.choice({rdn:this.use(v)})});r.Name=y;var v=n.define("RDNSequence",function(){this.seqof(b)});r.RDNSequence=v;var b=n.define("RelativeDistinguishedName",function(){this.setof(E)});r.RelativeDistinguishedName=b;var E=n.define("AttributeTypeAndValue",function(){this.seq().obj(this.key("type").use(x),this.key("value").use(w))});r.AttributeTypeAndValue=E;var x=n.define("AttributeType",function(){this.objid()});r.AttributeType=x;var w=n.define("AttributeValue",function(){this.any()});r.AttributeValue=w},{"asn1.js":55}],55:[function(e,t,r){var n=r;n.bignum=e("bn.js"),n.define=e("./asn1/api").define,n.base=e("./asn1/base"),n.constants=e("./asn1/constants"),n.decoders=e("./asn1/decoders"),n.encoders=e("./asn1/encoders")},{"./asn1/api":56,"./asn1/base":58,"./asn1/constants":62,"./asn1/decoders":64,"./asn1/encoders":66,"bn.js":27}],56:[function(e,t,r){function n(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}var i=e("../asn1"),o=e("inherits"),a=e("vm"),s=r;s.define=function(e,t){return new n(e,t)},n.prototype._createNamed=function(e){var t=a.runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})");return o(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},n.prototype._getDecoder=function(e){return this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i.decoders[e])),this.decoders[e]},n.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},n.prototype._getEncoder=function(e){return this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(i.encoders[e])),this.encoders[e]},n.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},{"../asn1":55,inherits:143,vm:159}],57:[function(e,t,r){function n(e,t){return a.call(this,t),s.isBuffer(e)?(this.base=e,this.offset=0,void(this.length=e.length)):void this.error("Input not Buffer")}function i(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof i||(e=new i(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(e>=0&&255>=e))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=s.byteLength(e);else{if(!s.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}var o=e("inherits"),a=e("../base").Reporter,s=e("buffer").Buffer;o(n,a),r.DecoderBuffer=n,n.prototype.save=function(){return{offset:this.offset}},n.prototype.restore=function(e){var t=new n(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,t},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},n.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var r=new n(this.base);return r._reporterState=this._reporterState,r.offset=this.offset,r.length=this.offset+e,this.offset+=e,r},n.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},r.EncoderBuffer=i,i.prototype.join=function(e,t){return e||(e=new s(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(r){r.join(e,t),t+=r.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):s.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},{"../base":58,buffer:2,inherits:143}],58:[function(e,t,r){var n=r;n.Reporter=e("./reporter").Reporter,n.DecoderBuffer=e("./buffer").DecoderBuffer,n.EncoderBuffer=e("./buffer").EncoderBuffer,n.Node=e("./node")},{"./buffer":57,"./node":59,"./reporter":60}],59:[function(e,t){function r(e,t){var r={};this._baseState=r,r.enc=e,r.parent=t||null,r.children=null,r.tag=null,r.args=null,r.reverseArgs=null,r.choice=null,r.optional=!1,r.any=!1,r.obj=!1,r.use=null,r.useDecoder=null,r.key=null,r["default"]=null,r.explicit=null,r.implicit=null,r.parent||(r.children=[],this._wrap())}var n=e("../base").Reporter,i=e("../base").EncoderBuffer,o=e("minimalistic-assert"),a=["seq","seqof","set","setof","octstr","bitstr","objid","bool","gentime","utctime","null_","enum","int","ia5str"],s=["key","obj","use","optional","explicit","implicit","def","choice","any"].concat(a),u=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];t.exports=r;var c=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit"];r.prototype.clone=function(){var e=this._baseState,t={};c.forEach(function(r){t[r]=e[r]});var r=new this.constructor(t.parent);return r._baseState=t,r},r.prototype._wrap=function(){var e=this._baseState;s.forEach(function(t){this[t]=function(){var r=new this.constructor(this);return e.children.push(r),r[t].apply(r,arguments)}},this)},r.prototype._init=function(e){var t=this._baseState;o(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),o.equal(t.children.length,1,"Root node can have only one child")},r.prototype._useArgs=function(e){var t=this._baseState,r=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==r.length&&(o(null===t.children),t.children=r,r.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(o(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(r){r==(0|r)&&(r|=0);var n=e[r];t[n]=r}),t}))},u.forEach(function(e){r.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),a.forEach(function(e){r.prototype[e]=function(){var t=this._baseState,r=Array.prototype.slice.call(arguments);return o(null===t.tag),t.tag=e,this._useArgs(r),this}}),r.prototype.use=function(e){var t=this._baseState;return o(null===t.use),t.use=e,this},r.prototype.optional=function(){var e=this._baseState;return e.optional=!0,this},r.prototype.def=function(e){var t=this._baseState;return o(null===t["default"]),t["default"]=e,t.optional=!0,this},r.prototype.explicit=function(e){var t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.explicit=e,this},r.prototype.implicit=function(e){var t=this._baseState;return o(null===t.explicit&&null===t.implicit),t.implicit=e,this},r.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},r.prototype.key=function(e){var t=this._baseState;return o(null===t.key),t.key=e,this},r.prototype.any=function(){var e=this._baseState;return e.any=!0,this},r.prototype.choice=function(e){var t=this._baseState;return o(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},r.prototype._decode=function(e){var t=this._baseState;if(null===t.parent)return e.wrapResult(t.children[0]._decode(e));var r,n=t["default"],i=!0;if(null!==t.key&&(r=e.enterKey(t.key)),t.optional&&(i=this._peekTag(e,null!==t.explicit?t.explicit:null!==t.implicit?t.implicit:t.tag||0),e.isError(i)))return i;var o;if(t.obj&&i&&(o=e.enterObject()),i){if(null!==t.explicit){var a=this._decodeTag(e,t.explicit);if(e.isError(a))return a;e=a}if(null===t.use&&null===t.choice){if(t.any)var s=e.save();var u=this._decodeTag(e,null!==t.implicit?t.implicit:t.tag,t.any);if(e.isError(u))return u;t.any?n=e.raw(s):e=u}if(n=t.any?n:null===t.choice?this._decodeGeneric(t.tag,e):this._decodeChoice(e),e.isError(n))return n;if(!t.any&&null===t.choice&&null!==t.children){var c=t.children.some(function(t){t._decode(e)});if(c)return err}}return t.obj&&i&&(n=e.leaveObject(o)),null===t.key||null===n&&i!==!0||e.leaveKey(r,t.key,n),n},r.prototype._decodeGeneric=function(e,t){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0]):"octstr"===e||"bitstr"===e||"ia5str"===e?this._decodeStr(t,e):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1]):"objid"===e?this._decodeObjid(t,null,null):"gentime"===e||"utctime"===e?this._decodeTime(t,e):"null_"===e?this._decodeNull(t):"bool"===e?this._decodeBool(t):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0]):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t):t.error("unknown tag: "+e)},r.prototype._getUse=function(e,t){var r=this._baseState;return r.useDecoder=this._use(e,t),o(null===r.useDecoder._baseState.parent),r.useDecoder=r.useDecoder._baseState.children[0],r.implicit!==r.useDecoder._baseState.implicit&&(r.useDecoder=r.useDecoder.clone(),r.useDecoder._baseState.implicit=r.implicit),r.useDecoder},r.prototype._decodeChoice=function(e){var t=this._baseState,r=null,n=!1;return Object.keys(t.choice).some(function(i){var o=e.save(),a=t.choice[i];try{var s=a._decode(e);if(e.isError(s))return!1;r={type:i,value:s},n=!0}catch(u){return e.restore(o),!1}return!0},this),n?r:e.error("Choice not matched")},r.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},r.prototype._encode=function(e,t,r){var n=this._baseState;if(null===n["default"]||n["default"]!==e){var i=this._encodeValue(e,t,r);if(void 0!==i&&!this._skipDefault(i,t,r))return i}},r.prototype._encodeValue=function(e,t,r){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new n);var o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i["default"])return;e=i["default"]}var a=null,s=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.children)a=i.children.map(function(r){if("null_"===r._baseState.tag)return r._encode(null,t,e);if(null===r._baseState.key)return t.error("Child should have a key");var n=t.enterKey(r._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var i=r._encode(e[r._baseState.key],t,e);return t.leaveKey(n),i},this).filter(function(e){return e}),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,a=this._createEncoderBuffer(e.map(function(r){var n=this._baseState;return this._getUse(n.args[0],e)._encode(r,t)},u))}else null!==i.use?o=this._getUse(i.use,r)._encode(e,t):(a=this._encodePrimitive(i.tag,e),s=!0);var o;if(!i.any&&null===i.choice){var c=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===c?null===i.use&&t.error("Tag could be ommited only for .use()"):null===i.use&&(o=this._encodeComposite(c,s,l,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},r.prototype._encodeChoice=function(e,t){var r=this._baseState,n=r.choice[e.type];return n||o(!1,e.type+" not found in "+JSON.stringify(Object.keys(r.choice))),n._encode(e.value,t)},r.prototype._encodePrimitive=function(e,t){var r=this._baseState;if("octstr"===e||"bitstr"===e||"ia5str"===e)return this._encodeStr(t,e);if("objid"===e&&r.args)return this._encodeObjid(t,r.reverseArgs[0],r.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,r.args&&r.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);throw new Error("Unsupported tag: "+e)}},{"../base":58,"minimalistic-assert":67}],60:[function(e,t,r){function n(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function i(e,t){this.path=e,this.rethrow(t)}var o=e("inherits");r.Reporter=n,n.prototype.isError=function(e){return e instanceof i},n.prototype.enterKey=function(e){return this._reporterState.path.push(e)},n.prototype.leaveKey=function(e,t,r){var n=this._reporterState;n.path=n.path.slice(0,e-1),null!==n.obj&&(n.obj[t]=r)},n.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},n.prototype.leaveObject=function(e){var t=this._reporterState,r=t.obj;return t.obj=e,r},n.prototype.error=function(e){var t,r=this._reporterState,n=e instanceof i;if(t=n?e:new i(r.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!r.options.partial)throw t;return n||r.errors.push(t),t},n.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},o(i,Error),i.prototype.rethrow=function(e){return this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace(this,i),this}},{inherits:143}],61:[function(e,t,r){var n=e("../constants");r.tagClass={0:"universal",1:"application",2:"context",3:"private"},r.tagClassByName=n._reverse(r.tagClass),r.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},r.tagByName=n._reverse(r.tag)},{"../constants":62}],62:[function(e,t,r){var n=r;n._reverse=function(e){var t={};return Object.keys(e).forEach(function(r){(0|r)==r&&(r=0|r);var n=e[r];t[n]=r}),t},n.der=e("./der")},{"./der":61}],63:[function(e,t){function r(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new n,this.tree._init(e.body)}function n(e){u.Node.call(this,"der",e)}function i(e,t){var r=e.readUInt8(t);if(e.isError(r))return r;var n=l.tagClass[r>>6],i=0===(32&r);if(31===(31&r)){var o=r;for(r=0;128===(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;r<<=7,r|=127&o}}else r&=31;var a=l.tag[r];return{cls:n,primitive:i,tag:r,tagStr:a}}function o(e,t,r){var n=e.readUInt8(r);if(e.isError(n))return n;if(!t&&128===n)return null;if(0===(128&n))return n;var i=127&n;if(i>=4)return e.error("length octect is too long");n=0;for(var o=0;i>o;o++){n<<=8;var a=e.readUInt8(r);if(e.isError(a))return a;n|=a}return n}var a=e("inherits"),s=e("../../asn1"),u=s.base,c=s.bignum,l=s.constants.der;t.exports=r,r.prototype.decode=function(e,t){return e instanceof u.DecoderBuffer||(e=new u.DecoderBuffer(e,t)),this.tree._decode(e,t)},a(n,u.Node),n.prototype._peekTag=function(e,t){if(e.isEmpty())return!1;var r=e.save(),n=i(e,'Failed to peek tag: "'+t+'"');return e.isError(n)?n:(e.restore(r),n.tag===t||n.tagStr===t)},n.prototype._decodeTag=function(e,t,r){var n=i(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var a=o(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(a))return a;if(!r&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==a)return e.skip(a,'Failed to match body of: "'+t+'"');var s=e.start(),u=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(u)?u:e.cut(s)},n.prototype._skipUntilEnd=function(e,t){for(;;){var r=i(e,t);if(e.isError(r))return r;var n=o(e,r.primitive,t);if(e.isError(n))return n;var a;if(a=r.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(a))return a;if("end"===r.tagStr)break}},n.prototype._decodeList=function(e,t,r){for(var n=[];!e.isEmpty();){var i=this._peekTag(e,"end");if(e.isError(i))return i;var o=r.decode(e,"der");if(e.isError(o)&&i)break;n.push(o)}return n},n.prototype._decodeStr=function(e,t){if("octstr"===t)return e.raw();if("bitstr"===t){var r=e.readUInt8();return e.isError(r)?r:{unused:r,data:e.raw()}}return"ia5str"===t?e.raw().toString():this.error("Decoding of string type: "+t+" unsupported")},n.prototype._decodeObjid=function(e,t,r){for(var n=[],i=0;!e.isEmpty();){var o=e.readUInt8();i<<=7,i|=127&o,0===(128&o)&&(n.push(i),i=0)}128&o&&n.push(i);var a=n[0]/40|0,s=n[0]%40;return result=r?n:[a,s].concat(n.slice(1)),t&&(result=t[result.join(" ")]),result},n.prototype._decodeTime=function(e,t){var r=e.raw().toString();if("gentime"===t)var n=0|r.slice(0,4),i=0|r.slice(4,6),o=0|r.slice(6,8),a=0|r.slice(8,10),s=0|r.slice(10,12),u=0|r.slice(12,14);else{if("utctime"!==t)return this.error("Decoding "+t+" time is not supported yet");var n=0|r.slice(0,2),i=0|r.slice(2,4),o=0|r.slice(4,6),a=0|r.slice(6,8),s=0|r.slice(8,10),u=0|r.slice(10,12);n=70>n?2e3+n:1900+n}return Date.UTC(n,i-1,o,a,s,u,0)},n.prototype._decodeNull=function(){return null},n.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},n.prototype._decodeInt=function(e,t){var r=0,n=e.raw();if(n.length>3)return new c(n);for(;!e.isEmpty();){r<<=8;var i=e.readUInt8();if(e.isError(i))return i;r|=i}return t&&(r=t[r]||r),r},n.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},{"../../asn1":55,inherits:143}],64:[function(e,t,r){var n=r;n.der=e("./der")},{"./der":63}],65:[function(e,t){function r(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new n,this.tree._init(e.body)}function n(e){c.Node.call(this,"der",e)}function i(e){return 10>=e?"0"+e:e}function o(e,t,r,n){var i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),h.tagByName.hasOwnProperty(e))i=h.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);i=e}return i>=31?n.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=h.tagClassByName[r||"universal"]<<6)}var a=e("inherits"),s=e("buffer").Buffer,u=e("../../asn1"),c=u.base,l=u.bignum,h=u.constants.der;t.exports=r,r.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},a(n,c.Node),n.prototype._encodeComposite=function(e,t,r,n){var i=o(e,t,r,this.reporter);if(n.length<128){var a=new s(2);return a[0]=i,a[1]=n.length,this._createEncoderBuffer([a,n])}for(var u=1,c=n.length;c>=256;c>>=8)u++;var a=new s(2+u);a[0]=i,a[1]=128|u;for(var c=1+u,l=n.length;l>0;c--,l>>=8)a[c]=255&l;return this._createEncoderBuffer([a,n])},n.prototype._encodeStr=function(e,t){return"octstr"===t?this._createEncoderBuffer(e):"bitstr"===t?this._createEncoderBuffer([0|e.unused,e.data]):"ia5str"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},n.prototype._encodeObjid=function(e,t,r){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/\s+/g);for(var n=0;n<e.length;n++)e[n]|=0}else Array.isArray(e)&&(e=e.slice());if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!r){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var i=0,n=0;n<e.length;n++){var o=e[n];for(i++;o>=128;o>>=7)i++}for(var a=new s(i),u=a.length-1,n=e.length-1;n>=0;n--){var o=e[n];for(a[u--]=127&o;(o>>=7)>0;)a[u--]=128|127&o}return this._createEncoderBuffer(a)},n.prototype._encodeTime=function(e,t){var r,n=new Date(e);return"gentime"===t?r=[n.getFullYear(),i(n.getUTCMonth()+1),i(n.getUTCDate()),i(n.getUTCHours()),i(n.getUTCMinutes()),i(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?r=[n.getFullYear()%100,i(n.getUTCMonth()+1),i(n.getUTCDate()),i(n.getUTCHours()),i(n.getUTCMinutes()),i(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(r,"octstr")},n.prototype._encodeNull=function(){return this._createEncoderBuffer("")},n.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if(null!==l&&e instanceof l){var r=e.toArray();e.sign===!1&&128&r[0]&&r.unshift(0),e=new s(r)}if(s.isBuffer(e)){var n=e.length;0===e.length&&n++;var i=new s(n);return e.copy(i),0===e.length&&(i[0]=0),this._createEncoderBuffer(i)}if(128>e)return this._createEncoderBuffer(e);if(256>e)return this._createEncoderBuffer([0,e]);for(var n=1,o=e;o>=256;o>>=8)n++;for(var i=new Array(n),o=i.length-1;o>=0;o--)i[o]=255&e,e>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(new s(i))},n.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},n.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},n.prototype._skipDefault=function(e,t,r){var n,i=this._baseState;if(null===i["default"])return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i["default"],t,r).join()),o.length!==i.defaultBuffer.length)return!1;for(n=0;n<o.length;n++)if(o[n]!==i.defaultBuffer[n])return!1;return!0}},{"../../asn1":55,buffer:2,inherits:143}],66:[function(e,t,r){var n=r;n.der=e("./der")},{"./der":65}],67:[function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}t.exports=r,r.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},{}],68:[function(e,t,r){r.strip=function(e){e=e.toString();var t=/^-----BEGIN (.*)-----\n/,r=t.exec(e),n=r[1],i=new RegExp("\n-----END "+n+"-----(\n*)$"),o=e.slice(r[0].length).replace(i,"").replace(/\n/g,"");return{tag:n,base64:o}};var n=function(e,t){for(var r=[];e;){if(e.length<t){r.push(e);break}r.push(e.substr(0,t)),e=e.substr(t)}return r.join("\n")};r.assemble=function(e){var t=e.tag,r=e.base64,i="-----BEGIN "+t+"-----",o="-----END "+t+"-----";return i+"\n"+n(r,64)+"\n"+o+"\n"}},{}],69:[function(e,t){(function(r){function n(e,t,r,n){var a=f(t,n);if(a.curve)return i(e,a,n);if("dsa"===a.type)return o(e,a,r,n);for(var s=a.modulus.byteLength(),u=[0,1];e.length+u.length+1<s;)u.push(255);u.push(0);for(var c=-1;++c<e.length;)u.push(e[c]);var l=m(u,a,n);return l}function i(e,t,n){p.rand=n.randomBytes;var i;"1.3.132.0.10"===t.curve.join(".")&&(i=new p.ec("secp256k1"));var o=i.genKeyPair();o._importPrivate(t.privateKey);var a=o.sign(e);return new r(a.toDER())}function o(e,t,r,n){for(var i,o=t.params.priv_key,c=t.params.p,f=t.params.q,p=(d.mont(f),t.params.g),m=new d(0),g=u(e,f).mod(f),y=!1,v=s(o,f,e,r,n);y===!1;)i=l(f,v,r,n),m=h(p,i,c,f),y=i.invm(f).imul(g.add(o.mul(m))).mod(f),y.cmpn(0)||(y=!1,m=new d(0));return a(m,y)}function a(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var n=e.length+t.length+4,i=[48,n,2,e.length];return i=i.concat(e,[2,t.length],t),new r(i)}function s(e,t,n,i,o){if(e=new r(e.toArray()),e.length<t.byteLength()){var a=new r(t.byteLength()-e.length);a.fill(0),e=r.concat([a,e])}var s=n.length,u=c(n,t),l=new r(s);l.fill(1);var h=new r(s);return h.fill(0),h=o.createHmac(i,h).update(l).update(new r([0])).update(e).update(u).digest(),l=o.createHmac(i,h).update(l).digest(),h=o.createHmac(i,h).update(l).update(new r([1])).update(e).update(u).digest(),l=o.createHmac(i,h).update(l).digest(),{k:h,v:l}}function u(e,t){bits=new d(e);var r=8*e.length-t.bitLength();return r>0&&bits.ishrn(r),bits}function c(e,t){e=u(e,t),e=e.mod(t);var n=new r(e.toArray());if(n.length<t.byteLength()){var i=new r(t.byteLength()-n.length);i.fill(0),n=r.concat([i,n])}return n}function l(e,t,n,i){for(var o,a;;){for(o=new r("");8*o.length<e.bitLength();)t.v=i.createHmac(n,t.k).update(t.v).digest(),o=r.concat([o,t.v]);if(a=u(o,e),t.k=i.createHmac(n,t.k).update(t.v).update(new r([0])).digest(),t.v=i.createHmac(n,t.k).update(t.v).digest(),-1===a.cmp(e))return a}}function h(e,t,r,n){return e.toRed(d.mont(r)).redPow(t).fromRed().mod(n)}var f=e("parse-asn1"),d=e("bn.js"),p=e("elliptic"),m=e("browserify-rsa");t.exports=n,t.exports.getKay=s,t.exports.makeKey=l}).call(this,e("buffer").Buffer)},{"bn.js":27,"browserify-rsa":28,buffer:2,elliptic:29,"parse-asn1":53}],70:[function(e,t){(function(r){function n(e,t,n){var a=s(n);if("ec"===a.type)return i(e,t,a);if("dsa"===a.type)return o(e,t,a);for(var u=a.modulus.byteLength(),l=[0,1];t.length+l.length+1<u;)l.push(255);l.push(0);for(var h=-1;++h<t.length;)l.push(t[h]);l=t;var f=c.mont(a.modulus);e=new c(e).toRed(f),e=e.redPow(new c(a.publicExponent)),e=new r(e.fromRed().toArray()),e=e.slice(e.length-t.length);var d=0;for(u=e.length,h=-1;++h<u;)d+=e[h]^t[h];return!d}function i(e,t,r){var n;"1.3.132.0.10"===r.data.algorithm.curve.join(".")&&(n=new u.ec("secp256k1"));var i=r.data.subjectPrivateKey.data;return n.verify(t.toString("hex"),e.toString("hex"),i.toString("hex"))}function o(e,t,r){var n=r.data.p,i=r.data.q,o=r.data.g,u=r.data.pub_key,l=s.signature.decode(e,"der"),h=l.s,f=l.r;a(h,i),a(f,i);var d=(c.mont(i),c.mont(n)),p=h.invm(i),m=o.toRed(d).redPow(new c(t).mul(p).mod(i)).fromRed().mul(u.toRed(d).redPow(f.mul(p).mod(i)).fromRed()).mod(n).mod(i);return!m.cmp(f)}function a(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}var s=e("parse-asn1"),u=e("elliptic"),c=e("bn.js");t.exports=n}).call(this,e("buffer").Buffer)},{"bn.js":27,buffer:2,elliptic:29,"parse-asn1":53}],71:[function(e,t){(function(r){function n(e,t){o.rand=t.randomBytes,this.curve=new o.ec(e),this.keys=void 0}function i(e,t){Array.isArray(e)||(e=e.toArray());var n=new r(e);return t?n.toString(t):n}var o=e("elliptic"),a=e("bn.js");t.exports=n,n.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},n.prototype.computeSecret=function(e,t,n){t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),e=new a(e),e=e.toString(16);var o=this.curve.keyPair(e,"hex").getPublic(),s=o.mul(this.keys.getPrivate()).getX();return i(s,n)},n.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(r[0]=r[r.length-1]%2?7:6),i(r,e)},n.prototype.getPrivateKey=function(e){return i(this.keys.getPrivate(),e)},n.prototype.setPublicKey=function(e,t){t=t||"utf8",r.isBuffer(e)||(e=new r(e,t));var n=new a(e);n=n.toArray(),this.keys._importPublicHex(n)},n.prototype.setPrivateKey=function(e,t){t=t||"utf8",r.isBuffer(e)||(e=new r(e,t));var n=new a(e);n=n.toString(16),this.keys._importPrivate(n)}}).call(this,e("buffer").Buffer)},{"bn.js":73,buffer:2,elliptic:74}],72:[function(e,t){var r=e("./ecdh");t.exports=function(e,t){t.createECDH=function(t){return new r(t,e)}}},{"./ecdh":71}],73:[function(e,t){t.exports=e(27)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\bn.js\\lib\\bn.js":27}],74:[function(e,t){t.exports=e(29)},{"../package.json":93,"./elliptic/curve":77,"./elliptic/curves":80,"./elliptic/ec":81,"./elliptic/hmac-drbg":84,"./elliptic/utils":85,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\lib\\elliptic.js":29,brorand:86}],75:[function(e,t){t.exports=e(30)},{"../../elliptic":74,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\lib\\elliptic\\curve\\base.js":30,"bn.js":73}],76:[function(e,t){t.exports=e(31)},{"../../elliptic":74,"../curve":77,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\lib\\elliptic\\curve\\edwards.js":31,"bn.js":73,inherits:143}],77:[function(e,t){t.exports=e(32)},{"./base":75,"./edwards":76,"./mont":78,"./short":79,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\lib\\elliptic\\curve\\index.js":32}],78:[function(e,t){t.exports=e(33)},{"../../elliptic":74,"../curve":77,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\lib\\elliptic\\curve\\mont.js":33,"bn.js":73,inherits:143}],79:[function(e,t){t.exports=e(34)},{"../../elliptic":74,"../curve":77,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\lib\\elliptic\\curve\\short.js":34,"bn.js":73,inherits:143}],80:[function(e,t){t.exports=e(35)},{"../elliptic":74,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\lib\\elliptic\\curves.js":35,"bn.js":73,"hash.js":87}],81:[function(e,t){t.exports=e(36)},{"../../elliptic":74,"./key":82,"./signature":83,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\lib\\elliptic\\ec\\index.js":36,"bn.js":73}],82:[function(e,t){t.exports=e(37)
},{"../../elliptic":74,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\lib\\elliptic\\ec\\key.js":37,"bn.js":73}],83:[function(e,t){t.exports=e(38)},{"../../elliptic":74,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\lib\\elliptic\\ec\\signature.js":38,"bn.js":73}],84:[function(e,t){t.exports=e(39)},{"../elliptic":74,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\lib\\elliptic\\hmac-drbg.js":39,"hash.js":87}],85:[function(e,t){t.exports=e(40)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\lib\\elliptic\\utils.js":40,"bn.js":73}],86:[function(e,t){t.exports=e(41)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\node_modules\\brorand\\index.js":41}],87:[function(e,t){t.exports=e(42)},{"./hash/common":88,"./hash/hmac":89,"./hash/ripemd":90,"./hash/sha":91,"./hash/utils":92,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\node_modules\\hash.js\\lib\\hash.js":42}],88:[function(e,t){t.exports=e(43)},{"../hash":87,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\node_modules\\hash.js\\lib\\hash\\common.js":43}],89:[function(e,t){t.exports=e(44)},{"../hash":87,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\node_modules\\hash.js\\lib\\hash\\hmac.js":44}],90:[function(e,t){t.exports=e(45)},{"../hash":87,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\node_modules\\hash.js\\lib\\hash\\ripemd.js":45}],91:[function(e,t){t.exports=e(46)},{"../hash":87,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\node_modules\\hash.js\\lib\\hash\\sha.js":46}],92:[function(e,t){t.exports=e(47)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\node_modules\\hash.js\\lib\\hash\\utils.js":47,inherits:143}],93:[function(e,t){t.exports=e(48)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\package.json":48}],94:[function(e,t){(function(r){"use strict";function n(e){u.call(this),this._hash=e,this.buffers=[]}function i(e){u.call(this),this._hash=e}var o=e("sha.js"),a=e("./md5"),s=e("ripemd160"),u=e("stream").Transform,c=e("inherits");t.exports=function(e){return"md5"===e?new n(a):"rmd160"===e?new n(s):new i(o(e))},c(n,u),n.prototype._transform=function(e,t,r){this.buffers.push(e),r()},n.prototype._flush=function(e){var t=r.concat(this.buffers),n=this._hash(t);this.buffers=null,this.push(n),e()},n.prototype.update=function(e,t){return this.write(e,t),this},n.prototype.digest=function(e){this.end();for(var t,n=new r("");t=this.read();)n=r.concat([n,t]);return e&&(n=n.toString(e)),n},c(i,u),i.prototype._transform=function(e,t,r){this._hash.update(e),r()},i.prototype._flush=function(e){this.push(this._hash.digest()),this._hash=null,e()},i.prototype.update=function(e,t){return this.write(e,t),this},i.prototype.digest=function(e){this.end();for(var t,n=new r("");t=this.read();)n=r.concat([n,t]);return e&&(n=n.toString(e)),n}}).call(this,e("buffer").Buffer)},{"./md5":96,buffer:2,inherits:143,ripemd160:97,"sha.js":99,stream:157}],95:[function(e,t,r){(function(e){"use strict";function t(t,r){if(t.length%o!==0){var n=t.length+(o-t.length%o);t=e.concat([t,a],n)}for(var i=[],s=r?t.readInt32BE:t.readInt32LE,u=0;u<t.length;u+=o)i.push(s.call(t,u));return i}function n(t,r,n){for(var i=new e(r),o=n?i.writeInt32BE:i.writeInt32LE,a=0;a<t.length;a++)o.call(i,t[a],4*a,!0);return i}function i(r,i,o,a){e.isBuffer(r)||(r=new e(r));var u=i(t(r,a),r.length*s);return n(u,o,a)}var o=4,a=new e(o);a.fill(0);var s=8;r.hash=i}).call(this,e("buffer").Buffer)},{buffer:2}],96:[function(e,t){"use strict";function r(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var r=1732584193,n=-271733879,c=-1732584194,l=271733878,h=0;h<e.length;h+=16){var f=r,d=n,p=c,m=l;r=i(r,n,c,l,e[h+0],7,-680876936),l=i(l,r,n,c,e[h+1],12,-389564586),c=i(c,l,r,n,e[h+2],17,606105819),n=i(n,c,l,r,e[h+3],22,-1044525330),r=i(r,n,c,l,e[h+4],7,-176418897),l=i(l,r,n,c,e[h+5],12,1200080426),c=i(c,l,r,n,e[h+6],17,-1473231341),n=i(n,c,l,r,e[h+7],22,-45705983),r=i(r,n,c,l,e[h+8],7,1770035416),l=i(l,r,n,c,e[h+9],12,-1958414417),c=i(c,l,r,n,e[h+10],17,-42063),n=i(n,c,l,r,e[h+11],22,-1990404162),r=i(r,n,c,l,e[h+12],7,1804603682),l=i(l,r,n,c,e[h+13],12,-40341101),c=i(c,l,r,n,e[h+14],17,-1502002290),n=i(n,c,l,r,e[h+15],22,1236535329),r=o(r,n,c,l,e[h+1],5,-165796510),l=o(l,r,n,c,e[h+6],9,-1069501632),c=o(c,l,r,n,e[h+11],14,643717713),n=o(n,c,l,r,e[h+0],20,-373897302),r=o(r,n,c,l,e[h+5],5,-701558691),l=o(l,r,n,c,e[h+10],9,38016083),c=o(c,l,r,n,e[h+15],14,-660478335),n=o(n,c,l,r,e[h+4],20,-405537848),r=o(r,n,c,l,e[h+9],5,568446438),l=o(l,r,n,c,e[h+14],9,-1019803690),c=o(c,l,r,n,e[h+3],14,-187363961),n=o(n,c,l,r,e[h+8],20,1163531501),r=o(r,n,c,l,e[h+13],5,-1444681467),l=o(l,r,n,c,e[h+2],9,-51403784),c=o(c,l,r,n,e[h+7],14,1735328473),n=o(n,c,l,r,e[h+12],20,-1926607734),r=a(r,n,c,l,e[h+5],4,-378558),l=a(l,r,n,c,e[h+8],11,-2022574463),c=a(c,l,r,n,e[h+11],16,1839030562),n=a(n,c,l,r,e[h+14],23,-35309556),r=a(r,n,c,l,e[h+1],4,-1530992060),l=a(l,r,n,c,e[h+4],11,1272893353),c=a(c,l,r,n,e[h+7],16,-155497632),n=a(n,c,l,r,e[h+10],23,-1094730640),r=a(r,n,c,l,e[h+13],4,681279174),l=a(l,r,n,c,e[h+0],11,-358537222),c=a(c,l,r,n,e[h+3],16,-722521979),n=a(n,c,l,r,e[h+6],23,76029189),r=a(r,n,c,l,e[h+9],4,-640364487),l=a(l,r,n,c,e[h+12],11,-421815835),c=a(c,l,r,n,e[h+15],16,530742520),n=a(n,c,l,r,e[h+2],23,-995338651),r=s(r,n,c,l,e[h+0],6,-198630844),l=s(l,r,n,c,e[h+7],10,1126891415),c=s(c,l,r,n,e[h+14],15,-1416354905),n=s(n,c,l,r,e[h+5],21,-57434055),r=s(r,n,c,l,e[h+12],6,1700485571),l=s(l,r,n,c,e[h+3],10,-1894986606),c=s(c,l,r,n,e[h+10],15,-1051523),n=s(n,c,l,r,e[h+1],21,-2054922799),r=s(r,n,c,l,e[h+8],6,1873313359),l=s(l,r,n,c,e[h+15],10,-30611744),c=s(c,l,r,n,e[h+6],15,-1560198380),n=s(n,c,l,r,e[h+13],21,1309151649),r=s(r,n,c,l,e[h+4],6,-145523070),l=s(l,r,n,c,e[h+11],10,-1120210379),c=s(c,l,r,n,e[h+2],15,718787259),n=s(n,c,l,r,e[h+9],21,-343485551),r=u(r,f),n=u(n,d),c=u(c,p),l=u(l,m)}return Array(r,n,c,l)}function n(e,t,r,n,i,o){return u(c(u(u(t,e),u(n,o)),i),r)}function i(e,t,r,i,o,a,s){return n(t&r|~t&i,e,t,o,a,s)}function o(e,t,r,i,o,a,s){return n(t&i|r&~i,e,t,o,a,s)}function a(e,t,r,i,o,a,s){return n(t^r^i,e,t,o,a,s)}function s(e,t,r,i,o,a,s){return n(r^(t|~i),e,t,o,a,s)}function u(e,t){var r=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(r>>16);return n<<16|65535&r}function c(e,t){return e<<t|e>>>32-t}var l=e("./helpers");t.exports=function(e){return l.hash(e,r,16)}},{"./helpers":95}],97:[function(e,t){(function(e){function r(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t}function n(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t}function i(e,t,r){for(var n=0;16>n;n++){var i=r+n,h=t[i];t[i]=16711935&(h<<8|h>>>24)|4278255360&(h<<24|h>>>8)}var v,b,E,x,w,_,T,R,S,C;_=v=e[0],T=b=e[1],R=E=e[2],S=x=e[3],C=w=e[4];for(var H,n=0;80>n;n+=1)H=v+t[r+f[n]]|0,H+=16>n?o(b,E,x)+g[0]:32>n?a(b,E,x)+g[1]:48>n?s(b,E,x)+g[2]:64>n?u(b,E,x)+g[3]:c(b,E,x)+g[4],H=0|H,H=l(H,p[n]),H=H+w|0,v=w,w=x,x=l(E,10),E=b,b=H,H=_+t[r+d[n]]|0,H+=16>n?c(T,R,S)+y[0]:32>n?u(T,R,S)+y[1]:48>n?s(T,R,S)+y[2]:64>n?a(T,R,S)+y[3]:o(T,R,S)+y[4],H=0|H,H=l(H,m[n]),H=H+C|0,_=C,C=S,S=l(R,10),R=T,T=H;H=e[1]+E+S|0,e[1]=e[2]+x+C|0,e[2]=e[3]+w+_|0,e[3]=e[4]+v+T|0,e[4]=e[0]+b+R|0,e[0]=H}function o(e,t,r){return e^t^r}function a(e,t,r){return e&t|~e&r}function s(e,t,r){return(e|~t)^r}function u(e,t,r){return e&r|t&~r}function c(e,t,r){return e^(t|~r)}function l(e,t){return e<<t|e>>>32-t}function h(t){var o=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof t&&(t=new e(t,"utf8"));var a=r(t),s=8*t.length,u=8*t.length;a[s>>>5]|=128<<24-s%32,a[(s+64>>>9<<4)+14]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8);for(var c=0;c<a.length;c+=16)i(o,a,c);for(var c=0;5>c;c++){var l=o[c];o[c]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}var h=n(o);return new e(h)}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],g=[0,1518500249,1859775393,2400959708,2840853838],y=[1352829926,1548603684,1836072691,2053994217,0];t.exports=h}).call(this,e("buffer").Buffer)},{buffer:2}],98:[function(e,t){(function(e){function r(t,r){this._block=new e(t),this._finalSize=r,this._blockSize=t,this._len=0,this._s=0}r.prototype.update=function(t,r){"string"==typeof t&&(r=r||"utf8",t=new e(t,r));for(var n=this._len+=t.length,i=this._s||0,o=0,a=this._block;n>i;){for(var s=Math.min(t.length,o+this._blockSize-i%this._blockSize),u=s-o,c=0;u>c;c++)a[i%this._blockSize+c]=t[c+o];i+=u,o+=u,i%this._blockSize===0&&this._update(a)}return this._s=i,this},r.prototype.digest=function(e){var t=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),t%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(t,this._blockSize-4);var r=this._update(this._block)||this._hash();return e?r.toString(e):r},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=r}).call(this,e("buffer").Buffer)},{buffer:2}],99:[function(e,t,r){var r=t.exports=function(e){var t=r[e.toLowerCase()];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};r.sha1=e("./sha1"),r.sha224=e("./sha224"),r.sha256=e("./sha256"),r.sha384=e("./sha384"),r.sha512=e("./sha512")},{"./sha1":100,"./sha224":101,"./sha256":102,"./sha384":103,"./sha512":104}],100:[function(e,t){(function(r){function n(){this.init(),this._w=s,a.call(this,64,56)}function i(e,t){return e<<t|e>>>32-t}var o=e("inherits"),a=e("./hash"),s=new Array(80);o(n,a),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(e){function t(){return i(o[h-3]^o[h-8]^o[h-14]^o[h-16],1)}function r(e,t){o[h]=e;var r=i(a,5)+t+l+e+n;l=c,c=u,u=i(s,30),s=a,a=r,h++}var n,o=this._w,a=this._a,s=this._b,u=this._c,c=this._d,l=this._e,h=0;for(n=1518500249;16>h;)r(e.readInt32BE(4*h),s&u|~s&c);for(;20>h;)r(t(),s&u|~s&c);for(n=1859775393;40>h;)r(t(),s^u^c);for(n=-1894007588;60>h;)r(t(),s&u|s&c|u&c);for(n=-899497514;80>h;)r(t(),s^u^c);this._a=a+this._a|0,this._b=s+this._b|0,this._c=u+this._c|0,this._d=c+this._d|0,this._e=l+this._e|0},n.prototype._hash=function(){var e=new r(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=n}).call(this,e("buffer").Buffer)},{"./hash":98,buffer:2,inherits:143}],101:[function(e,t){(function(r){function n(){this.init(),this._w=s,a.call(this,64,56)}var i=e("inherits"),o=e("./sha256"),a=e("./hash"),s=new Array(64);i(n,o),n.prototype.init=function(){return this._a=-1056596264,this._b=914150663,this._c=812702999,this._d=-150054599,this._e=-4191439,this._f=1750603025,this._g=1694076839,this._h=-1090891868,this},n.prototype._hash=function(){var e=new r(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},t.exports=n}).call(this,e("buffer").Buffer)},{"./hash":98,"./sha256":102,buffer:2,inherits:143}],102:[function(e,t){(function(r){function n(){this.init(),this._w=m,d.call(this,64,56)}function i(e,t){return e>>>t|e<<32-t}function o(e,t){return e>>>t}function a(e,t,r){return e&t^~e&r}function s(e,t,r){return e&t^e&r^t&r}function u(e){return i(e,2)^i(e,13)^i(e,22)}function c(e){return i(e,6)^i(e,11)^i(e,25)}function l(e){return i(e,7)^i(e,18)^o(e,3)}function h(e){return i(e,17)^i(e,19)^o(e,10)}var f=e("inherits"),d=e("./hash"),p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],m=new Array(64);f(n,d),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this},n.prototype._update=function(e){function t(){return h(n[b-2])+n[b-7]+l(n[b-15])+n[b-16]}function r(e){n[b]=e;var t=v+c(m)+a(m,g,y)+p[b]+e,r=u(i)+s(i,o,f);v=y,y=g,g=m,m=d+t,d=f,f=o,o=i,i=t+r,b++}for(var n=this._w,i=0|this._a,o=0|this._b,f=0|this._c,d=0|this._d,m=0|this._e,g=0|this._f,y=0|this._g,v=0|this._h,b=0;16>b;)r(e.readInt32BE(4*b));for(;64>b;)r(t());this._a=i+this._a|0,this._b=o+this._b|0,this._c=f+this._c|0,this._d=d+this._d|0,this._e=m+this._e|0,this._f=g+this._f|0,this._g=y+this._g|0,this._h=v+this._h|0},n.prototype._hash=function(){var e=new r(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=n}).call(this,e("buffer").Buffer)},{"./hash":98,buffer:2,inherits:143}],103:[function(e,t){(function(r){function n(){this.init(),this._w=s,a.call(this,128,112)}var i=e("inherits"),o=e("./sha512"),a=e("./hash"),s=new Array(160);i(n,o),n.prototype.init=function(){return this._a=-876896931,this._b=1654270250,this._c=-1856437926,this._d=355462360,this._e=1731405415,this._f=-1900787065,this._g=-619958771,this._h=1203062813,this._al=-1056596264,this._bl=914150663,this._cl=812702999,this._dl=-150054599,this._el=-4191439,this._fl=1750603025,this._gl=1694076839,this._hl=-1090891868,this},n.prototype._hash=function(){function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}var t=new r(48);return e(this._a,this._al,0),e(this._b,this._bl,8),e(this._c,this._cl,16),e(this._d,this._dl,24),e(this._e,this._el,32),e(this._f,this._fl,40),t},t.exports=n}).call(this,e("buffer").Buffer)},{"./hash":98,"./sha512":104,buffer:2,inherits:143}],104:[function(e,t){(function(r){function n(){this.init(),this._w=l,u.call(this,128,112)}function i(e,t,r){return e>>>r|t<<32-r}function o(e,t,r){return e&t^~e&r}function a(e,t,r){return e&t^e&r^t&r}var s=e("inherits"),u=e("./hash"),c=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],l=new Array(160);s(n,u),n.prototype.init=function(){return this._a=1779033703,this._b=-1150833019,this._c=1013904242,this._d=-1521486534,this._e=1359893119,this._f=-1694144372,this._g=528734635,this._h=1541459225,this._al=-205731576,this._bl=-2067093701,this._cl=-23791573,this._dl=1595750129,this._el=-1377402159,this._fl=725511199,this._gl=-79577749,this._hl=327033209,this},n.prototype._update=function(e){function t(){var e=u[C-30],t=u[C-30+1],r=i(e,t,1)^i(e,t,8)^e>>>7,o=i(t,e,1)^i(t,e,8)^i(t,e,7);e=u[C-4],t=u[C-4+1];var a=i(e,t,19)^i(t,e,29)^e>>>6,c=i(t,e,19)^i(e,t,29)^i(t,e,6),l=u[C-14],h=u[C-14+1],f=u[C-32],d=u[C-32+1];s=o+h,n=r+l+(o>>>0>s>>>0?1:0),s+=c,n=n+a+(c>>>0>s>>>0?1:0),s+=d,n=n+f+(d>>>0>s>>>0?1:0)}function r(){u[C]=n,u[C+1]=s;var e=a(l,h,f),t=a(v,b,E),r=i(l,v,28)^i(v,l,2)^i(v,l,7),H=i(v,l,28)^i(l,v,2)^i(l,v,7),M=i(p,w,14)^i(p,w,18)^i(w,p,9),A=i(w,p,14)^i(w,p,18)^i(p,w,9),N=c[C],P=c[C+1],k=o(p,m,g),O=o(w,_,T),L=R+A,D=y+M+(R>>>0>L>>>0?1:0);L+=O,D=D+k+(O>>>0>L>>>0?1:0),L+=P,D=D+N+(P>>>0>L>>>0?1:0),L+=s,D=D+n+(s>>>0>L>>>0?1:0);var F=H+t,B=r+e+(H>>>0>F>>>0?1:0);y=g,R=T,g=m,T=_,m=p,_=w,w=x+L|0,p=d+D+(x>>>0>w>>>0?1:0)|0,d=f,x=E,f=h,E=b,h=l,b=v,v=L+F|0,l=D+B+(L>>>0>v>>>0?1:0)|0,S++,C+=2}for(var n,s,u=this._w,l=0|this._a,h=0|this._b,f=0|this._c,d=0|this._d,p=0|this._e,m=0|this._f,g=0|this._g,y=0|this._h,v=0|this._al,b=0|this._bl,E=0|this._cl,x=0|this._dl,w=0|this._el,_=0|this._fl,T=0|this._gl,R=0|this._hl,S=0,C=0;16>S;)n=e.readInt32BE(4*C),s=e.readInt32BE(4*C+4),r();for(;80>S;)t(),r();this._al=this._al+v|0,this._bl=this._bl+b|0,this._cl=this._cl+E|0,this._dl=this._dl+x|0,this._el=this._el+w|0,this._fl=this._fl+_|0,this._gl=this._gl+T|0,this._hl=this._hl+R|0,this._a=this._a+l+(this._al>>>0<v>>>0?1:0)|0,this._b=this._b+h+(this._bl>>>0<b>>>0?1:0)|0,this._c=this._c+f+(this._cl>>>0<E>>>0?1:0)|0,this._d=this._d+d+(this._dl>>>0<x>>>0?1:0)|0,this._e=this._e+p+(this._el>>>0<w>>>0?1:0)|0,this._f=this._f+m+(this._fl>>>0<_>>>0?1:0)|0,this._g=this._g+g+(this._gl>>>0<T>>>0?1:0)|0,this._h=this._h+y+(this._hl>>>0<R>>>0?1:0)|0},n.prototype._hash=function(){function e(e,r,n){t.writeInt32BE(e,n),t.writeInt32BE(r,n+4)}var t=new r(64);return e(this._a,this._al,0),e(this._b,this._bl,8),e(this._c,this._cl,16),e(this._d,this._dl,24),e(this._e,this._el,32),e(this._f,this._fl,40),e(this._g,this._gl,48),e(this._h,this._hl,56),t},t.exports=n}).call(this,e("buffer").Buffer)},{"./hash":98,buffer:2,inherits:143}],105:[function(e,t){(function(r){"use strict";function n(e,t){a.call(this),"string"==typeof t&&(t=new r(t));var n="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>n?t=i(e).update(t).digest():t.length<n&&(t=r.concat([t,s],n));for(var o=this._ipad=new r(n),u=this._opad=new r(n),c=0;n>c;c++)o[c]=54^t[c],u[c]=92^t[c];this._hash=i(e).update(o)}var i=e("create-hash/browser"),o=e("inherits"),a=e("stream").Transform,s=new r(128);s.fill(0),o(n,a),n.prototype.update=function(e,t){return this._hash.update(e,t),this},n.prototype._transform=function(e,t,r){this._hash.update(e),r()},n.prototype._flush=function(e){this.push(this.digest()),e()},n.prototype.digest=function(e){var t=this._hash.digest();return i(this._alg).update(this._opad).update(t).digest(e)},t.exports=function(e,t){return new n(e,t)}}).call(this,e("buffer").Buffer)},{buffer:2,"create-hash/browser":94,inherits:143,stream:157}],106:[function(e,t,r){(function(t){function n(e){var r=new t(a[e].prime,"hex"),n=new t(a[e].gen,"hex");return new s(r,n)}function i(e,r,n,i){return(t.isBuffer(r)||"string"==typeof r&&-1===["hex","binary","base64"].indexOf(r))&&(i=n,n=r,r=void 0),r=r||"binary",i=i||"binary",n=n||new t([2]),t.isBuffer(n)||(n=new t(n,i)),"number"==typeof e?new s(o(e,n),n,!0):(t.isBuffer(e)||(e=new t(e,r)),new s(e,n,!0))}var o=e("./lib/generatePrime"),a=e("./lib/primes"),s=e("./lib/dh");r.DiffieHellmanGroup=r.createDiffieHellmanGroup=r.getDiffieHellman=n,r.createDiffieHellman=r.DiffieHellman=i}).call(this,e("buffer").Buffer)},{"./lib/dh":107,"./lib/generatePrime":108,"./lib/primes":109,buffer:2}],107:[function(e,t){(function(r){function n(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this._pub=new c(e),this}function i(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this._priv=new c(e),this}function o(e,t){var r=t.toString("hex"),n=[r,e.toString(16)].join("_");if(n in b)return b[n];var i=0;if(e.isEven()||!y.simpleSieve||!y.fermatTest(e)||!h.test(e))return i+=1,i+="02"===r||"05"===r?8:4,b[n]=i,i;h.test(e.shrn(1))||(i+=2);var o;switch(r){case"02":e.mod(f).cmp(d)&&(i+=8);break;case"05":o=e.mod(p),o.cmp(m)&&o.cmp(g)&&(i+=8);break;default:i+=4}return b[n]=i,i}function a(e,t){try{Object.defineProperty(e,"verifyError",{enumerable:!0,value:t,writable:!1})}catch(r){e.verifyError=t}}function s(e,t,r){this.setGenerator(t),this.__prime=new c(e),this._prime=c.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,r?(this.setPublicKey=n,this.setPrivateKey=i,a(this,o(this.__prime,t))):a(this,8)}function u(e,t){var n=new r(e.toArray());return t?n.toString(t):n}var c=e("bn.js"),l=e("miller-rabin"),h=new l,f=new c(24),d=new c(11),p=new c(10),m=new c(3),g=new c(7),y=e("./generatePrime"),v=e("randombytes");t.exports=s;var b={};s.prototype.generateKeys=function(){return this._priv||(this._priv=new c(v(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},s.prototype.computeSecret=function(e){e=new c(e),e=e.toRed(this._prime);var t=e.redPow(this._priv).fromRed(),n=new r(t.toArray()),i=this.getPrime();if(n.length<i.length){var o=new r(i.length-n.length);o.fill(0),n=r.concat([o,n])}return n},s.prototype.getPublicKey=function(e){return u(this._pub,e)},s.prototype.getPrivateKey=function(e){return u(this._priv,e)},s.prototype.getPrime=function(e){return u(this.__prime,e)},s.prototype.getGenerator=function(e){return u(this._gen,e)},s.prototype.setGenerator=function(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this._gen=new c(e),this}}).call(this,e("buffer").Buffer)},{"./generatePrime":108,"bn.js":110,buffer:2,"miller-rabin":111,randombytes:141}],108:[function(e,t){function r(){if(null!==x)return x;var e=1048576,t=[];t[0]=2;for(var r=1,n=3;e>n;n+=2){for(var i=Math.ceil(Math.sqrt(n)),o=0;r>o&&t[o]<=i&&n%t[o]!==0;o++);r!==o&&t[o]<=i||(t[r++]=n)}return x=t,t}function n(e){for(var t=r(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n])?!0:!1;return!0}function i(e){var t=s.mont(e);return 0===f.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function o(e,t){function r(e){o=-1;for(var r=new s(a(Math.ceil(e/8)));r.bitLength()>e;)r.ishrn(1);if(r.isEven()&&r.iadd(h),r.testn(1)||r.iadd(f),t.cmp(f))if(t.cmp(d))c={major:[b],minor:[f]};else{for(rem=r.mod(g);rem.cmp(y);)r.iadd(b),rem=r.mod(g);c={major:[b,p],minor:[f,m]}}else{for(;r.mod(u).cmp(v);)r.iadd(b);c={major:[u],minor:[E]}}return r}if(16>e)return new s(2===t||5===t?[140,123]:[140,39]);t=new s(t);for(var o,c,x=r(e),w=x.shrn(1);;){for(;x.bitLength()>e;)x=r(e),w=x.shrn(1);if(o++,n(w)&&n(x)&&i(w)&&i(x)&&l.test(w)&&l.test(x))return x;x.iadd(c.major[o%c.major.length]),w.iadd(c.minor[o%c.minor.length])}}var a=e("randombytes");t.exports=o,o.simpleSieve=n,o.fermatTest=i;var s=e("bn.js"),u=new s(24),c=e("miller-rabin"),l=new c,h=new s(1),f=new s(2),d=new s(5),p=new s(16),m=new s(8),g=new s(10),y=new s(3),v=(new s(7),new s(11)),b=new s(4),E=new s(12),x=null},{"bn.js":110,"miller-rabin":111,randombytes:141}],109:[function(e,t){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}
},{}],110:[function(e,t){t.exports=e(27)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\bn.js\\lib\\bn.js":27}],111:[function(e,t){function r(e){this.rand=e||new i.Rand}var n=e("bn.js"),i=e("brorand");t.exports=r,r.create=function(e){return new r(e)},r.prototype._rand=function(e){var t=e.bitLength(),r=this.rand.generate(Math.ceil(t/8));r[0]|=3;var i=7&t;return 0!==i&&(r[r.length-1]>>=7-i),new n(r)},r.prototype.test=function(e,t,r){var i=e.bitLength(),o=n.mont(e),a=new n(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var s=e.subn(1),u=s.subn(1),c=0;!s.testn(c);c++);for(var l=e.shrn(c),h=s.toRed(o),f=!0;t>0;t--){var d=this._rand(u);r&&r(d);var p=d.toRed(o).redPow(l);if(0!==p.cmp(a)&&0!==p.cmp(h)){for(var m=1;c>m;m++){if(p=p.redSqr(),0===p.cmp(a))return!1;if(0===p.cmp(h))break}if(m===c)return!1}}return f},r.prototype.getDivisor=function(e,t){var r=e.bitLength(),i=n.mont(e),o=new n(1).toRed(i);t||(t=Math.max(1,r/48|0));for(var a=e.subn(1),s=a.subn(1),u=0;!a.testn(u);u++);for(var c=e.shrn(u),l=a.toRed(i),h=!0;t>0;t--){var f=this._rand(s),d=e.gcd(f);if(0!==d.cmpn(1))return d;var p=f.toRed(i).redPow(c);if(0!==p.cmp(o)&&0!==p.cmp(l)){for(var m=1;u>m;m++){if(p=p.redSqr(),0===p.cmp(o))return p.fromRed().subn(1).gcd(e);if(0===p.cmp(l))break}if(m===u)return p=p.redSqr(),p.fromRed().subn(1).gcd(e)}}return h}},{"bn.js":110,brorand:112}],112:[function(e,t){t.exports=e(41)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\elliptic\\node_modules\\brorand\\index.js":41}],113:[function(e,t,r){(function(t){function n(e,t,r,n,o,a){if("function"==typeof o&&(a=o,o=void 0),"function"!=typeof a)throw new Error("No callback provided to pbkdf2");var s=i(e,t,r,n,o);setTimeout(function(){a(void 0,s)})}function i(e,r,n,i,a){if("number"!=typeof n)throw new TypeError("Iterations not a number");if(0>n)throw new TypeError("Bad iterations");if("number"!=typeof i)throw new TypeError("Key length not a number");if(0>i)throw new TypeError("Bad key length");a=a||"sha1",t.isBuffer(e)||(e=new t(e)),t.isBuffer(r)||(r=new t(r));var s,u=1,c=new t(i),l=new t(r.length+4);r.copy(l,0,0,r.length);for(var h,f,d=1;u>=d;d++){l.writeUInt32BE(d,r.length);var p=o(a,e).update(l).digest();if(!s&&(s=p.length,f=new t(s),u=Math.ceil(i/s),h=i-(u-1)*s,i>(Math.pow(2,32)-1)*s))throw new TypeError("keylen exceeds maximum length");p.copy(f,0,0,s);for(var m=1;n>m;m++){p=o(a,e).update(p).digest();for(var g=0;s>g;g++)f[g]^=p[g]}var y=(d-1)*s,v=d===u?h:s;f.copy(c,y,0,v)}return c}var o=e("create-hmac");r.pbkdf2=n,r.pbkdf2Sync=i}).call(this,e("buffer").Buffer)},{buffer:2,"create-hmac":105}],114:[function(e,t){t.exports=function(t,r){t.publicEncrypt=e("./publicEncrypt")(r),t.privateDecrypt=e("./privateDecrypt")(r)}},{"./privateDecrypt":138,"./publicEncrypt":139}],115:[function(e,t){(function(e){function r(t){var r=new e(4);return r.writeUInt32BE(t,0),r}t.exports=function(t,n,i){for(var o,a=new e(""),s=0;a.length<n;)o=r(s++),a=e.concat([a,i.createHash("sha1").update(t).update(o).digest()]);return a.slice(0,n)}}).call(this,e("buffer").Buffer)},{buffer:2}],116:[function(e,t){t.exports=e(27)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\bn.js\\lib\\bn.js":27}],117:[function(e,t){t.exports=e(28)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\browserify-rsa\\index.js":28,"bn.js":116,buffer:2}],118:[function(e,t){t.exports=e(49)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\EVP_BytesToKey.js":49,buffer:2}],119:[function(e,t){t.exports=e(50)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\aesid.json":50}],120:[function(e,t){t.exports=e(51)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\asn1.js":51,"asn1.js":124,"asn1.js-rfc3280":123}],121:[function(e,t){t.exports=e(52)},{"./EVP_BytesToKey":118,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\fixProc.js":52,buffer:2}],122:[function(e,t){t.exports=e(53)},{"./aesid.json":119,"./asn1":120,"./fixProc":121,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\index.js":53,buffer:2,pemstrip:137}],123:[function(e,t){t.exports=e(54)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\node_modules\\asn1.js-rfc3280\\index.js":54,"asn1.js":124}],124:[function(e,t){t.exports=e(55)},{"./asn1/api":125,"./asn1/base":127,"./asn1/constants":131,"./asn1/decoders":133,"./asn1/encoders":135,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\node_modules\\asn1.js\\lib\\asn1.js":55,"bn.js":116}],125:[function(e,t){t.exports=e(56)},{"../asn1":124,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\node_modules\\asn1.js\\lib\\asn1\\api.js":56,inherits:143,vm:159}],126:[function(e,t){t.exports=e(57)},{"../base":127,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\node_modules\\asn1.js\\lib\\asn1\\base\\buffer.js":57,buffer:2,inherits:143}],127:[function(e,t){t.exports=e(58)},{"./buffer":126,"./node":128,"./reporter":129,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\node_modules\\asn1.js\\lib\\asn1\\base\\index.js":58}],128:[function(e,t){t.exports=e(59)},{"../base":127,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\node_modules\\asn1.js\\lib\\asn1\\base\\node.js":59,"minimalistic-assert":136}],129:[function(e,t){t.exports=e(60)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\node_modules\\asn1.js\\lib\\asn1\\base\\reporter.js":60,inherits:143}],130:[function(e,t){t.exports=e(61)},{"../constants":131,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\node_modules\\asn1.js\\lib\\asn1\\constants\\der.js":61}],131:[function(e,t){t.exports=e(62)},{"./der":130,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\node_modules\\asn1.js\\lib\\asn1\\constants\\index.js":62}],132:[function(e,t){t.exports=e(63)},{"../../asn1":124,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\node_modules\\asn1.js\\lib\\asn1\\decoders\\der.js":63,inherits:143}],133:[function(e,t){t.exports=e(64)},{"./der":132,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\node_modules\\asn1.js\\lib\\asn1\\decoders\\index.js":64}],134:[function(e,t){t.exports=e(65)},{"../../asn1":124,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\node_modules\\asn1.js\\lib\\asn1\\encoders\\der.js":65,buffer:2,inherits:143}],135:[function(e,t){t.exports=e(66)},{"./der":134,"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\node_modules\\asn1.js\\lib\\asn1\\encoders\\index.js":66}],136:[function(e,t){t.exports=e(67)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\node_modules\\asn1.js\\node_modules\\minimalistic-assert\\index.js":67}],137:[function(e,t){t.exports=e(68)},{"D:\\Documents\\rotations-explained\\node_modules\\ember-browserify\\node_modules\\browserify\\node_modules\\crypto-browserify\\node_modules\\browserify-sign\\node_modules\\parse-asn1\\node_modules\\pemstrip\\index.js":68}],138:[function(e,t){(function(r){function n(e,t,n){var i=(e.modulus,e.modulus.byteLength()),a=(t.length,n.createHash("sha1").update(new r("")).digest()),c=a.length;if(0!==t[0])throw new Error("decryption error");var l=t.slice(1,c+1),h=t.slice(c+1),f=u(l,s(h,c,n)),d=u(h,s(f,i-c-1,n));if(o(a,d.slice(0,c)))throw new Error("decryption error");for(var p=c;0===d[p];)p++;if(1!==d[p++])throw new Error("decryption error");return d.slice(p)}function i(e,t){for(var r=t.slice(0,2),n=2,i=0;0!==t[n++];)if(n>=t.length){i++;break}{var o=t.slice(2,n-1);t.slice(n-1,n)}return"0002"!==r.toString("hex")&&i++,o.length<8&&i++,t.slice(n)}function o(e,t){var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));for(var i=-1;++i<n;)r+=e[i]^t[i];return r}var a=e("parse-asn1"),s=e("./mgf"),u=e("./xor"),c=e("bn.js"),l=e("browserify-rsa");t.exports=function(e){function t(t,o){var s;s=t.padding?t.padding:4;var u=a(t,e),h=u.modulus.byteLength();if(o.length>h||new c(o).cmp(u.modulus)>=0)throw new Error("decryption error");var f=l(o,u,e),d=new r(h-f.length);if(d.fill(0),f=r.concat([d,f],h),4===s)return n(u,f,e);if(1===s)return i(u,f,e);if(3===s)return f;throw new Error("unknown padding")}return t}}).call(this,e("buffer").Buffer)},{"./mgf":115,"./xor":140,"bn.js":116,"browserify-rsa":117,buffer:2,"parse-asn1":122}],139:[function(e,t){(function(r){function n(e,t,n){var i=e.modulus.byteLength(),o=t.length,a=n.createHash("sha1").update(new r("")).digest(),l=a.length,h=2*l;if(o>i-h-2)throw new Error("message too long");var f=new r(i-o-h-2);f.fill(0);var d=i-l-1,p=n.randomBytes(l),m=u(r.concat([a,f,new r([1]),t],d),s(p,d,n)),g=u(p,s(m,l,n));return new c(r.concat([new r([0]),g,m],i))}function i(e,t,n){var i=t.length,a=e.modulus.byteLength();if(i>a-11)throw new Error("message too long");var s=o(a-i-3,n);return new c(r.concat([new r([0,2]),s,new r([0]),t],a))}function o(e,t){for(var n,i=new r(e),o=0,a=t.randomBytes(2*e),s=0;e>o;)s===a.length&&(a=t.randomBytes(2*e),s=0),n=a[s++],n&&(i[o++]=n);return i}var a=e("parse-asn1"),s=e("./mgf"),u=e("./xor"),c=e("bn.js");t.exports=function(e){function t(t,o){var s;s=t.padding?t.padding:4;var u,l=a(t);if(4===s)u=n(l,o,e);else if(1===s)u=i(l,o,e);else{if(3!==s)throw new Error("unknown padding");if(u=new c(o),u.cmp(l.modulus)>=0)throw new Error("data too long for modulus")}var h=u.toRed(c.mont(l.modulus)).redPow(new c(l.publicExponent)).fromRed().toArray();return new r(h)}return t}}).call(this,e("buffer").Buffer)},{"./mgf":115,"./xor":140,"bn.js":116,buffer:2,"parse-asn1":122}],140:[function(e,t){t.exports=function(e,t){for(var r=e.length,n=-1;++n<r;)e[n]^=t[n];return e}},{}],141:[function(e,t){(function(e,r,n){"use strict";function i(t,r){var i=new n(t);return a.getRandomValues(i),"function"==typeof r?e.nextTick(function(){r(null,i)}):i}function o(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var a=r.crypto||r.msCrypto;t.exports=a&&a.getRandomValues?i:o}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{_process:145,buffer:2}],142:[function(e,t){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function i(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,r,i,s,u,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(r=this._events[e],a(r))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:for(i=arguments.length,s=new Array(i-1),u=1;i>u;u++)s[u-1]=arguments[u];r.apply(this,s)}else if(o(r)){for(i=arguments.length,s=new Array(i-1),u=1;i>u;u++)s[u-1]=arguments[u];for(c=r.slice(),i=c.length,u=0;i>u;u++)c[u].apply(this,s)}return!0},r.prototype.addListener=function(e,t){var i;if(!n(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var i;i=a(this._maxListeners)?r.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){function r(){this.removeListener(e,r),i||(i=!0,t.apply(this,arguments))}if(!n(t))throw TypeError("listener must be a function");var i=!1;return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var r,i,a,s;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(r=this._events[e],a=r.length,i=-1,r===t||n(r.listener)&&r.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(r)){for(s=a;s-->0;)if(r[s]===t||r[s].listener&&r[s].listener===t){i=s;break}if(0>i)return this;1===r.length?(r.length=0,delete this._events[e]):r.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r=this._events[e],n(r))this.removeListener(e,r);else for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.listenerCount=function(e,t){var r;return r=e._events&&e._events[t]?n(e._events[t])?1:e._events[t].length:0}},{}],143:[function(e,t){t.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},{}],144:[function(e,t){t.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},{}],145:[function(e,t){function r(){}var n=t.exports={};n.nextTick=function(){var e="undefined"!=typeof window&&window.setImmediate,t="undefined"!=typeof window&&window.MutationObserver,r="undefined"!=typeof window&&window.postMessage&&window.addEventListener;if(e)return function(e){return window.setImmediate(e)};var n=[];if(t){var i=document.createElement("div"),o=new MutationObserver(function(){var e=n.slice();n.length=0,e.forEach(function(e){e()})});return o.observe(i,{attributes:!0}),function(e){n.length||i.setAttribute("yes","no"),n.push(e)}}return r?(window.addEventListener("message",function(e){var t=e.source;if((t===window||null===t)&&"process-tick"===e.data&&(e.stopPropagation(),n.length>0)){var r=n.shift();r()}},!0),function(e){n.push(e),window.postMessage("process-tick","*")}):function(e){setTimeout(e,0)}}(),n.title="browser",n.browser=!0,n.env={},n.argv=[],n.on=r,n.addListener=r,n.once=r,n.off=r,n.removeListener=r,n.removeAllListeners=r,n.emit=r,n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")}},{}],146:[function(e,t){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":147}],147:[function(e,t){(function(r){function n(e){return this instanceof n?(u.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",i)):new n(e)}function i(){this.allowHalfOpen||this._writableState.ended||r.nextTick(this.end.bind(this))}function o(e,t){for(var r=0,n=e.length;n>r;r++)t(e[r],r)}t.exports=n;var a=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t},s=e("core-util-is");s.inherits=e("inherits");var u=e("./_stream_readable"),c=e("./_stream_writable");s.inherits(n,u),o(a(c.prototype),function(e){n.prototype[e]||(n.prototype[e]=c.prototype[e])})}).call(this,e("_process"))},{"./_stream_readable":149,"./_stream_writable":151,_process:145,"core-util-is":152,inherits:143}],148:[function(e,t){function r(e){return this instanceof r?void n.call(this,e):new r(e)}t.exports=r;var n=e("./_stream_transform"),i=e("core-util-is");i.inherits=e("inherits"),i.inherits(r,n),r.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":150,"core-util-is":152,inherits:143}],149:[function(e,t){(function(r){function n(t){t=t||{};var r=t.highWaterMark;this.highWaterMark=r||0===r?r:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=!1,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.calledRead=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.objectMode=!!t.objectMode,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(H||(H=e("string_decoder/").StringDecoder),this.decoder=new H(t.encoding),this.encoding=t.encoding)}function i(e){return this instanceof i?(this._readableState=new n(e,this),this.readable=!0,void S.call(this)):new i(e)}function o(e,t,r,n,i){var o=c(t,r);if(o)e.emit("error",o);else if(null===r||void 0===r)t.reading=!1,t.ended||l(e,t);else if(t.objectMode||r&&r.length>0)if(t.ended&&!i){var s=new Error("stream.push() after EOF");e.emit("error",s)}else if(t.endEmitted&&i){var s=new Error("stream.unshift() after end event");e.emit("error",s)}else!t.decoder||i||n||(r=t.decoder.write(r)),t.length+=t.objectMode?1:r.length,i?t.buffer.unshift(r):(t.reading=!1,t.buffer.push(r)),t.needReadable&&h(e),d(e,t);else i||(t.reading=!1);return a(t)}function a(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function s(e){if(e>=M)e=M;else{e--;for(var t=1;32>t;t<<=1)e|=e>>t;e++}return e}function u(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=s(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function c(e,t){var r=null;return T.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(r=new TypeError("Invalid non-string/buffer chunk")),r}function l(e,t){if(t.decoder&&!t.ended){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.length>0?h(e):E(e)}function h(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,t.sync?r.nextTick(function(){f(e)}):f(e))}function f(e){e.emit("readable")}function d(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(function(){p(e,t)}))}function p(e,t){for(var r=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(e.read(0),r!==t.length);)r=t.length;t.readingMore=!1}function m(e){return function(){var t=e._readableState;t.awaitDrain--,0===t.awaitDrain&&g(e)}}function g(e){function t(e){var t=e.write(r);!1===t&&n.awaitDrain++}var r,n=e._readableState;for(n.awaitDrain=0;n.pipesCount&&null!==(r=e.read());)if(1===n.pipesCount?t(n.pipes,0,null):x(n.pipes,t),e.emit("data",r),n.awaitDrain>0)return;return 0===n.pipesCount?(n.flowing=!1,void(R.listenerCount(e,"data")>0&&v(e))):void(n.ranOut=!0)}function y(){this._readableState.ranOut&&(this._readableState.ranOut=!1,g(this))}function v(e,t){var n=e._readableState;if(n.flowing)throw new Error("Cannot switch to old mode now.");var i=t||!1,o=!1;e.readable=!0,e.pipe=S.prototype.pipe,e.on=e.addListener=S.prototype.on,e.on("readable",function(){o=!0;for(var t;!i&&null!==(t=e.read());)e.emit("data",t);null===t&&(o=!1,e._readableState.needReadable=!0)}),e.pause=function(){i=!0,this.emit("pause")},e.resume=function(){i=!1,o?r.nextTick(function(){e.emit("readable")}):this.read(0),this.emit("resume")},e.emit("readable")}function b(e,t){var r,n=t.buffer,i=t.length,o=!!t.decoder,a=!!t.objectMode;if(0===n.length)return null;if(0===i)r=null;else if(a)r=n.shift();else if(!e||e>=i)r=o?n.join(""):T.concat(n,i),n.length=0;else if(e<n[0].length){var s=n[0];r=s.slice(0,e),n[0]=s.slice(e)}else if(e===n[0].length)r=n.shift();else{r=o?"":new T(e);for(var u=0,c=0,l=n.length;l>c&&e>u;c++){var s=n[0],h=Math.min(e-u,s.length);o?r+=s.slice(0,h):s.copy(r,u,0,h),h<s.length?n[0]=s.slice(h):n.shift(),u+=h}}return r}function E(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");!t.endEmitted&&t.calledRead&&(t.ended=!0,r.nextTick(function(){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}))}function x(e,t){for(var r=0,n=e.length;n>r;r++)t(e[r],r)}function w(e,t){for(var r=0,n=e.length;n>r;r++)if(e[r]===t)return r;return-1}t.exports=i;var _=e("isarray"),T=e("buffer").Buffer;i.ReadableState=n;var R=e("events").EventEmitter;R.listenerCount||(R.listenerCount=function(e,t){return e.listeners(t).length});var S=e("stream"),C=e("core-util-is");C.inherits=e("inherits");var H;C.inherits(i,S),i.prototype.push=function(e,t){var r=this._readableState;return"string"!=typeof e||r.objectMode||(t=t||r.defaultEncoding,t!==r.encoding&&(e=new T(e,t),t="")),o(this,r,e,t,!1)},i.prototype.unshift=function(e){var t=this._readableState;return o(this,t,e,"",!0)},i.prototype.setEncoding=function(t){H||(H=e("string_decoder/").StringDecoder),this._readableState.decoder=new H(t),this._readableState.encoding=t};var M=8388608;i.prototype.read=function(e){var t=this._readableState;t.calledRead=!0;var r,n=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return h(this),null;if(e=u(e,t),0===e&&t.ended)return r=null,t.length>0&&t.decoder&&(r=b(e,t),t.length-=r.length),0===t.length&&E(this),r;var i=t.needReadable;return t.length-e<=t.highWaterMark&&(i=!0),(t.ended||t.reading)&&(i=!1),i&&(t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),i&&!t.reading&&(e=u(n,t)),r=e>0?b(e,t):null,null===r&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),t.ended&&!t.endEmitted&&0===t.length&&E(this),r},i.prototype._read=function(){this.emit("error",new Error("not implemented"))},i.prototype.pipe=function(e,t){function n(e){e===l&&o()}function i(){e.end()}function o(){e.removeListener("close",s),e.removeListener("finish",u),e.removeListener("drain",p),e.removeListener("error",a),e.removeListener("unpipe",n),l.removeListener("end",i),l.removeListener("end",o),(!e._writableState||e._writableState.needDrain)&&p()}function a(t){c(),e.removeListener("error",a),0===R.listenerCount(e,"error")&&e.emit("error",t)}function s(){e.removeListener("finish",u),c()}function u(){e.removeListener("close",s),c()}function c(){l.unpipe(e)}var l=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1;var f=(!t||t.end!==!1)&&e!==r.stdout&&e!==r.stderr,d=f?i:o;h.endEmitted?r.nextTick(d):l.once("end",d),e.on("unpipe",n);var p=m(l);return e.on("drain",p),e._events&&e._events.error?_(e._events.error)?e._events.error.unshift(a):e._events.error=[a,e._events.error]:e.on("error",a),e.once("close",s),e.once("finish",u),e.emit("pipe",l),h.flowing||(this.on("readable",y),h.flowing=!0,r.nextTick(function(){g(l)})),e},i.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,this.removeListener("readable",y),t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var r=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,this.removeListener("readable",y),t.flowing=!1;for(var i=0;n>i;i++)r[i].emit("unpipe",this);return this}var i=w(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},i.prototype.on=function(e,t){var r=S.prototype.on.call(this,e,t);if("data"!==e||this._readableState.flowing||v(this),"readable"===e&&this.readable){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&h(this,n):this.read(0))}return r},i.prototype.addListener=i.prototype.on,i.prototype.resume=function(){v(this),this.read(0),this.emit("resume")},i.prototype.pause=function(){v(this,!0),this.emit("pause")},i.prototype.wrap=function(e){var t=this._readableState,r=!1,n=this;e.on("end",function(){if(t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(i){if(t.decoder&&(i=t.decoder.write(i)),(!t.objectMode||null!==i&&void 0!==i)&&(t.objectMode||i&&i.length)){var o=n.push(i);o||(r=!0,e.pause())}});for(var i in e)"function"==typeof e[i]&&"undefined"==typeof this[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));var o=["error","close","destroy","pause","resume"];return x(o,function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(){r&&(r=!1,e.resume())},n},i._fromList=b}).call(this,e("_process"))},{_process:145,buffer:2,"core-util-is":152,events:142,inherits:143,isarray:144,stream:157,"string_decoder/":158}],150:[function(e,t){function r(e,t){this.afterTransform=function(e,r){return n(t,e,r)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null}function n(e,t,r){var n=e._transformState;n.transforming=!1;var i=n.writecb;if(!i)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!==r&&void 0!==r&&e.push(r),i&&i(t);var o=e._readableState;o.reading=!1,(o.needReadable||o.length<o.highWaterMark)&&e._read(o.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);a.call(this,e);var t=(this._transformState=new r(e,this),this);this._readableState.needReadable=!0,this._readableState.sync=!1,this.once("finish",function(){"function"==typeof this._flush?this._flush(function(e){o(t,e)}):o(t)})}function o(e,t){if(t)return e.emit("error",t);var r=e._writableState,n=(e._readableState,e._transformState);if(r.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=i;var a=e("./_stream_duplex"),s=e("core-util-is");s.inherits=e("inherits"),s.inherits(i,a),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},i.prototype._transform=function(){throw new Error("not implemented")},i.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0}},{"./_stream_duplex":147,"core-util-is":152,inherits:143}],151:[function(e,t){(function(r){function n(e,t,r){this.chunk=e,this.encoding=t,this.callback=r}function i(e,t){e=e||{};var r=e.highWaterMark;this.highWaterMark=r||0===r?r:16384,this.objectMode=!!e.objectMode,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var n=e.decodeStrings===!1;this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){d(t,e)},this.writecb=null,this.writelen=0,this.buffer=[],this.errorEmitted=!1}function o(t){var r=e("./_stream_duplex");return this instanceof o||this instanceof r?(this._writableState=new i(t,this),this.writable=!0,void w.call(this)):new o(t)}function a(e,t,n){var i=new Error("write after end");e.emit("error",i),r.nextTick(function(){n(i)})}function s(e,t,n,i){var o=!0;if(!E.isBuffer(n)&&"string"!=typeof n&&null!==n&&void 0!==n&&!t.objectMode){var a=new TypeError("Invalid non-string/buffer chunk");e.emit("error",a),r.nextTick(function(){i(a)}),o=!1}return o}function u(e,t,r){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new E(t,r)),t}function c(e,t,r,i,o){r=u(t,r,i),E.isBuffer(r)&&(i="buffer");var a=t.objectMode?1:r.length;t.length+=a;var s=t.length<t.highWaterMark;return s||(t.needDrain=!0),t.writing?t.buffer.push(new n(r,i,o)):l(e,t,a,r,i,o),s}function l(e,t,r,n,i,o){t.writelen=r,t.writecb=o,t.writing=!0,t.sync=!0,e._write(n,i,t.onwrite),t.sync=!1}function h(e,t,n,i,o){n?r.nextTick(function(){o(i)}):o(i),e._writableState.errorEmitted=!0,e.emit("error",i)}function f(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function d(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if(f(n),t)h(e,n,i,t,o);else{var a=y(e,n);a||n.bufferProcessing||!n.buffer.length||g(e,n),i?r.nextTick(function(){p(e,n,a,o)}):p(e,n,a,o)}}function p(e,t,r,n){r||m(e,t),n(),r&&v(e,t)}function m(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function g(e,t){t.bufferProcessing=!0;for(var r=0;r<t.buffer.length;r++){var n=t.buffer[r],i=n.chunk,o=n.encoding,a=n.callback,s=t.objectMode?1:i.length;if(l(e,t,s,i,o,a),t.writing){r++;break}}t.bufferProcessing=!1,r<t.buffer.length?t.buffer=t.buffer.slice(r):t.buffer.length=0
}function y(e,t){return t.ending&&0===t.length&&!t.finished&&!t.writing}function v(e,t){var r=y(e,t);return r&&(t.finished=!0,e.emit("finish")),r}function b(e,t,n){t.ending=!0,v(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n)),t.ended=!0}t.exports=o;var E=e("buffer").Buffer;o.WritableState=i;var x=e("core-util-is");x.inherits=e("inherits");var w=e("stream");x.inherits(o,w),o.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},o.prototype.write=function(e,t,r){var n=this._writableState,i=!1;return"function"==typeof t&&(r=t,t=null),E.isBuffer(e)?t="buffer":t||(t=n.defaultEncoding),"function"!=typeof r&&(r=function(){}),n.ended?a(this,n,r):s(this,n,e,r)&&(i=c(this,n,e,t,r)),i},o.prototype._write=function(e,t,r){r(new Error("not implemented"))},o.prototype.end=function(e,t,r){var n=this._writableState;"function"==typeof e?(r=e,e=null,t=null):"function"==typeof t&&(r=t,t=null),"undefined"!=typeof e&&null!==e&&this.write(e,t),n.ending||n.finished||b(this,n,r)}}).call(this,e("_process"))},{"./_stream_duplex":147,_process:145,buffer:2,"core-util-is":152,inherits:143,stream:157}],152:[function(e,t,r){(function(e){function t(e){return Array.isArray(e)}function n(e){return"boolean"==typeof e}function i(e){return null===e}function o(e){return null==e}function a(e){return"number"==typeof e}function s(e){return"string"==typeof e}function u(e){return"symbol"==typeof e}function c(e){return void 0===e}function l(e){return h(e)&&"[object RegExp]"===y(e)}function h(e){return"object"==typeof e&&null!==e}function f(e){return h(e)&&"[object Date]"===y(e)}function d(e){return h(e)&&("[object Error]"===y(e)||e instanceof Error)}function p(e){return"function"==typeof e}function m(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function g(t){return e.isBuffer(t)}function y(e){return Object.prototype.toString.call(e)}r.isArray=t,r.isBoolean=n,r.isNull=i,r.isNullOrUndefined=o,r.isNumber=a,r.isString=s,r.isSymbol=u,r.isUndefined=c,r.isRegExp=l,r.isObject=h,r.isDate=f,r.isError=d,r.isFunction=p,r.isPrimitive=m,r.isBuffer=g}).call(this,e("buffer").Buffer)},{buffer:2}],153:[function(e,t){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":148}],154:[function(e,t,r){var n=e("stream");r=t.exports=e("./lib/_stream_readable.js"),r.Stream=n,r.Readable=r,r.Writable=e("./lib/_stream_writable.js"),r.Duplex=e("./lib/_stream_duplex.js"),r.Transform=e("./lib/_stream_transform.js"),r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":147,"./lib/_stream_passthrough.js":148,"./lib/_stream_readable.js":149,"./lib/_stream_transform.js":150,"./lib/_stream_writable.js":151,stream:157}],155:[function(e,t){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":150}],156:[function(e,t){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":151}],157:[function(e,t){function r(){n.call(this)}t.exports=r;var n=e("events").EventEmitter,i=e("inherits");i(r,n),r.Readable=e("readable-stream/readable.js"),r.Writable=e("readable-stream/writable.js"),r.Duplex=e("readable-stream/duplex.js"),r.Transform=e("readable-stream/transform.js"),r.PassThrough=e("readable-stream/passthrough.js"),r.Stream=r,r.prototype.pipe=function(e,t){function r(t){e.writable&&!1===e.write(t)&&c.pause&&c.pause()}function i(){c.readable&&c.resume&&c.resume()}function o(){l||(l=!0,e.end())}function a(){l||(l=!0,"function"==typeof e.destroy&&e.destroy())}function s(e){if(u(),0===n.listenerCount(this,"error"))throw e}function u(){c.removeListener("data",r),e.removeListener("drain",i),c.removeListener("end",o),c.removeListener("close",a),c.removeListener("error",s),e.removeListener("error",s),c.removeListener("end",u),c.removeListener("close",u),e.removeListener("close",u)}var c=this;c.on("data",r),e.on("drain",i),e._isStdio||t&&t.end===!1||(c.on("end",o),c.on("close",a));var l=!1;return c.on("error",s),e.on("error",s),c.on("end",u),c.on("close",u),e.on("close",u),e.emit("pipe",c),e}},{events:142,inherits:143,"readable-stream/duplex.js":146,"readable-stream/passthrough.js":153,"readable-stream/readable.js":154,"readable-stream/transform.js":155,"readable-stream/writable.js":156}],158:[function(e,t,r){function n(e){if(e&&!u(e))throw new Error("Unknown encoding: "+e)}function i(e){return e.toString(this.encoding)}function o(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function a(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var s=e("buffer").Buffer,u=s.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},c=r.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),n(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=o;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=a;break;default:return void(this.write=i)}this.charBuffer=new s(6),this.charReceived=0,this.charLength=0};c.prototype.write=function(e){for(var t="";this.charLength;){var r=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,r),this.charReceived+=r,this.charReceived<this.charLength)return"";e=e.slice(r,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=t.charCodeAt(t.length-1);if(!(n>=55296&&56319>=n)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var i=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,i),i-=this.charReceived),t+=e.toString(this.encoding,0,i);var i=t.length-1,n=t.charCodeAt(i);if(n>=55296&&56319>=n){var o=this.surrogateSize;return this.charLength+=o,this.charReceived+=o,this.charBuffer.copy(this.charBuffer,o,0,o),e.copy(this.charBuffer,0,0,o),t.substring(0,i)}return t},c.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var r=e[e.length-t];if(1==t&&r>>5==6){this.charLength=2;break}if(2>=t&&r>>4==14){this.charLength=3;break}if(3>=t&&r>>3==30){this.charLength=4;break}}this.charReceived=t},c.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var r=this.charReceived,n=this.charBuffer,i=this.encoding;t+=n.slice(0,r).toString(i)}return t}},{buffer:2}],159:[function(require,module,exports){function Context(){}var indexOf=require("indexof"),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(e){return this instanceof Script?void(this.code=e):new Script(e)};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,i=r.execScript;!n&&i&&(i.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var o=Object_keys(r),a=n.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(o,t))&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t}},{indexof:160}],160:[function(e,t){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],161:[function(e,t){t.exports=e("./lib/math.js")},{"./lib/math.js":458}],162:[function(e,t){"use strict";t.exports=function(t){function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.value=e instanceof r?e.value:e}function n(e,t){var n=Array.prototype.slice;r.prototype[e]="function"==typeof t?function(){var e=[this.value].concat(n.call(arguments,0));return new r(t.apply(this,e))}:new r(t)}var i=e("../util/string");r.prototype.done=function(){return this.value},r.prototype.valueOf=function(){return this.value},r.prototype.toString=function(){return i.format(this.value)},r.createProxy=n;for(var o in t)t.hasOwnProperty(o)&&n(o,t[o]);return r}},{"../util/string":475}],163:[function(e,t){"use strict";t.exports=function(t,r){var n=e("./util/object"),i=e("./util/bignumber"),o=e("./type/Complex"),a=t.type.BigNumber;t["true"]=!0,t["false"]=!1,t["null"]=null,t.uninitialized=e("./util/array").UNINITIALIZED,"bignumber"===r.number?(t.Infinity=new a(1/0),t.NaN=new a(0/0),n.lazy(t,"pi",function(){return i.pi(r.precision)}),n.lazy(t,"tau",function(){return i.tau(r.precision)}),n.lazy(t,"e",function(){return i.e(r.precision)}),n.lazy(t,"phi",function(){return i.phi(r.precision)}),n.lazy(t,"E",function(){return t.e}),n.lazy(t,"LN2",function(){return new a(2).ln()}),n.lazy(t,"LN10",function(){return new a(10).ln()}),n.lazy(t,"LOG2E",function(){return new a(1).div(new a(2).ln())}),n.lazy(t,"LOG10E",function(){return new a(1).div(new a(10).ln())}),n.lazy(t,"PI",function(){return t.pi}),n.lazy(t,"SQRT1_2",function(){return new a("0.5").sqrt()}),n.lazy(t,"SQRT2",function(){return new a(2).sqrt()})):(t.Infinity=1/0,t.NaN=0/0,t.pi=Math.PI,t.tau=2*Math.PI,t.e=Math.E,t.phi=1.618033988749895,t.E=t.e,t.LN2=Math.LN2,t.LN10=Math.LN10,t.LOG2E=Math.LOG2E,t.LOG10E=Math.LOG10E,t.PI=t.pi,t.SQRT1_2=Math.SQRT1_2,t.SQRT2=Math.SQRT2),t.i=new o(0,1),t.version=e("./version")}},{"./type/Complex":459,"./util/array":467,"./util/bignumber":468,"./util/object":474,"./version":477}],164:[function(e,t){"use strict";function r(e,t,n,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.count=t,this.min=n,this.max=i,this.message="Wrong number of arguments in function "+e+" ("+t+" provided, "+n+(void 0!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}r.prototype=new Error,r.prototype.constructor=Error,r.prototype.name="ArgumentsError",t.exports=r},{}],165:[function(e,t){"use strict";function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="DimensionError",t.exports=r},{}],166:[function(e,t){"use strict";function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=n),this.message=void 0!==this.min&&this.index<this.min?"Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?"Index out of range ("+this.index+" > "+(this.max-1)+")":"Index out of range ("+this.index+")",this.stack=(new Error).stack}r.prototype=new RangeError,r.prototype.constructor=RangeError,r.prototype.name="IndexError",t.exports=r},{}],167:[function(e,t){"use strict";function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.fn=e,this.types=Array.prototype.splice.call(arguments,1),this.message=e?0==this.types.length?"Unsupported type of argument in function "+e:"Function "+e+"("+this.types.join(", ")+") not supported":"Unsupported type of argument",this.stack=(new Error).stack}r.prototype=new TypeError,r.prototype.constructor=TypeError,r.prototype.name="UnsupportedTypeError",t.exports=r},{}],168:[function(e,t,r){"use strict";r.ArgumentsError=e("./ArgumentsError"),r.DimensionError=e("./DimensionError"),r.IndexError=e("./IndexError"),r.UnsupportedTypeError=e("./UnsupportedTypeError")},{"./ArgumentsError":164,"./DimensionError":165,"./IndexError":166,"./UnsupportedTypeError":167}],169:[function(e,t){"use strict";function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!(e instanceof Object))throw new TypeError("Object expected as parameter math");this.math=e,this.scope={}}var n=e("./parse");r.prototype.parse=function(){throw new Error("Parser.parse is deprecated. Use math.parse instead.")},r.prototype.compile=function(){throw new Error("Parser.compile is deprecated. Use math.compile instead.")},r.prototype.eval=function(e){return n(e).compile(this.math).eval(this.scope)},r.prototype.get=function(e){return this.scope[e]},r.prototype.set=function(e,t){return this.scope[e]=t},r.prototype.remove=function(e){delete this.scope[e]},r.prototype.clear=function(){for(var e in this.scope)this.scope.hasOwnProperty(e)&&delete this.scope[e]},t.exports=r},{"./parse":321}],170:[function(e,t){t.exports={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]}},{}],171:[function(e,t){t.exports={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]}},{}],172:[function(e,t){t.exports={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]}},{}],173:[function(e,t){t.exports={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]}},{}],174:[function(e,t){t.exports={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]}},{}],175:[function(e,t){t.exports={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]}},{}],176:[function(e,t){t.exports={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]}},{}],177:[function(e,t){t.exports={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]}},{}],178:[function(e,t){t.exports={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]}},{}],179:[function(e,t){t.exports={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]}},{}],180:[function(e,t){t.exports={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]}},{}],181:[function(e,t){t.exports={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]}},{}],182:[function(e,t){t.exports={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["tau"],seealso:[]}},{}],183:[function(e,t){t.exports={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]}},{}],184:[function(e,t){t.exports={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]}},{}],185:[function(e,t){t.exports={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]}},{}],186:[function(e,t){t.exports={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]}},{}],187:[function(e,t){t.exports={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]}},{}],188:[function(e,t){t.exports={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i",'"hello" + " world"',"3 cm + 2 inch"],seealso:["subtract"]}},{}],189:[function(e,t){t.exports={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]}},{}],190:[function(e,t){t.exports={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]}},{}],191:[function(e,t){t.exports={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]}},{}],192:[function(e,t){t.exports={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]}},{}],193:[function(e,t){t.exports={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]}},{}],194:[function(e,t){t.exports={name:"dotpow",category:"Operators",syntax:["x .^ y","dotpow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]}},{}],195:[function(e,t){t.exports={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["pow","log"]}},{}],196:[function(e,t){t.exports={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]}},{}],197:[function(e,t){t.exports={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]}},{}],198:[function(e,t){t.exports={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]}},{}],199:[function(e,t){t.exports={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]}},{}],200:[function(e,t){t.exports={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log10"]}},{}],201:[function(e,t){t.exports={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]}},{}],202:[function(e,t){t.exports={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","function isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]}},{}],203:[function(e,t){t.exports={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]}},{}],204:[function(e,t){t.exports={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i))","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)","norm([[1, 2], [3, 4]], 'inf')","norm([[1, 2], [3, 4]], 'fro')"]}},{}],205:[function(e,t){t.exports={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["sqrt","pow"]}},{}],206:[function(e,t){t.exports={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3 = 8","2*2*2","1 + e ^ (pi * i)"],seealso:["multiply"]}},{}],207:[function(e,t){t.exports={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)"],seealso:["ceil","floor","fix"]}},{}],208:[function(e,t){t.exports={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]}},{}],209:[function(e,t){t.exports={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","multiply"]}},{}],210:[function(e,t){t.exports={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]}},{}],211:[function(e,t){t.exports={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]}},{}],212:[function(e,t){t.exports={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]}},{}],213:[function(e,t){t.exports={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]}},{}],214:[function(e,t){t.exports={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]}},{}],215:[function(e,t){t.exports={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},{}],216:[function(e,t){t.exports={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]}},{}],217:[function(e,t){t.exports={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]}},{}],218:[function(e,t){t.exports={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]}},{}],219:[function(e,t){t.exports={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]}},{}],220:[function(e,t){t.exports={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]}},{}],221:[function(e,t){t.exports={name:"rightLogShift",category:"Bitwise",syntax:["x >> y","leftShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]}},{}],222:[function(e,t){t.exports={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]}},{}],223:[function(e,t){t.exports={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]}},{}],224:[function(e,t){t.exports={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]}},{}],225:[function(e,t){t.exports={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]}},{}],226:[function(e,t){t.exports={name:"bignumber",category:"Type",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","index","matrix","string","unit"]}},{}],227:[function(e,t){t.exports={name:"boolean",category:"Type",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]}},{}],228:[function(e,t){t.exports={name:"complex",category:"Type",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]}},{}],229:[function(e,t){t.exports={name:"index",category:"Type",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["[]","[1, 2, 3]","A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[0:2, 0:2] = ones(2, 2)"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]}},{}],230:[function(e,t){t.exports={name:"matrix",category:"Type",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()","matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])"],seealso:["bignumber","boolean","complex","index","number","string","unit"]}},{}],231:[function(e,t){t.exports={name:"number",category:"Type",syntax:["x","number(x)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number("52cm", "m")'],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]}},{}],232:[function(e,t){t.exports={name:"string",category:"Type",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]}},{}],233:[function(e,t){t.exports={name:"unit",category:"Type",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]}
},{}],234:[function(e,t){t.exports={name:"eval",category:"Expression",syntax:["eval(expression)","eval([expr1, expr2, expr3, ...])"],description:"Evaluate an expression or an array with expressions.",examples:['eval("2 + 3")','eval("sqrt(" + 4 + ")")'],seealso:[]}},{}],235:[function(e,t){t.exports={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]}},{}],236:[function(e,t){t.exports={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]}},{}],237:[function(e,t){t.exports={name:"not",category:"Logical",syntax:["!x","not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["!true","not false","!2","!0"],seealso:["and","or","xor"]}},{}],238:[function(e,t){t.exports={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]}},{}],239:[function(e,t){t.exports={name:"xor",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 or 4"],seealso:["not","and","or"]}},{}],240:[function(e,t){t.exports={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],241:[function(e,t){t.exports={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]}},{}],242:[function(e,t){t.exports={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],243:[function(e,t){t.exports={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","eye","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],244:[function(e,t){t.exports={name:"dot",category:"Matrix",syntax:["dot(A, B)"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]}},{}],245:[function(e,t){t.exports={name:"eye",category:"Matrix",syntax:["eye(n)","eye(m, n)","eye([m, n])","eye"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["eye(3)","eye(3, 5)","a = [1, 2, 3; 4, 5, 6]","eye(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],246:[function(e,t){t.exports={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]}},{}],247:[function(e,t){t.exports={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","eye","ones","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],248:[function(e,t){t.exports={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])","ones"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","eye","inv","range","size","squeeze","subset","trace","transpose","zeros"]}},{}],249:[function(e,t){t.exports={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","eye","inv","ones","size","squeeze","subset","trace","transpose","zeros"]}},{}],250:[function(e,t){t.exports={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze"]}},{}],251:[function(e,t){t.exports={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","det","diag","eye","inv","ones","range","squeeze","subset","trace","transpose","zeros"]}},{}],252:[function(e,t){t.exports={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","eye","inv","ones","range","size","subset","trace","transpose","zeros"]}},{}],253:[function(e,t){t.exports={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of a matrix or string. Indexes are one-based. Both the ranges lower-bound and upper-bound are included.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","trace","transpose","zeros"]}},{}],254:[function(e,t){t.exports={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","transpose","zeros"]}},{}],255:[function(e,t){t.exports={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","zeros"]}},{}],256:[function(e,t){t.exports={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])","zeros"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","eye","inv","ones","range","size","squeeze","subset","trace","transpose"]}},{}],257:[function(e,t){t.exports={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["permutations","factorial"]}},{}],258:[function(e,t){t.exports={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","permutations","gamma"]}},{}],259:[function(e,t){t.exports={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]}},{}],260:[function(e,t){t.exports={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","factorial"]}},{}],261:[function(e,t){t.exports={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])"],seealso:["random","randomInt"]}},{}],262:[function(e,t){t.exports={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]}},{}],263:[function(e,t){t.exports={name:"randInt",category:"Probability",syntax:["randInt()","randInt(max)","randInt(min, max)","randInt(size)","randInt(size, max)","randInt(size, min, max)"],description:"Return a random integer number",examples:["randInt()","randInt(10, 20)","randInt([2, 3], 10)"],seealso:["pickRandom","random"]}},{}],264:[function(e,t){t.exports={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 if x is larger than y, -1 if x is smaller than y, and 0 if x and y are equal.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq"]}},{}],265:[function(e,t){t.exports={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["[1,3,4] == [1,3,4]","[1,3,4] == [1,3]"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]}},{}],266:[function(e,t){t.exports={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},{}],267:[function(e,t){t.exports={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]}},{}],268:[function(e,t){t.exports={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 > 1+1","2 >= 1+1","a = 3.2","b = 6-2.8","(a > b)"],seealso:["equal","unequal","smallerEq","smaller","largerEq","compare"]}},{}],269:[function(e,t){t.exports={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]}},{}],270:[function(e,t){t.exports={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 1+1","2 <= 1+1","a = 3.2","b = 6-2.8","(a < b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]}},{}],271:[function(e,t){t.exports={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]}},{}],272:[function(e,t){t.exports={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dim)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","var"]}},{}],273:[function(e,t){t.exports={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dim)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","var"]}},{}],274:[function(e,t){t.exports={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","var"]}},{}],275:[function(e,t){t.exports={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dim)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","var"]}},{}],276:[function(e,t){t.exports={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","var"]}},{}],277:[function(e,t){t.exports={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(var(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","sum","var"]}},{}],278:[function(e,t){t.exports={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","var"]}},{}],279:[function(e,t){t.exports={name:"var",category:"Statistics",syntax:["var(a, b, c, ...)","var(A)","var(A, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["var(2, 4, 6)","var([2, 4, 6, 8])",'var([2, 4, 6, 8], "uncorrected")','var([2, 4, 6, 8], "biased")',"var([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]}},{}],280:[function(e,t){t.exports={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]}},{}],281:[function(e,t){t.exports={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(2.3))"],seealso:["sin","acos","atan"]}},{}],282:[function(e,t){t.exports={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(2.3))"],seealso:["tan","acos","asin"]}},{}],283:[function(e,t){t.exports={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]}},{}],284:[function(e,t){t.exports={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]}},{}],285:[function(e,t){t.exports={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]}},{}],286:[function(e,t){t.exports={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]}},{}],287:[function(e,t){t.exports={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]}},{}],288:[function(e,t){t.exports={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]}},{}],289:[function(e,t){t.exports={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]}},{}],290:[function(e,t){t.exports={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]}},{}],291:[function(e,t){t.exports={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]}},{}],292:[function(e,t){t.exports={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]}},{}],293:[function(e,t){t.exports={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]}},{}],294:[function(e,t){t.exports={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]}},{}],295:[function(e,t){t.exports={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]}},{}],296:[function(e,t){t.exports={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]}},{}],297:[function(e,t){t.exports={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]}},{}],298:[function(e,t){t.exports={name:"filter",category:"Utils",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]}},{}],299:[function(e,t){t.exports={name:"forEach",category:"Utils",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["forEach([1, 2, 3], function(val) { console.log(val) })"],seealso:["map","sort","filter"]}},{}],300:[function(e,t){t.exports={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]}},{}],301:[function(e,t){t.exports={name:"import",category:"Utils",syntax:["import(string)"],description:"Import functions from a file.",examples:['import("numbers")','import("./mylib.js")'],seealso:[]}},{}],302:[function(e,t){t.exports={name:"map",category:"Utils",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], function(val) { return value * value })"],seealso:["filter","forEach"]}},{}],303:[function(e,t){t.exports={name:"sort",category:"Utils",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc" or "desc", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"])',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)'],seealso:["map","filter","forEach"]}},{}],304:[function(e,t){t.exports={name:"typeof",category:"Utils",syntax:["typeof(x)"],description:"Get the type of a variable.",examples:["typeof(3.5)","typeof(2 - 4i)","typeof(45 deg)",'typeof("hello world")'],seealso:[]}},{}],305:[function(e,t,r){r.e=e("./constants/e"),r.E=e("./constants/e"),r["false"]=e("./constants/false"),r.i=e("./constants/i"),r.Infinity=e("./constants/Infinity"),r.LN2=e("./constants/LN2"),r.LN10=e("./constants/LN10"),r.LOG2E=e("./constants/LOG2E"),r.LOG10E=e("./constants/LOG10E"),r.NaN=e("./constants/NaN"),r["null"]=e("./constants/null"),r.pi=e("./constants/pi"),r.PI=e("./constants/pi"),r.phi=e("./constants/phi"),r.SQRT1_2=e("./constants/SQRT1_2"),r.SQRT2=e("./constants/SQRT2"),r.tau=e("./constants/tau"),r["true"]=e("./constants/true"),r.version=e("./constants/version"),r.abs=e("./function/arithmetic/abs"),r.add=e("./function/arithmetic/add"),r.ceil=e("./function/arithmetic/ceil"),r.cube=e("./function/arithmetic/cube"),r.divide=e("./function/arithmetic/divide"),r.dotDivide=e("./function/arithmetic/dotDivide"),r.dotMultiply=e("./function/arithmetic/dotMultiply"),r.dotPow=e("./function/arithmetic/dotPow"),r.exp=e("./function/arithmetic/exp"),r.fix=e("./function/arithmetic/fix"),r.floor=e("./function/arithmetic/floor"),r.gcd=e("./function/arithmetic/gcd"),r.lcm=e("./function/arithmetic/lcm"),r.log=e("./function/arithmetic/log"),r.log10=e("./function/arithmetic/log10"),r.mod=e("./function/arithmetic/mod"),r.multiply=e("./function/arithmetic/multiply"),r.norm=e("./function/arithmetic/norm"),r.nthRoot=e("./function/arithmetic/nthRoot"),r.pow=e("./function/arithmetic/pow"),r.round=e("./function/arithmetic/round"),r.sign=e("./function/arithmetic/sign"),r.sqrt=e("./function/arithmetic/sqrt"),r.square=e("./function/arithmetic/square"),r.subtract=e("./function/arithmetic/subtract"),r.unaryMinus=e("./function/arithmetic/unaryMinus"),r.unaryPlus=e("./function/arithmetic/unaryPlus"),r.xgcd=e("./function/arithmetic/xgcd"),r.bitAnd=e("./function/bitwise/bitAnd"),r.bitNot=e("./function/bitwise/bitNot"),r.bitOr=e("./function/bitwise/bitOr"),r.bitXor=e("./function/bitwise/bitXor"),r.leftShift=e("./function/bitwise/leftShift"),r.rightArithShift=e("./function/bitwise/rightArithShift"),r.rightLogShift=e("./function/bitwise/rightLogShift"),r.arg=e("./function/complex/arg"),r.conj=e("./function/complex/conj"),r.re=e("./function/complex/re"),r.im=e("./function/complex/im"),r.bignumber=e("./function/construction/bignumber"),r["boolean"]=e("./function/construction/boolean"),r.complex=e("./function/construction/complex"),r.index=e("./function/construction/index"),r.matrix=e("./function/construction/matrix"),r.number=e("./function/construction/number"),r.string=e("./function/construction/string"),r.unit=e("./function/construction/unit"),r.eval=e("./function/expression/eval"),r.help=e("./function/expression/help"),r.and=e("./function/logical/and"),r.not=e("./function/logical/not"),r.or=e("./function/logical/or"),r.xor=e("./function/logical/xor"),r.concat=e("./function/matrix/concat"),r.cross=e("./function/matrix/cross"),r.det=e("./function/matrix/det"),r.diag=e("./function/matrix/diag"),r.dot=e("./function/matrix/dot"),r.eye=e("./function/matrix/eye"),r.flatten=e("./function/matrix/flatten"),r.inv=e("./function/matrix/inv"),r.ones=e("./function/matrix/ones"),r.range=e("./function/matrix/range"),r.resize=e("./function/matrix/resize"),r.size=e("./function/matrix/size"),r.squeeze=e("./function/matrix/squeeze"),r.subset=e("./function/matrix/subset"),r.trace=e("./function/matrix/trace"),r.transpose=e("./function/matrix/transpose"),r.zeros=e("./function/matrix/zeros"),r.combinations=e("./function/probability/combinations"),r.factorial=e("./function/probability/factorial"),r.gamma=e("./function/probability/gamma"),r.permutations=e("./function/probability/permutations"),r.pickRandom=e("./function/probability/pickRandom"),r.random=e("./function/probability/random"),r.randomInt=e("./function/probability/randomInt"),r.compare=e("./function/relational/compare"),r.deepEqual=e("./function/relational/deepEqual"),r.equal=e("./function/relational/equal"),r.larger=e("./function/relational/larger"),r.largerEq=e("./function/relational/largerEq"),r.smaller=e("./function/relational/smaller"),r.smallerEq=e("./function/relational/smallerEq"),r.unequal=e("./function/relational/unequal"),r.max=e("./function/statistics/max"),r.mean=e("./function/statistics/mean"),r.median=e("./function/statistics/median"),r.min=e("./function/statistics/min"),r.prod=e("./function/statistics/prod"),r.std=e("./function/statistics/std"),r.sum=e("./function/statistics/sum"),r["var"]=e("./function/statistics/var"),r.acos=e("./function/trigonometry/acos"),r.asin=e("./function/trigonometry/asin"),r.atan=e("./function/trigonometry/atan"),r.atan2=e("./function/trigonometry/atan2"),r.cos=e("./function/trigonometry/cos"),r.cosh=e("./function/trigonometry/cosh"),r.cot=e("./function/trigonometry/cot"),r.coth=e("./function/trigonometry/coth"),r.csc=e("./function/trigonometry/csc"),r.csch=e("./function/trigonometry/csch"),r.sec=e("./function/trigonometry/sec"),r.sech=e("./function/trigonometry/sech"),r.sin=e("./function/trigonometry/sin"),r.sinh=e("./function/trigonometry/sinh"),r.tan=e("./function/trigonometry/tan"),r.tanh=e("./function/trigonometry/tanh"),r.to=e("./function/units/to"),r.clone=e("./function/utils/clone"),r.map=e("./function/utils/map"),r.filter=e("./function/utils/filter"),r.forEach=e("./function/utils/forEach"),r.format=e("./function/utils/format"),r["import"]=e("./function/utils/import"),r.sort=e("./function/utils/sort"),r["typeof"]=e("./function/utils/typeof")},{"./constants/Infinity":170,"./constants/LN10":171,"./constants/LN2":172,"./constants/LOG10E":173,"./constants/LOG2E":174,"./constants/NaN":175,"./constants/SQRT1_2":176,"./constants/SQRT2":177,"./constants/e":178,"./constants/false":179,"./constants/i":180,"./constants/null":181,"./constants/phi":182,"./constants/pi":183,"./constants/tau":184,"./constants/true":185,"./constants/version":186,"./function/arithmetic/abs":187,"./function/arithmetic/add":188,"./function/arithmetic/ceil":189,"./function/arithmetic/cube":190,"./function/arithmetic/divide":191,"./function/arithmetic/dotDivide":192,"./function/arithmetic/dotMultiply":193,"./function/arithmetic/dotPow":194,"./function/arithmetic/exp":195,"./function/arithmetic/fix":196,"./function/arithmetic/floor":197,"./function/arithmetic/gcd":198,"./function/arithmetic/lcm":199,"./function/arithmetic/log":200,"./function/arithmetic/log10":201,"./function/arithmetic/mod":202,"./function/arithmetic/multiply":203,"./function/arithmetic/norm":204,"./function/arithmetic/nthRoot":205,"./function/arithmetic/pow":206,"./function/arithmetic/round":207,"./function/arithmetic/sign":208,"./function/arithmetic/sqrt":209,"./function/arithmetic/square":210,"./function/arithmetic/subtract":211,"./function/arithmetic/unaryMinus":212,"./function/arithmetic/unaryPlus":213,"./function/arithmetic/xgcd":214,"./function/bitwise/bitAnd":215,"./function/bitwise/bitNot":216,"./function/bitwise/bitOr":217,"./function/bitwise/bitXor":218,"./function/bitwise/leftShift":219,"./function/bitwise/rightArithShift":220,"./function/bitwise/rightLogShift":221,"./function/complex/arg":222,"./function/complex/conj":223,"./function/complex/im":224,"./function/complex/re":225,"./function/construction/bignumber":226,"./function/construction/boolean":227,"./function/construction/complex":228,"./function/construction/index":229,"./function/construction/matrix":230,"./function/construction/number":231,"./function/construction/string":232,"./function/construction/unit":233,"./function/expression/eval":234,"./function/expression/help":235,"./function/logical/and":236,"./function/logical/not":237,"./function/logical/or":238,"./function/logical/xor":239,"./function/matrix/concat":240,"./function/matrix/cross":241,"./function/matrix/det":242,"./function/matrix/diag":243,"./function/matrix/dot":244,"./function/matrix/eye":245,"./function/matrix/flatten":246,"./function/matrix/inv":247,"./function/matrix/ones":248,"./function/matrix/range":249,"./function/matrix/resize":250,"./function/matrix/size":251,"./function/matrix/squeeze":252,"./function/matrix/subset":253,"./function/matrix/trace":254,"./function/matrix/transpose":255,"./function/matrix/zeros":256,"./function/probability/combinations":257,"./function/probability/factorial":258,"./function/probability/gamma":259,"./function/probability/permutations":260,"./function/probability/pickRandom":261,"./function/probability/random":262,"./function/probability/randomInt":263,"./function/relational/compare":264,"./function/relational/deepEqual":265,"./function/relational/equal":266,"./function/relational/larger":267,"./function/relational/largerEq":268,"./function/relational/smaller":269,"./function/relational/smallerEq":270,"./function/relational/unequal":271,"./function/statistics/max":272,"./function/statistics/mean":273,"./function/statistics/median":274,"./function/statistics/min":275,"./function/statistics/prod":276,"./function/statistics/std":277,"./function/statistics/sum":278,"./function/statistics/var":279,"./function/trigonometry/acos":280,"./function/trigonometry/asin":281,"./function/trigonometry/atan":282,"./function/trigonometry/atan2":283,"./function/trigonometry/cos":284,"./function/trigonometry/cosh":285,"./function/trigonometry/cot":286,"./function/trigonometry/coth":287,"./function/trigonometry/csc":288,"./function/trigonometry/csch":289,"./function/trigonometry/sec":290,"./function/trigonometry/sech":291,"./function/trigonometry/sin":292,"./function/trigonometry/sinh":293,"./function/trigonometry/tan":294,"./function/trigonometry/tanh":295,"./function/units/to":296,"./function/utils/clone":297,"./function/utils/filter":298,"./function/utils/forEach":299,"./function/utils/format":300,"./function/utils/import":301,"./function/utils/map":302,"./function/utils/sort":303,"./function/utils/typeof":304}],306:[function(e,t){"use strict";
t.exports={end:!0}},{}],307:[function(e,t){"use strict";function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(this.nodes=e||[],!o(this.nodes)||!this.nodes.every(a))throw new TypeError("Array containing Nodes expected")}var n=e("./Node"),i=(e("../../util/object"),e("../../util/string")),o=(e("../../type/collection"),e("../../util/index"),Array.isArray),a=n.isNode;r.prototype=new n,r.prototype.type="ArrayNode",r.prototype._compile=function(e){var t="array"!==e.math.config().matrix,r=this.nodes.map(function(t){return t._compile(e)});return(t?"math.matrix([":"[")+r.join(",")+(t?"])":"]")},r.prototype.forEach=function(e){for(var t=0;t<this.nodes.length;t++){var r=this.nodes[t];e(r,"nodes["+t+"]",this)}},r.prototype.map=function(e){for(var t=[],n=0;n<this.nodes.length;n++)t[n]=this._ifNode(e(this.nodes[n],"nodes["+n+"]",this));return new r(t)},r.prototype.clone=function(){return new r(this.nodes.slice(0))},r.prototype.toString=function(){return i.format(this.nodes)},r.prototype.toTex=function(e){e=e||"bmatrix";var t="\\begin{"+e+"}";return this.nodes.forEach(function(e){t+=e.nodes?e.nodes.map(function(e){return e.toTex()}).join("&"):e.toTex(),t+="\\\\"}),t+="\\end{"+e+"}"},t.exports=r},{"../../type/collection":466,"../../util/index":471,"../../util/object":474,"../../util/string":475,"./Node":315}],308:[function(e,t){"use strict";function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!s(e))throw new TypeError('String expected for parameter "name"');if(!(t instanceof n))throw new TypeError('Node expected for parameter "expr"');if(e in o)throw new Error('Illegal symbol name, "'+e+'" is a reserved keyword');this.name=e,this.expr=t}var n=e("./Node"),i=e("./ArrayNode"),o=e("../keywords"),a=e("../../util/latex"),s=e("../../util/string").isString;r.prototype=new n,r.prototype.type="AssignmentNode",r.prototype._compile=function(e){return'scope["'+this.name+'"] = '+this.expr._compile(e)},r.prototype.forEach=function(e){e(this.expr,"expr",this)},r.prototype.map=function(e){return new r(this.name,this._ifNode(e(this.expr,"expr",this)))},r.prototype.clone=function(){return new r(this.name,this.expr)},r.prototype.toString=function(){return this.name+" = "+this.expr.toString()},r.prototype.toTex=function(){var e;return this.expr instanceof i&&(e=["\\mathbf{","}"]),a.addBraces(a.toSymbol(this.name),e)+"="+a.addBraces(this.expr.toTex())},t.exports=r},{"../../util/latex":472,"../../util/string":475,"../keywords":306,"./ArrayNode":307,"./Node":315}],309:[function(e,t){"use strict";function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!Array.isArray(e))throw new Error("Array expected");this.blocks=e.map(function(e){var t=e&&e.node,r=e&&void 0!==e.visible?e.visible:!0;if(!(t instanceof n))throw new TypeError('Property "node" must be a Node');if(!o(r))throw new TypeError('Property "visible" must be a boolean');return{node:t,visible:r}})}var n=e("./Node"),i=e("../../type/ResultSet"),o=e("../../util/boolean").isBoolean;r.prototype=new n,r.prototype.type="BlockNode",r.prototype._compile=function(e){e.ResultSet=i;var t=this.blocks.map(function(t){var r=t.node._compile(e);return t.visible?"results.push("+r+");":r+";"});return"(function () {var results = [];"+t.join("")+"return new ResultSet(results);})()"},r.prototype.forEach=function(e){for(var t=0;t<this.blocks.length;t++)e(this.blocks[t].node,"blocks["+t+"].node",this)},r.prototype.map=function(e){for(var t=[],n=0;n<this.blocks.length;n++){var i=this.blocks[n],o=this._ifNode(e(i.node,"blocks["+n+"].node",this));t[n]={node:o,visible:i.visible}}return new r(t)},r.prototype.clone=function(){var e=this.blocks.map(function(e){return{node:e.node,visible:e.visible}});return new r(e)},r.prototype.toString=function(){return this.blocks.map(function(e){return e.node.toString()+(e.visible?"":";")}).join("\n")},r.prototype.toTex=function(){return this.blocks.map(function(e){return e.node.toTex()+(e.visible?"":";")}).join("\n")},t.exports=r},{"../../type/ResultSet":464,"../../util/boolean":469,"./Node":315}],310:[function(e,t){"use strict";function r(e,t,i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!(e instanceof n))throw new TypeError("Parameter condition must be a Node");if(!(t instanceof n))throw new TypeError("Parameter trueExpr must be a Node");if(!(i instanceof n))throw new TypeError("Parameter falseExpr must be a Node");this.condition=e,this.trueExpr=t,this.falseExpr=i}var n=e("./Node"),i=e("../../util/latex"),o=e("decimal.js"),a=e("../../type/Complex"),s=e("../../type/Unit"),u=e("../../util"),c=u.string.isString,l=u.number.isNumber,h=u["boolean"].isBoolean;r.prototype=new n,r.prototype.type="ConditionalNode",r.prototype._compile=function(e){return e.testCondition=function(t){if(l(t)||h(t)||c(t))return t?!0:!1;if(t instanceof o)return t.isZero()?!1:!0;if(t instanceof a)return t.re||t.im?!0:!1;if(t instanceof s)return t.value?!0:!1;if(null===t||void 0===t)return!1;throw new TypeError('Unsupported type of condition "'+e.math["typeof"](t)+'"')},"testCondition("+this.condition._compile(e)+") ? ( "+this.trueExpr._compile(e)+") : ( "+this.falseExpr._compile(e)+")"},r.prototype.forEach=function(e){e(this.condition,"condition",this),e(this.trueExpr,"trueExpr",this),e(this.falseExpr,"falseExpr",this)},r.prototype.map=function(e){return new r(this._ifNode(e(this.condition,"condition",this)),this._ifNode(e(this.trueExpr,"trueExpr",this)),this._ifNode(e(this.falseExpr,"falseExpr",this)))},r.prototype.clone=function(){return new r(this.condition,this.trueExpr,this.falseExpr)},r.prototype.toString=function(){return"("+this.condition.toString()+") ? ("+this.trueExpr.toString()+") : ("+this.falseExpr.toString()+")"},r.prototype.toTex=function(){var e=i.addBraces(this.trueExpr.toTex())+", &\\quad"+i.addBraces("\\text{if}\\;"+this.condition.toTex())+"\\\\"+(i.addBraces(this.falseExpr.toTex())+", &\\quad"+i.addBraces("\\text{otherwise}"));return i.addBraces(e,["\\left\\{\\begin{array}{l l}","\\end{array}\\right."])},t.exports=r},{"../../type/Complex":459,"../../type/Unit":465,"../../util":471,"../../util/latex":472,"./Node":315,"decimal.js":478}],311:[function(e,t){"use strict";function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(t){if(!o(t))throw new TypeError('String expected for parameter "valueType"');if(!o(e))throw new TypeError('String expected for parameter "value"');this.value=e,this.valueType=t}else this.value=e+"",this.valueType=i(e);if(!a[this.valueType])throw new TypeError('Unsupported type of value "'+this.valueType+'"')}var n=e("./Node"),i=(e("decimal.js"),e("../../util/types").type),o=e("../../util/string").isString,a={number:!0,string:!0,"boolean":!0,undefined:!0,"null":!0};r.prototype=new n,r.prototype.type="ConstantNode",r.prototype._compile=function(e){switch(this.valueType){case"number":return"bignumber"===e.math.config().number?'math.bignumber("'+this.value+'")':this.value.replace(/^(0*)[0-9]/,function(e,t){return e.substring(t.length)});case"string":return'"'+this.value+'"';case"boolean":return this.value;case"undefined":return this.value;case"null":return this.value;default:throw new TypeError('Unsupported type of constant "'+this.valueType+'"')}},r.prototype.forEach=function(){},r.prototype.map=function(){return this.clone()},r.prototype.clone=function(){return new r(this.value,this.valueType)},r.prototype.toString=function(){switch(this.valueType){case"string":return'"'+this.value+'"';default:return this.value}},r.prototype.toTex=function(){var e,t=this.value;switch(this.valueType){case"string":return"\\text{"+t+"}";case"number":return e=t.toLowerCase().indexOf("e"),-1!==e?t.substring(0,e)+" \\cdot 10^{"+t.substring(e+1)+"}":t;default:return t}},t.exports=r},{"../../util/string":475,"../../util/types":476,"./Node":315,"decimal.js":478}],312:[function(e,t){"use strict";function r(e,t,o){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!a(e))throw new TypeError('String expected for parameter "name"');if(!s(t)||!t.every(a))throw new TypeError('Array containing strings expected for parameter "params"');if(!(o instanceof n))throw new TypeError('Node expected for parameter "expr"');if(e in i)throw new Error('Illegal function name, "'+e+'" is a reserved keyword');this.name=e,this.params=t,this.expr=o}var n=e("./Node"),i=e("../keywords"),o=e("../../util/latex"),a=e("../../util/string").isString,s=Array.isArray;r.prototype=new n,r.prototype.type="FunctionAssignmentNode",r.prototype._compile=function(e){return'scope["'+this.name+'"] =   (function (scope) {    scope = Object.create(scope);     var fn = function '+this.name+"("+this.params.join(",")+") {      if (arguments.length != "+this.params.length+') {        throw new SyntaxError("Wrong number of arguments in function '+this.name+' (" + arguments.length + " provided, '+this.params.length+' expected)");      }'+this.params.map(function(e,t){return'scope["'+e+'"] = arguments['+t+"];"}).join("")+"      return "+this.expr._compile(e)+'    };    fn.syntax = "'+this.name+"("+this.params.join(", ")+')";    return fn;  })(scope);'},r.prototype.forEach=function(e){e(this.expr,"expr",this)},r.prototype.map=function(e){var t=this._ifNode(e(this.expr,"expr",this));return new r(this.name,this.params.slice(0),t)},r.prototype.clone=function(){return new r(this.name,this.params.slice(0),this.expr)},r.prototype.toString=function(){return"function "+this.name+"("+this.params.join(", ")+") = "+this.expr.toString()},r.prototype.toTex=function(){return this.name+o.addBraces(this.params.map(o.toSymbol).join(", "),!0)+"="+o.addBraces(this.expr.toTex())},t.exports=r},{"../../util/latex":472,"../../util/string":475,"../keywords":306,"./Node":315}],313:[function(e,t){"use strict";function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if("string"!=typeof e)throw new TypeError('string expected for parameter "name"');if(!s(t)||!t.every(a))throw new TypeError('Array containing Nodes expected for parameter "args"');this.name=e,this.args=t||[]}var n=e("./Node"),i=e("./SymbolNode"),o=e("../../util/latex"),a=n.isNode,s=Array.isArray;r.prototype=new n,r.prototype.type="FunctionNode",r.prototype._compile=function(e){var t=e.math[this.name],r="function"==typeof t&&1==t.rawArgs,n=this.args.map(function(t){return t._compile(e)});if(r){var o;do o="p"+Math.round(1e4*Math.random());while(o in e);return e[o]=this.args,'("'+this.name+'" in scope ? scope["'+this.name+'"]('+n.join(", ")+') : math["'+this.name+'"]('+o+", math, scope))"}var a=new i(this.name);return a._compile(e)+"("+n.join(", ")+")"},r.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},r.prototype.map=function(e){for(var t=[],n=0;n<this.args.length;n++)t[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new r(this.name,t)},r.prototype.clone=function(){return new r(this.name,this.args.slice(0))},r.prototype.toString=function(){return this.name+"("+this.args.join(", ")+")"},r.prototype.toTex=function(){return o.toArgs(this)},t.exports=r},{"../../util/latex":472,"./Node":315,"./SymbolNode":318}],314:[function(e,t){"use strict";function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!(e instanceof n))throw new TypeError('Node expected for parameter "object"');if(!c(t)||!t.every(u))throw new TypeError('Array containing Nodes expected for parameter "ranges"');this.object=e,this.ranges=t}var n=e("./Node.js"),i=e("./RangeNode"),o=e("./SymbolNode"),a=e("decimal.js"),s=e("../../type/Range"),u=n.isNode,c=Array.isArray;r.prototype=new n,r.prototype.type="IndexNode",r.prototype._compile=function(e){return this.compileSubset(e)},r.prototype.compileSubset=function(e,t){function r(e){return e instanceof o&&"end"==e.name}var n=!1,u=this.ranges.map(function(e){var t=e.filter(r).length>0;return n=t?t:n,t});e.range=function(e,t,r){return new s(e instanceof a?e.toNumber():e,t instanceof a?t.toNumber():t,r instanceof a?r.toNumber():r)};var c=this.ranges.map(function(t,r){var n=u[r];return t instanceof i?n?'(function (scope) {  scope = Object.create(scope);   scope["end"] = size['+r+"];  return range(    "+t.start._compile(e)+",     "+t.end._compile(e)+",     "+(t.step?t.step._compile(e):"1")+"  );})(scope)":"range("+t.start._compile(e)+", "+t.end._compile(e)+", "+(t.step?t.step._compile(e):"1")+")":n?'(function (scope) {  scope = Object.create(scope);   scope["end"] = size['+r+"];  return "+t._compile(e)+";})(scope)":t._compile(e)});return n?"(function () {  var obj = "+this.object._compile(e)+";  var size = math.size(obj).valueOf();  return math.subset(    obj,     math.index("+c.join(", ")+")    "+(t?", "+t:"")+"  );})()":"math.subset("+this.object._compile(e)+",math.index("+c.join(", ")+")"+(t?", "+t:"")+")"},r.prototype.forEach=function(e){e(this.object,"object",this);for(var t=0;t<this.ranges.length;t++)e(this.ranges[t],"ranges["+t+"]",this)},r.prototype.map=function(e){for(var t=this._ifNode(e(this.object,"object",this)),n=[],i=0;i<this.ranges.length;i++)n[i]=this._ifNode(e(this.ranges[i],"ranges["+i+"]",this));return new r(t,n)},r.prototype.objectName=function(){return this.object.name},r.prototype.clone=function(){return new r(this.object,this.ranges.slice(0))},r.prototype.toString=function(){return this.object.toString()+"["+this.ranges.join(", ")+"]"},r.prototype.toTex=function(){return this.object.toTex()+"["+this.ranges.join(", ")+"]"},t.exports=r},{"../../type/Range":463,"./Node.js":315,"./RangeNode":317,"./SymbolNode":318,"decimal.js":478}],315:[function(e,t){"use strict";function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator")}function n(e){for(var t in e)if(e.hasOwnProperty(t)&&t in o)throw new Error('Scope contains an illegal symbol, "'+t+'" is a reserved keyword')}function i(e){var t=Object.create(e);if(e.expression&&e.expression.transform)for(var r in e.expression.transform)e.expression.transform.hasOwnProperty(r)&&(t[r]=e.expression.transform[r]);return t}var o=e("../keywords");r.prototype.eval=function(){throw new Error("Node.eval is deprecated. Use Node.compile(math).eval([scope]) instead.")},r.prototype.type="Node",r.prototype.compile=function(e){if(!(e instanceof Object))throw new TypeError("Object expected for parameter math");var t={math:i(e),_validateScope:n},r=this._compile(t),o=Object.keys(t).map(function(e){return"    var "+e+' = defs["'+e+'"];'}),a=o.join(" ")+'return {  "eval": function (scope) {    if (scope) _validateScope(scope);    scope = scope || {};    return '+r+";  }};",s=new Function("defs",a);return s(t)},r.prototype._compile=function(){throw new Error("Cannot compile a Node interface")},r.prototype.forEach=function(){throw new Error("Cannot run forEach on a Node interface")},r.prototype.map=function(){throw new Error("Cannot run map on a Node interface")},r.prototype._ifNode=function(e){if(!(e instanceof r))throw new TypeError("Callback function must return a Node");return e},r.prototype.traverse=function(e){function t(e,r){e.forEach(function(e,n,i){r(e,n,i),t(e,r)})}e(this,null,null),t(this,e)},r.prototype.transform=function(e){function t(e,r){return e.map(function(e,n,i){var o=r(e,n,i);return o!==e?o:t(e,r)})}var r=e(this,null,null);return r!==this?r:t(this,e)},r.prototype.filter=function(e){var t=[];return this.traverse(function(r,n,i){e(r,n,i)&&t.push(r)}),t},r.prototype.find=function(){throw new Error("Function Node.find is deprecated. Use Node.filter instead.")},r.prototype.match=function(){throw new Error("Function Node.match is deprecated. See functions Node.filter, Node.transform, Node.traverse.")},r.prototype.clone=function(){throw new Error("Cannot clone a Node interface")},r.prototype.toString=function(){return""},r.prototype.toTex=function(){return""},r.isNode=function(e){return e instanceof r},t.exports=r},{"../keywords":306}],316:[function(e,t){"use strict";function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.op=e,this.fn=t,this.args=n||[]}var n=e("./Node"),i=e("./ConstantNode"),o=e("./SymbolNode"),a=e("./FunctionNode"),s=e("../../util/latex");r.prototype=new n,r.prototype.type="OperatorNode",r.prototype._compile=function(e){if(!(this.fn in e.math))throw new Error("Function "+this.fn+' missing in provided namespace "math"');var t=this.args.map(function(t){return t._compile(e)});return"math."+this.fn+"("+t.join(", ")+")"},r.prototype.forEach=function(e){for(var t=0;t<this.args.length;t++)e(this.args[t],"args["+t+"]",this)},r.prototype.map=function(e){for(var t=[],n=0;n<this.args.length;n++)t[n]=this._ifNode(e(this.args[n],"args["+n+"]",this));return new r(this.op,this.fn,t)},r.prototype.clone=function(){return new r(this.op,this.fn,this.args.slice(0))},r.prototype.toString=function(){var e=this.args;switch(e.length){case 1:return"-"==this.op?"-"+e[0].toString():e[0].toString()+this.op;case 2:var t=e[0].toString();e[0]instanceof r&&(t="("+t+")");var n=e[1].toString();return e[1]instanceof r&&(n="("+n+")"),t+" "+this.op+" "+n;default:return this.op+"("+this.args.join(", ")+")"}},r.prototype.toTex=function(){var e=this.args,t=s.toOperator(this.op),n=e[0],u=e[1];switch(e.length){case 1:return"-"===this.op||"+"===this.op?this.op+n.toTex():n.toTex()+this.op;case 2:var c=n.toTex(),l=!1,h=u.toTex(),f=!1,d="",p="";switch(this.op){case"/":d=t,t="";break;case"*":n instanceof r&&("+"===n.op||"-"===n.op)&&(l=!0),u instanceof r&&("+"===u.op||"-"===u.op?f=!0:"*"===u.op&&(f=!0)),t=(n instanceof i||n instanceof r)&&(u instanceof i||u instanceof r)?" \\cdot ":" \\, ";break;case"^":n instanceof r||n instanceof a?l=!0:n instanceof o&&(l=null);break;case"to":h=s.toUnit(h,!0)}return c=s.addBraces(c,l),h=s.addBraces(h,f),d+c+t+h+p;default:return t+"("+this.args.map(s.toSymbol).join(", ")+")"}},t.exports=r},{"../../util/latex":472,"./ConstantNode":311,"./FunctionNode":313,"./Node":315,"./SymbolNode":318}],317:[function(e,t){"use strict";function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!i(e))throw new TypeError("Node expected");if(!i(t))throw new TypeError("Node expected");if(n&&!i(n))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=e,this.end=t,this.step=n||null}var n=e("./Node"),i=n.isNode;r.prototype=new n,r.prototype.type="RangeNode",r.prototype._compile=function(e){return"math.range("+this.start._compile(e)+", "+this.end._compile(e)+(this.step?", "+this.step._compile(e):"")+")"},r.prototype.forEach=function(e){e(this.start,"start",this),e(this.end,"end",this),this.step&&e(this.step,"step",this)},r.prototype.map=function(e){return new r(this._ifNode(e(this.start,"start",this)),this._ifNode(e(this.end,"end",this)),this.step&&this._ifNode(e(this.step,"step",this)))},r.prototype.clone=function(){return new r(this.start,this.end,this.step&&this.step)},r.prototype.toString=function(){var e=this.start.toString();return this.step&&(e+=":"+this.step.toString()),e+=":"+this.end.toString()},r.prototype.toTex=function(){var e=this.start.toTex();return this.step&&(e+=":"+this.step.toTex()),e+=":"+this.end.toTex()},t.exports=r},{"./Node":315}],318:[function(e,t){"use strict";function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!s(e))throw new TypeError('String expected for parameter "name"');this.name=e}function n(e){throw new Error("Undefined symbol "+e)}var i=e("./Node"),o=e("../../type/Unit"),a=e("../../util/latex"),s=e("../../util/string").isString;r.prototype=new i,r.prototype.type="SymbolNode",r.prototype._compile=function(e){return e.undef=n,e.Unit=o,this.name in e.math?'("'+this.name+'" in scope ? scope["'+this.name+'"] : math["'+this.name+'"])':'("'+this.name+'" in scope ? scope["'+this.name+'"] : '+(o.isValuelessUnit(this.name)?'new Unit(null, "'+this.name+'")':'undef("'+this.name+'")')+")"},r.prototype.forEach=function(){},r.prototype.map=function(){return this.clone()},r.prototype.clone=function(){return new r(this.name)},r.prototype.toString=function(){return this.name},r.prototype.toTex=function(){return a.toSymbol(this.name)},t.exports=r},{"../../type/Unit":465,"../../util/latex":472,"../../util/string":475,"./Node":315}],319:[function(e,t){"use strict";function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(!(e instanceof i))throw new TypeError('Expected IndexNode for parameter "index"');if(!(t instanceof n))throw new TypeError('Expected Node for parameter "expr"');this.index=e,this.expr=t}var n=e("./Node"),i=e("./IndexNode");r.prototype=new n,r.prototype.type="UpdateNode",r.prototype._compile=function(e){return'scope["'+this.index.objectName()+'"] = '+this.index.compileSubset(e,this.expr._compile(e))},r.prototype.forEach=function(e){e(this.index,"index",this),e(this.expr,"expr",this)},r.prototype.map=function(e){return new r(this._ifNode(e(this.index,"index",this)),this._ifNode(e(this.expr,"expr",this)))},r.prototype.clone=function(){return new r(this.index,this.expr)},r.prototype.toString=function(){return this.index.toString()+" = "+this.expr.toString()},r.prototype.toTex=function(){return this.index.toTex()+" = "+this.expr.toTex()},t.exports=r},{"./IndexNode":314,"./Node":315}],320:[function(e,t,r){"use strict";r.ArrayNode=e("./ArrayNode"),r.AssignmentNode=e("./AssignmentNode"),r.BlockNode=e("./BlockNode"),r.ConditionalNode=e("./ConditionalNode"),r.ConstantNode=e("./ConstantNode"),r.IndexNode=e("./IndexNode"),r.FunctionAssignmentNode=e("./FunctionAssignmentNode"),r.FunctionNode=e("./FunctionNode"),r.Node=e("./Node"),r.OperatorNode=e("./OperatorNode"),r.RangeNode=e("./RangeNode"),r.SymbolNode=e("./SymbolNode"),r.UpdateNode=e("./UpdateNode")},{"./ArrayNode":307,"./AssignmentNode":308,"./BlockNode":309,"./ConditionalNode":310,"./ConstantNode":311,"./FunctionAssignmentNode":312,"./FunctionNode":313,"./IndexNode":314,"./Node":315,"./OperatorNode":316,"./RangeNode":317,"./SymbolNode":318,"./UpdateNode":319}],321:[function(e,t){"use strict";function r(e,t){if(1!=arguments.length&&2!=arguments.length)throw new X("parse",arguments.length,1,2);if(pt=t&&t.nodes?t.nodes:{},Y(e))return mt=e,p();if($(e)||e instanceof Q)return Z.deepMap(e,function(e){if(!Y(e))throw new TypeError("String expected");return mt=e,p()});throw new TypeError("String or matrix expected")}function n(){gt=0,yt=mt.charAt(0),Et=0,xt=null}function i(){gt++,yt=mt.charAt(gt)}function o(){return mt.charAt(gt+1)}function a(){return mt.charAt(gt+2)}function s(){for(bt=ht.NULL,vt="";" "==yt||"	"==yt||"\n"==yt&&Et;)i();if("#"==yt)for(;"\n"!=yt&&""!=yt;)i();if(""==yt)return void(bt=ht.DELIMITER);if("\n"==yt&&!Et)return bt=ht.DELIMITER,vt=yt,void i();var e=yt+o(),t=e+a();if(3==t.length&&ft[t])return bt=ht.DELIMITER,vt=t,i(),i(),void i();if(2==e.length&&ft[e])return bt=ht.DELIMITER,vt=e,i(),void i();if(ft[yt])return bt=ht.DELIMITER,vt=yt,void i();if(!f(yt)){if(h(yt)){for(;h(yt)||d(yt);)vt+=yt,i();return void(bt=dt[vt]?ht.DELIMITER:ht.SYMBOL)}for(bt=ht.UNKNOWN;""!=yt;)vt+=yt,i();throw G('Syntax error in part "'+vt+'"')}if(bt=ht.NUMBER,"."==yt)vt+=yt,i(),d(yt)||(bt=ht.UNKNOWN);else{for(;d(yt);)vt+=yt,i();"."==yt&&(vt+=yt,i())}for(;d(yt);)vt+=yt,i();if(e=o(),("E"==yt||"e"==yt)&&(d(e)||"-"==e||"+"==e))for(vt+=yt,i(),("+"==yt||"-"==yt)&&(vt+=yt,i()),d(yt)||(bt=ht.UNKNOWN);d(yt);)vt+=yt,i()}function u(){do s();while("\n"==vt)}function c(){Et++}function l(){Et--}function h(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"==e}function f(e){return e>="0"&&"9">=e||"."==e}function d(e){return e>="0"&&"9">=e}function p(){n(),s();var e=m();if(""!=vt)throw bt==ht.DELIMITER?W("Unexpected operator "+vt):G('Unexpected part "'+vt+'"');return e}function m(){var e,t,r=[];if(""==vt)return new nt("undefined","undefined");for("\n"!=vt&&";"!=vt&&(e=g());"\n"==vt||";"==vt;)0==r.length&&e&&(t=";"!=vt,r.push({node:e,visible:t})),s(),"\n"!=vt&&";"!=vt&&""!=vt&&(e=g(),t=";"!=vt,r.push({node:e,visible:t}));return r.length>0?new tt(r):e}function g(){if(bt==ht.SYMBOL&&"function"==vt)throw G('Deprecated keyword "function". Functions can now be assigned without it, like "f(x) = x^2".');return y()}function y(){var e,t,r,n,i=v();if("="==vt){if(i instanceof ct)return e=i.name,u(),r=y(),new et(e,r);if(i instanceof ot)return u(),r=y(),new lt(i,r);if(i instanceof st&&(n=!0,t=[],e=i.name,i.args.forEach(function(e,r){e instanceof ct?t[r]=e.name:n=!1}),n))return u(),r=y(),new it(e,t,r);throw G("Invalid left hand side of assignment operator =")}return i}function v(){for(var e=b();"?"==vt;){var t=xt;xt=Et,u();var r=e,n=b();if(":"!=vt)throw G("False part of conditional expression expected");xt=null,u();var i=v();e=new rt(r,n,i),xt=t}return e}function b(){for(var e=E();"or"==vt;)u(),e=new at("or","or",[e,E()]);return e}function E(){for(var e=x();"xor"==vt;)u(),e=new at("xor","xor",[e,x()]);return e}function x(){for(var e=w();"and"==vt;)u(),e=new at("and","and",[e,w()]);return e}function w(){for(var e=_();"|"==vt;)u(),e=new at("|","bitOr",[e,_()]);return e}function _(){for(var e=T();"^|"==vt;)u(),e=new at("^|","bitXor",[e,T()]);return e}function T(){for(var e=R();"&"==vt;)u(),e=new at("&","bitAnd",[e,R()]);return e}function R(){var e,t,r,n,i;for(e=S(),t={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};vt in t;)r=vt,n=t[r],u(),i=[e,S()],e=new at(r,n,i);return e}function S(){var e,t,r,n,i;for(e=C(),t={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};vt in t;)r=vt,n=t[r],u(),i=[e,C()],e=new at(r,n,i);return e}function C(){var e,t,r,n,i;for(e=H(),t={to:"to","in":"to"};vt in t;)r=vt,n=t[r],u(),i=[e,H()],e=new at(r,n,i);return e}function H(){var e,t=[];if(e=":"==vt?new nt("1","number"):M(),":"==vt&&xt!==Et){for(t.push(e);":"==vt&&t.length<3;)u(),t.push(")"==vt||"]"==vt||","==vt||""==vt?new ct("end"):M());e=3==t.length?new ut(t[0],t[2],t[1]):new ut(t[0],t[1])}return e}function M(){var e,t,r,n,i;for(e=A(),t={"+":"add","-":"subtract"};vt in t;)r=vt,n=t[r],u(),i=[e,A()],e=new at(r,n,i);return e}function A(){var e,t,r,n,i;if(e=N(),t={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide","%":"mod",mod:"mod"},vt in t)for(;vt in t;)r=vt,n=t[r],u(),i=[e,N()],e=new at(r,n,i);return(bt==ht.SYMBOL||"in"==vt&&e instanceof nt||bt==ht.NUMBER&&!(e instanceof nt)||"("==vt||"["==vt)&&(e=new at("*","multiply",[e,A()])),e}function N(){var e,t,r={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"}[vt];return r?(e=vt,u(),t=[N()],new at(e,r,t)):P()}function P(){var e,t,r,n;return e=k(),("^"==vt||".^"==vt)&&(t=vt,r="^"==t?"pow":"dotPow",u(),n=[e,N()],e=new at(t,r,n)),e}function k(){var e,t,r,n,i;for(e=O(),t={"!":"factorial","'":"transpose"};vt in t;)r=vt,n=t[r],s(),i=[e],e=new at(r,n,i);return e}function O(){var e,t=[];if(bt==ht.SYMBOL&&pt[vt]){if(e=pt[vt],s(),"("==vt){if(t=[],c(),s(),")"!=vt)for(t.push(v());","==vt;)s(),t.push(v());if(")"!=vt)throw G("Parenthesis ) expected");l(),s()}return new e(t)}return L()}function L(){var e,t;return bt==ht.SYMBOL||bt==ht.DELIMITER&&vt in dt?(t=vt,s(),e=D(t),e=F(e)):B()}function D(e){var t;if("("==vt){if(t=[],c(),s(),")"!=vt)for(t.push(v());","==vt;)s(),t.push(v());if(")"!=vt)throw G("Parenthesis ) expected");return l(),s(),new st(e,t)}return new ct(e)}function F(e){for(var t;"["==vt;){if(t=[],c(),s(),"]"!=vt)for(t.push(v());","==vt;)s(),t.push(v());if("]"!=vt)throw G("Parenthesis ] expected");l(),s(),e=new ot(e,t)}return e}function B(){var e,t,r;if('"'==vt){for(t="",r="";""!=yt&&('"'!=yt||"\\"==r);)t+=yt,r=yt,i();if(s(),'"'!=vt)throw G('End of string " expected');return s(),e=new nt(t,"string"),e=F(e)}return I()}function I(){var e,t,r,n;if("["==vt){if(c(),s(),"]"!=vt){var i=z();if(";"==vt){for(r=1,t=[i];";"==vt;)s(),t[r]=z(),r++;if("]"!=vt)throw G("End of matrix ] expected");l(),s(),n=t[0].nodes.length;for(var o=1;r>o;o++)if(t[o].nodes.length!=n)throw W("Column dimensions mismatch ("+t[o].nodes.length+" != "+n+")");e=new J(t)}else{if("]"!=vt)throw G("End of matrix ] expected");l(),s(),e=i}}else l(),s(),e=new J([]);return e}return U()}function z(){for(var e=[y()],t=1;","==vt;)s(),e[t]=y(),t++;return new J(e)}function U(){var e;return bt==ht.NUMBER?(e=vt,s(),new nt(e,"number")):V()}function V(){var e;if("("==vt){if(c(),s(),e=y(),")"!=vt)throw G("Parenthesis ) expected");return l(),s(),e}return j()}function j(){throw G(""==vt?"Unexpected end of expression":"Value expected")}function q(){return gt-vt.length+1}function G(e){var t=q(),r=new SyntaxError(e+" (char "+t+")");return r["char"]=t,r}function W(e){var t=q(),r=new Error(e+" (char "+t+")");return r["char"]=t,r}var K=e("../util/index"),X=e("../error/ArgumentsError"),Y=K.string.isString,$=Array.isArray,Q=(K.types.type,e("../type/Complex"),e("../type/Matrix")),Z=(e("../type/Unit"),e("../type/collection")),J=e("./node/ArrayNode"),et=e("./node/AssignmentNode"),tt=e("./node/BlockNode"),rt=e("./node/ConditionalNode"),nt=e("./node/ConstantNode"),it=e("./node/FunctionAssignmentNode"),ot=e("./node/IndexNode"),at=e("./node/OperatorNode"),st=e("./node/FunctionNode"),ut=e("./node/RangeNode"),ct=e("./node/SymbolNode"),lt=e("./node/UpdateNode"),ht={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},ft={",":!0,"(":!0,")":!0,"[":!0,"]":!0,'"':!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"'":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},dt={mod:!0,to:!0,"in":!0,and:!0,xor:!0,or:!0,not:!0},pt={},mt="",gt=0,yt="",vt="",bt=ht.NULL,Et=0,xt=null;t.exports=r},{"../error/ArgumentsError":164,"../type/Complex":459,"../type/Matrix":462,"../type/Unit":465,"../type/collection":466,"../util/index":471,"./node/ArrayNode":307,"./node/AssignmentNode":308,"./node/BlockNode":309,"./node/ConditionalNode":310,"./node/ConstantNode":311,"./node/FunctionAssignmentNode":312,"./node/FunctionNode":313,"./node/IndexNode":314,"./node/OperatorNode":316,"./node/RangeNode":317,"./node/SymbolNode":318,"./node/UpdateNode":319}],322:[function(e,t){"use strict";var r=e("decimal.js"),n=e("./error.transform").transform,i=e("../../util/number").isNumber,o=e("../../util/array").argsToArray;t.exports=function(e){var t=function(){var t=o(arguments),a=t.length-1,s=t[a];i(s)?t[a]=s-1:s instanceof r&&(t[a]=s.minus(1));try{return e.concat.apply(e,t)}catch(u){throw n(u)}};return e.concat.transform=t,t}},{"../../util/array":467,"../../util/number":473,"./error.transform":323,"decimal.js":478}],323:[function(e,t,r){var n=(e("../../error/DimensionError"),e("../../error/IndexError"));r.transform=function(e){return e instanceof n?new n(e.index+1,e.min+1,e.max+1):e}},{"../../error/DimensionError":165,"../../error/IndexError":166}],324:[function(e,t){"use strict";var r=e("../../expression/node/SymbolNode"),n=(e("../../util/boolean").isBoolean,e("../../util/array").argsToArray,e("../../error/ArgumentsError"));t.exports=function(e){var t=e.filter,i=function(e,i,o){if(2!==e.length)throw new n("filter",arguments.length,2);var a,s=e[0].compile(i).eval(o);if(e[1]instanceof r)a=e[1].compile(i).eval(o);else{var u=o||{},c=e[1].filter(function(e){return e instanceof r&&!(e.name in i)&&!(e.name in u)})[0],l=Object.create(u),h=e[1].compile(i);if(!c)throw new Error("No undefined variable found in filter equation");var f=c.name;a=function(e){return l[f]=e,h.eval(l)}}return t(s,a)};return i.rawArgs=!0,e.filter.transform=i,i}},{"../../error/ArgumentsError":164,"../../expression/node/SymbolNode":318,"../../util/array":467,"../../util/boolean":469}],325:[function(e,t){"use strict";var r=e("../../type/Matrix");t.exports=function(e){function t(e,t,r){var n=function(e,i){Array.isArray(e)?e.forEach(function(e,t){n(e,i.concat(t+1))}):t(e,i,r)
};n(e,[])}var n=function(n,i){if(2!=arguments.length)throw new e.error.ArgumentsError("forEach",arguments.length,2);if(Array.isArray(n))t(n,i,n);else{if(!(n instanceof r))throw new e.error.UnsupportedTypeError("forEach",e["typeof"](n));t(n.valueOf(),i,n)}};return e.forEach.transform=n,n}},{"../../type/Matrix":462}],326:[function(e,t){"use strict";{var r=e("decimal.js"),n=e("../../type/Range"),i=e("../../type/Index"),o=(e("../../type/Matrix"),e("../../util/number").isNumber);Array.isArray}t.exports=function(e){var t=function(){for(var e=[],t=0,a=arguments.length;a>t;t++){var s=arguments[t];if(s instanceof n)s.start--,s.end-=s.step>0?0:2;else if(o(s))s--;else{if(!(s instanceof r))throw new TypeError("Ranges must be a Number or Range");s=s.toNumber()-1}e[t]=s}var u=new i;return i.apply(u,e),u};return e.index.transform=t,t}},{"../../type/Index":461,"../../type/Matrix":462,"../../type/Range":463,"../../util/number":473,"decimal.js":478}],327:[function(e,t){"use strict";{var r=e("../../type/Matrix");e("decimal.js"),e("../../type/Range"),e("../../type/Index"),e("../../util/number").isNumber,Array.isArray}t.exports=function(e){function t(e,t,r){var n=function(e,i){return Array.isArray(e)?e.map(function(e,t){return n(e,i.concat(t+1))}):t(e,i,r)};return n(e,[])}var n=function(n,i){if(2!=arguments.length)throw new e.error.ArgumentsError("map",arguments.length,2);if(Array.isArray(n))return t(n,i,n);if(n instanceof r)return new r(t(n.valueOf(),i,n));throw new e.error.UnsupportedTypeError("map",e["typeof"](n))};return e.map.transform=n,n}},{"../../type/Index":461,"../../type/Matrix":462,"../../type/Range":463,"../../util/number":473,"decimal.js":478}],328:[function(e,t){"use strict";var r=e("decimal.js"),n=e("./error.transform").transform,i=e("../../util/number").isNumber,o=e("../../type/collection").isCollection,a=e("../../util/array").argsToArray;t.exports=function(e){var t=function(){var t=a(arguments);if(2==t.length&&o(t[0])){var s=t[1];i(s)?t[1]=s-1:s instanceof r&&(t[1]=s.minus(1))}try{return e.max.apply(e,t)}catch(u){throw n(u)}};return e.max.transform=t,t}},{"../../type/collection":466,"../../util/array":467,"../../util/number":473,"./error.transform":323,"decimal.js":478}],329:[function(e,t){"use strict";var r=e("decimal.js"),n=e("./error.transform").transform,i=e("../../util/number").isNumber,o=e("../../type/collection").isCollection,a=e("../../util/array").argsToArray;t.exports=function(e){var t=function(){var t=a(arguments);if(2==t.length&&o(t[0])){var s=t[1];i(s)?t[1]=s-1:s instanceof r&&(t[1]=s.minus(1))}try{return e.mean.apply(e,t)}catch(u){throw n(u)}};return e.mean.transform=t,t}},{"../../type/collection":466,"../../util/array":467,"../../util/number":473,"./error.transform":323,"decimal.js":478}],330:[function(e,t){"use strict";var r=e("decimal.js"),n=e("./error.transform").transform,i=e("../../util/number").isNumber,o=e("../../type/collection").isCollection,a=e("../../util/array").argsToArray;t.exports=function(e){var t=function(){var t=a(arguments);if(2==t.length&&o(t[0])){var s=t[1];i(s)?t[1]=s-1:s instanceof r&&(t[1]=s.minus(1))}try{return e.min.apply(e,t)}catch(u){throw n(u)}};return e.min.transform=t,t}},{"../../type/collection":466,"../../util/array":467,"../../util/number":473,"./error.transform":323,"decimal.js":478}],331:[function(e,t){"use strict";var r=e("../../util/boolean").isBoolean,n=e("../../util/array").argsToArray;t.exports=function(e){var t=function(){var t=n(arguments),i=t.length-1,o=t[i];return r(o)||t.push(!0),e.range.apply(e,t)};return e.range.transform=t,t}},{"../../util/array":467,"../../util/boolean":469}],332:[function(e,t){"use strict";var r=e("./error.transform").transform,n=(e("../../util/boolean").isBoolean,e("../../util/array").argsToArray);t.exports=function(e){var t=function(){try{return e.subset.apply(e,n(arguments))}catch(t){throw r(t)}};return e.subset.transform=t,t}},{"../../util/array":467,"../../util/boolean":469,"./error.transform":323}],333:[function(e,t){"use strict";t.exports=function(t){function r(e,t){var r=t.re*t.re+t.im*t.im;return 0!=r?new o((e.re*t.re+e.im*t.im)/r,(e.im*t.re-e.re*t.im)/r):new o(0!=e.re?e.re/0:0,0!=e.im?e.im/0:0)}var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=(e("../../type/Matrix"),e("../../type/Unit")),s=n.number.isNumber,u=n["boolean"].isBoolean,c=o.isComplex,l=a.isUnit;t._divide=function h(e,n){if(s(e)){if(s(n))return e/n;if(c(n))return r(new o(e,0),n)}if(c(e)){if(c(n))return r(e,n);if(s(n))return r(e,new o(n,0))}if(e instanceof i)return s(n)?n=i.convert(n):(u(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?e.div(n):h(e.toNumber(),n);if(n instanceof i)return s(e)?e=i.convert(e):(u(e)||null===e)&&(e=new i(e?1:0)),e instanceof i?e.div(n):h(e,n.toNumber());if(l(e)&&s(n)){var a=e.clone();return a.value=(null===a.value?a._normalize(1):a.value)/n,a}if(u(e)||null===e)return h(+e,n);if(u(n)||null===n)return h(e,+n);throw new t.error.UnsupportedTypeError("divide",t["typeof"](e),t["typeof"](n))}}},{"../../type/Complex":459,"../../type/Matrix":462,"../../type/Unit":465,"../../util/index":471}],334:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=(e("../../type/Matrix"),e("../../type/collection")),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,c=o.isCollection;t.abs=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("abs",arguments.length,1);if(a(e))return Math.abs(e);if(u(e))return Math.sqrt(e.re*e.re+e.im*e.im);if(e instanceof n)return e.abs();if(c(e))return o.deepMap(e,l);if(s(e)||null===e)return Math.abs(e);throw new t.error.UnsupportedTypeError("abs",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Matrix":462,"../../type/collection":466,"../../util/index":471}],335:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=(e("../../type/Matrix"),e("../../type/Unit")),a=e("../../type/collection"),s=r["boolean"].isBoolean,u=r.number.isNumber,c=r.string.isString,l=i.isComplex,h=o.isUnit,f=a.isCollection;t.add=function d(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("add",arguments.length,2);if(u(e)){if(u(r))return e+r;if(l(r))return new i(e+r.re,r.im)}if(l(e)){if(l(r))return new i(e.re+r.re,e.im+r.im);if(u(r))return new i(e.re+r,e.im)}if(h(e)&&h(r)){if(null==e.value)throw new Error("Parameter x contains a unit with undefined value");if(null==r.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(r))throw new Error("Units do not match");var o=e.clone();return o.value+=r.value,o.fixPrefix=!1,o}if(e instanceof n)return u(r)?r=n.convert(r):(s(r)||null===r)&&(r=new n(r?1:0)),r instanceof n?e.plus(r):d(e.toNumber(),r);if(r instanceof n)return u(e)?e=n.convert(e):(s(e)||null===e)&&(e=new n(e?1:0)),e instanceof n?e.plus(r):d(e,r.toNumber());if(f(e)||f(r))return a.deepMap2(e,r,d);if(c(e)||c(r))return e+r;if(s(e)||null===e)return d(+e,r);if(s(r)||null===r)return d(e,+r);throw new t.error.UnsupportedTypeError("add",t["typeof"](e),t["typeof"](r))}}},{"../../type/Complex":459,"../../type/Matrix":462,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],336:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.number.isNumber,s=r["boolean"].isBoolean,u=o.isCollection,c=i.isComplex;t.ceil=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("ceil",arguments.length,1);if(a(e))return Math.ceil(e);if(c(e))return new i(Math.ceil(e.re),Math.ceil(e.im));if(e instanceof n)return e.ceil();if(u(e))return o.deepMap(e,l);if(s(e)||null===e)return Math.ceil(e);throw new t.error.UnsupportedTypeError("ceil",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],337:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,c=o.isCollection;t.cube=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("cube",arguments.length,1);if(a(e))return e*e*e;if(u(e))return t.multiply(t.multiply(e,e),e);if(e instanceof n)return e.times(e).times(e);if(c(e))return o.deepMap(e,l);if(s(e)||null===e)return l(+e);throw new t.error.UnsupportedTypeError("cube",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],338:[function(e,t){"use strict";t.exports=function(t){var r=e("../../type/collection"),n=r.isCollection;t.divide=function(e,i){if(2!=arguments.length)throw new t.error.ArgumentsError("divide",arguments.length,2);return n(e)?n(i)?t.multiply(e,t.inv(i)):r.deepMap2(e,i,t._divide):n(i)?t.multiply(e,t.inv(i)):t._divide(e,i)}}},{"../../type/collection":466}],339:[function(e,t){"use strict";t.exports=function(t){var r=e("../../type/collection");t.dotDivide=function(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("dotDivide",arguments.length,2);return r.deepMap2(e,n,t.divide)},t.edivide=function(){throw new Error("Function edivide is renamed to dotDivide")}}},{"../../type/collection":466}],340:[function(e,t){"use strict";t.exports=function(t){var r=(e("../../util/index"),e("../../type/collection"));t.dotMultiply=function(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("dotMultiply",arguments.length,2);return r.deepMap2(e,n,t.multiply)},t.emultiply=function(){throw new Error("Function emultiply is renamed to dotMultiply")}}},{"../../type/collection":466,"../../util/index":471}],341:[function(e,t){"use strict";t.exports=function(t){var r=(e("../../util/index"),e("../../type/collection"));t.dotPow=function(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("dotPow",arguments.length,2);return r.deepMap2(e,n,t.pow)},t.epow=function(){throw new Error("Function epow is renamed to dotPow")}}},{"../../type/collection":466,"../../util/index":471}],342:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=(e("../../type/Matrix"),e("../../type/collection")),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,c=o.isCollection;t.exp=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("exp",arguments.length,1);if(a(e))return Math.exp(e);if(u(e)){var r=Math.exp(e.re);return new i(r*Math.cos(e.im),r*Math.sin(e.im))}if(e instanceof n)return e.exp();if(c(e))return o.deepMap(e,l);if(s(e)||null===e)return Math.exp(e);throw new t.error.UnsupportedTypeError("exp",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Matrix":462,"../../type/collection":466,"../../util/index":471}],343:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,c=o.isCollection;t.fix=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("fix",arguments.length,1);if(a(e))return e>0?Math.floor(e):Math.ceil(e);if(u(e))return new i(e.re>0?Math.floor(e.re):Math.ceil(e.re),e.im>0?Math.floor(e.im):Math.ceil(e.im));if(e instanceof n)return e.isNegative()?e.ceil():e.floor();if(c(e))return o.deepMap(e,l);if(s(e)||null===e)return l(+e);throw new t.error.UnsupportedTypeError("fix",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],344:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,c=o.isCollection;t.floor=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("floor",arguments.length,1);if(a(e))return Math.floor(e);if(u(e))return new i(Math.floor(e.re),Math.floor(e.im));if(e instanceof n)return e.floor();if(c(e))return o.deepMap(e,l);if(s(e)||null===e)return l(+e);throw new t.error.UnsupportedTypeError("floor",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],345:[function(e,t){"use strict";t.exports=function(t){function r(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var r=new i(0);!t.isZero();){var n=e.mod(t);e=t,t=n}return e.lt(r)?e.neg():e}var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/collection"),a=n.number.isNumber,s=n["boolean"].isBoolean,u=n.number.isInteger,c=o.isCollection;t.gcd=function l(){var e,n=arguments[0],h=arguments[1];if(2==arguments.length){if(a(n)&&a(h)){if(!u(n)||!u(h))throw new Error("Parameters in function gcd must be integer numbers");for(;0!=h;)e=n%h,n=h,h=e;return 0>n?-n:n}if(c(n)||c(h))return o.deepMap2(n,h,l);if(n instanceof i)return a(h)?h=i.convert(h):(s(h)||null===h)&&(h=new i(h?1:0)),h instanceof i?r(n,h):l(n.toNumber(),h);if(h instanceof i)return a(n)?n=i.convert(n):(s(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?r(n,h):l(n.toNumber(),h);if(s(n)||null===n)return l(+n,h);if(s(h)||null===h)return l(n,+h);throw new t.error.UnsupportedTypeError("gcd",t["typeof"](n),t["typeof"](h))}if(arguments.length>2){for(var f=1;f<arguments.length;f++)n=l(n,arguments[f]);return n}throw new SyntaxError("Function gcd expects two or more arguments")}}},{"../../type/collection":466,"../../util/index":471}],346:[function(e,t){"use strict";t.exports=function(t){function r(e,t){if(!e.isInt()||!t.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(e.isZero()||t.isZero())return new i(0);for(var r=e.times(t);!t.isZero();){var n=t;t=e.mod(n),e=n}return r.div(e).abs()}var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/collection"),a=n.number.isNumber,s=n["boolean"].isBoolean,u=n.number.isInteger,c=o.isCollection;t.lcm=function l(){var e,n=arguments[0],h=arguments[1];if(2==arguments.length){if(a(n)&&a(h)){if(!u(n)||!u(h))throw new Error("Parameters in function lcm must be integer numbers");if(0==n||0==h)return 0;for(var f=n*h;0!=h;)e=h,h=n%e,n=e;return Math.abs(f/n)}if(c(n)||c(h))return o.deepMap2(n,h,l);if(n instanceof i)return a(h)?h=i.convert(h):(s(h)||null===h)&&(h=new i(h?1:0)),h instanceof i?r(n,h):l(n.toNumber(),h);if(h instanceof i)return a(n)?n=i.convert(n):(s(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?r(n,h):l(n.toNumber(),h);if(s(n)||null===n)return l(+n,h);if(s(h)||null===h)return l(n,+h);throw new t.error.UnsupportedTypeError("lcm",t["typeof"](n),t["typeof"](h))}if(arguments.length>2){for(var d=1;d<arguments.length;d++)n=l(n,arguments[d]);return n}throw new SyntaxError("Function lcm expects two or more arguments")}}},{"../../type/collection":466,"../../util/index":471}],347:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,c=o.isCollection;t.log=function l(e,r){if(1==arguments.length){if(a(e))return e>=0?Math.log(e):l(new i(e,0));if(u(e))return new i(Math.log(Math.sqrt(e.re*e.re+e.im*e.im)),Math.atan2(e.im,e.re));if(e instanceof n)return e.isNegative()?l(e.toNumber()):e.ln();if(c(e))return o.deepMap(e,l);if(s(e)||null===e)return l(+e);throw new t.error.UnsupportedTypeError("log",t["typeof"](e))}if(2==arguments.length)return t.divide(l(e),l(r));throw new t.error.ArgumentsError("log",arguments.length,1,2)}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],348:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,c=o.isCollection;t.log10=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("log10",arguments.length,1);if(a(e))return e>=0?Math.log(e)/Math.LN10:l(new i(e,0));if(e instanceof n)return e.isNegative()?l(e.toNumber()):e.log();if(u(e))return new i(Math.log(Math.sqrt(e.re*e.re+e.im*e.im))/Math.LN10,Math.atan2(e.im,e.re)/Math.LN10);if(c(e))return o.deepMap(e,l);if(s(e)||null===e)return l(+e);throw new t.error.UnsupportedTypeError("log10",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],349:[function(e,t){"use strict";t.exports=function(t){function r(e,t){if(t>0)return e-t*Math.floor(e/t);if(0==t)return e;throw new Error("Cannot calculate mod for a negative divisor")}var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/collection"),a=n.number.isNumber,s=n["boolean"].isBoolean,u=o.isCollection;t.mod=function c(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("mod",arguments.length,2);if(a(e)&&a(n))return r(e,n);if(e instanceof i)return a(n)?n=i.convert(n):(s(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?n.isZero()?e:e.mod(n):c(e.toNumber(),n);if(n instanceof i)return a(e)?e=i.convert(e):(s(e)||null===e)&&(e=new i(e?1:0)),e instanceof i?n.isZero()?e:e.mod(n):c(e,n.toNumber());if(u(e)||u(n))return o.deepMap2(e,n,c);if(s(e)||null===e)return c(+e,n);if(s(n)||null===n)return c(e,+n);throw new t.error.UnsupportedTypeError("mod",t["typeof"](e),t["typeof"](n))}}},{"../../type/collection":466,"../../util/index":471}],350:[function(e,t){"use strict";t.exports=function(t){function r(e,r){for(var n=[],i=e.length,o=r[0].length,a=e[0].length,s=0;i>s;s++){n[s]=[];for(var u=0;o>u;u++){for(var c=null,l=0;a>l;l++){var h=t.multiply(e[s][l],r[l][u]);c=null===c?h:t.add(c,h)}n[s][u]=c}}var f=1===i&&1===o;return f?n[0][0]:n}function n(e,r){for(var n=[],i=r.length,o=r[0].length,a=0;o>a;a++){for(var s=null,u=0;i>u;u++){var c=t.multiply(e[u],r[u][a]);s=0===u?c:t.add(s,c)}n[a]=s}return 1===n.length?n[0]:n}function i(e,r){for(var n=[],i=e.length,o=e[0].length,a=0;i>a;a++){for(var s=null,u=0;o>u;u++){var c=t.multiply(e[a][u],r[u]);s=0===u?c:t.add(s,c)}n[a]=s}return 1===n.length?n[0]:n}function o(e,r){var n=e.length;if(!n)throw new Error("Cannot multiply two empty vectors");for(var i=0,o=0;n>o;o++)i=t.add(i,t.multiply(e[o],r[o]));return i}function a(e,t){return 0==e.im?0==t.im?new c(e.re*t.re,0):0==t.re?new c(0,e.re*t.im):new c(e.re*t.re,e.re*t.im):0==e.re?0==t.im?new c(0,e.im*t.re):0==t.re?new c(-e.im*t.im,0):new c(-e.im*t.im,e.im*t.re):0==t.im?new c(e.re*t.re,e.im*t.re):0==t.re?new c(-e.im*t.im,e.re*t.im):new c(e.re*t.re-e.im*t.im,e.re*t.im+e.im*t.re)}var s=e("../../util/index"),u=t.type.BigNumber,c=e("../../type/Complex"),l=e("../../type/Matrix"),h=e("../../type/Unit"),f=e("../../type/collection"),d=s.array,p=s.number.isNumber,m=s["boolean"].isBoolean,g=c.isComplex,y=Array.isArray,v=h.isUnit;t.multiply=function b(e,s){var h;if(2!=arguments.length)throw new t.error.ArgumentsError("multiply",arguments.length,2);if(p(e)){if(p(s))return e*s;if(g(s))return a(new c(e,0),s);if(v(s))return h=s.clone(),h.value=null===h.value?h._normalize(e):h.value*e,h}if(g(e)){if(p(s))return a(e,new c(s,0));if(g(s))return a(e,s)}if(e instanceof u)return p(s)?s=u.convert(s):(m(s)||null===s)&&(s=new u(s?1:0)),s instanceof u?e.times(s):b(e.toNumber(),s);if(s instanceof u)return p(e)?e=u.convert(e):(m(e)||null===e)&&(e=new u(e?1:0)),e instanceof u?e.times(s):b(e,s.toNumber());if(v(e)&&p(s))return h=e.clone(),h.value=null===h.value?h._normalize(s):h.value*s,h;if(y(e)){if(y(s)){var E=d.size(e),x=d.size(s);if(1==E.length){if(1==x.length){if(E[0]!=x[0])throw new RangeError("Dimension mismatch in multiplication. Length of A must match length of B (A is "+E[0]+", B is "+x[0]+", "+E[0]+" != "+x[0]+")");return o(e,s)}if(2==x.length){if(E[0]!=x[0])throw new RangeError("Dimension mismatch in multiplication. Length of A must match rows of B (A is "+E[0]+", B is "+x[0]+"x"+x[1]+", "+E[0]+" != "+x[0]+")");return n(e,s)}throw new Error("Can only multiply a 1 or 2 dimensional matrix (B has "+x.length+" dimensions)")}if(2==E.length){if(1==x.length){if(E[1]!=x[0])throw new RangeError("Dimension mismatch in multiplication. Columns of A must match length of B (A is "+E[0]+"x"+E[0]+", B is "+x[0]+", "+E[1]+" != "+x[0]+")");return i(e,s)}if(2==x.length){if(E[1]!=x[0])throw new RangeError("Dimension mismatch in multiplication. Columns of A must match rows of B (A is "+E[0]+"x"+E[1]+", B is "+x[0]+"x"+x[1]+", "+E[1]+" != "+x[0]+")");return r(e,s)}throw new Error("Can only multiply a 1 or 2 dimensional matrix (B has "+x.length+" dimensions)")}throw new Error("Can only multiply a 1 or 2 dimensional matrix (A has "+E.length+" dimensions)")}return s instanceof l?(h=b(e,s.valueOf()),y(h)?new l(h):h):f.deepMap2(e,s,b)}if(e instanceof l)return s instanceof l?(h=b(e.valueOf(),s.valueOf()),y(h)?new l(h):h):(h=b(e.valueOf(),s),y(h)?new l(h):h);if(y(s))return f.deepMap2(e,s,b);if(s instanceof l)return new l(f.deepMap2(e,s.valueOf(),b));if(m(e)||null===e)return b(+e,s);if(m(s)||null===s)return b(e,+s);throw new t.error.UnsupportedTypeError("multiply",t["typeof"](e),t["typeof"](s))}}},{"../../type/Complex":459,"../../type/Matrix":462,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],351:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=e("../../../lib/util/array"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/Matrix"),s=(e("../../type/collection"),r.number.isNumber),u=r["boolean"].isBoolean,c=o.isComplex,l=Array.isArray;t.norm=function h(e,r){if(arguments.length<1||arguments.length>2)throw new t.error.ArgumentsError("abs",arguments.length,1,2);if(s(e))return Math.abs(e);if(c(e))return Math.sqrt(e.re*e.re+e.im*e.im);if(e instanceof i)return e.abs();if(u(e)||null===e)return Math.abs(e);if(l(e)){var o=n.size(e);if(null==r&&(r=2),1==o.length){if(r===Number.POSITIVE_INFINITY||"inf"===r){var f;return t.forEach(e,function(e){var r=t.abs(e);(!f||t.larger(r,f))&&(f=r)}),f}if(r===Number.NEGATIVE_INFINITY||"-inf"===r){var f;return t.forEach(e,function(e){var r=t.abs(e);(!f||t.smaller(r,f))&&(f=r)}),f}if("fro"===r)return h(e);if(s(r)&&!isNaN(r)){if(!t.equal(r,0)){var f=0;return t.forEach(e,function(e){f=t.add(t.pow(t.abs(e),r),f)}),t.pow(f,1/r)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}if(2==o.length){if(1==r){for(var d=[],p=0;p<e.length;p++)for(var m=e[p],g=0;g<m.length;g++)d[g]=t.add(d[g]||0,t.abs(m[g]));return t.max(d)}if(r==Number.POSITIVE_INFINITY||"inf"===r){for(var f=0,p=0;p<e.length;p++){for(var y=0,m=e[p],g=0;g<m.length;g++)y=t.add(y,t.abs(m[g]));t.larger(y,f)&&(f=y)}return f}if("fro"===r){var v=t.diag(t.multiply(t.transpose(e),e)),b=0;return t.forEach(v,function(e){b=t.add(e,b)}),t.sqrt(b)}if(2==r)throw new Error("Unsupported parameter value, missing implementation of matrix singular value decomposition");throw new Error("Unsupported parameter value")}}if(e instanceof a)return h(e.valueOf(),r);throw new t.error.UnsupportedTypeError("norm",e)}}},{"../../../lib/util/array":467,"../../type/Complex":459,"../../type/Matrix":462,"../../type/collection":466,"../../util/index":471}],352:[function(e,t){"use strict";t.exports=function(t){function r(e,t){var r=void 0!=t?t:2,n=0>r;if(n&&(r=-r),0==r)throw new Error("Root must be non-zero");if(0>e&&Math.abs(r)%2!=1)throw new Error("Root must be odd when a is negative.");if(0==e)return 0;if(!Number.isFinite(e))return n?0:e;var i=1e-16,o=1,a=0,s=100;do{var u=(e/Math.pow(o,r-1)-o)/r;o+=u,a++}while(Math.abs(u)>i&&s>a);return n?1/o:o}function i(e,t){var r=void 0!=t?t:new a(2),n=new a(0),i=new a(1),o=r.isNegative();if(o&&(r=r.negated()),r.isZero())throw new Error("Root must be non-zero");if(e.isNegative()&&!r.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(e.isZero())return n;if(!e.isFinite())return o?n:e;var s=i,u=0,c=100;do{var l=s,h=e.div(s.pow(r.minus(1))).minus(s).div(r);s=s.plus(h),u++}while(!s.equals(l)&&c>u);return o?i.div(s):s}var o=e("../../util/index"),a=t.type.BigNumber,s=e("../../type/collection"),u=o.number.isNumber,c=o["boolean"].isBoolean,l=s.isCollection;t.nthRoot=function h(e,o){if(1!=arguments.length&&2!=arguments.length)throw new t.error.ArgumentsError("nthRoot",arguments.length,1,2);switch(arguments.length){case 1:if(u(e))return r(e);if(e instanceof a)return i(e);if(l(e))return s.deepMap(x,h);if(c(e)||null===e)return h(+e);break;case 2:if(u(e)){if(u(o))return r(e,o);if(o instanceof a)return e=a.convert(e),e instanceof a?i(e,o):r(e,o.toNumber())}else{if(e instanceof a)return u(o)&&(o=a.convert(o)),o instanceof a?i(e,o):r(e.toNumber(),o);if(l(e)&&!l(o))return s.deepMap2(e,o,h)}if(c(e)||null===e)return h(+e,o);if(c(o)||null===o)return h(e,+o);break;default:throw new t.error.ArgumentsError("nthRoot",arguments.length,1,2)}if(c(x)||null===x)return 2==arguments.length?h(+x,n):h(+x);throw new t.error.UnsupportedTypeError("nthRoot",t["typeof"](e),t["typeof"](o))}}},{"../../type/collection":466,"../../util/index":471}],353:[function(e,t){"use strict";t.exports=function(t){function r(e,r){var n=t.log(e),i=t.multiply(n,r);return t.exp(i)}var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/Matrix"),s=(e("../../type/collection"),n.array),u=n.number.isNumber,c=n["boolean"].isBoolean,l=Array.isArray,h=n.number.isInteger,f=o.isComplex;t.pow=function d(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("pow",arguments.length,2);if(u(e)){if(u(n))return h(n)||e>=0?Math.pow(e,n):r(new o(e,0),new o(n,0));if(f(n))return r(new o(e,0),n)}if(f(e)){if(u(n))return r(e,new o(n,0));if(f(n))return r(e,n)}if(e instanceof i)return u(n)?n=i.convert(n):(c(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?n.isInteger()||!e.isNegative()?e.pow(n):d(e.toNumber(),n.toNumber()):d(e.toNumber(),n);if(n instanceof i)return u(e)?e=i.convert(e):(c(e)||null===e)&&(e=new i(e?1:0)),e instanceof i?n.isInteger()&&!e.isNegative()?e.pow(n):d(e.toNumber(),n.toNumber()):d(e,n.toNumber());if(l(e)){if(!u(n)||!h(n)||0>n)throw new TypeError("For A^b, b must be a positive integer (value is "+n+")");var p=s.size(e);if(2!=p.length)throw new Error("For A^b, A must be 2 dimensional (A has "+p.length+" dimensions)");if(p[0]!=p[1])throw new Error("For A^b, A must be square (size is "+p[0]+"x"+p[1]+")");for(var m=t.eye(p[0]).valueOf(),g=e;n>=1;)1==(1&n)&&(m=t.multiply(g,m)),n>>=1,g=t.multiply(g,g);return m}if(e instanceof a)return new a(d(e.valueOf(),n));if(c(e)||null===e)return d(+e,n);if(c(n)||null===n)return d(e,+n);throw new t.error.UnsupportedTypeError("pow",t["typeof"](e),t["typeof"](n))}}},{"../../type/Complex":459,"../../type/Matrix":462,"../../type/collection":466,"../../util/index":471}],354:[function(e,t){"use strict";t.exports=function(t){function r(e,t){var r=Math.pow(10,t);return Math.round(e*r)/r}var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/collection"),s=n.number.isNumber,u=n.number.isInteger,c=n["boolean"].isBoolean,l=o.isComplex,h=a.isCollection;t.round=function f(e,n){if(1!=arguments.length&&2!=arguments.length)throw new t.error.ArgumentsError("round",arguments.length,1,2);if(void 0==n){if(s(e))return Math.round(e);if(l(e))return new o(Math.round(e.re),Math.round(e.im));if(e instanceof i)return e.toDecimalPlaces(0);if(h(e))return a.deepMap(e,f);if(c(e)||null===e)return Math.round(e);throw new t.error.UnsupportedTypeError("round",t["typeof"](e))}if(!s(n)||!u(n)){if(!(n instanceof i)){if(c(n)||null===e)return f(e,+n);throw new TypeError("Number of decimals in function round must be an integer")}n=parseFloat(n.valueOf())}if(0>n||n>15)throw new Error("Number of decimals in function round must be in te range of 0-15");if(s(e))return r(e,n);if(l(e))return new o(r(e.re,n),r(e.im,n));if(e instanceof i)return e.toDecimalPlaces(n);if(h(e)||h(n))return a.deepMap2(e,n,f);if(c(e)||null===e)return f(+e,n);throw new t.error.UnsupportedTypeError("round",t["typeof"](e),t["typeof"](n))}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],355:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.number,s=r.number.isNumber,u=r["boolean"].isBoolean,c=i.isComplex,l=o.isCollection;t.sign=function h(e){if(1!=arguments.length)throw new t.error.ArgumentsError("sign",arguments.length,1);if(s(e))return a.sign(e);if(c(e)){var r=Math.sqrt(e.re*e.re+e.im*e.im);return new i(e.re/r,e.im/r)}if(e instanceof n)return new n(e.cmp(0));if(l(e))return o.deepMap(e,h);if(u(e)||null===e)return a.sign(e);throw new t.error.UnsupportedTypeError("sign",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],356:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,c=o.isCollection;t.sqrt=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("sqrt",arguments.length,1);if(a(e))return e>=0?Math.sqrt(e):l(new i(e,0));if(u(e)){var r,h,f=Math.sqrt(e.re*e.re+e.im*e.im);return r=e.re>=0?.5*Math.sqrt(2*(f+e.re)):Math.abs(e.im)/Math.sqrt(2*(f-e.re)),h=e.re<=0?.5*Math.sqrt(2*(f-e.re)):Math.abs(e.im)/Math.sqrt(2*(f+e.re)),e.im>=0?new i(r,h):new i(r,-h)}if(e instanceof n)return e.isNegative()?l(e.toNumber()):e.sqrt();if(c(e))return o.deepMap(e,l);if(s(e)||null===e)return l(+e);throw new t.error.UnsupportedTypeError("sqrt",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],357:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,c=o.isCollection;t.square=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("square",arguments.length,1);if(a(e))return e*e;if(u(e))return t.multiply(e,e);if(e instanceof n)return e.times(e);if(c(e))return o.deepMap(e,l);if(s(e)||null===e)return e*e;throw new t.error.UnsupportedTypeError("square",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],358:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=(e("../../type/Matrix"),e("../../type/Unit")),a=e("../../type/collection"),s=r["boolean"].isBoolean,u=r.number.isNumber,c=i.isComplex,l=o.isUnit,h=a.isCollection;t.subtract=function f(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("subtract",arguments.length,2);if(u(e)){if(u(r))return e-r;if(c(r))return new i(e-r.re,-r.im)}else if(c(e)){if(u(r))return new i(e.re-r,e.im);if(c(r))return new i(e.re-r.re,e.im-r.im)}if(e instanceof n)return u(r)?r=n.convert(r):(s(r)||null===r)&&(r=new n(r?1:0)),r instanceof n?e.minus(r):f(e.toNumber(),r);if(r instanceof n)return u(e)?e=n.convert(e):(s(e)||null===e)&&(e=new n(e?1:0)),e instanceof n?e.minus(r):f(e,r.toNumber());if(l(e)&&l(r)){if(null==e.value)throw new Error("Parameter x contains a unit with undefined value");if(null==r.value)throw new Error("Parameter y contains a unit with undefined value");if(!e.equalBase(r))throw new Error("Units do not match");var o=e.clone();return o.value-=r.value,o.fixPrefix=!1,o}if(h(e)||h(r))return a.deepMap2(e,r,f);if(s(e)||null===e)return f(+e,r);if(s(r)||null===r)return f(e,+r);throw new t.error.UnsupportedTypeError("subtract",t["typeof"](e),t["typeof"](r))}}},{"../../type/Complex":459,"../../type/Matrix":462,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],359:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/Unit"),s=e("../../type/collection"),u=n.number.isNumber,c=n["boolean"].isBoolean,l=n.string.isString,h=o.isComplex,f=a.isUnit,d=s.isCollection;t.unaryMinus=function p(e){if(1!=arguments.length)throw new t.error.ArgumentsError("unaryMinus",arguments.length,1);if(u(e))return-e;if(h(e))return new o(-e.re,-e.im);if(e instanceof i)return e.neg();if(f(e)){var n=e.clone();
return n.value=-e.value,n}if(d(e))return s.deepMap(e,p);if(c(e)||l(e)||null===e)return"bignumber"==r.number?new i(-e):-e;throw new t.error.UnsupportedTypeError("unaryMinus",t["typeof"](e))},t.unary=function(){throw new Error("Function unary is deprecated. Use unaryMinus instead.")}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],360:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/Unit"),s=e("../../type/collection"),u=n.number.isNumber,c=n["boolean"].isBoolean,l=n.string.isString,h=o.isComplex,f=a.isUnit,d=s.isCollection;t.unaryPlus=function p(e){if(1!=arguments.length)throw new t.error.ArgumentsError("unaryPlus",arguments.length,1);if(u(e))return e;if(h(e))return e.clone();if(e instanceof i)return e;if(f(e))return e.clone();if(d(e))return s.deepMap(e,p);if(c(e)||l(e)||null===e)return"bignumber"==r.number?new i(+e):+e;throw new t.error.UnsupportedTypeError("unaryPlus",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],361:[function(e,t){"use strict";t.exports=function(t,r){function n(e,t){for(var n,i,o,s=0,u=1,c=1,l=0;t;)i=Math.floor(e/t),o=e%t,n=s,s=u-i*s,u=n,n=c,c=l-i*c,l=n,e=t,t=o;var h;return h=0>e?[-e,-u,-l]:[e,e?u:0,l],"array"===r.matrix?h:new a(h)}function i(e,t){for(var n,i,o,u=new s(0),c=new s(0),l=new s(1),h=new s(1),f=new s(0);!t.isZero();)i=e.div(t).floor(),o=e.mod(t),n=c,c=l.minus(i.times(c)),l=n,n=h,h=f.minus(i.times(h)),f=n,e=t,t=o;var d;return d=e.lt(u)?[e.neg(),l.neg(),f.neg()]:[e,e.isZero()?0:l,f],"array"===r.matrix?d:new a(d)}var o=e("../../util/index"),a=e("../../type/Matrix"),s=t.type.BigNumber,u=o.number.isNumber,c=o["boolean"].isBoolean,l=o.number.isInteger;t.xgcd=function h(e,r){if(2==arguments.length){if(u(e)&&u(r)){if(!l(e)||!l(r))throw new Error("Parameters in function xgcd must be integer numbers");return n(e,r)}if(e instanceof s)return u(r)?r=s.convert(r):(c(r)||null===r)&&(r=new s(r?1:0)),r instanceof s?i(e,r):h(e.toNumber(),r);if(r instanceof s)return u(e)?e=s.convert(e):(c(e)||null===e)&&(e=new s(e?1:0)),e instanceof s?i(e,r):h(e.toNumber(),r);if(c(e)||null===e)return h(+e,r);if(c(r)||null===r)return h(e,+r);throw new t.error.UnsupportedTypeError("xgcd",t["typeof"](e),t["typeof"](r))}throw new SyntaxError("Function xgcd expects two arguments")}}},{"../../type/Matrix":462,"../../util/index":471}],362:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=(e("../../type/Matrix"),e("../../type/Unit"),e("../../type/collection")),o=r["boolean"].isBoolean,a=r.number.isInteger,s=r.number.isNumber,u=i.isCollection,c=r.bignumber.and;t.bitAnd=function l(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("bitAnd",arguments.length,2);if(s(e)&&s(r)){if(!a(e)||!a(r))throw new Error("Parameters in function bitAnd must be integer numbers");return e&r}if(u(e)||u(r))return i.deepMap2(e,r,l);if(o(e)||null===e)return l(+e,r);if(o(r)||null===r)return l(e,+r);if(e instanceof n)return s(r)&&(r=n.convert(r)),r instanceof n?c(e,r):l(e.toNumber(),r);if(r instanceof n)return s(e)&&(e=n.convert(e)),e instanceof n?c(e,r):l(e,r.toNumber());throw new t.error.UnsupportedTypeError("bitAnd",t["typeof"](e),t["typeof"](r))}}},{"../../type/Matrix":462,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],363:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=(e("../../type/Matrix"),e("../../type/Unit"),e("../../type/collection")),o=r["boolean"].isBoolean,a=r.number.isInteger,s=r.number.isNumber,u=i.isCollection,c=r.bignumber.not;t.bitNot=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("bitNot",arguments.length,1);if(s(e)){if(!a(e))throw new Error("Parameter in function bitNot must be integer numbers");return~e}if(e instanceof n)return c(e);if(u(e))return i.deepMap(e,l);if(o(e)||null===e)return l(+e);throw new t.error.UnsupportedTypeError("bitNot",t["typeof"](e))}}},{"../../type/Matrix":462,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],364:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=(e("../../type/Matrix"),e("../../type/Unit"),e("../../type/collection")),o=r["boolean"].isBoolean,a=r.number.isInteger,s=r.number.isNumber,u=i.isCollection,c=r.bignumber.or;t.bitOr=function l(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("bitOr",arguments.length,2);if(s(e)&&s(r)){if(!a(e)||!a(r))throw new Error("Parameters in function bitOr must be integer numbers");return e|r}if(u(e)||u(r))return i.deepMap2(e,r,l);if(o(e)||null===e)return l(+e,r);if(o(r)||null===r)return l(e,+r);if(e instanceof n)return s(r)&&(r=n.convert(r)),r instanceof n?c(e,r):l(e.toNumber(),r);if(r instanceof n)return s(e)&&(e=n.convert(e)),e instanceof n?c(e,r):l(e,r.toNumber());throw new t.error.UnsupportedTypeError("bitOr",t["typeof"](e),t["typeof"](r))}}},{"../../type/Matrix":462,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],365:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=(e("../../type/Matrix"),e("../../type/Unit"),e("../../type/collection")),o=r["boolean"].isBoolean,a=r.number.isInteger,s=r.number.isNumber,u=i.isCollection,c=r.bignumber.xor;t.bitXor=function l(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("bitXor",arguments.length,2);if(s(e)&&s(r)){if(!a(e)||!a(r))throw new Error("Parameters in function bitXor must be integer numbers");return e^r}if(u(e)||u(r))return i.deepMap2(e,r,l);if(o(e)||null===e)return l(+e,r);if(o(r)||null===r)return l(e,+r);if(e instanceof n)return s(r)&&(r=n.convert(r)),r instanceof n?c(e,r):l(e.toNumber(),r);if(r instanceof n)return s(e)&&(e=n.convert(e)),e instanceof n?c(e,r):l(e,r.toNumber());throw new t.error.UnsupportedTypeError("bitXor",t["typeof"](e),t["typeof"](r))}}},{"../../type/Matrix":462,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],366:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=(e("../../type/Matrix"),e("../../type/Unit"),e("../../type/collection")),o=r["boolean"].isBoolean,a=r.number.isInteger,s=r.number.isNumber,u=i.isCollection,c=r.bignumber.leftShift;t.leftShift=function l(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("leftShift",arguments.length,2);if(s(e)){if(s(r)){if(!a(e)||!a(r))throw new Error("Parameters in function leftShift must be integer numbers");return e<<r}if(r instanceof n)return c(n.convert(e),r)}if(s(r)){if(isFinite(r)&&!a(r))throw new Error("Parameters in function leftShift must be integer numbers");if(e instanceof n){if(e.isFinite()&&!e.isInteger())throw new Error("Parameters in function leftShift must be integer numbers");return e.isNaN()||isNaN(r)||0>r?new n(0/0):0==r||e.isZero()?e:1/0!=r||e.isFinite()?55>r?e.times(Math.pow(2,r)+""):(r=n.convert(r),c(e,r)):new n(0/0)}}if(u(e)&&s(r))return i.deepMap2(e,r,l);if(o(e)||null===e)return l(+e,r);if(o(r)||null===r)return l(e,+r);if(e instanceof n)return r instanceof n?c(e,r):l(e.toNumber(),r);if(r instanceof n)return l(e,r.toNumber());throw new t.error.UnsupportedTypeError("leftShift",t["typeof"](e),t["typeof"](r))}}},{"../../type/Matrix":462,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],367:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=(e("../../type/Matrix"),e("../../type/Unit"),e("../../type/collection")),o=r["boolean"].isBoolean,a=r.number.isInteger,s=r.number.isNumber,u=i.isCollection,c=r.bignumber.rightShift;t.rightArithShift=function l(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("rightArithShift",arguments.length,2);if(s(e)){if(s(r)){if(!a(e)||!a(r))throw new Error("Parameters in function rightArithShift must be integer numbers");return e>>r}if(r instanceof n)return c(n.convert(e),r)}if(s(r)){if(isFinite(r)&&!a(r))throw new Error("Parameters in function rightArithShift must be integer numbers");if(e instanceof n){if(e.isFinite()&&!e.isInteger())throw new Error("Parameters in function rightArithShift must be integer numbers");return e.isNaN()||isNaN(r)||0>r?new n(0/0):1/0==r?new n(e.isNegative()?-1:e.isFinite()?0:0/0):55>r?e.div(Math.pow(2,r)+"").floor():(r=n.convert(r),c(e,r))}}if(u(e)&&s(r))return i.deepMap2(e,r,l);if(o(e)||null===e)return l(+e,r);if(o(r)||null===r)return l(e,+r);if(e instanceof n)return r instanceof n?c(e,r):l(e.toNumber(),r);if(r instanceof n)return l(e,r.toNumber());throw new t.error.UnsupportedTypeError("rightArithShift",t["typeof"](e),t["typeof"](r))}}},{"../../type/Matrix":462,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],368:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=(e("../../type/Matrix"),e("../../type/Unit"),e("../../type/collection")),i=r["boolean"].isBoolean,o=r.number.isInteger,a=r.number.isNumber,s=n.isCollection;t.rightLogShift=function u(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("rightLogShift",arguments.length,2);if(a(e)&&a(r)){if(!o(e)||!o(r))throw new Error("Parameters in function rightLogShift must be integer numbers");return e>>>r}if(s(e)&&a(r))return n.deepMap2(e,r,u);if(i(e)||null===e)return u(+e,r);if(i(r)||null===r)return u(e,+r);throw new t.error.UnsupportedTypeError("rightLogShift",t["typeof"](e),t["typeof"](r))}}},{"../../type/Matrix":462,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],369:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.number.isNumber,s=r["boolean"].isBoolean,u=o.isCollection,c=i.isComplex;t.arg=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("arg",arguments.length,1);if(a(e))return Math.atan2(0,e);if(c(e))return Math.atan2(e.im,e.re);if(u(e))return o.deepMap(e,l);if(s(e)||null===e)return l(+e);if(e instanceof n)return l(e.toNumber());throw new t.error.UnsupportedTypeError("arg",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],370:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.object,s=r.number.isNumber,u=r["boolean"].isBoolean,c=o.isCollection,l=i.isComplex;t.conj=function h(e){if(1!=arguments.length)throw new t.error.ArgumentsError("conj",arguments.length,1);return s(e)?e:e instanceof n?new n(e):l(e)?new i(e.re,-e.im):c(e)?o.deepMap(e,h):u(e)||null===e?+e:a.clone(e)}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],371:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.number.isNumber,s=r["boolean"].isBoolean,u=o.isCollection,c=i.isComplex;t.im=function l(e){if(1!=arguments.length)throw new t.error.ArgumentsError("im",arguments.length,1);return a(e)?0:e instanceof n?new n(0):c(e)?e.im:u(e)?o.deepMap(e,l):(s(e)||null===e,0)}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],372:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.object,s=r.number.isNumber,u=r["boolean"].isBoolean,c=o.isCollection,l=i.isComplex;t.re=function h(e){if(1!=arguments.length)throw new t.error.ArgumentsError("re",arguments.length,1);return s(e)?e:e instanceof n?new n(e):l(e)?e.re:c(e)?o.deepMap(e,h):u(e)||null===e?+e:a.clone(e)}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],373:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/collection"),o=i.isCollection,a=r.number.isNumber,s=r.string.isString,u=r["boolean"].isBoolean;t.bignumber=function c(e){if(arguments.length>1)throw new t.error.ArgumentsError("bignumber",arguments.length,0,1);if(e instanceof n||a(e)||s(e))return new n(e);if(u(e)||null===e)return new n(+e);if(o(e))return i.deepMap(e,c);if(0==arguments.length)return new n(0);throw new t.error.UnsupportedTypeError("bignumber",t["typeof"](e))}}},{"../../type/collection":466,"../../util/index":471}],374:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/collection"),o=i.isCollection,a=r.number.isNumber,s=r.string.isString;t["boolean"]=function u(e){if(1!=arguments.length)throw new t.error.ArgumentsError("boolean",arguments.length,0,1);if("true"===e||e===!0)return!0;if("false"===e||e===!1||null===e)return!1;if(e instanceof Boolean)return 1==e;if(a(e))return 0!==e;if(e instanceof n)return!e.isZero();if(s(e)){var r=e.toLowerCase();if("true"===r)return!0;if("false"===r)return!1;var c=Number(e);if(""!=e&&!isNaN(c))return 0!==c}if(o(e))return i.deepMap(e,u);throw new SyntaxError(e.toString()+" is no valid boolean")}}},{"../../type/collection":466,"../../util/index":471}],375:[function(e,t){"use strict";t.exports=function(e){e.chain=function(t){return new e.chaining.Chain(t)},e.select=function(t){return console&&"function"==typeof console.log&&console.log('WARNING: Function "select" is renamed to "chain". It will be deprecated in v2.0.'),e.select=e.chain,e.chaining.Chain.prototype.select=e.select,e.chain(t)}}},{}],376:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=o.isCollection,s=r.number.isNumber,u=r.string.isString,c=i.isComplex;t.complex=function l(){switch(arguments.length){case 0:return new i(0,0);case 1:var e=arguments[0];if(s(e))return new i(e,0);if(e instanceof n)return new i(e.toNumber(),0);if(c(e))return e.clone();if(u(e)){var r=i.parse(e);if(r)return r;throw new SyntaxError('String "'+e+'" is no valid complex number')}if(a(e))return o.deepMap(e,l);if("object"==typeof e){if("re"in e&&"im"in e)return new i(e.re,e.im);if("r"in e&&"phi"in e)return i.fromPolar(e.r,e.phi)}throw new TypeError("Two numbers, single string or an fitting object expected in function complex");case 2:var h=arguments[0],f=arguments[1];if(h instanceof n&&(h=h.toNumber()),f instanceof n&&(f=f.toNumber()),s(h)&&s(f))return new i(h,f);throw new TypeError("Two numbers or a single string expected in function complex");default:throw new t.error.ArgumentsError("complex",arguments.length,0,2)}}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],377:[function(e,t){"use strict";t.exports=function(t){var r=(e("../../util/index"),t.type.BigNumber),n=e("../../type/Index");t.index=function(){var e=Array.prototype.slice.apply(arguments).map(function(e){return e instanceof r?e.toNumber():Array.isArray(e)?e.map(function(e){return e instanceof r?e.toNumber():e}):e}),t=new n;return n.apply(t,e),t}}},{"../../type/Index":461,"../../util/index":471}],378:[function(e,t){"use strict";t.exports=function(t){var r=(e("../../util/index"),e("../../type/Matrix"));t.matrix=function(e){if(arguments.length>1)throw new t.error.ArgumentsError("matrix",arguments.length,0,1);return new r(e)}}},{"../../type/Matrix":462,"../../util/index":471}],379:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=t.type.Unit,o=e("../../type/collection"),a=o.isCollection,s=r.number.isNumber,u=r["boolean"].isBoolean,c=r.string.isString;t.number=function l(e,r){switch(arguments.length){case 0:return 0;case 1:if(a(e))return o.deepMap(e,l);if(e instanceof n)return e.toNumber();if(c(e)){var h=Number(e);if(isNaN(h)&&(h=Number(e.valueOf())),isNaN(h))throw new SyntaxError(e.toString()+" is no valid number");return h}if(u(e)||null===e)return+e;if(s(e))return e;if(e instanceof i)throw new Error("Second argument with valueless unit expected");throw new t.error.UnsupportedTypeError("number",t["typeof"](e));case 2:if(e instanceof i&&c(r)||r instanceof i)return e.toNumber(r);throw new t.error.UnsupportedTypeError("number",t["typeof"](e),t["typeof"](r));default:throw new t.error.ArgumentsError("number",arguments.length,0,1)}}}},{"../../type/collection":466,"../../util/index":471}],380:[function(e,t){"use strict";t.exports=function(t){var r=e("../../expression/Parser");t.parser=function(){return new r(t)}}},{"../../expression/Parser":169}],381:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=e("../../type/collection"),i=r.number,o=r.number.isNumber,a=n.isCollection;t.string=function s(e){switch(arguments.length){case 0:return"";case 1:return o(e)?i.format(e):a(e)?n.deepMap(e,s):null===e?"null":e.toString();default:throw new t.error.ArgumentsError("string",arguments.length,0,1)}}}},{"../../type/collection":466,"../../util/index":471}],382:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Unit"),o=e("../../type/collection"),a=o.isCollection,s=r.string.isString;t.unit=function u(e){switch(arguments.length){case 1:var r=arguments[0];if(r instanceof i)return r.clone();if(s(r)){if(i.isValuelessUnit(r))return new i(null,r);var c=i.parse(r);if(c)return c;throw new SyntaxError('String "'+r+'" is no valid unit')}if(a(e))return o.deepMap(e,u);throw new TypeError("A string or a number and string expected in function unit");case 2:return arguments[0]instanceof n?new i(arguments[0].toNumber(),arguments[1]):new i(arguments[0],arguments[1]);default:throw new t.error.ArgumentsError("unit",arguments.length,1,2)}}}},{"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],383:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=e("../../expression/parse"),i=e("../../type/collection"),o=r.string.isString,a=i.isCollection;t.compile=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("compile",arguments.length,1);if(o(e))return n(e).compile(t);if(a(e))return i.deepMap(e,function(e){return n(e).compile(t)});throw new TypeError("String, array, or matrix expected")}}},{"../../expression/parse":321,"../../type/collection":466,"../../util/index":471}],384:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=e("../../expression/parse"),i=e("../../type/collection"),o=r.string.isString,a=i.isCollection;t.eval=function(e,r){if(1!=arguments.length&&2!=arguments.length)throw new t.error.ArgumentsError("eval",arguments.length,1,2);if(r=r||{},o(e))return n(e).compile(t).eval(r);if(a(e))return i.deepMap(e,function(e){return n(e).compile(t).eval(r)});throw new TypeError("String, array, or matrix expected")}}},{"../../expression/parse":321,"../../type/collection":466,"../../util/index":471}],385:[function(e,t){"use strict";t.exports=function(t){var r=e("../../type/Help");t.help=function(e){if(1!=arguments.length)throw new SyntaxError("Wrong number of arguments in function help ("+arguments.length+" provided, 1 expected)");var n=null;if(e instanceof String||"string"==typeof e)n=e;else{var i;for(i in t)if(t.hasOwnProperty(i)&&e===t[i]){n=i;break}}var o=t.expression.docs[n];if(!n)throw new Error('Cannot find "'+e+'" in math.js');if(!o)throw new Error('No documentation found on "'+n+'"');return new r(t,o)}}},{"../../type/Help":460}],386:[function(e,t){"use strict";t.exports=function(t){var r=e("../../expression/parse");t.parse=function(){return r.apply(r,arguments)}}},{"../../expression/parse":321}],387:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/Unit"),a=e("../../type/collection"),s=r.number.isNumber,u=r["boolean"].isBoolean,c=i.isComplex,l=o.isUnit,h=a.isCollection;t.and=function f(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("and",arguments.length,2);if((s(e)||u(e)||null===e)&&(s(r)||u(r)||null===r))return!(!e||!r);if(c(e))return 0==e.re&&0==e.im?!1:f(!0,r);if(c(r))return 0==r.re&&0==r.im?!1:f(e,!0);if(e instanceof n)return e.isZero()||e.isNaN()?!1:f(!0,r);if(r instanceof n)return r.isZero()||r.isNaN()?!1:f(e,!0);if(l(e))return null===e.value||0==e.value?!1:f(!0,r);if(l(r))return null===r.value||0==r.value?!1:f(e,!0);if(h(e)||h(r))return a.deepMap2(e,r,f);throw new t.error.UnsupportedTypeError("and",t["typeof"](e),t["typeof"](r))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],388:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/Unit"),a=e("../../type/collection"),s=r.number.isNumber,u=r["boolean"].isBoolean,c=i.isComplex,l=o.isUnit,h=a.isCollection;t.not=function f(e){if(1!=arguments.length)throw new t.error.ArgumentsError("not",arguments.length,1);if(s(e)||u(e)||null===e)return!e;if(c(e))return 0==e.re&&0==e.im;if(e instanceof n)return e.isZero()||e.isNaN();if(l(e))return null===e.value||0==e.value;if(h(e))return a.deepMap(e,f);throw new t.error.UnsupportedTypeError("not",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],389:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/Unit"),a=e("../../type/collection"),s=r.number.isNumber,u=r["boolean"].isBoolean,c=i.isComplex,l=o.isUnit,h=a.isCollection;t.or=function f(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("or",arguments.length,2);if((s(e)||u(e)||null===e)&&(s(r)||u(r)||null===r))return!(!e&&!r);if(c(e))return 0==e.re&&0==e.im?f(!1,r):!0;if(c(r))return 0==r.re&&0==r.im?f(e,!1):!0;if(e instanceof n)return e.isZero()||e.isNaN()?f(!1,r):!0;if(r instanceof n)return r.isZero()||r.isNaN()?f(e,!1):!0;if(l(e))return null===e.value||0==e.value?f(!1,r):!0;if(l(r))return null===r.value||0==r.value?f(e,!1):!0;if(h(e)||h(r))return a.deepMap2(e,r,f);throw new t.error.UnsupportedTypeError("or",t["typeof"](e),t["typeof"](r))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],390:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/Unit"),a=e("../../type/collection"),s=r.number.isNumber,u=r["boolean"].isBoolean,c=i.isComplex,l=o.isUnit,h=a.isCollection;t.xor=function f(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("xor",arguments.length,2);if((s(e)||u(e)||null===e)&&(s(r)||u(r)||null===r))return!!(!!e^!!r);if(c(e))return f(!(0==e.re&&0==e.im),r);if(c(r))return f(e,!(0==r.re&&0==r.im));if(e instanceof n)return f(!(e.isZero()||e.isNaN()),r);if(r instanceof n)return f(e,!(r.isZero()||r.isNaN()));if(l(e))return f(!(null===e.value||0==e.value),r);if(l(r))return f(e,!(null===r.value||0==r.value));if(h(e)||h(r))return a.deepMap2(e,r,f);throw new t.error.UnsupportedTypeError("xor",t["typeof"](e),t["typeof"](r))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],391:[function(e,t){"use strict";t.exports=function(t){function r(e,n,i,o){if(i>o){if(e.length!=n.length)throw new t.error.DimensionError(e.length,n.length);for(var a=[],s=0;s<e.length;s++)a[s]=r(e[s],n[s],i,o+1);return a}return e.concat(n)}var n=e("../../util/index"),i=e("decimal.js"),o=e("../../type/Matrix"),a=e("../../type/collection"),s=n.object,u=n.array,c=n.number.isNumber,l=n.number.isInteger,h=a.isCollection;t.concat=function(){var e,n,a=arguments.length,f=-1,d=!1,p=[];for(e=0;a>e;e++){var m=arguments[e];if(m instanceof o&&(d=!0),e==a-1&&(c(m)||m instanceof i)){if(n=f,f=m.valueOf(),!l(f))throw new TypeError("Integer number expected for dimension");if(0>f)throw new t.error.IndexError(f);if(e>0&&f>n)throw new t.error.IndexError(f,n+1)}else{if(!h(m))throw new t.error.UnsupportedTypeError("concat",t["typeof"](m));var g=s.clone(m).valueOf(),y=u.size(m.valueOf());if(p[e]=g,n=f,f=y.length-1,e>0&&f!=n)throw new t.error.DimensionError(n+1,f+1)}}if(0==p.length)throw new SyntaxError("At least one matrix expected");for(var v=p.shift();p.length;)v=r(v,p.shift(),f,0);return d?new o(v):v}}},{"../../type/Matrix":462,"../../type/collection":466,"../../util/index":471,"decimal.js":478}],392:[function(e,t){"use strict";t.exports=function(t){function r(e,r){var i=n.size(e),o=n.size(r);if(1!=i.length||1!=o.length||3!=i[0]||3!=o[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+i.join(", ")+"], B = ["+o.join(", ")+"])");return[t.subtract(t.multiply(e[1],r[2]),t.multiply(e[2],r[1])),t.subtract(t.multiply(e[2],r[0]),t.multiply(e[0],r[2])),t.subtract(t.multiply(e[0],r[1]),t.multiply(e[1],r[0]))]}var n=e("../../util/array"),i=e("../../type/Matrix");t.cross=function(e,n){if(e instanceof i){if(n instanceof i)return new i(r(e.toArray(),n.toArray()));if(Array.isArray(n))return new i(r(e.toArray(),n))}else if(Array.isArray(e)){if(n instanceof i)return new i(r(e,n.toArray()));if(Array.isArray(n))return r(e,n)}throw new t.error.UnsupportedTypeError("cross",t["typeof"](e),t["typeof"](n))}}},{"../../type/Matrix":462,"../../util/array":467}],393:[function(e,t){"use strict";t.exports=function(t){function r(e,r){if(1==r)return o.clone(e[0][0]);if(2==r)return t.subtract(t.multiply(e[0][0],e[1][1]),t.multiply(e[1][0],e[0][1]));for(var n=function(e){var r,n,i=new Array(e.length),o=0;for(r=1;r<e.length;r++)o=t.add(o,e[r][r]);for(r=0;r<e.length;r++){for(i[r]=new Array(e.length),i[r][r]=t.unaryMinus(o),n=0;r>n;n++)i[r][n]=0;for(n=r+1;n<e.length;n++)i[r][n]=e[r][n];r+1<e.length&&(o=t.subtract(o,e[r+1][r+1]))}return i},i=e,a=0;r-1>a;a++)i=t.multiply(n(i),e);return r%2==0?t.unaryMinus(i[0][0]):i[0][0]}var n=e("../../util/index"),i=e("../../type/Matrix"),o=n.object,a=n.string;t.det=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("det",arguments.length,1);var n;switch(e instanceof i?n=e.size():e instanceof Array?(e=new i(e),n=e.size()):n=[],n.length){case 0:return o.clone(e);case 1:if(1==n[0])return o.clone(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+a.format(n)+")");case 2:var s=n[0],u=n[1];if(s==u)return r(e.clone().valueOf(),s,u);throw new RangeError("Matrix must be square (size: "+a.format(n)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+a.format(n)+")")}}}},{"../../type/Matrix":462,"../../util/index":471}],394:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Matrix"),o=r.object,a=r.array.isArray,s=r.number.isNumber,u=r.number.isInteger;t.diag=function(e,r){var c,l,h,f;if(1!=arguments.length&&2!=arguments.length)throw new t.error.ArgumentsError("diag",arguments.length,1,2);if(r){if(r instanceof n&&(r=r.toNumber()),!s(r)||!u(r))throw new TypeError("Second parameter in function diag must be an integer")}else r=0;var d,p=r>0?r:0,m=0>r?-r:0;if(e instanceof i)d=!1;else{if(!a(e))throw new TypeError("First parameter in function diag must be a Matrix or Array");e=new i(e),d=!0}var g=e.size();switch(g.length){case 1:l=e.valueOf();var y=new i,v=l[0]instanceof n?new n(0):0;for(y.resize([l.length+m,l.length+p],v),c=y.valueOf(),f=l.length,h=0;f>h;h++)c[h+m][h+p]=o.clone(l[h]);return d?y.valueOf():y;case 2:for(l=[],c=e.valueOf(),f=Math.min(g[0]-m,g[1]-p),h=0;f>h;h++)l[h]=o.clone(c[h+m][h+p]);return d?l:new i(l);default:throw new RangeError("Matrix for function diag must be 2 dimensional")}}}},{"../../type/Matrix":462,"../../util/index":471}],395:[function(e,t){"use strict";t.exports=function(t){function r(e,r){var i=n.size(e),o=n.size(r),a=i[0];if(1!==i.length||1!==o.length)throw new RangeError("Vector expected");if(i[0]!=o[0])throw new RangeError("Vectors must have equal length ("+i[0]+" != "+o[0]+")");if(0==a)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var s=0,u=0;a>u;u++)s=t.add(s,t.multiply(e[u],r[u]));return s}var n=e("../../util/array"),i=e("../../type/Matrix");t.dot=function(e,n){if(e instanceof i){if(n instanceof i)return r(e.toArray(),n.toArray());if(Array.isArray(n))return r(e.toArray(),n)}else if(Array.isArray(e)){if(n instanceof i)return r(e,n.toArray());if(Array.isArray(n))return r(e,n)}throw new t.error.UnsupportedTypeError("dot",t["typeof"](e),t["typeof"](n))}}},{"../../type/Matrix":462,"../../util/array":467}],396:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Matrix"),a=e("../../type/collection"),s=n.number.isNumber,u=n.number.isInteger,c=Array.isArray;t.eye=function(e){var n=a.argsToArray(arguments),l=e instanceof o?!0:c(e)?!1:"matrix"===r.matrix;if(0==n.length)return l?new o:[];if(1==n.length)n[1]=n[0];else if(n.length>2)throw new t.error.ArgumentsError("eye",n.length,0,2);var h=n[0],f=n[1];if(h instanceof i&&(h=h.toNumber()),f instanceof i&&(f=f.toNumber()),!s(h)||!u(h)||1>h)throw new Error("Parameters in function eye must be positive integers");if(!s(f)||!u(f)||1>f)throw new Error("Parameters in function eye must be positive integers");var d=!1;n=n.map(function(e){return e instanceof i?(d=!0,e.toNumber()):e});var p=new o,m=d?new i(1):1,g=d?new i(0):0;p.resize(n,g);for(var y=t.min(n),v=p.valueOf(),b=0;y>b;b++)v[b][b]=m;return l?p:p.valueOf()}}},{"../../type/Matrix":462,"../../type/collection":466,"../../util/index":471}],397:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=e("../../type/Matrix"),i=r.object,o=r.array,a=Array.isArray;t.flatten=function(e){if(1!==arguments.length)throw new t.error.ArgumentsError("flatten",arguments.length,1);if(e instanceof n){var r=i.clone(e.toArray()),s=o.flatten(r);return new n(s)}if(a(e))return o.flatten(i.clone(e));throw new t.error.UnsupportedTypeError("flatten",t["typeof"](e))}}},{"../../type/Matrix":462,"../../util/index":471}],398:[function(e,t){"use strict";t.exports=function(t){function r(e,r,n){var i,o,a,s,u;if(1==r){if(s=e[0][0],0==s)throw Error("Cannot calculate inverse, determinant is zero");return[[t._divide(1,s)]]}if(2==r){var c=t.det(e);if(0==c)throw Error("Cannot calculate inverse, determinant is zero");return[[t._divide(e[1][1],c),t._divide(t.unaryMinus(e[0][1]),c)],[t._divide(t.unaryMinus(e[1][0]),c),t._divide(e[0][0],c)]]}var l=e.concat();for(i=0;r>i;i++)l[i]=l[i].concat();for(var h=t.eye(r).valueOf(),f=0;n>f;f++){for(i=f;r>i&&0==l[i][f];)i++;if(i==r||0==l[i][f])throw Error("Cannot calculate inverse, determinant is zero");i!=f&&(u=l[f],l[f]=l[i],l[i]=u,u=h[f],h[f]=h[i],h[i]=u);var d=l[f],p=h[f];for(i=0;r>i;i++){var m=l[i],g=h[i];if(i!=f){if(0!=m[f]){for(a=t._divide(t.unaryMinus(m[f]),d[f]),o=f;n>o;o++)m[o]=t.add(m[o],t.multiply(a,d[o]));for(o=0;n>o;o++)g[o]=t.add(g[o],t.multiply(a,p[o]))}}else{for(a=d[f],o=f;n>o;o++)m[o]=t._divide(m[o],a);for(o=0;n>o;o++)g[o]=t._divide(g[o],a)}}}return h}var n=e("../../util/index"),i=e("../../type/Matrix");t.inv=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("inv",arguments.length,1);var o=t.size(e).valueOf();switch(o.length){case 0:return t._divide(1,e);case 1:if(1==o[0])return e instanceof i?new i([t._divide(1,e.valueOf()[0])]):[t._divide(1,e[0])];throw new RangeError("Matrix must be square (size: "+n.string.format(o)+")");case 2:var a=o[0],s=o[1];if(a==s)return e instanceof i?new i(r(e.valueOf(),a,s)):r(e,a,s);throw new RangeError("Matrix must be square (size: "+n.string.format(o)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+n.string.format(o)+")")}}}},{"../../type/Matrix":462,"../../util/index":471}],399:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Matrix"),a=e("../../type/collection"),s=n.array,u=Array.isArray;t.ones=function(e){var t=a.argsToArray(arguments),n=e instanceof o?!0:u(e)?!1:"matrix"===r.matrix;if(0==t.length)return n?new o:[];var c=!1;t=t.map(function(e){return e instanceof i?(c=!0,e.toNumber()):e});var l=[],h=c?new i(1):1;
return l=s.resize(l,t,h),n?new o(l):l}}},{"../../type/Matrix":462,"../../type/collection":466,"../../util/index":471}],400:[function(e,t){"use strict";t.exports=function(t,r){function n(e,t,r){var n=[],i=e;if(r>0)for(;t>i;)n.push(i),i+=r;else if(0>r)for(;i>t;)n.push(i),i+=r;return n}function i(e,t,r){var n=[],i=e;if(r>0)for(;t>=i;)n.push(i),i+=r;else if(0>r)for(;i>=t;)n.push(i),i+=r;return n}function o(e,t,r){var n=[],i=e.clone(),o=new c(0);if(r.gt(o))for(;i.lt(t);)n.push(i),i=i.plus(r);else if(r.lt(o))for(;i.gt(t);)n.push(i),i=i.plus(r);return n}function a(e,t,r){var n=[],i=e.clone(),o=new c(0);if(r.gt(o))for(;i.lte(t);)n.push(i),i=i.plus(r);else if(r.lt(o))for(;i.gte(t);)n.push(i),i=i.plus(r);return n}function s(e){var t=e.split(":"),n=null;if("bignumber"===r.number)try{n=t.map(function(e){return new c(e)})}catch(i){return null}else{n=t.map(function(e){return Number(e)});var o=n.some(function(e){return isNaN(e)});if(o)return null}switch(n.length){case 2:return{start:n[0],end:n[1],step:1};case 3:return{start:n[0],end:n[2],step:n[1]};default:return null}}var u=e("../../util/index"),c=t.type.BigNumber,l=e("../../type/Matrix"),h=(e("../../type/collection"),u["boolean"].isBoolean),f=u.string.isString,d=u.number.isNumber;t.range=function(){var e,u,p,m=Array.prototype.slice.call(arguments),g=!1;switch(h(m[m.length-1])&&(g=m.pop()?!0:!1),m.length){case 1:if(!f(m[0]))throw new TypeError("Two or three numbers or a single string expected in function range");var y=s(m[0]);if(!y)throw new SyntaxError('String "'+m[0]+'" is no valid range');e=y.start,u=y.end,p=y.step;break;case 2:e=m[0],u=m[1],p=1;break;case 3:e=m[0],u=m[1],p=m[2];break;case 4:throw new TypeError("Parameter includeEnd must be a boolean");default:throw new t.error.ArgumentsError("range",arguments.length,2,4)}if(!(d(e)||e instanceof c))throw new TypeError("Parameter start must be a number");if(!(d(u)||u instanceof c))throw new TypeError("Parameter end must be a number");if(!(d(p)||p instanceof c))throw new TypeError("Parameter step must be a number");if(e instanceof c||u instanceof c||p instanceof c){var v=!0;e instanceof c||(e=c.convert(e)),u instanceof c||(u=c.convert(u)),p instanceof c||(p=c.convert(p)),e instanceof c&&u instanceof c&&p instanceof c||(v=!1,e instanceof c&&(e=e.toNumber()),u instanceof c&&(u=u.toNumber()),p instanceof c&&(p=p.toNumber()))}var b=v?g?a:o:g?i:n,E=b(e,u,p);return"array"===r.matrix?E:new l(E)}}},{"../../type/Matrix":462,"../../type/collection":466,"../../util/index":471}],401:[function(e,t){"use strict";t.exports=function(t,r){function n(e,r,n){if(void 0!==n){if(!l(n)||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";if(1!==r.length)throw new t.error.DimensionError(r.length,1);var i=r[0];if(!h(i)||!f(i))throw new TypeError("Invalid size, must contain positive integers (size: "+c.format(r)+")");if(e.length>i)return e.substring(0,i);if(e.length<i){for(var o=e,a=0,s=i-e.length;s>a;a++)o+=n;return o}return e}var i=e("../../util/index"),o=t.type.BigNumber,a=e("../../type/Matrix"),s=i.array,u=i.object.clone,c=i.string,l=i.string.isString,h=i.number.isNumber,f=i.number.isInteger,d=s.isArray;t.resize=function(e,i,c){if(2!=arguments.length&&3!=arguments.length)throw new t.error.ArgumentsError("resize",arguments.length,2,3);var h=e instanceof a?!0:d(e)?!1:"array"!==r.matrix;if(e instanceof a&&(e=e.valueOf()),i instanceof a&&(i=i.valueOf()),i.length&&i[0]instanceof o&&(i=i.map(function(e){return e instanceof o?e.toNumber():e})),l(e))return n(e,i,c);if(0==i.length){for(;d(e);)e=e[0];return u(e)}d(e)||(e=[e]),e=u(e);var f=s.resize(e,i,c);return h?new a(f):f}}},{"../../type/Matrix":462,"../../util/index":471}],402:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/Unit"),s=e("../../type/Matrix"),u=n.array,c=n.number.isNumber,l=n["boolean"].isBoolean,h=n.string.isString,f=o.isComplex,d=a.isUnit;t.size=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("size",arguments.length,1);var n="array"===r.matrix;if(c(e)||f(e)||d(e)||l(e)||null==e||e instanceof i)return n?[]:new s([]);if(h(e))return n?[e.length]:new s([e.length]);if(Array.isArray(e))return u.size(e);if(e instanceof s)return new s(e.size());throw new t.error.UnsupportedTypeError("size",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Matrix":462,"../../type/Unit":465,"../../util/index":471}],403:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=e("../../type/Matrix"),i=r.object,o=r.array,a=Array.isArray;t.squeeze=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("squeeze",arguments.length,1);if(a(e))return o.squeeze(i.clone(e));if(e instanceof n){var r=o.squeeze(e.toArray());return a(r)?new n(r):r}return i.clone(e)}}},{"../../type/Matrix":462,"../../util/index":471}],404:[function(e,t){"use strict";t.exports=function(t){function r(e,r){var i,o;if(h(e))return i=new s(e),o=i.subset(r),o&&o.valueOf();if(e instanceof s)return e.subset(r);if(l(e))return n(e,r);throw new t.error.UnsupportedTypeError("subset",t["typeof"](e))}function n(e,r){if(!(r instanceof u))throw new TypeError("Index expected");if(1!=r.size().length)throw new t.error.DimensionError(r.size().length,1);var n=e.length;c.validateIndex(r.min()[0],n),c.validateIndex(r.max()[0],n);var i=r.range(0),o="";return i.forEach(function(t){o+=e.charAt(t)}),o}function i(e,r,n,i){var a;if(h(e))return a=new s(t.clone(e)),a.subset(r,n,i),a.valueOf();if(e instanceof s)return e.clone().subset(r,n,i);if(l(e))return o(e,r,n,i);throw new t.error.UnsupportedTypeError("subset",t["typeof"](e))}function o(e,r,n,i){if(!(r instanceof u))throw new TypeError("Index expected");if(1!=r.size().length)throw new t.error.DimensionError(r.size().length,1);if(void 0!==i){if(!l(i)||1!==i.length)throw new TypeError("Single character expected as defaultValue")}else i=" ";var o=r.range(0),a=o.size()[0];if(a!=n.length)throw new t.error.DimensionError(o.size()[0],n.length);var s=e.length;c.validateIndex(r.min()[0]),c.validateIndex(r.max()[0]);for(var h=[],f=0;s>f;f++)h[f]=e.charAt(f);if(o.forEach(function(e,t){h[e]=n.charAt(t)}),h.length>s)for(f=s-1,a=h.length;a>f;f++)h[f]||(h[f]=i);return h.join("")}var a=e("../../util/index"),s=e("../../type/Matrix"),u=e("../../type/Index"),c=a.array,l=a.string.isString,h=Array.isArray;t.subset=function(){switch(arguments.length){case 2:return r(arguments[0],arguments[1]);case 3:case 4:return i(arguments[0],arguments[1],arguments[2],arguments[3]);default:throw new t.error.ArgumentsError("subset",arguments.length,2,4)}}}},{"../../type/Index":461,"../../type/Matrix":462,"../../util/index":471}],405:[function(e,t){"use strict";t.exports=function(t){function r(e){for(var r=0,n=0;n<e.length;n++)r=t.add(r,e[n][n]);return r}var n=e("../../util/index"),i=e("../../type/Matrix"),o=n.object,a=n.string;t.trace=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("trace",arguments.length,1);var n;switch(e instanceof i?n=e.size():e instanceof Array?(e=new i(e),n=e.size()):n=[],n.length){case 0:return o.clone(e);case 1:if(1==n[0])return o.clone(e.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+a.format(n)+")");case 2:var s=n[0],u=n[1];if(s==u)return r(e.clone().valueOf());throw new RangeError("Matrix must be square (size: "+a.format(n)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+a.format(n)+")")}}}},{"../../type/Matrix":462,"../../util/index":471}],406:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=e("../../type/Matrix"),i=r.object,o=r.string;t.transpose=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("transpose",arguments.length,1);var r=t.size(e).valueOf();switch(r.length){case 0:return i.clone(e);case 1:return i.clone(e);case 2:var a,s=r[1],u=r[0],c=e instanceof n,l=e.valueOf(),h=[],f=i.clone;if(0===s)throw new RangeError("Cannot transpose a 2D matrix with no rows(size: "+o.format(r)+")");for(var d=0;s>d;d++){a=h[d]=[];for(var p=0;u>p;p++)a[p]=f(l[p][d])}return c?new n(h):h;default:throw new RangeError("Matrix must be two dimensional (size: "+o.format(r)+")")}}}},{"../../type/Matrix":462,"../../util/index":471}],407:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Matrix"),a=e("../../type/collection"),s=n.array,u=Array.isArray;t.zeros=function(e){var t=a.argsToArray(arguments),n=e instanceof o?!0:u(e)?!1:"matrix"===r.matrix;if(0==t.length)return n?new o:[];var c=!1;t=t.map(function(e){return e instanceof i?(c=!0,e.toNumber()):e});var l=[],h=c?new i(0):0;return l=s.resize(l,t,h),n?new o(l):l}}},{"../../type/Matrix":462,"../../type/collection":466,"../../util/index":471}],408:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=(e("../../type/collection"),r.number.isNumber),o=r.number.isInteger;t.combinations=function(e,r){var s,u,c,l,h=arguments.length;if(2!=h)throw new t.error.ArgumentsError("combinations",arguments.length,2);if(i(e)){if(!o(e)||0>e)throw new TypeError("Positive integer value enpected in function combinations");if(r>e)throw new TypeError("k must be less than or equal to n");for(s=Math.max(r,e-r),u=1,c=1;e-s>=c;c++)u=u*(s+c)/c;return u}if(e instanceof n){if(r=n.convert(r),!(r instanceof n&&a(e)&&a(r)))throw new TypeError("Positive integer value expected in function combinations");if(r.gt(e))throw new TypeError("k must be less than n in function combinations");for(s=e.minus(r),r.lt(s)&&(s=r),u=new n(1),c=new n(1),l=e.minus(s);c.lte(l);c=c.plus(1))u=u.times(s.plus(c)).dividedBy(c);return u}throw new t.error.UnsupportedTypeError("combinations",t["typeof"](e))};var a=function(e){return e.isInteger()&&e.gte(0)}}},{"../../type/collection":466,"../../util/index":471}],409:[function(e,t){"use strict";t.exports=function(t){function r(e){if(!s.hasOwnProperty(e))throw new Error("Unknown distribution "+e);var r=Array.prototype.slice.call(arguments,1),o=s[e].apply(this,r);return function(e){var r={random:function(e,r,i){var s,c,l;if(arguments.length>3)throw new t.error.ArgumentsError("random",arguments.length,0,3);if(1===arguments.length?a(e)?s=e:l=e:2===arguments.length?a(e)?(s=e,l=r):(c=e,l=r):(s=e,c=r,l=i),void 0===l&&(l=1),void 0===c&&(c=0),void 0!==s){var h=u(s.valueOf(),c,l,o);return s instanceof n?new n(h):h}return o(c,l)},randomInt:function(e,r,i){var o,c,l;if(arguments.length>3||arguments.length<1)throw new t.error.ArgumentsError("randomInt",arguments.length,1,3);if(1===arguments.length?a(e)?o=e:l=e:2===arguments.length?a(e)?(o=e,l=r):(c=e,l=r):(o=e,c=r,l=i),void 0===c&&(c=0),void 0!==o){var h=u(o.valueOf(),c,l,s);return o instanceof n?new n(h):h}return s(c,l)},pickRandom:function(e){if(1!==arguments.length)throw new t.error.ArgumentsError("pickRandom",arguments.length,1);if(e instanceof n)e=e.valueOf();else if(!Array.isArray(e))throw new t.error.UnsupportedTypeError("pickRandom",t["typeof"](e));if(i.size(e).length>1)throw new Error("Only one dimensional vectors supported");return e[Math.floor(Math.random()*e.length)]}},o=function(t,r){return t+e()*(r-t)},s=function(t,r){return Math.floor(t+e()*(r-t))},u=function(e,t,r,n){var i,o,a=[];if(e=e.slice(0),e.length>1)for(o=0,i=e.shift();i>o;o++)a.push(u(e,t,r,n));else for(o=0,i=e.shift();i>o;o++)a.push(n(t,r));return a};return r}(o)}var n=e("../../type/Matrix"),i=e("../../util/array"),o=e("../../type/collection"),a=o.isCollection,s={uniform:function(){return Math.random},normal:function(){return function(){for(var e,t,r=-1;0>r||r>1;)e=Math.random(),t=Math.random(),r=1/6*Math.pow(-2*Math.log(e),.5)*Math.cos(2*Math.PI*t)+.5;return r}}};return r}},{"../../type/Matrix":462,"../../type/collection":466,"../../util/array":467}],410:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/collection"),a=n.number.isNumber,s=n["boolean"].isBoolean,u=(n.number.isInteger,o.isCollection);t.factorial=function f(e){var d,p,m;if(1!=arguments.length)throw new t.error.ArgumentsError("factorial",arguments.length,1);if(a(e))return e!==Number.POSITIVE_INFINITY?t.gamma(e+1):Math.sqrt(2*Math.PI);if(e instanceof i){if(!c(e))return e.isNegative()||e.isFinite()?t.gamma(e.plus(1)):n.bignumber.tau(r.precision).sqrt();if(e=e.toNumber(),e<h.length)return i.convert(h[e]).toSD(r.precision);var g=r.precision+(0|Math.log(e)),y=i.constructor({precision:g});if(e-=h.length,m=l[g]){if(m[e])return new i(m[e].toPrecision(r.precision));p=m[m.length-1]}else m=l[g]=[],p=new y(h[h.length-1]).toSD(g);var v=new y(1);d=new y(m.length+h.length);for(var b=m.length;e>b;++b)m[b]=p=p.times(d),d=d.plus(v);return m[e]=p.times(d),new i(m[e].toPrecision(r.precision))}if(s(e)||null===e)return 1;if(u(e))return o.deepMap(e,f);throw new t.error.UnsupportedTypeError("factorial",t["typeof"](e))};var c=function(e){return e.isInteger()&&(!e.isNegative()||e.isZero())},l=[],h=[1,1,2,6,24,120,720,5040,40320,362880,3628800,39916800,479001600,6227020800,87178291200,1307674368e3,20922789888e3,355687428096e3,6402373705728e3,0x1b02b9306890000,243290200817664e4]}},{"../../type/collection":466,"../../util/index":471}],411:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r["boolean"].isBoolean,s=i.isComplex,u=r.number.isNumber,c=r.number.isInteger,l=o.isCollection;t.gamma=function f(e){var r,d,p=4.7421875;if(1!=arguments.length)throw new t.error.ArgumentsError("gamma",arguments.length,1);if(u(e)){if(c(e)){if(0>=e)return isFinite(e)?1/0:0/0;if(e>171)return 1/0;for(var m=e-2,g=e-1;m>1;)g*=m,m--;return 0==g&&(g=1),g}if(.5>e)return Math.PI/(Math.sin(Math.PI*e)*f(1-e));if(e>=171.35)return 1/0;if(e>85){var y=e*e,v=y*e,b=v*e,E=b*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*y)-139/(51840*v)-571/(2488320*b)+163879/(209018880*E)+5246819/(75246796800*E*e))}--e,d=h[0];for(var x=1;x<h.length;++x)d+=h[x]/(e+x);return r=e+p+.5,Math.sqrt(2*Math.PI)*Math.pow(r,e+.5)*Math.exp(-r)*d}if(s(e)){if(0==e.im)return f(e.re);e=new i(e.re-1,e.im),d=new i(h[0],0);for(var x=1;x<h.length;++x){var w=e.re+x,_=w*w+e.im*e.im;0!=_?(d.re+=h[x]*w/_,d.im+=-(h[x]*e.im)/_):d.re=h[x]<0?-1/0:1/0}r=new i(e.re+p+.5,e.im);var T=Math.sqrt(2*Math.PI);e.re+=.5;var R=t.pow(r,e);0==R.im?R.re*=T:0==R.re?R.im*=T:(R.re*=T,R.im*=T);var S=Math.exp(-r.re);return r.re=S*Math.cos(-r.im),r.im=S*Math.sin(-r.im),t.multiply(t.multiply(R,r),d)}if(e instanceof n){if(e.isInteger())return e.isNegative()||e.isZero()?new n(1/0):t.factorial(e.minus(1));if(!e.isFinite())return new n(e.isNegative()?0/0:1/0)}if(a(e)||null===e)return e?1:1/0;if(l(e))return o.deepMap(e,f);throw new t.error.UnsupportedTypeError("gamma",t["typeof"](e))};var h=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22]}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],412:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=r.number.isNumber,o=r.number.isInteger;t.permutations=function(e,r){var s,u,c=arguments.length;if(c>2)throw new t.error.ArgumentsError("permutations",arguments.length,2);if(i(e)){if(!o(e)||0>e)throw new TypeError("Positive integer value expected in function permutations");if(1==c)return t.factorial(e);if(2==c&&i(r)){if(!o(r)||0>r)throw new TypeError("Positive integer value expected in function permutations");if(r>e)throw new TypeError("second argument k must be less than or equal to first argument n");for(s=1,u=e-r+1;e>=u;u++)s*=u;return s}}if(e instanceof n){if(void 0===r&&a(e))return t.factorial(e);if(r=n.convert(r),!(r instanceof n&&a(e)&&a(r)))throw new TypeError("Positive integer value expected in function permutations");if(r.gt(e))throw new TypeError("second argument k must be less than or equal to first argument n");for(s=new n(1),u=e.minus(r).plus(1);u.lte(e);u=u.plus(1))s=s.times(u);return s}throw new t.error.UnsupportedTypeError("permutations",t["typeof"](e))};var a=function(e){return e.isInteger()&&e.gte(0)}}},{"../../util/index":471}],413:[function(e,t){"use strict";t.exports=function(t){var r=e("./distribution")(t);t.pickRandom=r("uniform").pickRandom}},{"./distribution":409}],414:[function(e,t){"use strict";t.exports=function(t){var r=e("./distribution")(t);t.random=r("uniform").random}},{"./distribution":409}],415:[function(e,t){"use strict";t.exports=function(t){var r=e("./distribution")(t);t.randomInt=r("uniform").randomInt}},{"./distribution":409}],416:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/Unit"),s=e("../../type/collection"),u=n.number.isNumber,c=n.number.nearlyEqual,l=n["boolean"].isBoolean,h=n.string.isString,f=o.isComplex,d=a.isUnit,p=s.isCollection;t.compare=function m(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("compare",arguments.length,2);if(u(e)&&u(n))return c(e,n,r.epsilon)?0:e>n?1:-1;if(e instanceof i)return u(n)?n=i.convert(n):(l(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?new i(e.cmp(n)):m(e.toNumber(),n);if(n instanceof i)return u(e)?e=i.convert(e):(l(e)||null===e)&&(e=new i(e?1:0)),e instanceof i?new i(e.cmp(n)):m(e,n.toNumber());if(d(e)&&d(n)){if(!e.equalBase(n))throw new Error("Cannot compare units with different base");return e.value>n.value?1:e.value<n.value?-1:0}if(p(e)||p(n))return s.deepMap2(e,n,m);if(h(e)||h(n))return e>n?1:n>e?-1:0;if(l(e)||null===e)return m(+e,n);if(l(n)||null===n)return m(e,+n);if(f(e)||f(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new t.error.UnsupportedTypeError("compare",t["typeof"](e),t["typeof"](n))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],417:[function(e,t){"use strict";t.exports=function(t){function r(e,n){if(o(e)){if(o(n)){var i=e.length;if(i!==n.length)return!1;for(var a=0;i>a;a++)if(!r(e[a],n[a]))return!1;return!0}return!1}return o(n)?!1:t.equal(e,n)}var n=e("../../type/collection"),i=n.isCollection,o=Array.isArray;t.deepEqual=function(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("deepEqual",arguments.length,2);return i(e)||i(n)?r(e.valueOf(),n.valueOf()):t.equal(e,n)}}},{"../../type/collection":466}],418:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/Unit"),s=e("../../type/collection"),u=n.number.isNumber,c=n.number.nearlyEqual,l=n["boolean"].isBoolean,h=n.string.isString,f=o.isComplex,d=a.isUnit,p=s.isCollection;t.equal=function m(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("equal",arguments.length,2);if(u(e)){if(u(n))return c(e,n,r.epsilon);if(f(n))return c(e,n.re,r.epsilon)&&c(n.im,0,r.epsilon)}if(f(e)){if(u(n))return c(e.re,n,r.epsilon)&&c(e.im,0,r.epsilon);if(f(n))return c(e.re,n.re,r.epsilon)&&c(e.im,n.im,r.epsilon)}if(e instanceof i)return u(n)?n=i.convert(n):l(n)&&(n=new i(n?1:0)),n instanceof i?e.eq(n):m(e.toNumber(),n);if(n instanceof i)return u(e)?e=i.convert(e):l(e)&&(e=new i(e?1:0)),e instanceof i?e.eq(n):m(e,n.toNumber());if(d(e)&&d(n)){if(!e.equalBase(n))throw new Error("Cannot compare units with different base");return e.value==n.value}if(p(e)||p(n))return s.deepMap2(e,n,m);if(h(e)||h(n))return e==n;if(l(e))return m(+e,n);if(l(n))return m(e,+n);if(null===e)return null===n;if(null===n)return null===e;if(void 0===e)return void 0===n;if(void 0===n)return void 0===e;throw new t.error.UnsupportedTypeError("equal",t["typeof"](e),t["typeof"](n))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],419:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/Unit"),s=e("../../type/collection"),u=n.number.isNumber,c=n.number.nearlyEqual,l=n["boolean"].isBoolean,h=n.string.isString,f=o.isComplex,d=a.isUnit,p=s.isCollection;t.larger=function m(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("larger",arguments.length,2);if(u(e)&&u(n))return!c(e,n,r.epsilon)&&e>n;if(e instanceof i)return u(n)?n=i.convert(n):(l(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?e.gt(n):m(e.toNumber(),n);if(n instanceof i)return u(e)?e=i.convert(e):(l(e)||null===e)&&(e=new i(e?1:0)),e instanceof i?e.gt(n):m(e,n.toNumber());if(d(e)&&d(n)){if(!e.equalBase(n))throw new Error("Cannot compare units with different base");return e.value>n.value}if(p(e)||p(n))return s.deepMap2(e,n,m);if(h(e)||h(n))return e>n;if(l(e)||null===e)return m(+e,n);if(l(n)||null===n)return m(e,+n);if(f(e)||f(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new t.error.UnsupportedTypeError("larger",t["typeof"](e),t["typeof"](n))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],420:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/Unit"),s=e("../../type/collection"),u=n.number.isNumber,c=n.number.nearlyEqual,l=n["boolean"].isBoolean,h=n.string.isString,f=o.isComplex,d=a.isUnit,p=s.isCollection;t.largerEq=function m(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("largerEq",arguments.length,2);if(u(e)&&u(n))return c(e,n,r.epsilon)||e>n;if(e instanceof i)return u(n)?n=i.convert(n):(l(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?e.gte(n):m(e.toNumber(),n);if(n instanceof i)return u(e)?e=i.convert(e):(l(e)||null===e)&&(e=new i(e?1:0)),e instanceof i?e.gte(n):m(e,n.toNumber());if(d(e)&&d(n)){if(!e.equalBase(n))throw new Error("Cannot compare units with different base");return e.value>=n.value}if(p(e)||p(n))return s.deepMap2(e,n,m);if(h(e)||h(n))return e>=n;if(l(e)||null===e)return m(+e,n);if(l(n)||null===n)return m(e,+n);if(f(e)||f(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new t.error.UnsupportedTypeError("largerEq",t["typeof"](e),t["typeof"](n))},t.largereq=function(){throw new Error("Function largereq is renamed to largerEq")}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],421:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/Unit"),s=e("../../type/collection"),u=n.number.isNumber,c=n.number.nearlyEqual,l=n["boolean"].isBoolean,h=n.string.isString,f=o.isComplex,d=a.isUnit,p=s.isCollection;t.smaller=function m(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("smaller",arguments.length,2);if(u(e)&&u(n))return!c(e,n,r.epsilon)&&n>e;if(e instanceof i)return u(n)?n=i.convert(n):(l(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?e.lt(n):m(e.toNumber(),n);if(n instanceof i)return u(e)?e=i.convert(e):(l(e)||null===e)&&(e=new i(e?1:0)),e instanceof i?e.lt(n):m(e,n.toNumber());if(d(e)&&d(n)){if(!e.equalBase(n))throw new Error("Cannot compare units with different base");return e.value<n.value}if(p(e)||p(n))return s.deepMap2(e,n,m);if(h(e)||h(n))return n>e;if(l(e)||null===e)return m(+e,n);if(l(n)||null===n)return m(e,+n);if(f(e)||f(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new t.error.UnsupportedTypeError("smaller",t["typeof"](e),t["typeof"](n))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],422:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/Unit"),s=e("../../type/collection"),u=n.number.isNumber,c=n.number.nearlyEqual,l=n["boolean"].isBoolean,h=n.string.isString,f=o.isComplex,d=a.isUnit,p=s.isCollection;t.smallerEq=function m(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("smallerEq",arguments.length,2);if(u(e)&&u(n))return c(e,n,r.epsilon)||n>e;if(e instanceof i)return u(n)?n=i.convert(n):(l(n)||null===n)&&(n=new i(n?1:0)),n instanceof i?e.lte(n):m(e.toNumber(),n);if(n instanceof i)return u(e)?e=i.convert(e):(l(e)||null===e)&&(e=new i(e?1:0)),e instanceof i?e.lte(n):m(e,n.toNumber());if(d(e)&&d(n)){if(!e.equalBase(n))throw new Error("Cannot compare units with different base");return e.value<=n.value}if(p(e)||p(n))return s.deepMap2(e,n,m);if(h(e)||h(n))return n>=e;if(l(e)||null===e)return m(+e,n);if(l(n)||null===n)return m(e,+n);if(f(e)||f(n))throw new TypeError("No ordering relation is defined for complex numbers");throw new t.error.UnsupportedTypeError("smallerEq",t["typeof"](e),t["typeof"](n))},t.smallereq=function(){throw new Error("Function smallereq is renamed to smallerEq")}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],423:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/Unit"),s=e("../../type/collection"),u=n.number.isNumber,c=n.number.nearlyEqual,l=n["boolean"].isBoolean,h=n.string.isString,f=o.isComplex,d=a.isUnit,p=s.isCollection;t.unequal=function m(e,n){if(2!=arguments.length)throw new t.error.ArgumentsError("unequal",arguments.length,2);if(u(e)){if(u(n))return!c(e,n,r.epsilon);if(f(n))return!c(e,n.re,r.epsilon)||!c(n.im,0,r.epsilon)}if(f(e)){if(u(n))return!c(e.re,n,r.epsilon)||!c(e.im,0,r.epsilon);if(f(n))return!c(e.re,n.re,r.epsilon)||!c(e.im,n.im,r.epsilon)}if(e instanceof i)return u(n)?n=i.convert(n):l(n)&&(n=new i(n?1:0)),n instanceof i?!e.eq(n):m(e.toNumber(),n);if(n instanceof i)return u(e)?e=i.convert(e):l(e)&&(e=new i(e?1:0)),e instanceof i?!e.eq(n):m(e,n.toNumber());if(d(e)&&d(n)){if(!e.equalBase(n))throw new Error("Cannot compare units with different base");return e.value!=n.value}if(p(e)||p(n))return s.deepMap2(e,n,m);if(h(e)||h(n))return e!=n;if(l(e))return m(+e,n);if(l(n))return m(e,+n);if(null===e)return null!==n;if(null===n)return null!==e;if(void 0===e)return void 0!==n;if(void 0===n)return void 0!==e;throw new t.error.UnsupportedTypeError("unequal",t["typeof"](e),t["typeof"](n))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],424:[function(e,t){"use strict";t.exports=function(t){function r(e,r){return t.larger(e,r)?e:r}function n(e){var r=void 0;if(i.deepForEach(e,function(e){(void 0===r||t.larger(e,r))&&(r=e)}),void 0===r)throw new Error("Cannot calculate max of an empty array");return r}var i=(e("../../type/Matrix"),e("../../type/collection")),o=i.isCollection;t.max=function(e){if(0==arguments.length)throw new SyntaxError("Function max requires one or more parameters (0 provided)");if(o(e)){if(1==arguments.length)return n(e);if(2==arguments.length)return i.reduce(arguments[0],arguments[1],r);throw new SyntaxError("Wrong number of parameters")}return n(arguments)}}},{"../../type/Matrix":462,"../../type/collection":466}],425:[function(e,t){"use strict";t.exports=function(t){function r(e,r){var n=i.reduce(e,r,t.add),o=s(e)?a(e):e.size();return t.divide(n,o[r])}function n(e){var r=0,n=0;if(i.deepForEach(e,function(e){r=t.add(r,e),n++}),0===n)throw new Error("Cannot calculate mean of an empty array");return t.divide(r,n)}var i=(e("../../type/Matrix"),e("../../type/collection")),o=i.isCollection,a=e("../../util/array").size,s=Array.isArray;t.mean=function(e){if(0==arguments.length)throw new SyntaxError("Function mean requires one or more parameters (0 provided)");if(o(e)){if(1==arguments.length)return n(e);if(2==arguments.length)return r(arguments[0],arguments[1]);throw new SyntaxError("Wrong number of parameters")}return n(arguments)}}},{"../../type/Matrix":462,"../../type/collection":466,"../../util/array":467}],426:[function(e,t){"use strict";t.exports=function(t){function r(e){var r=u(e);r.sort(t.compare);var o=r.length;if(0==o)throw new Error("Cannot calculate median of an empty array");if(o%2==0){var s=r[o/2-1],c=r[o/2];if(!(a(s)||s instanceof i||s instanceof n))throw new t.error.UnsupportedTypeError("median",t["typeof"](s));if(!(a(c)||c instanceof i||c instanceof n))throw new t.error.UnsupportedTypeError("median",t["typeof"](c));return t.divide(t.add(s,c),2)}var l=r[(o-1)/2];if(!(a(l)||l instanceof i||l instanceof n))throw new t.error.UnsupportedTypeError("median",t["typeof"](l));return l}var n=(e("../../type/Matrix"),e("../../type/Unit")),i=t.type.BigNumber,o=e("../../type/collection"),a=e("../../util/number").isNumber,s=o.isCollection,u=e("../../util/array").flatten;t.median=function(e){if(0==arguments.length)throw new SyntaxError("Function median requires one or more parameters (0 provided)");if(s(e)){if(1==arguments.length)return r(e.valueOf());throw 2==arguments.length?new Error("median(A, dim) is not yet supported"):new SyntaxError("Wrong number of parameters")}return r(Array.prototype.slice.call(arguments))}}},{"../../type/Matrix":462,"../../type/Unit":465,"../../type/collection":466,"../../util/array":467,"../../util/number":473}],427:[function(e,t){"use strict";t.exports=function(t){function r(e,r){return t.smaller(e,r)?e:r}function n(e){var r=void 0;if(i.deepForEach(e,function(e){(void 0===r||t.smaller(e,r))&&(r=e)}),void 0===r)throw new Error("Cannot calculate min of an empty array");return r}var i=(e("../../type/Matrix"),e("../../type/collection")),o=i.isCollection;t.min=function(e){if(0==arguments.length)throw new SyntaxError("Function min requires one or more parameters (0 provided)");if(o(e)){if(1==arguments.length)return n(e);if(2==arguments.length)return i.reduce(arguments[0],arguments[1],r);throw new SyntaxError("Wrong number of parameters")}return n(arguments)}}},{"../../type/Matrix":462,"../../type/collection":466}],428:[function(e,t){"use strict";t.exports=function(t){function r(e){var r=void 0;if(n.deepForEach(e,function(e){r=void 0===r?e:t.multiply(r,e)}),void 0===r)throw new Error("Cannot calculate prod of an empty array");return r}var n=(e("../../type/Matrix"),e("../../type/collection")),i=n.isCollection;t.prod=function(e){if(0==arguments.length)throw new SyntaxError("Function prod requires one or more parameters (0 provided)");if(i(e)){if(1==arguments.length)return r(e);throw 2==arguments.length?new Error("prod(A, dim) is not yet supported"):new SyntaxError("Wrong number of parameters")}return r(arguments)}}},{"../../type/Matrix":462,"../../type/collection":466}],429:[function(e,t){"use strict";t.exports=function(e){e.std=function(){if(0==arguments.length)throw new SyntaxError("Function std requires one or more parameters (0 provided)");var t=e["var"].apply(null,arguments);return e.sqrt(t)}}},{}],430:[function(e,t){"use strict";t.exports=function(t){function r(e){var r=void 0;if(n.deepForEach(e,function(e){r=void 0===r?e:t.add(r,e)}),void 0===r)throw new Error("Cannot calculate sum of an empty array");return r}var n=(e("../../type/Matrix"),e("../../type/collection")),i=n.isCollection;t.sum=function(e){if(0==arguments.length)throw new SyntaxError("Function sum requires one or more parameters (0 provided)");if(i(e)){if(1==arguments.length)return r(e);throw 2==arguments.length?new Error("sum(A, dim) is not yet supported"):new SyntaxError("Wrong number of parameters")}return r(arguments)}}},{"../../type/Matrix":462,"../../type/collection":466}],431:[function(e,t){"use strict";t.exports=function(t){function r(e,r){var o=0,a=0;if(i.deepForEach(e,function(e){o=t.add(o,e),a++}),0===a)throw new Error("Cannot calculate var of an empty array");var s=t.divide(o,a);switch(o=0,i.deepForEach(e,function(e){var r=t.subtract(e,s);o=t.add(o,t.multiply(r,r))}),r){case"uncorrected":return t.divide(o,a);case"biased":return t.divide(o,a+1);case"unbiased":var u=o instanceof n?new n(0):0;return 1==a?u:t.divide(o,a-1);default:throw new Error('Unknown normalization "'+r+'". Choose "unbiased" (default), "uncorrected", or "biased".')
}}var n=(e("../../type/Matrix"),t.type.BigNumber),i=e("../../type/collection"),o=i.isCollection,a=e("../../util/string").isString,s="unbiased";t["var"]=function(e,t){if(0==arguments.length)throw new SyntaxError("Function var requires one or more parameters (0 provided)");if(o(e)){if(1==arguments.length)return r(e,s);if(2==arguments.length){if(!a(t))throw new Error("String expected for parameter normalization");return r(e,t)}throw new SyntaxError("Wrong number of parameters")}return r(arguments,s)}}},{"../../type/Matrix":462,"../../type/collection":466,"../../util/string":475}],432:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,c=o.isCollection,l=r.bignumber.arccos;t.acos=function h(e){if(1!=arguments.length)throw new t.error.ArgumentsError("acos",arguments.length,1);if(a(e))return e>=-1&&1>=e?Math.acos(e):h(new i(e,0));if(u(e)){var r=new i(e.im*e.im-e.re*e.re+1,-2*e.re*e.im),f=t.sqrt(r),d=new i(f.re-e.im,f.im+e.re),p=t.log(d);return new i(1.5707963267948966-p.im,p.re)}if(c(e))return o.deepMap(e,h);if(s(e)||null===e)return Math.acos(e);if(e instanceof n)return l(e);throw new t.error.UnsupportedTypeError("acos",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],433:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,c=o.isCollection,l=r.bignumber.arcsin;t.asin=function h(e){if(1!=arguments.length)throw new t.error.ArgumentsError("asin",arguments.length,1);if(a(e))return e>=-1&&1>=e?Math.asin(e):h(new i(e,0));if(u(e)){var r=e.re,f=e.im,d=new i(f*f-r*r+1,-2*r*f),p=t.sqrt(d),m=new i(p.re-f,p.im+r),g=t.log(m);return new i(g.im,-g.re)}if(c(e))return o.deepMap(e,h);if(s(e)||null===e)return Math.asin(e);if(e instanceof n)return l(e);throw new t.error.UnsupportedTypeError("asin",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],434:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.number.isNumber,s=r["boolean"].isBoolean,u=i.isComplex,c=o.isCollection,l=r.bignumber.arctan;t.atan=function h(e){if(1!=arguments.length)throw new t.error.ArgumentsError("atan",arguments.length,1);if(a(e))return Math.atan(e);if(u(e)){var r=e.re,f=e.im,d=r*r+(1-f)*(1-f),p=new i((1-f*f-r*r)/d,-2*r/d),m=t.log(p);return new i(-.5*m.im,.5*m.re)}if(c(e))return o.deepMap(e,h);if(s(e)||null===e)return Math.atan(e);if(e instanceof n)return l(e);throw new t.error.UnsupportedTypeError("atan",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],435:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/collection"),a=r.number.isNumber,s=r["boolean"].isBoolean,u=(i.isComplex,o.isCollection);t.atan2=function c(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("atan2",arguments.length,2);if(a(e)&&a(r))return Math.atan2(e,r);if(u(e)||u(r))return o.deepMap2(e,r,c);if(s(e)||null===e)return c(+e,r);if(s(r)||null===r)return c(e,+r);if(e instanceof n)return c(e.toNumber(),r);if(r instanceof n)return c(e,r.toNumber());throw new t.error.UnsupportedTypeError("atan2",t["typeof"](e),t["typeof"](r))}}},{"../../type/Complex":459,"../../type/collection":466,"../../util/index":471}],436:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/Unit"),s=e("../../type/collection"),u=n.number.isNumber,c=n["boolean"].isBoolean,l=o.isComplex,h=a.isUnit,f=s.isCollection,d=n.bignumber.cos_sin;t.cos=function p(e){if(1!=arguments.length)throw new t.error.ArgumentsError("cos",arguments.length,1);if(u(e))return Math.cos(e);if(l(e))return new o(Math.cos(e.re)*t.cosh(-e.im),Math.sin(e.re)*t.sinh(-e.im));if(h(e)){if(!e.hasBase(a.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return Math.cos(e.value)}if(f(e))return s.deepMap(e,p);if(c(e)||null===e)return Math.cos(e);if(e instanceof i)return d(e,r.precision,0);throw new t.error.UnsupportedTypeError("cos",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],437:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/Unit"),a=e("../../type/collection"),s=r.number.isNumber,u=r["boolean"].isBoolean,c=i.isComplex,l=o.isUnit,h=a.isCollection,f=r.bignumber.cosh_sinh;t.cosh=function d(e){if(1!=arguments.length)throw new t.error.ArgumentsError("cosh",arguments.length,1);if(s(e))return(Math.exp(e)+Math.exp(-e))/2;if(c(e)){var r=Math.exp(e.re),p=Math.exp(-e.re);return new i(Math.cos(e.im)*(r+p)/2,Math.sin(e.im)*(r-p)/2)}if(l(e)){if(!e.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cosh is no angle");return d(e.value)}if(h(e))return a.deepMap(e,d);if(u(e)||null===e)return d(e?1:0);if(e instanceof n)return f(e,0);throw new t.error.UnsupportedTypeError("cosh",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],438:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/Unit"),a=e("../../type/collection"),s=r.number.isNumber,u=r["boolean"].isBoolean,c=i.isComplex,l=o.isUnit,h=a.isCollection;t.cot=function f(e){if(1!=arguments.length)throw new t.error.ArgumentsError("cot",arguments.length,1);if(s(e))return 1/Math.tan(e);if(c(e)){var r=Math.exp(-4*e.im)-2*Math.exp(-2*e.im)*Math.cos(2*e.re)+1;return new i(2*Math.exp(-2*e.im)*Math.sin(2*e.re)/r,(Math.exp(-4*e.im)-1)/r)}if(l(e)){if(!e.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return 1/Math.tan(e.value)}if(h(e))return a.deepMap(e,f);if(u(e)||null===e)return f(+e);if(e instanceof n)return f(e.toNumber());throw new t.error.UnsupportedTypeError("cot",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],439:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/Unit"),a=e("../../type/collection"),s=r.number.isNumber,u=r["boolean"].isBoolean,c=i.isComplex,l=o.isUnit,h=a.isCollection;t.coth=function f(e){if(1!=arguments.length)throw new t.error.ArgumentsError("coth",arguments.length,1);if(s(e)){var r=Math.exp(2*e);return(r+1)/(r-1)}if(c(e)){var d=Math.exp(2*e.re),p=d*Math.cos(2*e.im),m=d*Math.sin(2*e.im),g=(p-1)*(p-1)+m*m;return new i(((p+1)*(p-1)+m*m)/g,-2*m/g)}if(l(e)){if(!e.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function coth is no angle");return f(e.value)}if(h(e))return a.deepMap(e,f);if(u(e)||null===e)return f(e?1:0);if(e instanceof n)return f(e.toNumber());throw new t.error.UnsupportedTypeError("coth",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],440:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/Unit"),a=e("../../type/collection"),s=r.number.isNumber,u=r["boolean"].isBoolean,c=i.isComplex,l=o.isUnit,h=a.isCollection;t.csc=function f(e){if(1!=arguments.length)throw new t.error.ArgumentsError("csc",arguments.length,1);if(s(e))return 1/Math.sin(e);if(c(e)){var r=.25*(Math.exp(-2*e.im)+Math.exp(2*e.im))-.5*Math.cos(2*e.re);return new i(.5*Math.sin(e.re)*(Math.exp(-e.im)+Math.exp(e.im))/r,.5*Math.cos(e.re)*(Math.exp(-e.im)-Math.exp(e.im))/r)}if(l(e)){if(!e.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csc is no angle");return 1/Math.sin(e.value)}if(h(e))return a.deepMap(e,f);if(u(e)||null===e)return f(+e);if(e instanceof n)return f(e.toNumber());throw new t.error.UnsupportedTypeError("csc",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],441:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/Unit"),a=e("../../type/collection"),s=r.number,u=r.number.isNumber,c=r["boolean"].isBoolean,l=i.isComplex,h=o.isUnit,f=a.isCollection;t.csch=function d(e){if(1!=arguments.length)throw new t.error.ArgumentsError("csch",arguments.length,1);if(u(e))return 0==e?Number.NaN:Math.abs(2/(Math.exp(e)-Math.exp(-e)))*s.sign(e);if(l(e)){var r=Math.exp(e.re),p=Math.exp(-e.re),m=Math.cos(e.im)*(r-p),g=Math.sin(e.im)*(r+p),y=m*m+g*g;return new i(2*m/y,-2*g/y)}if(h(e)){if(!e.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function csch is no angle");return d(e.value)}if(f(e))return a.deepMap(e,d);if(c(e)||null===e)return d(e?1:0);if(e instanceof n)return d(e.toNumber());throw new t.error.UnsupportedTypeError("csch",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],442:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/Unit"),a=e("../../type/collection"),s=r.number.isNumber,u=r["boolean"].isBoolean,c=i.isComplex,l=o.isUnit,h=a.isCollection;t.sec=function f(e){if(1!=arguments.length)throw new t.error.ArgumentsError("sec",arguments.length,1);if(s(e))return 1/Math.cos(e);if(c(e)){var r=.25*(Math.exp(-2*e.im)+Math.exp(2*e.im))+.5*Math.cos(2*e.re);return new i(.5*Math.cos(e.re)*(Math.exp(-e.im)+Math.exp(e.im))/r,.5*Math.sin(e.re)*(Math.exp(e.im)-Math.exp(-e.im))/r)}if(l(e)){if(!e.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sec is no angle");return 1/Math.cos(e.value)}if(h(e))return a.deepMap(e,f);if(u(e)||null===e)return f(+e);if(e instanceof n)return f(e.toNumber());throw new t.error.UnsupportedTypeError("sec",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],443:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/Unit"),a=e("../../type/collection"),s=r.number.isNumber,u=r["boolean"].isBoolean,c=i.isComplex,l=o.isUnit,h=a.isCollection;t.sech=function f(e){if(1!=arguments.length)throw new t.error.ArgumentsError("sech",arguments.length,1);if(s(e))return 2/(Math.exp(e)+Math.exp(-e));if(c(e)){var r=Math.exp(e.re),d=Math.exp(-e.re),p=Math.cos(e.im)*(r+d),m=Math.sin(e.im)*(r-d),g=p*p+m*m;return new i(2*p/g,-2*m/g)}if(l(e)){if(!e.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sech is no angle");return f(e.value)}if(h(e))return a.deepMap(e,f);if(u(e)||null===e)return f(e?1:0);if(e instanceof n)return f(e.toNumber());throw new t.error.UnsupportedTypeError("sech",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],444:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/Unit"),s=e("../../type/collection"),u=n.number.isNumber,c=n["boolean"].isBoolean,l=o.isComplex,h=a.isUnit,f=s.isCollection,d=n.bignumber.cos_sin;t.sin=function p(e){if(1!=arguments.length)throw new t.error.ArgumentsError("sin",arguments.length,1);if(u(e))return Math.sin(e);if(l(e))return new o(Math.sin(e.re)*t.cosh(-e.im),Math.cos(e.re)*t.sinh(e.im));if(h(e)){if(!e.hasBase(a.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return Math.sin(e.value)}if(f(e))return s.deepMap(e,p);if(c(e)||null===e)return Math.sin(e);if(e instanceof i)return d(e,r.precision,1);throw new t.error.UnsupportedTypeError("sin",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],445:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/Unit"),a=e("../../type/collection"),s=r.number.isNumber,u=r["boolean"].isBoolean,c=i.isComplex,l=o.isUnit,h=a.isCollection,f=r.bignumber.cosh_sinh;t.sinh=function d(e){if(1!=arguments.length)throw new t.error.ArgumentsError("sinh",arguments.length,1);if(s(e))return Math.abs(e)<1?e+e*e*e/6+e*e*e*e*e/120:(Math.exp(e)-Math.exp(-e))/2;if(c(e)){var r=Math.cos(e.im),p=Math.sin(e.im),m=Math.exp(e.re),g=Math.exp(-e.re);return new i(r*(m-g)/2,p*(m+g)/2)}if(l(e)){if(!e.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sinh is no angle");return d(e.value)}if(h(e))return a.deepMap(e,d);if(u(e)||null===e)return d(e?1:0);if(e instanceof n)return f(e,1);throw new t.error.UnsupportedTypeError("sinh",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],446:[function(e,t){"use strict";t.exports=function(t,r){var n=e("../../util/index"),i=t.type.BigNumber,o=e("../../type/Complex"),a=e("../../type/Unit"),s=e("../../type/collection"),u=n.number.isNumber,c=n["boolean"].isBoolean,l=o.isComplex,h=a.isUnit,f=s.isCollection,d=n.bignumber.tan;t.tan=function p(e){if(1!=arguments.length)throw new t.error.ArgumentsError("tan",arguments.length,1);if(u(e))return Math.tan(e);if(l(e)){var n=Math.exp(-4*e.im)+2*Math.exp(-2*e.im)*Math.cos(2*e.re)+1;return new o(2*Math.exp(-2*e.im)*Math.sin(2*e.re)/n,(1-Math.exp(-4*e.im))/n)}if(h(e)){if(!e.hasBase(a.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tan is no angle");return Math.tan(e.value)}if(f(e))return s.deepMap(e,p);if(c(e)||null===e)return Math.tan(e);if(e instanceof i)return d(e,r.precision);throw new t.error.UnsupportedTypeError("tan",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],447:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=t.type.BigNumber,i=e("../../type/Complex"),o=e("../../type/Unit"),a=e("../../type/collection"),s=r.number.isNumber,u=r["boolean"].isBoolean,c=i.isComplex,l=o.isUnit,h=a.isCollection,f=r.bignumber.tanh;t.tanh=function d(e){if(1!=arguments.length)throw new t.error.ArgumentsError("tanh",arguments.length,1);if(s(e)){var r=Math.exp(2*e);return(r-1)/(r+1)}if(c(e)){var p=Math.exp(2*e.re),m=p*Math.cos(2*e.im),g=p*Math.sin(2*e.im),y=(m+1)*(m+1)+g*g;return new i(((m-1)*(m+1)+g*g)/y,2*g/y)}if(l(e)){if(!e.hasBase(o.BASE_UNITS.ANGLE))throw new TypeError("Unit in function tanh is no angle");return d(e.value)}if(h(e))return a.deepMap(e,d);if(u(e)||null===e)return d(e?1:0);if(e instanceof n)return f(e);throw new t.error.UnsupportedTypeError("tanh",t["typeof"](e))}}},{"../../type/Complex":459,"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],448:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=e("../../type/Unit"),i=e("../../type/collection"),o=r.string.isString,a=n.isUnit,s=i.isCollection;t.to=function u(e,r){if(2!=arguments.length)throw new t.error.ArgumentsError("to",arguments.length,2);if(a(e)&&(a(r)||o(r)))return e.to(r);if(s(e)||s(r))return i.deepMap2(e,r,u);throw new t.error.UnsupportedTypeError("to",t["typeof"](e),t["typeof"](r))}}},{"../../type/Unit":465,"../../type/collection":466,"../../util/index":471}],449:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=r.object;t.clone=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("clone",arguments.length,1);return n.clone(e)}}},{"../../util/index":471}],450:[function(e,t){"use strict";t.exports=function(t){function r(e,t){if("function"==typeof t)return e.filter(function(e){return t(e)});if(t instanceof RegExp)return e.filter(function(e){return t.test(e)});throw new TypeError("Function or RegExp expected")}var n=e("../../type/Matrix");t.filter=function(e,i){if(2!==arguments.length)throw new t.error.ArgumentsError("filter",arguments.length,2);if(e instanceof n){var o=e.size();if(o.length>1)throw new Error("Only one dimensional matrices supported");return new n(r(e.toArray(),i))}if(Array.isArray(e))return r(e,i);throw new t.error.UnsupportedTypeError("filter",t["typeof"](e),t["typeof"](compare))}}},{"../../type/Matrix":462}],451:[function(e,t){"use strict";t.exports=function(t){function r(e,t){var r=function(n,i){Array.isArray(n)?n.forEach(function(e,t){r(e,i.concat(t))}):t(n,i,e)};r(e,[])}var n=e("../../type/Matrix");t.forEach=function(e,i){if(2!=arguments.length)throw new t.error.ArgumentsError("forEach",arguments.length,2);if(Array.isArray(e))return r(e,i);if(e instanceof n)return e.forEach(i);throw new t.error.UnsupportedTypeError("forEach",t["typeof"](e))}}},{"../../type/Matrix":462}],452:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=r.string;t.format=function(e,r){var i=arguments.length;if(1!==i&&2!==i)throw new t.error.ArgumentsError("format",i,1,2);return n.format(e,r)}}},{"../../util/index":471}],453:[function(e,t){"use strict";t.exports=function(t){function r(e,r,n){(n.override||void 0===t[e])&&(n.wrap&&"function"==typeof r?(t[e]=function(){for(var e=[],n=0,i=arguments.length;i>n;n++){var o=arguments[n];e[n]=o&&o.valueOf()}return r.apply(t,e)},r&&r.transform&&(t[e].transform=r.transform)):t[e]=r,r&&r.transform&&(t.expression.transform[e]=r.transform),t.chaining.Chain.createProxy(e,r))}function n(e){return"function"==typeof e||s(e)||u(e)||c(e)||l(e)}var i=e("../../util/index"),o=e("../../type/Complex"),a=e("../../type/Unit"),s=i.number.isNumber,u=i.string.isString,c=o.isComplex,l=a.isUnit;t["import"]=function h(i,o){var a=arguments.length;if(1!=a&&2!=a)throw new t.error.ArgumentsError("import",a,1,2);var s,c={override:o&&o.override||!1,wrap:o&&o.wrap||!1};if(u(i)){if("undefined"==typeof e)throw new Error("Cannot load module: require not available.");var l=e(i);h(l,o)}else{if("object"!=typeof i)throw new TypeError("Object or module name expected");for(s in i)if(i.hasOwnProperty(s)){var f=i[s];n(f)?r(s,f,c):h(f,o)}}}}},{"../../type/Complex":459,"../../type/Unit":465,"../../util/index":471}],454:[function(e,t){"use strict";t.exports=function(t){function r(e,t){var r=function(n,i){return Array.isArray(n)?n.map(function(e,t){return r(e,i.concat(t))}):t(n,i,e)};return r(e,[])}var n=e("../../type/Matrix");t.map=function(e,i){if(2!=arguments.length)throw new t.error.ArgumentsError("map",arguments.length,2);if(Array.isArray(e))return r(e,i);if(e instanceof n)return e.map(i);throw new t.error.UnsupportedTypeError("map",t["typeof"](e))}}},{"../../type/Matrix":462}],455:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/index"),n=r.string.isString;t.print=function(e,r,i){var o=arguments.length;if(2!=o&&3!=o)throw new t.error.ArgumentsError("print",o,2,3);if(!n(e))throw new TypeError("String expected as first parameter in function format");if(!(r instanceof Object))throw new TypeError("Object expected as second parameter in function format");return e.replace(/\$([\w\.]+)/g,function(e,o){for(var a=o.split("."),s=r[a.shift()];a.length&&void 0!==s;){var u=a.shift();s=u?s[u]:s+"."}return void 0!==s?n(s)?s:t.format(s,i):e})}}},{"../../util/index":471}],456:[function(e,t){"use strict";t.exports=function(t){var r=e("../../type/Matrix");t.sort=function(e,n){var i=null;if(1===arguments.length)i=t.compare;else{if(2!==arguments.length)throw new t.error.ArgumentsError("sort",arguments.length,1,2);if("function"==typeof n)i=n;else if("asc"===n)i=t.compare;else{if("desc"!==n)throw new t.error.UnsupportedTypeError("sort",t["typeof"](e),t["typeof"](n));i=function(e,r){return-t.compare(e,r)}}}if(e instanceof r){var o=e.size();if(o.length>1)throw new Error("Only one dimensional matrices supported");return new r(e.toArray().sort(i))}if(Array.isArray(e))return e.sort(i);throw new t.error.UnsupportedTypeError("sort",t["typeof"](e),t["typeof"](n))}}},{"../../type/Matrix":462}],457:[function(e,t){"use strict";t.exports=function(t){var r=e("../../util/types"),n=e("../../type/Complex"),i=e("../../type/Matrix"),o=e("../../type/Unit"),a=e("../../type/Index"),s=e("../../type/Range"),u=e("../../type/Help");t["typeof"]=function(e){if(1!=arguments.length)throw new t.error.ArgumentsError("typeof",arguments.length,1);var c=r.type(e);if("object"===c){if(e instanceof n)return"complex";if(e instanceof i)return"matrix";if(e instanceof o)return"unit";if(e instanceof a)return"index";if(e instanceof s)return"range";if(e instanceof u)return"help";if(e instanceof t.type.BigNumber)return"bignumber";if(e instanceof t.chaining.Chain)return"chain"}return c}}},{"../../type/Complex":459,"../../type/Help":460,"../../type/Index":461,"../../type/Matrix":462,"../../type/Range":463,"../../type/Unit":465,"../../util/types":476}],458:[function(e,t){"use strict";function r(t){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var o={},a={matrix:"matrix",number:"number",precision:64,epsilon:1e-14};o.config=function(t){if(t){if(n.deepExtend(a,t),t.precision&&o.type.BigNumber.config({precision:t.precision}),e("./constants")(o,a),t.number&&t.number.defaultType)throw new Error("setting `number.defaultType` is deprecated. Use `number` instead.");if(t.number&&t.number.precision)throw new Error("setting `number.precision` is deprecated. Use `precision` instead.");if(t.matrix&&t.matrix.defaultType)throw new Error("setting `matrix.defaultType` is deprecated. Use `matrix` instead.");if(t.matrix&&t.matrix["default"])throw new Error("setting `matrix.default` is deprecated. Use `matrix` instead.");if(t.decimals)throw new Error("setting `decimals` is deprecated. Use `precision` instead.")}return n.clone(a)},o.create=r;var s=e("decimal.js").constructor();if("function"!=typeof s.prototype.clone&&(s.prototype.clone=function(){return this}),"function"==typeof s.convert)throw new Error("Cannot add function convert to BigNumber: function already exists");return s.convert=function(e){return i(e)>15?e:new s(e)},o.error=e("./error/index"),o.type={},o.type.Complex=e("./type/Complex"),o.type.Range=e("./type/Range"),o.type.Index=e("./type/Index"),o.type.Matrix=e("./type/Matrix"),o.type.Unit=e("./type/Unit"),o.type.Help=e("./type/Help"),o.type.ResultSet=e("./type/ResultSet"),o.type.BigNumber=s,o.collection=e("./type/collection"),o.expression={},o.expression.node=e("./expression/node/index"),o.expression.parse=e("./expression/parse"),o.expression.Parser=e("./expression/Parser"),o.expression.docs=e("./expression/docs/index"),e("./function/expression/compile")(o,a),e("./function/expression/eval")(o,a),e("./function/expression/help")(o,a),e("./function/expression/parse")(o,a),e("./function/arithmetic/abs")(o,a),e("./function/arithmetic/add")(o,a),e("./function/arithmetic/ceil")(o,a),e("./function/arithmetic/cube")(o,a),e("./function/arithmetic/_divide")(o,a),e("./function/arithmetic/divide")(o,a),e("./function/arithmetic/dotDivide")(o,a),e("./function/arithmetic/dotMultiply")(o,a),e("./function/arithmetic/dotPow")(o,a),e("./function/arithmetic/exp")(o,a),e("./function/arithmetic/fix")(o,a),e("./function/arithmetic/floor")(o,a),e("./function/arithmetic/gcd")(o,a),e("./function/arithmetic/lcm")(o,a),e("./function/arithmetic/log")(o,a),e("./function/arithmetic/log10")(o,a),e("./function/arithmetic/mod")(o,a),e("./function/arithmetic/multiply")(o,a),e("./function/arithmetic/norm")(o,a),e("./function/arithmetic/nthRoot")(o,a),e("./function/arithmetic/pow")(o,a),e("./function/arithmetic/round")(o,a),e("./function/arithmetic/sign")(o,a),e("./function/arithmetic/sqrt")(o,a),e("./function/arithmetic/square")(o,a),e("./function/arithmetic/subtract")(o,a),e("./function/arithmetic/unaryMinus")(o,a),e("./function/arithmetic/unaryPlus")(o,a),e("./function/arithmetic/xgcd")(o,a),e("./function/bitwise/bitAnd")(o,a),e("./function/bitwise/bitNot")(o,a),e("./function/bitwise/bitOr")(o,a),e("./function/bitwise/bitXor")(o,a),e("./function/bitwise/leftShift")(o,a),e("./function/bitwise/rightArithShift")(o,a),e("./function/bitwise/rightLogShift")(o,a),e("./function/complex/arg")(o,a),e("./function/complex/conj")(o,a),e("./function/complex/re")(o,a),e("./function/complex/im")(o,a),e("./function/construction/bignumber")(o,a),e("./function/construction/boolean")(o,a),e("./function/construction/complex")(o,a),e("./function/construction/index")(o,a),e("./function/construction/matrix")(o,a),e("./function/construction/number")(o,a),e("./function/construction/parser")(o,a),e("./function/construction/chain")(o,a),e("./function/construction/string")(o,a),e("./function/construction/unit")(o,a),e("./function/logical/and")(o,a),e("./function/logical/not")(o,a),e("./function/logical/or")(o,a),e("./function/logical/xor")(o,a),e("./function/matrix/concat")(o,a),e("./function/matrix/cross")(o,a),e("./function/matrix/det")(o,a),e("./function/matrix/diag")(o,a),e("./function/matrix/dot")(o,a),e("./function/matrix/eye")(o,a),e("./function/matrix/flatten")(o,a),e("./function/matrix/inv")(o,a),e("./function/matrix/ones")(o,a),e("./function/matrix/range")(o,a),e("./function/matrix/resize")(o,a),e("./function/matrix/size")(o,a),e("./function/matrix/squeeze")(o,a),e("./function/matrix/subset")(o,a),e("./function/matrix/trace")(o,a),e("./function/matrix/transpose")(o,a),e("./function/matrix/zeros")(o,a),e("./function/probability/factorial")(o,a),e("./function/probability/gamma")(o,a),e("./function/probability/random")(o,a),e("./function/probability/randomInt")(o,a),e("./function/probability/pickRandom")(o,a),e("./function/probability/permutations")(o,a),e("./function/probability/combinations")(o,a),e("./function/relational/compare")(o,a),e("./function/relational/deepEqual")(o,a),e("./function/relational/equal")(o,a),e("./function/relational/larger")(o,a),e("./function/relational/largerEq")(o,a),e("./function/relational/smaller")(o,a),e("./function/relational/smallerEq")(o,a),e("./function/relational/unequal")(o,a),e("./function/statistics/min")(o,a),e("./function/statistics/max")(o,a),e("./function/statistics/mean")(o,a),e("./function/statistics/median")(o,a),e("./function/statistics/prod")(o,a),e("./function/statistics/std")(o,a),e("./function/statistics/sum")(o,a),e("./function/statistics/var")(o,a),e("./function/trigonometry/acos")(o,a),e("./function/trigonometry/asin")(o,a),e("./function/trigonometry/atan")(o,a),e("./function/trigonometry/atan2")(o,a),e("./function/trigonometry/cos")(o,a),e("./function/trigonometry/cosh")(o,a),e("./function/trigonometry/cot")(o,a),e("./function/trigonometry/coth")(o,a),e("./function/trigonometry/csc")(o,a),e("./function/trigonometry/csch")(o,a),e("./function/trigonometry/sec")(o,a),e("./function/trigonometry/sech")(o,a),e("./function/trigonometry/sin")(o,a),e("./function/trigonometry/sinh")(o,a),e("./function/trigonometry/tan")(o,a),e("./function/trigonometry/tanh")(o,a),e("./function/units/to")(o,a),e("./function/utils/clone")(o,a),e("./function/utils/filter")(o,a),e("./function/utils/format")(o,a),e("./function/utils/import")(o,a),e("./function/utils/map")(o,a),e("./function/utils/print")(o,a),e("./function/utils/sort")(o,a),e("./function/utils/typeof")(o,a),e("./function/utils/forEach")(o,a),o.ifElse=function(){throw new Error("Function ifElse is deprecated. Use the conditional operator instead.")},e("./constants")(o,a),o.expression.transform={concat:e("./expression/transform/concat.transform")(o,a),filter:e("./expression/transform/filter.transform")(o,a),forEach:e("./expression/transform/forEach.transform")(o,a),index:e("./expression/transform/index.transform")(o,a),map:e("./expression/transform/map.transform")(o,a),max:e("./expression/transform/max.transform")(o,a),mean:e("./expression/transform/mean.transform")(o,a),min:e("./expression/transform/min.transform")(o,a),range:e("./expression/transform/range.transform")(o,a),subset:e("./expression/transform/subset.transform")(o,a)},o.chaining={},o.chaining.Chain=e("./chaining/Chain")(o,a),o.chaining.Selector=o.chaining.Chain,o.config(a),o.config(t),o}var n=e("./util/object"),i=e("./util/number").digits,o=r();"undefined"!=typeof window&&(window.mathjs=o),t.exports=o},{"./chaining/Chain":162,"./constants":163,"./error/index":168,"./expression/Parser":169,"./expression/docs/index":305,"./expression/node/index":320,"./expression/parse":321,"./expression/transform/concat.transform":322,"./expression/transform/filter.transform":324,"./expression/transform/forEach.transform":325,"./expression/transform/index.transform":326,"./expression/transform/map.transform":327,"./expression/transform/max.transform":328,"./expression/transform/mean.transform":329,"./expression/transform/min.transform":330,"./expression/transform/range.transform":331,"./expression/transform/subset.transform":332,"./function/arithmetic/_divide":333,"./function/arithmetic/abs":334,"./function/arithmetic/add":335,"./function/arithmetic/ceil":336,"./function/arithmetic/cube":337,"./function/arithmetic/divide":338,"./function/arithmetic/dotDivide":339,"./function/arithmetic/dotMultiply":340,"./function/arithmetic/dotPow":341,"./function/arithmetic/exp":342,"./function/arithmetic/fix":343,"./function/arithmetic/floor":344,"./function/arithmetic/gcd":345,"./function/arithmetic/lcm":346,"./function/arithmetic/log":347,"./function/arithmetic/log10":348,"./function/arithmetic/mod":349,"./function/arithmetic/multiply":350,"./function/arithmetic/norm":351,"./function/arithmetic/nthRoot":352,"./function/arithmetic/pow":353,"./function/arithmetic/round":354,"./function/arithmetic/sign":355,"./function/arithmetic/sqrt":356,"./function/arithmetic/square":357,"./function/arithmetic/subtract":358,"./function/arithmetic/unaryMinus":359,"./function/arithmetic/unaryPlus":360,"./function/arithmetic/xgcd":361,"./function/bitwise/bitAnd":362,"./function/bitwise/bitNot":363,"./function/bitwise/bitOr":364,"./function/bitwise/bitXor":365,"./function/bitwise/leftShift":366,"./function/bitwise/rightArithShift":367,"./function/bitwise/rightLogShift":368,"./function/complex/arg":369,"./function/complex/conj":370,"./function/complex/im":371,"./function/complex/re":372,"./function/construction/bignumber":373,"./function/construction/boolean":374,"./function/construction/chain":375,"./function/construction/complex":376,"./function/construction/index":377,"./function/construction/matrix":378,"./function/construction/number":379,"./function/construction/parser":380,"./function/construction/string":381,"./function/construction/unit":382,"./function/expression/compile":383,"./function/expression/eval":384,"./function/expression/help":385,"./function/expression/parse":386,"./function/logical/and":387,"./function/logical/not":388,"./function/logical/or":389,"./function/logical/xor":390,"./function/matrix/concat":391,"./function/matrix/cross":392,"./function/matrix/det":393,"./function/matrix/diag":394,"./function/matrix/dot":395,"./function/matrix/eye":396,"./function/matrix/flatten":397,"./function/matrix/inv":398,"./function/matrix/ones":399,"./function/matrix/range":400,"./function/matrix/resize":401,"./function/matrix/size":402,"./function/matrix/squeeze":403,"./function/matrix/subset":404,"./function/matrix/trace":405,"./function/matrix/transpose":406,"./function/matrix/zeros":407,"./function/probability/combinations":408,"./function/probability/factorial":410,"./function/probability/gamma":411,"./function/probability/permutations":412,"./function/probability/pickRandom":413,"./function/probability/random":414,"./function/probability/randomInt":415,"./function/relational/compare":416,"./function/relational/deepEqual":417,"./function/relational/equal":418,"./function/relational/larger":419,"./function/relational/largerEq":420,"./function/relational/smaller":421,"./function/relational/smallerEq":422,"./function/relational/unequal":423,"./function/statistics/max":424,"./function/statistics/mean":425,"./function/statistics/median":426,"./function/statistics/min":427,"./function/statistics/prod":428,"./function/statistics/std":429,"./function/statistics/sum":430,"./function/statistics/var":431,"./function/trigonometry/acos":432,"./function/trigonometry/asin":433,"./function/trigonometry/atan":434,"./function/trigonometry/atan2":435,"./function/trigonometry/cos":436,"./function/trigonometry/cosh":437,"./function/trigonometry/cot":438,"./function/trigonometry/coth":439,"./function/trigonometry/csc":440,"./function/trigonometry/csch":441,"./function/trigonometry/sec":442,"./function/trigonometry/sech":443,"./function/trigonometry/sin":444,"./function/trigonometry/sinh":445,"./function/trigonometry/tan":446,"./function/trigonometry/tanh":447,"./function/units/to":448,"./function/utils/clone":449,"./function/utils/filter":450,"./function/utils/forEach":451,"./function/utils/format":452,"./function/utils/import":453,"./function/utils/map":454,"./function/utils/print":455,"./function/utils/sort":456,"./function/utils/typeof":457,"./type/Complex":459,"./type/Help":460,"./type/Index":461,"./type/Matrix":462,"./type/Range":463,"./type/ResultSet":464,"./type/Unit":465,"./type/collection":466,"./util/number":473,"./util/object":474,"decimal.js":478}],459:[function(e,t){"use strict";
function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");switch(arguments.length){case 0:this.re=0,this.im=0;break;case 1:var n=arguments[0];if("object"==typeof n){if("re"in n&&"im"in n){var i=new r(n.re,n.im);this.re=i.re,this.im=i.im;break}if("r"in n&&"phi"in n){var i=r.fromPolar(n.r,n.phi);this.re=i.re,this.im=i.im;break}}throw new SyntaxError("Object with the re and im or r and phi properties expected.");case 2:if(!d(e)||!d(t))throw new TypeError("Two numbers expected in Complex constructor");this.re=e,this.im=t;break;default:throw new SyntaxError("One, two or three arguments expected in Complex constructor")}}function n(){for(;" "==v||"	"==v;)a()}function i(e){return e>="0"&&"9">=e||"."==e}function o(e){return e>="0"&&"9">=e}function a(){y++,v=g.charAt(y)}function s(e){y=e,v=g.charAt(y)}function u(){var e,t="";if(e=y,"+"==v?a():"-"==v&&(t+=v,a()),!i(v))return s(e),null;if("."==v){if(t+=v,a(),!o(v))return s(e),null}else{for(;o(v);)t+=v,a();"."==v&&(t+=v,a())}for(;o(v);)t+=v,a();if("E"==v||"e"==v){if(t+=v,a(),("+"==v||"-"==v)&&(t+=v,a()),!o(v))return s(e),null;for(;o(v);)t+=v,a()}return t}function c(){var e=g.charAt(y+1);if("I"==v||"i"==v)return a(),"1";if(!("+"!=v&&"-"!=v||"I"!=e&&"i"!=e)){var t="+"==v?"1":"-1";return a(),a(),t}return null}var l=e("../util/index"),h=e("./Unit"),f=l.number,d=l.number.isNumber,p=h.isUnit,m=l.string.isString;r.isComplex=function(e){return e instanceof r};var g,y,v;r.parse=function(e){if(g=e,y=-1,v="",!m(g))return null;a(),n();var t=u();if(t){if("I"==v||"i"==v)return a(),n(),v?null:new r(0,Number(t));n();var i=v;if("+"!=i&&"-"!=i)return n(),v?null:new r(Number(t),0);a(),n();var o=u();if(o){if("I"!=v&&"i"!=v)return null;a()}else if(o=c(),!o)return null;return"-"==i&&(o="-"==o[0]?"+"+o.substring(1):"-"+o),a(),n(),v?null:new r(Number(t),Number(o))}return(t=c())?(n(),v?null:new r(0,Number(t))):null},r.fromPolar=function(){switch(arguments.length){case 1:var e=arguments[0];if("object"==typeof e)return r.fromPolar(e.r,e.phi);throw new TypeError("Input has to be an object with r and phi keys.");case 2:var t=arguments[0],n=arguments[1];if(d(t)){if(p(n)&&n.hasBase(h.BASE_UNITS.ANGLE)&&(n=n.toNumber("rad")),d(n))return new r(t*Math.cos(n),t*Math.sin(n));throw new TypeError("Phi is not a number nor an angle unit.")}throw new TypeError("Radius r is not a number.");default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},r.prototype.toPolar=function(){return{r:Math.sqrt(this.re*this.re+this.im*this.im),phi:Math.atan2(this.im,this.re)}},r.prototype.clone=function(){return new r(this.re,this.im)},r.prototype.equals=function(e){return this.re===e.re&&this.im===e.im},r.prototype.format=function(e){var t="",r=f.format(this.re,e),n=f.format(this.im,e);return t=0==this.im?r:0==this.re?1==this.im?"i":-1==this.im?"-i":n+"i":this.im>0?1==this.im?r+" + i":r+" + "+n+"i":-1==this.im?r+" - i":r+" - "+n.substring(1)+"i"},r.prototype.toString=function(){return this.format()},r.prototype.valueOf=r.prototype.toString,t.exports=r},{"../util/index":471,"./Unit":465}],460:[function(e,t){"use strict";function r(e,t){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.math=e,this.doc=t}var n=e("../util/index"),i=n.object,o=n.string;r.isHelp=function(e){return e instanceof r},r.prototype.toString=function(){var e=this.doc||{},t="\n";if(e.name&&(t+="Name: "+e.name+"\n\n"),e.category&&(t+="Category: "+e.category+"\n\n"),e.description&&(t+="Description:\n    "+e.description+"\n\n"),e.syntax&&(t+="Syntax:\n    "+e.syntax.join("\n    ")+"\n\n"),e.examples){var n=this.math.parser();t+="Examples:\n";for(var i=0;i<e.examples.length;i++){var a,s=e.examples[i];try{a=n.eval(s)}catch(u){a=u}t+="    "+s+"\n",void 0===a||a instanceof r||(t+="        "+o.format(a,{precision:14})+"\n")}t+="\n"}return e.seealso&&(t+="See also: "+e.seealso.join(", ")+"\n"),t},r.prototype.toJSON=function(){return i.clone(this.doc)},r.prototype.valueOf=r.prototype.toString,t.exports=r},{"../util/index":471}],461:[function(e,t){"use strict";function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._ranges=[],this._isScalar=!0;for(var e=0,t=arguments.length;t>e;e++){var i=arguments[e];if(i instanceof o)this._ranges.push(i),this._isScalar=!1;else if(c(i))this._ranges.push(n(i)),this._isScalar=!1;else if(s(i))this._ranges.push(n([i,i+1]));else{var a=i.valueOf();if(!c(a))throw new TypeError("Ranges must be an Array, Number, or Range");this._ranges.push(n(a)),this._isScalar=!1}}}function n(e){for(var t=e.length,r=0;t>r;r++)if(!s(e[r])||!u(e[r]))throw new TypeError("Index parameters must be integer numbers");switch(e.length){case 2:return new o(e[0],e[1]);case 3:return new o(e[0],e[1],e[2]);default:throw new SyntaxError("Wrong number of arguments in Index (2 or 3 expected)")}}var i=e("../util/index"),o=e("./Range"),a=i.number,s=a.isNumber,u=a.isInteger,c=Array.isArray;r.prototype.clone=function(){var e=new r;return e._ranges=i.object.clone(this._ranges),e._isScalar=this._isScalar,e},r.isIndex=function(e){return e instanceof r},r.create=function(e){var t=new r;return r.apply(t,e),t},r.prototype.size=function(){for(var e=[],t=0,r=this._ranges.length;r>t;t++){var n=this._ranges[t];e[t]=n.size()[0]}return e},r.prototype.max=function(){for(var e=[],t=0,r=this._ranges.length;r>t;t++){var n=this._ranges[t];e[t]=n.max()}return e},r.prototype.min=function(){for(var e=[],t=0,r=this._ranges.length;r>t;t++){var n=this._ranges[t];e[t]=n.min()}return e},r.prototype.forEach=function(e){for(var t=0,r=this._ranges.length;r>t;t++)e(this._ranges[t],t,this)},r.prototype.range=function(e){return this._ranges[e]||null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var e=[],t=0,r=this._ranges.length;r>t;t++){var n=this._ranges[t],i=[],o=n.start,a=n.end,s=n.step;if(s>0)for(;a>o;)i.push(o),o+=s;else if(0>s)for(;o>a;)i.push(o),o+=s;e.push(i)}return e},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var e=[],t=0,r=this._ranges.length;r>t;t++){var n=this._ranges[t],i=a.format(n.start);1!=n.step&&(i+=":"+a.format(n.step)),i+=":"+a.format(n.end),e.push(i)}return"["+e.join(", ")+"]"},t.exports=r},{"../util/index":471,"./Range":463}],462:[function(e,t){"use strict";function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(e instanceof r)this._data=e.clone()._data;else if(m(e))this._data=u(e);else{if(null!=e)throw new TypeError("Unsupported type of data ("+c.types.type(e)+")");this._data=[]}this._size=d.size(this._data)}function n(e,t){if(!(t instanceof h))throw new TypeError("Invalid index");var n=t.isScalar();if(n)return e.get(t.min());var o=t.size();if(o.length!=e._size.length)throw new l(o.length,e._size.length);for(var a=t.min(),s=t.max(),u=0,c=e._size.length;c>u;u++)g(a[u],e._size[u]),g(s[u],e._size[u]);return new r(i(e._data,t,o.length,0))}function i(e,t,r,n){var o=n==r-1,a=t.range(n);return a.map(o?function(t){return e[t]}:function(o){var a=e[o];return i(a,t,r,n+1)})}function o(e,t,n,i){if(!(t instanceof h))throw new TypeError("Invalid index");var o,u=t.size(),c=t.isScalar();if(n instanceof r?(o=n.size(),n=n.valueOf()):o=d.size(n),c){if(0!=o.length)throw new TypeError("Scalar expected");e.set(t.min(),n,i)}else{if(u.length<e._size.length)throw new l(u.length,e._size.length,"<");if(o.length<u.length){for(var f=0,m=0;1===u[f]&&1===o[f];)f++;for(;1===u[f];)m++,f++;n=d.unsqueeze(n,u.length,m,o)}if(!p.deepEqual(u,o))throw new l(u,o,">");var g=t.max().map(function(e){return e+1});s(e,g,i);var y=u.length,v=0;a(e._data,t,n,y,v)}return e}function a(e,t,r,n,i){var o=i==n-1,s=t.range(i);s.forEach(o?function(t,n){g(t),e[t]=r[n]}:function(o,s){g(o),a(e[o],t,r[s],n,i+1)})}function s(e,t,r){for(var n=p.clone(e._size),i=!1;n.length<t.length;)n.push(0),i=!0;for(var o=0,a=t.length;a>o;o++)t[o]>n[o]&&(n[o]=t[o],i=!0);i&&e.resize(n,r)}function u(e){for(var t=0,n=e.length;n>t;t++){var i=e[t];m(i)?e[t]=u(i):i instanceof r&&(e[t]=u(i._data))}return e}var c=e("../util/index"),l=e("../error/DimensionError"),h=e("./Index"),f=(c.number,c.string),d=c.array,p=c.object,m=Array.isArray,g=d.validateIndex;r.isMatrix=function(e){return e instanceof r},r.prototype.subset=function(e,t,r){switch(arguments.length){case 1:return n(this,e);case 2:case 3:return o(this,e,t,r);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(e){if(!m(e))throw new TypeError("Array expected");if(e.length!=this._size.length)throw new l(e.length,this._size.length);for(var t=this._data,r=0,n=e.length;n>r;r++){var i=e[r];g(i,t.length),t=t[i]}return p.clone(t)},r.prototype.set=function(e,t,r){var n,i;if(!m(e))throw new Error("Array expected");if(e.length<this._size.length)throw new l(e.length,this._size.length,"<");var o=e.map(function(e){return e+1});s(this,o,r);var a=this._data;for(n=0,i=e.length-1;i>n;n++){var u=e[n];g(u,a.length),a=a[u]}return u=e[e.length-1],g(u,a.length),a[u]=t,this},r.prototype.resize=function(e,t){return this._size=p.clone(e),this._data=d.resize(this._data,this._size,t),this},r.prototype.clone=function(){var e=new r;return e._data=p.clone(this._data),e._size=p.clone(this._size),e},r.prototype.size=function(){return this._size},r.prototype.map=function(e){var t=this,n=new r,i=function(r,n){return m(r)?r.map(function(e,t){return i(e,n.concat(t))}):e(r,n,t)};return n._data=i(this._data,[]),n._size=p.clone(this._size),n},r.prototype.forEach=function(e){var t=this,r=function(n,i){m(n)?n.forEach(function(e,t){r(e,i.concat(t))}):e(n,i,t)};r(this._data,[])},r.prototype.toArray=function(){return p.clone(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(e){return f.format(this._data,e)},r.prototype.toString=function(){return f.format(this._data)},t.exports=r},{"../error/DimensionError":165,"../util/index":471,"./Index":461}],463:[function(e,t){"use strict";function r(e,t,n){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(null!=e&&!i.isNumber(e))throw new TypeError("Parameter start must be a number");if(null!=t&&!i.isNumber(t))throw new TypeError("Parameter end must be a number");if(null!=n&&!i.isNumber(n))throw new TypeError("Parameter step must be a number");this.start=null!=e?parseFloat(e):0,this.end=null!=t?parseFloat(t):0,this.step=null!=n?parseFloat(n):1}{var n=e("../util/index"),i=n.number,o=n.string;n.array}r.parse=function(e){if(!o.isString(e))return null;var t=e.split(":"),n=t.map(function(e){return parseFloat(e)}),i=n.some(function(e){return isNaN(e)});if(i)return null;switch(n.length){case 2:return new r(n[0],n[1]);case 3:return new r(n[0],n[2],n[1]);default:return null}},r.prototype.clone=function(){return new r(this.start,this.end,this.step)},r.isRange=function(e){return e instanceof r},r.prototype.size=function(){var e=0,t=this.start,r=this.step,n=this.end,o=n-t;return i.sign(r)==i.sign(o)?e=Math.ceil(o/r):0==o&&(e=0),isNaN(e)&&(e=0),[e]},r.prototype.min=function(){var e=this.size()[0];return e>0?this.step>0?this.start:this.start+(e-1)*this.step:void 0},r.prototype.max=function(){var e=this.size()[0];return e>0?this.step>0?this.start+(e-1)*this.step:this.start:void 0},r.prototype.forEach=function(e){var t=this.start,r=this.step,n=this.end,i=0;if(r>0)for(;n>t;)e(t,i,this),t+=r,i++;else if(0>r)for(;t>n;)e(t,i,this),t+=r,i++},r.prototype.map=function(e){var t=[];return this.forEach(function(r,n,i){t[n]=e(r,n,i)}),t},r.prototype.toArray=function(){var e=[];return this.forEach(function(t,r){e[r]=t}),e},r.prototype.valueOf=function(){return this.toArray()},r.prototype.format=function(e){var t=i.format(this.start,e);return 1!=this.step&&(t+=":"+i.format(this.step,e)),t+=":"+i.format(this.end,e)},r.prototype.toString=function(){return this.format()},t.exports=r},{"../util/index":471}],464:[function(e,t){"use strict";function r(e){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}r.prototype.valueOf=function(){return this.entries},r.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},t.exports=r},{}],465:[function(e,t){"use strict";function r(e,t){if(!(this instanceof r))throw new Error("Constructor must be called with the new operator");if(void 0!=e&&!y(e))throw new TypeError("First parameter in Unit constructor must be a number");if(void 0!=t&&(!v(t)||""==t))throw new TypeError("Second parameter in Unit constructor must be a string");if(void 0!=t){var n=l(t);if(!n)throw new SyntaxError('Unknown unit "'+t+'"');this.unit=n.unit,this.prefix=n.prefix}else this.unit=_,this.prefix=E;this.value=void 0!=e?this._normalize(e):null,this.fixPrefix=!1}function n(){for(;" "==d||"	"==d;)a()}function i(e){return e>="0"&&"9">=e||"."==e}function o(e){return e>="0"&&"9">=e}function a(){f++,d=h.charAt(f)}function s(e){f=e,d=h.charAt(f)}function u(){var e,t="";if(e=f,"+"==d?a():"-"==d&&(t+=d,a()),!i(d))return s(e),null;if("."==d){if(t+=d,a(),!o(d))return s(e),null}else{for(;o(d);)t+=d,a();"."==d&&(t+=d,a())}for(;o(d);)t+=d,a();if("E"==d||"e"==d){if(t+=d,a(),("+"==d||"-"==d)&&(t+=d,a()),!o(d))return s(e),null;for(;o(d);)t+=d,a()}return t}function c(){var e="";for(n();d&&" "!=d&&"	"!=d;)e+=d,a();return e||null}function l(e){for(var t in T)if(T.hasOwnProperty(t)&&g.endsWith(e,t)){var r=T[t],n=e.length-t.length,i=e.substring(0,n),o=r.prefixes[i];if(void 0!==o)return{unit:r,prefix:o}}return null}var h,f,d,p=e("../util/index"),m=p.number,g=p.string,y=p.number.isNumber,v=p.string.isString;r.parse=function(e){if(h=e,f=-1,d="",!v(h))return null;a(),n();var t,i=u();if(i){if(t=c(),a(),n(),d)return null;if(i&&t)try{return new r(Number(i),t)}catch(o){}}else{if(t=c(),a(),n(),d)return null;if(t)try{return new r(null,t)}catch(o){}}return null},r.isUnit=function(e){return e instanceof r},r.prototype.clone=function(){var e=new r;for(var t in this)this.hasOwnProperty(t)&&(e[t]=this[t]);return e},r.prototype._normalize=function(e){return(e+this.unit.offset)*this.unit.value*this.prefix.value},r.prototype._unnormalize=function(e,t){return void 0==t?e/this.unit.value/this.prefix.value-this.unit.offset:e/this.unit.value/t-this.unit.offset},r.isValuelessUnit=function(e){return null!=l(e)},r.prototype.hasBase=function(e){return this.unit.base===e},r.prototype.equalBase=function(e){return this.unit.base===e.unit.base},r.prototype.equals=function(e){return this.equalBase(e)&&this.value==e.value},r.prototype.to=function(e){var t,n=null==this.value?this._normalize(1):this.value;if(v(e)){if(t=new r(null,e),!this.equalBase(t))throw new Error("Units do not match");return t.value=n,t.fixPrefix=!0,t}if(e instanceof r){if(!this.equalBase(e))throw new Error("Units do not match");if(null!==e.value)throw new Error("Cannot convert to a unit with a value");return t=e.clone(),t.value=n,t.fixPrefix=!0,t}throw new Error("String or Unit expected as parameter")},r.prototype.toNumber=function(e){var t=this.to(e);return t._unnormalize(t.value,t.prefix.value)},r.prototype.toString=function(){return this.format()},r.prototype.valueOf=r.prototype.toString,r.prototype.format=function(e){var t,r;if(null===this.value||this.fixPrefix)t=this._unnormalize(this.value),r=null!==this.value?m.format(t,e)+" ":"",r+=this.prefix.name+this.unit.name;else{var n=this._bestPrefix();t=this._unnormalize(this.value,n.value),r=m.format(t,e)+" ",r+=n.name+this.unit.name}return r},r.prototype._bestPrefix=function(){var e=Math.abs(this.value/this.unit.value),t=E,r=Math.abs(Math.log(e/t.value)/Math.LN10-1.2),n=this.unit.prefixes;for(var i in n)if(n.hasOwnProperty(i)){var o=n[i];if(o.scientific){var a=Math.abs(Math.log(e/o.value)/Math.LN10-1.2);r>a&&(t=o,r=a)}}return t};var b={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-42,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0}},BINARY_SHORT:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1024,scientific:!0},M:{name:"M",value:Math.pow(1024,2),scientific:!0},G:{name:"G",value:Math.pow(1024,3),scientific:!0},T:{name:"T",value:Math.pow(1024,4),scientific:!0},P:{name:"P",value:Math.pow(1024,5),scientific:!0},E:{name:"E",value:Math.pow(1024,6),scientific:!0},Z:{name:"Z",value:Math.pow(1024,7),scientific:!0},Y:{name:"Y",value:Math.pow(1024,8),scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1024,scientific:!0},mega:{name:"mega",value:Math.pow(1024,2),scientific:!0},giga:{name:"giga",value:Math.pow(1024,3),scientific:!0},tera:{name:"tera",value:Math.pow(1024,4),scientific:!0},peta:{name:"peta",value:Math.pow(1024,5),scientific:!0},exa:{name:"exa",value:Math.pow(1024,6),scientific:!0},zetta:{name:"zetta",value:Math.pow(1024,7),scientific:!0},yotta:{name:"yotta",value:Math.pow(1024,8),scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}}},E={name:"",value:1,scientific:!0},x={NONE:{},LENGTH:{},MASS:{},TIME:{},CURRENT:{},TEMPERATURE:{},LUMINOUS_INTENSITY:{},AMOUNT_OF_SUBSTANCE:{},FORCE:{},SURFACE:{},VOLUME:{},ANGLE:{},BIT:{}},w={},_={name:"",base:w,value:1,offset:0},T={meter:{name:"meter",base:x.LENGTH,prefixes:b.LONG,value:1,offset:0},inch:{name:"inch",base:x.LENGTH,prefixes:b.NONE,value:.0254,offset:0},foot:{name:"foot",base:x.LENGTH,prefixes:b.NONE,value:.3048,offset:0},yard:{name:"yard",base:x.LENGTH,prefixes:b.NONE,value:.9144,offset:0},mile:{name:"mile",base:x.LENGTH,prefixes:b.NONE,value:1609.344,offset:0},link:{name:"link",base:x.LENGTH,prefixes:b.NONE,value:.201168,offset:0},rod:{name:"rod",base:x.LENGTH,prefixes:b.NONE,value:5.02921,offset:0},chain:{name:"chain",base:x.LENGTH,prefixes:b.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:x.LENGTH,prefixes:b.NONE,value:1e-10,offset:0},m:{name:"m",base:x.LENGTH,prefixes:b.SHORT,value:1,offset:0},"in":{name:"in",base:x.LENGTH,prefixes:b.NONE,value:.0254,offset:0},ft:{name:"ft",base:x.LENGTH,prefixes:b.NONE,value:.3048,offset:0},yd:{name:"yd",base:x.LENGTH,prefixes:b.NONE,value:.9144,offset:0},mi:{name:"mi",base:x.LENGTH,prefixes:b.NONE,value:1609.344,offset:0},li:{name:"li",base:x.LENGTH,prefixes:b.NONE,value:.201168,offset:0},rd:{name:"rd",base:x.LENGTH,prefixes:b.NONE,value:5.02921,offset:0},ch:{name:"ch",base:x.LENGTH,prefixes:b.NONE,value:20.1168,offset:0},mil:{name:"mil",base:x.LENGTH,prefixes:b.NONE,value:254e-7,offset:0},m2:{name:"m2",base:x.SURFACE,prefixes:b.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:x.SURFACE,prefixes:b.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:x.SURFACE,prefixes:b.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:x.SURFACE,prefixes:b.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:x.SURFACE,prefixes:b.NONE,value:2589988.110336,offset:0},sqrd:{name:"sqrd",base:x.SURFACE,prefixes:b.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:x.SURFACE,prefixes:b.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:x.SURFACE,prefixes:b.NONE,value:6.4516e-10,offset:0},m3:{name:"m3",base:x.VOLUME,prefixes:b.CUBIC,value:1,offset:0},L:{name:"L",base:x.VOLUME,prefixes:b.SHORT,value:.001,offset:0},l:{name:"l",base:x.VOLUME,prefixes:b.SHORT,value:.001,offset:0},litre:{name:"litre",base:x.VOLUME,prefixes:b.LONG,value:.001,offset:0},cuin:{name:"cuin",base:x.VOLUME,prefixes:b.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:x.VOLUME,prefixes:b.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:x.VOLUME,prefixes:b.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:x.VOLUME,prefixes:b.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:x.VOLUME,prefixes:b.NONE,value:15e-6,offset:0},drop:{name:"drop",base:x.VOLUME,prefixes:b.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:x.VOLUME,prefixes:b.NONE,value:5e-8,offset:0},minim:{name:"minim",base:x.VOLUME,prefixes:b.NONE,value:6.161152e-8,offset:0},fluiddram:{name:"fluiddram",base:x.VOLUME,prefixes:b.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:x.VOLUME,prefixes:b.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:x.VOLUME,prefixes:b.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:x.VOLUME,prefixes:b.NONE,value:1e-6,offset:0},cup:{name:"cup",base:x.VOLUME,prefixes:b.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:x.VOLUME,prefixes:b.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:x.VOLUME,prefixes:b.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:x.VOLUME,prefixes:b.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:x.VOLUME,prefixes:b.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:x.VOLUME,prefixes:b.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:x.VOLUME,prefixes:b.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:x.VOLUME,prefixes:b.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:x.VOLUME,prefixes:b.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:x.VOLUME,prefixes:b.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:x.VOLUME,prefixes:b.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:x.VOLUME,prefixes:b.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:x.VOLUME,prefixes:b.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:x.VOLUME,prefixes:b.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:x.VOLUME,prefixes:b.NONE,value:.1173478,offset:0},obl:{name:"obl",base:x.VOLUME,prefixes:b.NONE,value:.1589873,offset:0},g:{name:"g",base:x.MASS,prefixes:b.SHORT,value:.001,offset:0},gram:{name:"gram",base:x.MASS,prefixes:b.LONG,value:.001,offset:0},ton:{name:"ton",base:x.MASS,prefixes:b.SHORT,value:907.18474,offset:0},tonne:{name:"tonne",base:x.MASS,prefixes:b.SHORT,value:1e3,offset:0},grain:{name:"grain",base:x.MASS,prefixes:b.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:x.MASS,prefixes:b.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:x.MASS,prefixes:b.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:x.MASS,prefixes:b.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:x.MASS,prefixes:b.NONE,value:45.359237,offset:0},stick:{name:"stick",base:x.MASS,prefixes:b.NONE,value:.115,offset:0},gr:{name:"gr",base:x.MASS,prefixes:b.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:x.MASS,prefixes:b.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:x.MASS,prefixes:b.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:x.MASS,prefixes:b.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:x.MASS,prefixes:b.NONE,value:45.359237,offset:0},s:{name:"s",base:x.TIME,prefixes:b.SHORT,value:1,offset:0},min:{name:"min",base:x.TIME,prefixes:b.NONE,value:60,offset:0},h:{name:"h",base:x.TIME,prefixes:b.NONE,value:3600,offset:0},second:{name:"second",base:x.TIME,prefixes:b.LONG,value:1,offset:0},sec:{name:"sec",base:x.TIME,prefixes:b.LONG,value:1,offset:0},minute:{name:"minute",base:x.TIME,prefixes:b.NONE,value:60,offset:0},hour:{name:"hour",base:x.TIME,prefixes:b.NONE,value:3600,offset:0},day:{name:"day",base:x.TIME,prefixes:b.NONE,value:86400,offset:0},rad:{name:"rad",base:x.ANGLE,prefixes:b.NONE,value:1,offset:0},deg:{name:"deg",base:x.ANGLE,prefixes:b.NONE,value:.017453292519943295,offset:0},grad:{name:"grad",base:x.ANGLE,prefixes:b.NONE,value:.015707963267948967,offset:0},cycle:{name:"cycle",base:x.ANGLE,prefixes:b.NONE,value:6.283185307179586,offset:0},A:{name:"A",base:x.CURRENT,prefixes:b.SHORT,value:1,offset:0},ampere:{name:"ampere",base:x.CURRENT,prefixes:b.LONG,value:1,offset:0},K:{name:"K",base:x.TEMPERATURE,prefixes:b.NONE,value:1,offset:0},degC:{name:"degC",base:x.TEMPERATURE,prefixes:b.NONE,value:1,offset:273.15},degF:{name:"degF",base:x.TEMPERATURE,prefixes:b.NONE,value:1/1.8,offset:459.67},degR:{name:"degR",base:x.TEMPERATURE,prefixes:b.NONE,value:1/1.8,offset:0},kelvin:{name:"kelvin",base:x.TEMPERATURE,prefixes:b.NONE,value:1,offset:0},celsius:{name:"celsius",base:x.TEMPERATURE,prefixes:b.NONE,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:x.TEMPERATURE,prefixes:b.NONE,value:1/1.8,offset:459.67},rankine:{name:"rankine",base:x.TEMPERATURE,prefixes:b.NONE,value:1/1.8,offset:0},mol:{name:"mol",base:x.AMOUNT_OF_SUBSTANCE,prefixes:b.NONE,value:1,offset:0},mole:{name:"mole",base:x.AMOUNT_OF_SUBSTANCE,prefixes:b.NONE,value:1,offset:0},cd:{name:"cd",base:x.LUMINOUS_INTENSITY,prefixes:b.NONE,value:1,offset:0},candela:{name:"candela",base:x.LUMINOUS_INTENSITY,prefixes:b.NONE,value:1,offset:0},N:{name:"N",base:x.FORCE,prefixes:b.SHORT,value:1,offset:0},newton:{name:"newton",base:x.FORCE,prefixes:b.LONG,value:1,offset:0},lbf:{name:"lbf",base:x.FORCE,prefixes:b.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:x.FORCE,prefixes:b.NONE,value:4.4482216152605,offset:0},b:{name:"b",base:x.BIT,prefixes:b.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:x.BIT,prefixes:b.BINARY_LONG,value:1,offset:0},B:{name:"B",base:x.BIT,prefixes:b.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:x.BIT,prefixes:b.BINARY_LONG,value:8,offset:0}},R={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",litres:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",seconds:"second",minutes:"minute",hours:"hour",days:"day",radians:"rad",degrees:"deg",gradients:"grad",cycles:"cycle",amperes:"ampere",moles:"mole"};for(var S in R)if(R.hasOwnProperty(S)){var C=T[R[S]],H=Object.create(C);H.name=S,T[S]=H}T.lt=T.l,T.liter=T.litre,T.liters=T.litres,T.lb=T.lbm,T.lbs=T.lbm,r.PREFIXES=b,r.BASE_UNITS=x,r.UNITS=T,t.exports=r},{"../util/index":471}],466:[function(e,t,r){"use strict";function n(e,t,r){var o,a,s,u;if(0>=t){if(l(e[0])){for(u=i(e),a=[],o=0;o<u.length;o++)a[o]=n(u[o],t-1,r);return a}for(s=e[0],o=1;o<e.length;o++)s=r(s,e[o]);return s}for(a=[],o=0;o<e.length;o++)a[o]=n(e[o],t-1,r);return a}function i(e){var t,r,n=e.length,i=e[0].length,o=[];for(r=0;i>r;r++){var a=[];for(t=0;n>t;t++)a.push(e[t][r]);o.push(a)}return o}{var o=e("../util/index"),a=e("../error/IndexError"),s=e("../error/DimensionError"),u=e("./Matrix"),c=o.array,l=o.array.isArray;o.string.isString}r.argsToArray=function(e){if(0==e.length)return[];if(1==e.length){var t=e[0];return t instanceof u&&(t=t.valueOf()),l(t)||(t=[t]),t}return o.array.argsToArray(e)},r.isCollection=function(e){return l(e)||e instanceof u},r.deepMap=function h(e,t){return e&&"function"==typeof e.map?e.map(function(e){return h(e,t)}):t(e)},r.deepMap2=function f(e,t,r){var n,i,o;if(l(e))if(l(t)){if(e.length!=t.length)throw new s(e.length,t.length);for(n=[],i=e.length,o=0;i>o;o++)n[o]=f(e[o],t[o],r)}else{if(t instanceof u)return n=f(e,t.valueOf(),r),new u(n);for(n=[],i=e.length,o=0;i>o;o++)n[o]=f(e[o],t,r)}else{if(e instanceof u)return t instanceof u?(n=f(e.valueOf(),t.valueOf(),r),new u(n)):(n=f(e.valueOf(),t,r),new u(n));if(l(t))for(n=[],i=t.length,o=0;i>o;o++)n[o]=f(e,t[o],r);else{if(t instanceof u)return n=f(e,t.valueOf(),r),new u(n);n=r(e,t)}}return n},r.reduce=function(e,t,r){var i=l(e)?c.size(e):e.size();if(0>t)throw new a(t);if(t>=i.length)throw new a(t,i.length);return e instanceof u?new u(n(e.valueOf(),t,r)):n(e,t,r)},r.deepForEach=function d(e,t){e instanceof u&&(e=e.valueOf());for(var r=0,n=e.length;n>r;r++){var i=e[r];l(i)?d(i,t):t(i)}}},{"../error/DimensionError":165,"../error/IndexError":166,"../util/index":471,"./Matrix":462}],467:[function(e,t,r){"use strict";function n(e){for(var t=[];d(e);)t.push(e.length),e=e[0];return t}function i(e,t,r){var n,o=e.length;if(o!=t[r])throw new h(o,t[r]);if(r<t.length-1){var a=r+1;for(n=0;o>n;n++){var s=e[n];if(!d(s))throw new h(t.length-1,t.length,"<");i(e[n],t,a)}}else for(n=0;o>n;n++)if(d(e[n]))throw new h(t.length+1,t.length,">")
}function o(e,t,n,i){var a,s,u=e.length,c=t[n],h=Math.min(u,c);if(e.length=c,n<t.length-1){var f=n+1;for(a=0;h>a;a++)s=e[a],d(s)||(s=[s],e[a]=s),o(s,t,f,i);for(a=h;c>a;a++)s=[],e[a]=s,o(s,t,f,i)}else{for(a=0;h>a;a++)for(;d(e[a]);)e[a]=e[a][0];if(i!==r.UNINITIALIZED)for(a=h;c>a;a++)e[a]=l.clone(i)}}function a(e,t,r){var n,i;if(t>r){var o=r+1;for(n=0,i=e.length;i>n;n++)e[n]=a(e[n],t,o)}else for(;d(e);)e=e[0];return e}function s(e,t,r){var n,i;if(d(e)){var o=r+1;for(n=0,i=e.length;i>n;n++)e[n]=s(e[n],t,o)}else for(var a=r;t>a;a++)e=[e];return e}var u=e("./number"),c=e("./string"),l=e("./object"),h=(e("./types"),e("../error/DimensionError")),f=e("../error/IndexError"),d=Array.isArray;r.size=function(e){var t=n(e);return r.validate(e,t),t},r.validate=function(e,t){var r=0==t.length;if(r){if(d(e))throw new h(e.length,0)}else i(e,t,0)},r.validateIndex=function(e,t){if(!u.isNumber(e)||!u.isInteger(e))throw new TypeError("Index must be an integer (value: "+e+")");if(0>e)throw new f(e);if(void 0!==t&&e>=t)throw new f(e,t)},r.UNINITIALIZED={},r.resize=function(e,t,r){if(!d(e)||!d(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");t.forEach(function(e){if(!u.isNumber(e)||!u.isInteger(e)||0>e)throw new TypeError("Invalid size, must contain positive integers (size: "+c.format(t)+")")});var n=void 0!==r?r:0;return o(e,t,0,n),e},r.squeeze=function(e,t){for(var n=t||r.size(e);d(e)&&1===e.length;)e=e[0],n.shift();for(var i=n.length;1===n[i-1];)i--;return i<n.length&&(e=a(e,i,0),n.length=i),e},r.unsqueeze=function(e,t,n,i){var o=i||r.size(e);if(n)for(var a=0;n>a;a++)e=[e],o.unshift(1);for(e=s(e,t,0);o.length<t;)o.push(1);return e},r.flatten=function(e){for(var t=e,r=Array.isArray;r(t[0]);){for(var n=[],i=0,o=t.length;o>i;i++)n=n.concat.apply(n,t[i]);t=n}return t},r.argsToArray=function(e){for(var t=[],r=0,n=e.length;n>r;r++)t[r]=e[r];return t},r.isArray=d},{"../error/DimensionError":165,"../error/IndexError":166,"./number":473,"./object":474,"./string":475,"./types":476}],468:[function(e,t,r){"use strict";function n(e,t,n){var o,a,s=e.constructor,u=+(e.s<0),c=+(t.s<0);if(u){o=i(r.not(e));for(var l=0;l<o.length;++l)o[l]^=1}else o=i(e);if(c){a=i(r.not(t));for(var l=0;l<a.length;++l)a[l]^=1}else a=i(t);var h,f,d;o.length<=a.length?(h=o,f=a,d=u):(h=a,f=o,d=c);var p=h.length,m=f.length,g=1^n(u,c),y=new s(1^g),v=s.ONE,b=new s(2),E=s.precision;for(s.config({precision:1e9});p>0;)n(h[--p],f[--m])==g&&(y=y.plus(v)),v=v.times(b);for(;m>0;)n(d,f[--m])==g&&(y=y.plus(v)),v=v.times(b);return s.config({precision:E}),0==g&&(y.s=-y.s),y}function i(e){for(var t=e.c,r=t[0]+"",n=1;n<t.length;++n){for(var i=t[n]+"",o=7-i.length;o--;)i="0"+i;r+=i}var a;for(a=r.length-1;"0"==r.charAt(a);--a);var s=e.e,u=r.slice(0,a+1||1),c=u.length;if(s>0)if(++s>c)for(s-=c;s--;u+="0");else c>s&&(u=u.slice(0,s)+"."+u.slice(s));for(var l=[0],n=0;n<u.length;){for(var h=l.length;h--;l[h]*=10);l[0]+=u.charAt(n++)<<0;for(var a=0;a<l.length;++a)l[a]>1&&(null==l[a+1]&&(l[a+1]=0),l[a+1]+=l[a]>>1,l[a]&=1)}return l.reverse()}function o(e,t){var n=-(t+4),i=t+8-e.e,o=25-e.e,a=Math.max(1.442695*Math.log(t+2)|5,5),s=f.constructor({precision:t}),u=new s(Math.asin(e.toNumber())+""),c=0;do{var h=r.cos_sin(u,o,1),d=l(h);h.isZero()||(h.s=u.s);var p=h.minus(e).div(d);u=u.minus(p),o=Math.min(2*o,i),u.constructor.config({precision:o})}while(2*p.e>=n&&!p.isZero()&&++c<=a);if(c==a)throw new Error("asin() failed to converge to the requested accuracy.Try with a higher precision.");return u.constructor.config({precision:t}),u.toDP(t-1)}function a(e,t){var r=e.constructor;r.config({precision:t+Math.log(t)|4});for(var n=new r(1),i=e,o=0/0,a=e.times(e),s=e,u=new r(n),c=new r(n),l=new r(n),h=3;!i.equals(o);h+=2)s=s.times(a),u=u.times(l),c=c.times(l.plus(n)),o=i,l=new r(h),i=i.plus(s.times(u).div(l.times(c)));return r.config({precision:t}),i.toDP(t-1)}function s(e){for(var t=e,r=0/0,n=e.times(e),i=e,o=!0,a=3;!t.equals(r);a+=2)i=i.times(n),r=t,o=!o,t=o?t.plus(i.div(a)):t.minus(i.div(a));return t}function u(e,t){for(var r=e.constructor.ONE,n=e,i=0/0,o=e.times(e),a=t?n:n=r,s=r,u=!0,c=t;!n.equals(i);c+=2)a=a.times(o),s=s.times(c+1).times(c+2),i=n,u=!u,n=u?n.plus(a.div(s)):n.minus(a.div(s));return n}function c(e,t,n){var i=r.pi(t+2),o=r.tau(t);if(e.abs().lte(i.toDP(e.dp())))return[e,!1];var a=e.constructor;if(e.div(i.toDP(e.dp())).toNumber()%2==0)return[new a(1^n),!0];var s=e.mod(o);return s.toDP(e.dp(),1).isZero()?[new a(1^n),!0]:(s.gt(i)&&(n?(s=s.minus(i),s.s=-s.s):s=o.minus(s)),s.constructor=a,[s,!1])}function l(e){var t=e.constructor,r=t.precision;t.config({precision:r+2});var n=t.ONE.minus(e.times(e)).sqrt();return t.config({precision:r}),n.toDP(r-1)}function h(e){var t=f.constructor({precision:e.constructor.precision}),r=new t(e);return r.constructor=t,r}var f=e("decimal.js"),d=e("./number").isNumber,p=(e("./number").digits,e("./function").memoize);r.isBigNumber=function(e){return e instanceof f},r.e=p(function(e){var t=f.constructor({precision:e});return new t(1).exp()}),r.phi=p(function(e){var t=f.constructor({precision:e});return new t(1).plus(new t(5).sqrt()).div(2)}),r.pi=p(function(e){var t=f.constructor({precision:e+4}),r=new t(4).times(s(new t(1).div(5))).minus(s(new t(1).div(239)));return t.config({precision:e}),new t(4).times(r)}),r.tau=p(function(e){var t=r.pi(e+2),n=f.constructor({precision:e});return new n(2).times(t)}),r.and=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Parameters in function bitAnd must be integer numbers");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(0/0);if(e.isZero()||t.eq(-1)||e.eq(t))return e;if(t.isZero()||e.eq(-1))return t;if(!e.isFinite()||!t.isFinite()){if(!e.isFinite()&&!t.isFinite())return e.isNegative()==t.isNegtive()?e:new r(0);if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new r(0):t;if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new r(0):e}return n(e,t,function(e,t){return e&t})},r.leftShift=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Parameters in function leftShift must be integer numbers");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(0/0):e.isZero()||t.isZero()?e:e.isFinite()||t.isFinite()?e.times(t.lt(55)?Math.pow(2,t.toNumber())+"":new r(2).pow(t)):new r(0/0)},r.not=function(e){if(e.isFinite()&&!e.isInteger())throw new Error("Parameter in function bitNot must be integer numbers");var t=e.constructor,r=t.precision;t.config({precision:1e9});var e=e.plus(t.ONE);return e.s=-e.s||null,t.config({precision:r}),e},r.or=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Parameters in function bitOr must be integer numbers");var r=e.constructor;if(e.isNaN()||t.isNaN())return new r(0/0);var i=new r(-1);return e.isZero()||t.eq(i)||e.eq(t)?t:t.isZero()||e.eq(i)?e:e.isFinite()&&t.isFinite()?n(e,t,function(e,t){return e|t}):!e.isFinite()&&!e.isNegative()&&t.isNegative()||e.isNegative()&&!t.isNegative()&&!t.isFinite()?i:e.isNegative()&&t.isNegative()?e.isFinite()?e:t:e.isFinite()?t:e},r.rightShift=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Parameters in function rightArithShift must be integer numbers");var r=e.constructor;return e.isNaN()||t.isNaN()||t.isNegative()&&!t.isZero()?new r(0/0):e.isZero()||t.isZero()?e:t.isFinite()?t.lt(55)?e.div(Math.pow(2,t.toNumber())+"").floor():e.div(new r(2).pow(t)).floor():new r(e.isNegative()?-1:e.isFinite()?0:0/0)},r.xor=function(e,t){if(e.isFinite()&&!e.isInteger()||t.isFinite()&&!t.isInteger())throw new Error("Parameters in function bitXor must be integer numbers");var i=e.constructor;if(e.isNaN()||t.isNaN())return new i(0/0);if(e.isZero())return t;if(t.isZero())return e;if(e.eq(t))return new i(0);var o=new i(-1);return e.eq(o)?r.not(t):t.eq(o)?r.not(e):e.isFinite()&&t.isFinite()?n(e,t,function(e,t){return e^t}):e.isFinite()||t.isFinite()?new i(e.isNegative()==t.isNegative()?1/0:-1/0):o},r.arccos=function(e){var t=e.constructor,n=t.precision;if(e.abs().gt(t.ONE))throw new Error("acos() only has non-complex values for |x| <= 1.");if(e.eq(-1))return r.pi(n);t.config({precision:n+4});var i=r.arctan(t.ONE.minus(e.times(e)).sqrt().div(e.plus(t.ONE))).times(2);return t.config({precision:n}),i.toDP(n-1)},r.arcsin=function(e){var t=e.constructor;if(e.isNaN())return new t(0/0);if(e.isZero())return new t(0);var n=e.abs();if(n.gt(1))throw new Error("asin() only has non-complex values for |x| <= 1.");var i=t.precision;if(n.gt(.8)){t.config({precision:i+4});var s=e.s,u=r.pi(i+4).div(2);return e=u.minus(r.arcsin(t.ONE.minus(e.times(e)).sqrt())),e.s=s,e.constructor=t,t.config({precision:i}),e.toDP(i-1)}var c;(c=n.gt(.58))&&(t.config({precision:i+8}),e=e.div(new t(2).sqrt().times(t.ONE.minus(e.times(e)).sqrt().plus(t.ONE).sqrt())),t.config({precision:i}));var l=60>=i||e.dp()<=Math.log(i)&&e.lt(.05)?a(e,i):o(e,i);return c?l.times(2):l},r.arctan=function(e){var t=e.constructor;if(e.isNaN())return new t(0/0);if(e.isZero())return new t(0);var n=t.precision;if(!e.isFinite()){var i=r.pi(n+2).div(2).toDP(n-1);return i.s=e.s,i}var o=e.abs();if(o.lte(.875)){t.config({precision:n+4});var a=s(e);return a.constructor=t,t.config({precision:n}),a.toDP(t.precision-1)}if(o.gte(1.143)){t.config({precision:n+4});var i=r.pi(n+4).div(2),a=i.minus(s(t.ONE.div(o)));return a.s=e.s,a.constructor=t,t.config({precision:n}),a.toDP(t.precision-1)}return t.config({precision:n+4}),e=e.div(e.times(e).plus(1).sqrt()),t.config({precision:n}),r.arcsin(e)},r.cos_sin=function(e,t,r){var n;if(e.isNaN()||!e.isFinite())return new(n=f.constructor({precision:t}))(0/0);var i=h(e);n=i.constructor;var o=i.isNegative();o&&(i.s=-i.s);var a=t+(0|Math.log(t))+3;if(n.config({precision:a}),i=c(i,a,r),i[1])return n.config({precision:t}),i[0];var s;if(i=i[0],r){s=u(i.div(3125),r),n.config({precision:Math.min(n.precision,t+15)});for(var l=new n(5),d=new n(16),p=new n(20),m=0;5>m;++m){var g=s.times(s),y=g.times(s),v=y.times(g);s=d.times(v).minus(p.times(y)).plus(l.times(s))}o&&(s.s=-s.s)}else{var b,E;i.abs().lt(n.ONE)?(b=64,E=3):(b=256,E=4),s=u(i.div(b),r),n.config({precision:Math.min(n.precision,t+8)});for(var x=new n(8);E>0;--E){var g=s.times(s),w=g.times(g);s=x.times(w.minus(g)).plus(n.ONE)}}return s.constructor.config({precision:t}),s.toDP(t-1)},r.tan=function(e,t){var n=f.constructor({precision:t});if(e.isNaN())return new n(0/0);var i=r.pi(t+2),o=i.div(2).toDP(t-1);i=i.toDP(t-1);var a=c(e,t,1)[0];if(a.abs().eq(i))return new n(1/0);var s=r.cos_sin(a,t+2,1),u=l(s);s.constructor.config({precision:t}),s=s.toDP(t),u=u.toDP(t),a.eq(e)?a.gt(o)&&(u.s=-u.s):i.minus(a.abs()).gt(o)&&(u.s=-u.s),s.constructor.config({precision:t+2});var h=s.div(u);return new n(h.toPrecision(t))},r.cosh_sinh=function(e,t){var r=e.constructor;if(e.isNaN())return new r(0/0);if(!e.isFinite())return new r(t?e:1/0);var n=r.precision;r.config({precision:n+4});var i=e.exp();return i=t?i.minus(r.ONE.div(i)):i.plus(r.ONE.div(i)),i=i.div(2),r.config({precision:n}),new r(i.toPrecision(n))},r.tanh=function(e){var t=e.constructor;if(e.isNaN())return new t(0/0);if(!e.isFinite())return new t(e.s);var r=t.precision;t.config({precision:r+4});var n=e.exp(),i=t.ONE.div(n),o=n.minus(i);return o=o.div(n.plus(i)),t.config({precision:r}),o.toDP(r-1)},r.format=function(e,t){if("function"==typeof t)return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var n="auto",i=void 0;switch(void 0!==t&&(t.notation&&(n=t.notation),d(t)?i=t:t.precision&&(i=t.precision)),n){case"fixed":return r.toFixed(e,i);case"exponential":return r.toExponential(e,i);case"auto":var o=.001,a=1e5;t&&t.exponential&&(void 0!==t.exponential.lower&&(o=t.exponential.lower),void 0!==t.exponential.upper&&(a=t.exponential.upper));{({toExpNeg:e.constructor.toExpNeg,toExpPos:e.constructor.toExpPos})}if(e.constructor.config({toExpNeg:Math.round(Math.log(o)/Math.LN10),toExpPos:Math.round(Math.log(a)/Math.LN10)}),e.isZero())return"0";var s,u=e.abs();return s=u.gte(o)&&u.lt(a)?e.toSignificantDigits(i).toFixed():r.toExponential(e,i),s.replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}},r.toExponential=function(e,t){return void 0!==t?e.toExponential(t-1):e.toExponential()},r.toFixed=function(e,t){return e.toFixed(t||0)}},{"./function":470,"./number":473,"decimal.js":478}],469:[function(e,t,r){"use strict";r.isBoolean=function(e){return e instanceof Boolean||"boolean"==typeof e}},{}],470:[function(e,t,r){r.memoize=function(e){return function t(){"object"!=typeof t.cache&&(t.cache={});var r=JSON.stringify(arguments);return r in t.cache?t.cache[r]:t.cache[r]=e.apply(e,arguments)}}},{}],471:[function(e,t,r){"use strict";r.array=e("./array"),r["boolean"]=e("./boolean"),r.number=e("./number"),r.bignumber=e("./bignumber"),r.object=e("./object"),r.string=e("./string"),r.types=e("./types")},{"./array":467,"./bignumber":468,"./boolean":469,"./number":473,"./object":474,"./string":475,"./types":476}],472:[function(e,t,r){"use strict";function n(){for(var e,t=Array.prototype.slice.call(arguments),r=0,n=t.length;n>r;r++){e=t[r];for(var i in e)e.hasOwnProperty(i)&&(b[i]=e[i])}}function i(e,t){return"undefined"!=typeof e[t]}function o(e){return function(t){return i(e,t)}}function a(e){return function(t){if("boolean"==typeof e[t])t=e[t]===!0?"\\"+t:"\\mathrm{"+t+"}";else if("string"==typeof e[t])t=e[t];else if("string"==typeof t){var n=t.indexOf("_");-1!==n&&(t=r.toSymbol(t.substring(0,n))+"_{"+r.toSymbol(t.substring(n+1))+"}")}return t}}var s=e("../expression/node/ArrayNode"),u=e("../expression/node/OperatorNode"),c=e("../expression/node/SymbolNode"),l=e("../expression/node/ConstantNode"),h={Alpha:"A",alpha:!0,Beta:"B",beta:!0,Gamma:!0,gamma:!0,Delta:!0,delta:!0,Epsilon:"E",epsilon:!0,varepsilon:!0,Zeta:"Z",zeta:!0,Eta:"H",eta:!0,Theta:!0,theta:!0,vartheta:!0,Iota:"I",iota:!0,Kappa:"K",kappa:!0,varkappa:!0,Lambda:!0,lambda:!0,Mu:"M",mu:!0,Nu:"N",nu:!0,Xi:!0,xi:!0,Omicron:"O",omicron:!0,Pi:!0,pi:!0,varpi:!0,Rho:"P",rho:!0,varrho:!0,Sigma:!0,sigma:!0,varsigma:!0,Tau:"T",tau:!0,Upsilon:!0,upsilon:!0,Phi:!0,phi:!0,varphi:!0,Chi:"X",chi:!0,Psi:!0,psi:!0,Omega:!0,omega:!0},f={dots:!0,ldots:!0,cdots:!0,vdots:!0,ddots:!0,idots:!0},d={"true":"\\mathrm{True}","false":"\\mathrm{False}"},p={inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:!0,undefined:"\\mathbf{?}"},m={acos:"\\cos^{-1}",arccos:"\\cos^{-1}",cos:!0,csc:!0,csch:!1,exp:!0,ker:!0,limsup:!0,min:!0,sinh:!0,asin:"\\sin^{-1}",arcsin:"\\sin^{-1}",cosh:!0,deg:!0,gcd:!0,lg:!0,ln:!0,Pr:!0,sup:!0,atan:"\\tan^{-1}",atan2:"\\tan2^{-1}",arctan:"\\tan^{-1}",cot:!0,det:!0,hom:!0,log:!0,log10:"\\log_{10}",sec:!0,sech:!1,tan:!0,arg:!0,coth:!0,dim:!0,inf:!0,max:!0,sin:!0,tanh:!0,fix:!1,lcm:!1,sign:!1,xgcd:!1,unaryMinus:!1,unaryPlus:!1,complex:!1,conj:!1,im:!1,re:!1,diag:!1,resize:!1,size:!1,squeeze:!1,subset:!1,index:!1,ones:!1,zeros:!1,range:!1,random:!1,mean:"\\mu",median:!1,prod:!1,std:"\\sigma","var":"\\sigma^2"},g={sqrt:!0,inv:!0,"int":"\\int",Int:"\\int",integrate:"\\int",eigenvalues:"\\lambda",liminf:!0,lim:!0,exp:"e^",sum:!0,eye:"\\mathbf{I}"},y={"<=":"\\leq",">=":"\\geq","!=":"\\neq","in":!0,"*":"\\cdot","/":"\\frac",mod:"\\bmod",to:"\\rightarrow"},v={deg:"^{\\circ}"},b={};n(m,g,h,f,d,p),r.isSymbol=o(b),r.toSymbol=a(b),r.isFunction=o(m),r.toFunction=a(m),r.isCurlyFunction=o(g),r.toCurlyFunction=a(g),r.isOperator=o(y),r.toOperator=a(y),r.isUnit=o(v),r.toUnit=function(){var e=a(v);return function(t,n){return r.isUnit(t)?e(t):(n?"":"\\,")+"\\mathrm{"+t+"}"}}(),r.addBraces=function(e,t,r){if(null===t)return e;var n=["",""];switch(r=r||"normal","undefined"==typeof t||t===!1?n=["{","}"]:t===!0?(n=["(",")"],r="lr"):n=Array.isArray(t)&&2===t.length?t:[t,t],r){case"normal":case!1:return n[0]+e+n[1];case"lr":return"\\left"+n[0]+"{"+e+"}\\right"+n[1];case"be":return"\\begin{"+n[0]+"}"+e+"\\end{"+n[1]+"}"}return n[0]+e+n[1]},r.toArgs=function(e){var t=e.name,n=e.args,i=r.toSymbol(e.name),o=null,a=null,h=!1,f=!1,d="",p="",m=null;switch(t){case"add":m="+";break;case"subtract":m="-";break;case"larger":m=">";break;case"largerEq":m=">=";break;case"smaller":m="<";break;case"smallerEq":m="<=";break;case"unequal":m="!=";break;case"equal":m="=";break;case"mod":m="mod";break;case"multiply":m="*";break;case"pow":m="^";break;case"concat":m="||";break;case"factorial":m="!";break;case"permutations":if(1!==n.length){var g=n[0].toTex(),y=n[1].toTex();return"\\frac{"+g+"!}{\\left("+g+" - "+y+"\\right)!}"}if(!(n[0]instanceof c||n[0]instanceof l))return"{\\left("+n[0].toTex()+"\\right)!}";m="!";break;case"combinations":m="\\choose";break;case"abs":a="|",h="lr";break;case"norm":if(a="\\|",h="lr",2===n.length){var v=n[1].toTex();"\\text{inf}"===v?v="\\infty":"\\text{-inf}"===v?v="{- \\infty}":"\\text{fro}"===v&&(v="F"),p="_{"+v+"}",n=[n[0]]}break;case"ceil":a=["\\lceil","\\rceil"],h="lr";break;case"floor":a=["\\lfloor","\\rfloor"],h="lr";break;case"round":a=["\\lfloor","\\rceil"],h="lr",2===n.length&&(p="_"+r.addBraces(n[1].toTex()),n=[n[0]]);break;case"inv":p="^{-1}";break;case"transpose":p="^{T}",a=!1;break;case"log":var b="e";2===n.length&&(b=n[1].toTex(),i="\\log_{"+b+"}",n=[n[0]]),"e"===b&&(i="\\ln"),f=!0;break;case"square":p="^{2}";break;case"cube":p="^{3}";break;case"eye":f=!0,a=!1,i+="_";break;case"det":if(e.args[0]instanceof s)return e.args[0].toTex("vmatrix");a="vmatrix",h="be";break;default:f=!0}return null!==m?(a="+"===m||"-"===m,o=new u(m,t,n).toTex()):m=", ",null!==a||r.isCurlyFunction(t)||(a=!0),o=o||n.map(function(e){return"{"+e.toTex()+"}"}).join(m),d+(f?i:"")+r.addBraces(o,a,h)+p}},{"../expression/node/ArrayNode":307,"../expression/node/ConstantNode":311,"../expression/node/OperatorNode":316,"../expression/node/SymbolNode":318}],473:[function(e,t,r){"use strict";r.isNumber=function(e){return e instanceof Number||"number"==typeof e},r.isInteger=function(e){return e==Math.round(e)},r.sign=function(e){return e>0?1:0>e?-1:0},r.format=function(e,t){if("function"==typeof t)return t(e);if(1/0===e)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var n="auto",i=void 0;switch(t&&(t.notation&&(n=t.notation),r.isNumber(t)?i=t:t.precision&&(i=t.precision)),n){case"fixed":return r.toFixed(e,i);case"exponential":return r.toExponential(e,i);case"auto":var o=.001,a=1e5;if(t&&t.exponential&&(void 0!==t.exponential.lower&&(o=t.exponential.lower),void 0!==t.exponential.upper&&(a=t.exponential.upper)),0===e)return"0";var s,u=Math.abs(e);if(u>=o&&a>u){var c=i?e.toPrecision(Math.min(i,21)):e.toPrecision();s=parseFloat(c)+""}else s=r.toExponential(e,i);return s.replace(/((\.\d*?)(0+))($|e)/,function(){var e=arguments[2],t=arguments[4];return"."!==e?e+t:t});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", or "fixed".')}},r.toExponential=function(e,t){return void 0!==t?e.toExponential(Math.min(t-1,20)):e.toExponential()},r.toFixed=function(e,t){return e.toFixed(Math.min(t,20))},r.digits=function(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},r.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,r.nearlyEqual=function(e,t,n){if(null==n)return e==t;if(e==t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var i=Math.abs(e-t);return i<r.DBL_EPSILON?!0:i<=Math.max(Math.abs(e),Math.abs(t))*n}return!1}},{}],474:[function(e,t,r){"use strict";r.clone=function n(e){var t=typeof e;if("number"===t||"string"===t||"boolean"===t||null===e||void 0===e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return n(e)});if(e instanceof Number)return new Number(e.valueOf());if(e instanceof String)return new String(e.valueOf());if(e instanceof Boolean)return new Boolean(e.valueOf());if(e instanceof Date)return new Date(e.valueOf());if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=n(e[i]));return r},r.extend=function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},r.deepExtend=function i(e,t){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(var r in t)if(t.hasOwnProperty(r))if(t[r]&&t[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?i(e[r],t[r]):e[r]=t[r];else{if(Array.isArray(t[r]))throw new TypeError("Arrays are not supported by deepExtend");e[r]=t[r]}return e},r.deepEqual=function(e,t){var n,i,o;if(Array.isArray(e)){if(!Array.isArray(t))return!1;if(e.length!=t.length)return!1;for(i=0,o=e.length;o>i;i++)if(!r.deepEqual(e[i],t[i]))return!1;return!0}if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(n in e)if(!r.deepEqual(e[n],t[n]))return!1;for(n in t)if(!r.deepEqual(e[n],t[n]))return!1;return!0}return typeof e==typeof t&&e==t},r.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{}),!0}catch(e){}return!1},r.lazy=function(e,t,n){if(r.canDefineProperty()){var i,o=!0;Object.defineProperty(e,t,{get:function(){return o&&(i=n(),o=!1),i},set:function(e){i=e,o=!1}})}else e[t]=n()}},{}],475:[function(e,t,r){"use strict";function n(e,t){if(Array.isArray(e)){for(var i="[",o=e.length,a=0;o>a;a++)0!=a&&(i+=", "),i+=n(e[a],t);return i+="]"}return r.format(e,t)}var i=e("./number"),o=e("./bignumber"),a=e("decimal.js");r.isString=function(e){return e instanceof String||"string"==typeof e},r.endsWith=function(e,t){var r=e.length-t.length,n=e.length;return e.substring(r,n)===t},r.format=function(e,t){return i.isNumber(e)?i.format(e,t):e instanceof a?o.format(e,t):Array.isArray(e)?n(e,t):r.isString(e)?'"'+e+'"':"function"==typeof e?e.syntax?e.syntax+"":"function":e instanceof Object?"function"==typeof e.format?e.format(t):e.toString():String(e)}},{"./bignumber":468,"./number":473,"decimal.js":478}],476:[function(e,t,r){"use strict";r.type=function(e){var t=typeof e;if("object"===t){if(null===e)return"null";if(e instanceof Boolean)return"boolean";if(e instanceof Number)return"number";if(e instanceof String)return"string";if(Array.isArray(e))return"array";if(e instanceof Date)return"date";if(e instanceof Function)return"function";if(e instanceof RegExp)return"regexp"}return t}},{}],477:[function(e,t){t.exports="1.3.0"},{}],478:[function(e,t){!function(r){"use strict";function n(e){for(var t,r,n=1,i=e.length,o=e[0]+"";i>n;n++){for(t=e[n]+"",r=R-t.length;r--;)t="0"+t;o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function i(e,t,r,n){var i,o,a,s,u;for(o=1,a=e[0];a>=10;a/=10,o++);return a=t-o,0>a?(a+=R,i=0):(i=Math.ceil((a+1)/R),a%=R),o=w(10,R-a),u=e[i]%o|0,null==n?3>a?(0==a?u=u/100|0:1==a&&(u=u/10|0),s=4>r&&99999==u||r>3&&49999==u||5e4==u||0==u):s=(4>r&&u+1==o||r>3&&u+1==o/2)&&(e[i+1]/o/100|0)==w(10,a-2)-1||(u==o/2||0==u)&&0==(e[i+1]/o/100|0):4>a?(0==a?u=u/1e3|0:1==a?u=u/100|0:2==a&&(u=u/10|0),s=(n||4>r)&&9999==u||!n&&r>3&&4999==u):s=((n||4>r)&&u+1==o||!n&&r>3&&u+1==o/2)&&(e[i+1]/o/1e3|0)==w(10,a-3)-1,s}function o(e,t,r){var n=e.constructor;return null==t||((y=0>t||t>8)||0!==t&&(n.errors?parseInt:parseFloat)(t)!=t)&&!l(n,"rounding mode",t,r,0)?n.rounding:0|t}function a(e,t,r,n){var i=e.constructor;return!(y=(n||0)>t||t>=M+1)&&(0===t||(i.errors?parseInt:parseFloat)(t)==t)||l(i,"argument",t,r,0)}function s(e,t){var r,o,a,s,u,c,l,h=0,f=0,p=0,m=e.constructor,g=m.ONE,y=m.rounding,v=m.precision;if(!e.c||!e.c[0]||e.e>17)return new m(e.c?e.c[0]?e.s<0?0:1/0:g:e.s?e.s<0?0:e:0/0);for(null==t?(b=!1,u=v):u=t,l=new m(.03125);e.e>-2;)e=e.times(l),p+=5;for(o=Math.log(w(2,p))/Math.LN10*2+5|0,u+=o,r=s=c=new m(g),m.precision=u;;){if(s=d(s.times(e),u,1),r=r.times(++f),l=c.plus(P(s,r,u,1)),n(l.c).slice(0,u)===n(c.c).slice(0,u)){for(a=p;a--;)c=d(c.times(c),u,1);if(null!=t)return m.precision=v,c;if(!(3>h&&i(c.c,u-o,y,h)))return d(c,m.precision=v,y,b=!0);m.precision=u+=10,r=s=l=new m(g),f=0,h++}c=l}}function u(e,t,r,i){var o,a,s=e.constructor,u=(e=new s(e)).e;if(null==t?r=0:(d(e,++t,r),r=i?t:t+e.e-u),u=e.e,o=n(e.c),1==i||2==i&&(u>=t||u<=s.toExpNeg)){for(;o.length<r;o+="0");o.length>1&&(o=o.charAt(0)+"."+o.slice(1)),o+=(0>u?"e":"e+")+u}else{if(i=o.length,0>u){for(a=r-i;++u;o="0"+o);o="0."+o}else if(++u>i){for(a=r-u,u-=i;u--;o+="0");a>0&&(o+=".")}else a=r-i,i>u?o=o.slice(0,u)+"."+o.slice(u):a>0&&(o+=".");if(a>0)for(;a--;o+="0");}return e.s<0&&e.c[0]?"-"+o:o}function c(e){var t=e.length-1,r=t*R+1;if(t=e[t]){for(;t%10==0;t/=10,r--);for(t=e[0];t>=10;t/=10,r++);}return r}function l(e,t,r,n,i){if(e.errors){var o=new Error((n||["new Decimal","cmp","div","eq","gt","gte","lt","lte","minus","mod","plus","times","toFraction","pow","random","log","sqrt","toNearest","divToInt"][E?0>E?-E:E:0>1/E?1:0])+"() "+(["number type has more than 15 significant digits","LN10 out of digits"][t]||t+([y?" out of range":" not an integer"," not a boolean or binary digit"][i]||""))+": "+r);throw o.name="Decimal Error",y=E=0,o}}function h(e,t,r){var n=new e(e.ONE);for(b=!1;1&r&&(n=n.times(t)),r>>=1,r;)t=t.times(t);return b=!0,n}function f(e,t){var r,o,a,s,u,c,h,p,m,g,y,v=1,E=10,x=e,w=x.c,_=x.constructor,T=_.ONE,R=_.rounding,S=_.precision;if(x.s<0||!w||!w[0]||!x.e&&1==w[0]&&1==w.length)return new _(w&&!w[0]?-1/0:1!=x.s?0/0:w?0:x);if(null==t?(b=!1,h=S):h=t,_.precision=h+=E,r=n(w),o=r.charAt(0),!(Math.abs(s=x.e)<15e14))return x=new _(o+"."+r.slice(1)),h+2>N.length&&l(_,1,h+2,"ln"),x=f(x,h-E).plus(new _(N.slice(0,h+2)).times(s+"")),_.precision=S,null==t?d(x,S,R,b=!0):x;for(;7>o&&1!=o||1==o&&r.charAt(1)>3;)x=x.times(e),r=n(x.c),o=r.charAt(0),v++;for(s=x.e,o>1?(x=new _("0."+r),s++):x=new _(o+"."+r.slice(1)),g=x,p=u=x=P(x.minus(T),x.plus(T),h,1),y=d(x.times(x),h,1),a=3;;){if(u=d(u.times(y),h,1),m=p.plus(P(u,new _(a),h,1)),n(m.c).slice(0,h)===n(p.c).slice(0,h)){if(p=p.times(2),0!==s&&(h+2>N.length&&l(_,1,h+2,"ln"),p=p.plus(new _(N.slice(0,h+2)).times(s+""))),p=P(p,new _(v),h,1),null!=t)return _.precision=S,p;if(!i(p.c,h-E,R,c))return d(p,_.precision=S,R,b=!0);_.precision=h+=E,m=u=x=P(g.minus(T),g.plus(T),h,1),y=d(x.times(x),h,1),a=c=1}p=m,a+=2}}function d(e,t,r,n){var i,o,a,s,u,c,l,h,f=e.constructor;e:if(null!=t){if(!(l=e.c))return e;for(i=1,s=l[0];s>=10;s/=10,i++);if(o=t-i,0>o)o+=R,a=t,u=l[h=0],c=u/w(10,i-a-1)%10|0;else if(h=Math.ceil((o+1)/R),h>=l.length){if(!n)break e;for(;l.length<=h;l.push(0));u=c=0,i=1,o%=R,a=o-R+1}else{for(u=s=l[h],i=1;s>=10;s/=10,i++);o%=R,a=o-R+i,c=0>a?0:x(u/w(10,i-a-1)%10)}if(n=n||0>t||null!=l[h+1]||(0>a?u:u%w(10,i-a-1)),n=4>r?(c||n)&&(0==r||r==(e.s<0?3:2)):c>5||5==c&&(4==r||n||6==r&&(o>0?a>0?u/w(10,i-a):0:l[h-1])%10&1||r==(e.s<0?8:7)),1>t||!l[0])return l.length=0,n?(t-=e.e+1,l[0]=w(10,t%R),e.e=-t||0):l[0]=e.e=0,e;if(0==o?(l.length=h,s=1,h--):(l.length=h+1,s=w(10,R-o),l[h]=a>0?(u/w(10,i-a)%w(10,a)|0)*s:0),n)for(;;){if(0==h){for(o=1,a=l[0];a>=10;a/=10,o++);for(a=l[0]+=s,s=1;a>=10;a/=10,s++);o!=s&&(e.e++,l[0]==T&&(l[0]=1));break}if(l[h]+=s,l[h]!=T)break;l[h--]=0,s=1}for(o=l.length;0===l[--o];l.pop());}return b&&(e.e>f.maxE?e.c=e.e=null:e.e<f.minE&&(e.c=[e.e=0])),e}var p,m,g,y,v=r.crypto,b=!0,E=0,x=Math.floor,w=Math.pow,_=Object.prototype.toString,T=1e7,R=7,S="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",C={},H=9e15,M=1e9,A=3e3,N="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058";C.absoluteValue=C.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),d(e)},C.ceil=function(){return d(new this.constructor(this),this.e+1,2)},C.comparedTo=C.cmp=function(e,t){var r,n=this,i=n.c,o=(E=-E,e=new n.constructor(e,t),e.c),a=n.s,s=e.s,u=n.e,c=e.e;if(!a||!s)return null;if(r=i&&!i[0],t=o&&!o[0],r||t)return r?t?0:-s:a;if(a!=s)return a;if(r=0>a,!i||!o)return u==c?0:!i^r?1:-1;if(u!=c)return u>c^r?1:-1;for(a=-1,s=(u=i.length)<(c=o.length)?u:c;++a<s;)if(i[a]!=o[a])return i[a]>o[a]^r?1:-1;return u==c?0:u>c^r?1:-1},C.decimalPlaces=C.dp=function(){var e,t,r=null;if(e=this.c){if(r=((t=e.length-1)-x(this.e/R))*R,t=e[t])for(;t%10==0;t/=10,r--);0>r&&(r=0)}return r},C.dividedBy=C.div=function(e,t){return E=2,P(this,new this.constructor(e,t))},C.dividedToIntegerBy=C.divToInt=function(e,t){var r=this,n=r.constructor;return E=18,d(P(r,new n(e,t),0,1,1),n.precision,n.rounding)},C.equals=C.eq=function(e,t){return E=3,0===this.cmp(e,t)},C.exponential=C.exp=function(){return s(this)},C.floor=function(){return d(new this.constructor(this),this.e+1,3)},C.greaterThan=C.gt=function(e,t){return E=4,this.cmp(e,t)>0},C.greaterThanOrEqualTo=C.gte=function(e,t){return E=5,t=this.cmp(e,t),1==t||0===t},C.isFinite=function(){return!!this.c},C.isInteger=C.isInt=function(){return!!this.c&&x(this.e/R)>this.c.length-2},C.isNaN=function(){return!this.s},C.isNegative=C.isNeg=function(){return this.s<0},C.isZero=function(){return!!this.c&&0==this.c[0]},C.lessThan=C.lt=function(e,t){return E=6,this.cmp(e,t)<0},C.lessThanOrEqualTo=C.lte=function(e,t){return E=7,t=this.cmp(e,t),-1==t||0===t},C.logarithm=C.log=function(e,t){var r,o,a,s,u,c,h,p,m,g=this,y=g.constructor,v=y.precision,x=y.rounding,w=5;if(null==e)e=new y(10),r=!0;else{if(E=15,e=new y(e,t),o=e.c,e.s<0||!o||!o[0]||!e.e&&1==o[0]&&1==o.length)return new y(0/0);r=e.eq(10)}if(o=g.c,g.s<0||!o||!o[0]||!g.e&&1==o[0]&&1==o.length)return new y(o&&!o[0]?-1/0:1!=g.s?0/0:o?0:1/0);if(u=r&&(s=o[0],o.length>1||1!=s&&10!=s&&100!=s&&1e3!=s&&1e4!=s&&1e5!=s&&1e6!=s),b=!1,h=v+w,p=h+10,c=f(g,h),r?(p>N.length&&l(y,1,p,"log"),a=new y(N.slice(0,p))):a=f(e,h),m=P(c,a,h,1),i(m.c,s=v,x))do if(h+=10,c=f(g,h),r?(p=h+10,p>N.length&&l(y,1,p,"log"),a=new y(N.slice(0,p))):a=f(e,h),m=P(c,a,h,1),!u){+n(m.c).slice(s+1,s+15)+1==1e14&&(m=d(m,v+1,0));break}while(i(m.c,s+=10,x));return b=!0,d(m,v,x)},C.minus=function(e,t){var r,n,i,o,a=this,s=a.constructor,u=a.s;if(E=8,e=new s(e,t),t=e.s,!u||!t)return new s(0/0);if(u!=t)return e.s=-t,a.plus(e);var c=a.c,l=e.c,h=x(e.e/R),f=x(a.e/R),p=s.precision,m=s.rounding;if(!f||!h){if(!c||!l)return c?(e.s=-t,e):new s(l?a:0/0);if(!c[0]||!l[0])return a=l[0]?(e.s=-t,e):new s(c[0]?a:3==m?-0:0),b?d(a,p,m):a}if(c=c.slice(),n=c.length,u=f-h){for((o=0>u)?(u=-u,r=c,n=l.length):(h=f,r=l),(f=Math.ceil(p/R))>n&&(n=f),u>(n+=2)&&(u=n,r.length=1),r.reverse(),t=u;t--;r.push(0));r.reverse()}else for((o=n<(i=l.length))&&(i=n),u=t=0;i>t;t++)if(c[t]!=l[t]){o=c[t]<l[t];break}if(o&&(r=c,c=l,l=r,e.s=-e.s),(t=-((i=c.length)-l.length))>0)for(;t--;c[i++]=0);for(f=T-1,t=l.length;t>u;){if(c[--t]<l[t]){for(n=t;n&&!c[--n];c[n]=f);--c[n],c[t]+=T}c[t]-=l[t]}for(;0==c[--i];c.pop());for(;0==c[0];c.shift(),--h);for(c[0]||(c=[h=0],e.s=3==m?-1:1),e.c=c,u=1,t=c[0];t>=10;t/=10,u++);return e.e=u+h*R-1,b?d(e,p,m):e},C.modulo=C.mod=function(e,t){var r,n,i=this,o=i.constructor,a=o.modulo;return E=9,e=new o(e,t),t=e.s,r=!i.c||!t||e.c&&!e.c[0],r||!e.c||i.c&&!i.c[0]?r?new o(0/0):d(new o(i),o.precision,o.rounding):(b=!1,9==a?(e.s=1,n=P(i,e,0,3,1),e.s=t,n.s*=t):n=P(i,e,0,a,1),n=n.times(e),b=!0,i.minus(n))},C.naturalLogarithm=C.ln=function(){return f(this)},C.negated=C.neg=function(){var e=new this.constructor(this);
return e.s=-e.s||null,d(e)},C.plus=function(e,t){var r,n=this,i=n.constructor,o=n.s;if(E=10,e=new i(e,t),t=e.s,!o||!t)return new i(0/0);if(o!=t)return e.s=-t,n.minus(e);var a=n.c,s=e.c,u=x(e.e/R),c=x(n.e/R),l=i.precision,h=i.rounding;if(!c||!u){if(!a||!s)return new i(o/0);if(!a[0]||!s[0])return n=s[0]?e:new i(a[0]?n:0*o),b?d(n,l,h):n}if(a=a.slice(),o=c-u){for(0>o?(o=-o,r=a,t=s.length):(u=c,r=s,t=a.length),(c=Math.ceil(l/R))>t&&(t=c),o>++t&&(o=t,r.length=1),r.reverse();o--;r.push(0));r.reverse()}for(a.length-s.length<0&&(r=s,s=a,a=r),o=s.length,t=0,c=T;o;a[o]%=c)t=(a[--o]=a[o]+s[o]+t)/c|0;for(t&&(a.unshift(t),++u),o=a.length;0==a[--o];a.pop());for(e.c=a,o=1,t=a[0];t>=10;t/=10,o++);return e.e=o+u*R-1,b?d(e,l,h):e},C.precision=C.sd=function(e){var t=null,r=this;return e!=t&&e!==!!e&&1!==e&&0!==e&&l(r.constructor,"argument",e,"precision",1),r.c&&(t=c(r.c),e&&r.e+1>t&&(t=r.e+1)),t},C.round=function(){var e=this,t=e.constructor;return d(new t(e),e.e+1,t.rounding)},C.squareRoot=C.sqrt=function(){var e,t,r,i,o,a,s=this,u=s.c,c=s.s,l=s.e,h=s.constructor,f=new h(.5);if(1!==c||!u||!u[0])return new h(!c||0>c&&(!u||u[0])?0/0:u?s:1/0);for(b=!1,c=Math.sqrt(+s),0==c||c==1/0?(t=n(u),(t.length+l)%2==0&&(t+="0"),c=Math.sqrt(t),l=x((l+1)/2)-(0>l||l%2),c==1/0?t="1e"+l:(t=c.toExponential(),t=t.slice(0,t.indexOf("e")+1)+l),i=new h(t)):i=new h(c.toString()),r=(l=h.precision)+3;;)if(a=i,i=f.times(a.plus(P(s,a,r+2,1))),n(a.c).slice(0,r)===(t=n(i.c)).slice(0,r)){if(t=t.slice(r-3,r+1),"9999"!=t&&(o||"4999"!=t)){(!+t||!+t.slice(1)&&"5"==t.charAt(0))&&(d(i,l+1,1),e=!i.times(i).eq(s));break}if(!o&&(d(a,l+1,0),a.times(a).eq(s))){i=a;break}r+=4,o=1}return b=!0,d(i,l,h.rounding,e)},C.times=function(e,t){var r,n,i=this,o=i.constructor,a=i.c,s=(E=11,e=new o(e,t),e.c),u=x(i.e/R),c=x(e.e/R),l=i.s;if(t=e.s,e.s=l==t?1:-1,!((u||a&&a[0])&&(c||s&&s[0])))return new o(!l||!t||a&&!a[0]&&!s||s&&!s[0]&&!a?0/0:a&&s?0*e.s:e.s/0);for(n=u+c,l=a.length,t=s.length,t>l&&(r=a,a=s,s=r,c=l,l=t,t=c),c=l+t,r=[];c--;r.push(0));for(u=t-1;u>-1;u--){for(t=0,c=l+u;c>u;)t=r[c]+s[u]*a[c-u-1]+t,r[c--]=t%T|0,t=t/T|0;r[c]=(r[c]+t)%T|0}for(t?++n:r[0]||r.shift(),c=r.length;!r[--c];r.pop());for(e.c=r,l=1,t=r[0];t>=10;t/=10,l++);return e.e=l+n*R-1,b?d(e,o.precision,o.rounding):e},C.toDecimalPlaces=C.toDP=function(e,t){var r=this;return r=new r.constructor(r),null!=e&&a(r,e,"toDP")?d(r,(0|e)+r.e+1,o(r,t,"toDP")):r},C.toExponential=function(e,t){var r=this;return r.c?u(r,null!=e&&a(r,e,"toExponential")?0|e:null,null!=e&&o(r,t,"toExponential"),1):r.toString()},C.toFixed=function(e,t){var r,n=this,i=n.constructor,s=i.toExpNeg,c=i.toExpPos;return null!=e&&(e=a(n,e,r="toFixed")?n.e+(0|e):null,t=o(n,t,r)),i.toExpNeg=-(i.toExpPos=1/0),null!=e&&n.c?(r=u(n,e,t),n.s<0&&n.c&&(n.c[0]?r.indexOf("-")<0&&(r="-"+r):r=r.replace("-",""))):r=n.toString(),i.toExpNeg=s,i.toExpPos=c,r},C.toFormat=function(e,t){var r=this;if(!r.c)return r.toString();var n,i=r.s<0,o=r.constructor.format,a=o.groupSeparator,s=+o.groupSize,u=+o.secondaryGroupSize,c=r.toFixed(e,t).split("."),l=c[0],h=c[1],f=i?l.slice(1):l,d=f.length;if(u&&(n=s,s=u,d-=u=n),s>0&&d>0){for(n=d%s||s,l=f.substr(0,n);d>n;n+=s)l+=a+f.substr(n,s);u>0&&(l+=a+f.slice(n)),i&&(l="-"+l)}return h?l+o.decimalSeparator+((u=+o.fractionGroupSize)?h.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+o.fractionGroupSeparator):h):l},C.toFraction=function(e){var t,r,i,o,a,s,u,h,f=this,d=f.constructor,p=t=new d(d.ONE),m=s=new d(0),g=f.c,v=new d(m);if(!g)return f.toString();for(i=v.e=c(g)-f.e-1,v.c[0]=w(10,(u=i%R)<0?R+u:u),(null==e||(!(E=12,a=new d(e)).s||(y=a.cmp(p)<0||!a.c)||d.errors&&x(a.e/R)<a.c.length-1)&&!l(d,"max denominator",e,"toFraction",0)||(e=a).cmp(v)>0)&&(e=i>0?v:p),b=!1,a=new d(n(g)),u=d.precision,d.precision=i=g.length*R*2;h=P(a,v,0,1,1),r=t.plus(h.times(m)),1!=r.cmp(e);)t=m,m=r,p=s.plus(h.times(r=p)),s=r,v=a.minus(h.times(r=v)),a=r;return r=P(e.minus(t),m,0,1,1),s=s.plus(r.times(p)),t=t.plus(r.times(m)),s.s=p.s=f.s,o=P(p,m,i,1).minus(f).abs().cmp(P(s,t,i,1).minus(f).abs())<1?[p+"",m+""]:[s+"",t+""],b=!0,d.precision=u,o},C.toNearest=function(e,t){var r=this,n=r.constructor;return r=new n(r),null==e?(e=new n(n.ONE),t=n.rounding):(E=17,e=new n(e),t=o(r,t,"toNearest")),e.c?r.c&&(e.c[0]?(b=!1,r=P(r,e,0,4>t?[4,5,7,8][t]:t,1).times(e),b=!0,d(r)):r.c=[r.e=0]):r.s&&(e.s&&(e.s=r.s),r=e),r},C.toNumber=function(){var e=this;return+e||(e.s?0*e.s:0/0)},C.toPower=C.pow=function(e,t){var r,o,a,u,c=this,l=c.constructor,p=c.s,m=(E=13,+(e=new l(e,t))),g=0>m?-m:m,y=l.precision,v=l.rounding;if(!c.c||!e.c||(a=!c.c[0])||!e.c[0])return new l(w(a?0*p:+c,m));if(c=new l(c),r=c.c.length,!c.e&&c.c[0]==c.s&&1==r)return c;if(t=e.c.length-1,e.e||e.c[0]!=e.s||t)if(o=x(e.e/R),a=o>=t,!a&&0>p)u=new l(0/0);else{if(a&&A>r*R*g){if(u=h(l,c,g),e.s<0)return l.ONE.div(u)}else{if(p=0>p&&1&e.c[Math.max(o,t)]?-1:1,t=w(+c,m),o=0!=t&&isFinite(t)?new l(t+"").e:x(m*(Math.log("0."+n(c.c))/Math.LN10+c.e+1)),o>l.maxE+1||o<l.minE-1)return new l(o>0?p/0:0);b=!1,l.rounding=c.s=1,g=Math.min(12,(o+"").length),u=s(e.times(f(c,y+g)),y),u=d(u,y+5,1),i(u.c,y,v)&&(o=y+10,u=d(s(e.times(f(c,o+g)),o),o+5,1),+n(u.c).slice(y+1,y+15)+1==1e14&&(u=d(u,y+1,0))),u.s=p,b=!0,l.rounding=v}u=d(u,y,v)}else u=d(c,y,v);return u},C.toPrecision=function(e,t){var r=this;return null!=e&&a(r,e,"toPrecision",1)&&r.c?u(r,0|--e,o(r,t,"toPrecision"),2):r.toString()},C.toSignificantDigits=C.toSD=function(e,t){var r=this,n=r.constructor;return r=new n(r),null!=e&&a(r,e,"toSD",1)?d(r,0|e,o(r,t,"toSD")):d(r,n.precision,n.rounding)},C.toString=function(e){var t,r,i,o=this,a=o.constructor,s=o.e;if(null===s)r=o.s?"Infinity":"NaN";else{if(e===t&&(s<=a.toExpNeg||s>=a.toExpPos))return u(o,null,a.rounding,1);if(r=n(o.c),0>s){for(;++s;r="0"+r);r="0."+r}else if(i=r.length,s>0)if(++s>i)for(s-=i;s--;r+="0");else i>s&&(r=r.slice(0,s)+"."+r.slice(s));else if(t=r.charAt(0),i>1)r=t+"."+r.slice(1);else if("0"==t)return t;if(null!=e)if((y=!(e>=2&&65>e))||e!=(0|e)&&a.errors)l(a,"base",e,"toString",0);else if(r=p(a,r,0|e,10,o.s),"0"==r)return r}return o.s<0?"-"+r:r},C.truncated=C.trunc=function(){return d(new this.constructor(this),this.e+1,1)},C.valueOf=C.toJSON=function(){return this.toString()},p=function(){function e(e,t,r){for(var n,i,o=[0],a=0,s=e.length;s>a;){for(i=o.length;i--;o[i]*=t);for(o[n=0]+=S.indexOf(e.charAt(a++));n<o.length;n++)o[n]>r-1&&(null==o[n+1]&&(o[n+1]=0),o[n+1]+=o[n]/r|0,o[n]%=r)}return o.reverse()}return function(t,r,n,i,o){var a,s,u,c,l,f,d=r.indexOf("."),p=t.precision,m=t.rounding;for(37>i&&(r=r.toLowerCase()),d>=0&&(r=r.replace(".",""),f=new t(i),c=h(t,f,r.length-d),f.c=e(c.toFixed(),10,n),f.e=f.c.length),l=e(r,i,n),a=s=l.length;0==l[--s];l.pop());if(!l[0])return"0";if(0>d?a--:(c.c=l,c.e=a,c.s=o,c=P(c,f,p,m,0,n),l=c.c,u=c.r,a=c.e),d=l[p],s=n/2,u=u||null!=l[p+1],4>m?(null!=d||u)&&(0==m||m==(c.s<0?3:2)):d>s||d==s&&(4==m||u||6==m&&1&l[p-1]||m==(c.s<0?8:7)))for(l.length=p,--n;++l[--p]>n;)l[p]=0,p||(++a,l.unshift(1));else l.length=p;for(s=l.length;!l[--s];);for(d=0,r="";s>=d;r+=S.charAt(l[d++]));if(0>a){for(;++a;r="0"+r);r="0."+r}else if(d=r.length,++a>d)for(a-=d;a--;r+="0");else d>a&&(r=r.slice(0,a)+"."+r.slice(a));return r}}();var P=function(){function e(e,t,r){var n,i=0,o=e.length;for(e=e.slice();o--;)n=e[o]*t+i,e[o]=n%r|0,i=n/r|0;return i&&e.unshift(i),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;r>i;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.shift());}return function(n,i,o,a,s,u){var c,l,h,f,p,m,g,y,v,b,E,w,_,S,C,H,M,A,N,P=n.constructor,k=n.s==i.s?1:-1,O=n.c,L=i.c;if(!(O&&O[0]&&L&&L[0]))return new P(n.s&&i.s&&(O?!L||O[0]!=L[0]:L)?O&&0==O[0]||!L?0*k:k/0:0/0);for(u?(f=1,l=n.e-i.e):(u=T,f=R,l=x(n.e/f)-x(i.e/f)),A=L.length,H=O.length,v=new P(k),b=v.c=[],h=0;L[h]==(O[h]||0);h++);if(L[h]>(O[h]||0)&&l--,null==o?(k=o=P.precision,a=P.rounding):k=s?o+(n.e-i.e)+1:o,0>k)b.push(1),p=!0;else{if(k=k/f+2|0,h=0,1==A){for(m=0,L=L[0],k++;(H>h||m)&&k--;h++)S=m*u+(O[h]||0),b[h]=S/L|0,m=S%L|0;p=m||H>h}else{for(m=u/(L[0]+1)|0,m>1&&(L=e(L,m,u),O=e(O,m,u),A=L.length,H=O.length),C=A,E=O.slice(0,A),w=E.length;A>w;E[w++]=0);N=L.slice(),N.unshift(0),M=L[0],L[1]>=u/2&&M++;do m=0,c=t(L,E,A,w),0>c?(_=E[0],A!=w&&(_=_*u+(E[1]||0)),m=_/M|0,m>1?(m>=u&&(m=u-1),g=e(L,m,u),y=g.length,w=E.length,c=t(g,E,y,w),1==c&&(m--,r(g,y>A?N:L,y,u))):(0==m&&(c=m=1),g=L.slice()),y=g.length,w>y&&g.unshift(0),r(E,g,w,u),-1==c&&(w=E.length,c=t(L,E,A,w),1>c&&(m++,r(E,w>A?N:L,w,u))),w=E.length):0===c&&(m++,E=[0]),b[h++]=m,c&&E[0]?E[w++]=O[C]||0:(E=[O[C]],w=1);while((C++<H||null!=E[0])&&k--);p=null!=E[0]}b[0]||b.shift()}if(1==f)v.e=l,v.r=+p;else{for(h=1,k=b[0];k>=10;k/=10,h++);v.e=h+l*f-1,d(v,s?o+v.e+1:o,a,p)}return v}}();if(m=function(){function e(e){var t,r,n,i=this,o="config",a=i.errors?parseInt:parseFloat;return e==r||"object"!=typeof e&&!l(i,"object expected",e,o)?i:((n=e[t="precision"])!=r&&((y=1>n||n>M)||a(n)!=n?l(i,t,n,o,0):i[t]=0|n),(n=e[t="rounding"])!=r&&((y=0>n||n>8)||a(n)!=n?l(i,t,n,o,0):i[t]=0|n),(n=e[t="toExpNeg"])!=r&&((y=-H>n||n>0)||a(n)!=n?l(i,t,n,o,0):i[t]=x(n)),(n=e[t="toExpPos"])!=r&&((y=0>n||n>H)||a(n)!=n?l(i,t,n,o,0):i[t]=x(n)),(n=e[t="minE"])!=r&&((y=-H>n||n>0)||a(n)!=n?l(i,t,n,o,0):i[t]=x(n)),(n=e[t="maxE"])!=r&&((y=0>n||n>H)||a(n)!=n?l(i,t,n,o,0):i[t]=x(n)),(n=e[t="errors"])!=r&&(n===!!n||1===n||0===n?(y=E=0,i[t]=!!n):l(i,t,n,o,1)),(n=e[t="crypto"])!=r&&(n===!!n||1===n||0===n?i[t]=!(!n||!v||"object"!=typeof v):l(i,t,n,o,1)),(n=e[t="modulo"])!=r&&((y=0>n||n>9)||a(n)!=n?l(i,t,n,o,0):i[t]=0|n),(e=e[t="format"])!=r&&("object"==typeof e?i[t]=e:l(i,"format object expected",e,o)),i)}function t(e){return new this(e).exp()}function r(e){return new this(e).ln()}function n(e,t){return new this(e).log(t)}function i(e,t,r){var n,i,o=0;for("[object Array]"==_.call(t[0])&&(t=t[0]),n=new e(t[0]);++o<t.length;){if(i=new e(t[o]),!i.s){n=i;break}n[r](i)&&(n=i)}return n}function o(){return i(this,arguments,"lt")}function s(){return i(this,arguments,"gt")}function u(e,t){return new this(e).pow(t)}function c(e){var t,r,n,i=0,o=[],s=this,u=new s(s.ONE);if(null!=e&&a(u,e,"random")?e|=0:e=s.precision,r=Math.ceil(e/R),s.crypto)if(v&&v.getRandomValues)for(t=v.getRandomValues(new Uint32Array(r));r>i;)n=t[i],n>=429e7?t[i]=v.getRandomValues(new Uint32Array(1))[0]:o[i++]=n%1e7;else if(v&&v.randomBytes){for(t=v.randomBytes(r*=4);r>i;)n=t[i]+(t[i+1]<<8)+(t[i+2]<<16)+((127&t[i+3])<<24),n>=214e7?v.randomBytes(4).copy(t,i):(o.push(n%1e7),i+=4);i=r/4}else l(s,"crypto unavailable",v,"random");if(!i)for(;r>i;)o[i++]=1e7*Math.random()|0;for(r=o[--i],e%=R,r&&e&&(n=w(10,R-e),o[i]=(r/n|0)*n);0===o[i];i--)o.pop();if(0>i)o=[r=0];else{for(r=-1;0===o[0];)o.shift(),r-=R;for(i=1,n=o[0];n>=10;)n/=10,i++;R>i&&(r-=R-i)}return u.e=r,u.c=o,u}function h(e){return new this(e).sqrt()}function f(i){function a(e,t){var r=this;if(!(r instanceof a))return l(a,"Decimal called without new",e),new a(e,t);if(r.constructor=a,e instanceof a){if(null==t)return E=0,r.s=e.s,r.e=e.e,r.c=(e=e.c)?e.slice():e,r;if(10==t)return d(new a(e),a.precision,a.rounding);e+=""}return m(a,r,e,t)}return a.precision=20,a.rounding=4,a.modulo=1,a.toExpNeg=-7,a.toExpPos=21,a.minE=-H,a.maxE=H,a.errors=!0,a.crypto=!1,a.format={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0},a.prototype=C,a.ONE=new a(1),a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.EUCLID=9,a.config=e,a.constructor=f,a.exp=t,a.ln=r,a.log=n,a.max=o,a.min=s,a.pow=u,a.sqrt=h,a.random=c,null!=i&&a.config(i),a}var m=function(){var e=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,t=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")};return function(r,n,i,o){var a,s,u,c,h,f;if("string"!=typeof i&&(i=(c="number"==typeof i||"[object Number]"==_.call(i))&&0===i&&0>1/i?"-0":i+""),h=i,null==o&&e.test(i))n.s=45===i.charCodeAt(0)?(i=i.slice(1),-1):1;else{if(10==o)return d(new r(i),r.precision,r.rounding);if(i=t.call(i).replace(/^\+(?!-)/,""),n.s=45===i.charCodeAt(0)?(i=i.replace(/^-(?!-)/,""),-1):1,null!=o?o!=(0|o)&&r.errors||(y=!(o>=2&&65>o))?(l(r,"base",o,0,0),f=e.test(i)):(a="["+S.slice(0,o=0|o)+"]+",i=i.replace(/\.$/,"").replace(/^\./,"0."),(f=new RegExp("^"+a+"(?:\\."+a+")?$",37>o?"i":"").test(i))?(c&&(i.replace(/^0\.0*|\./,"").length>15&&l(r,0,h),c=!c),i=p(r,i,10,o,n.s)):"Infinity"!=i&&"NaN"!=i&&(l(r,"not a base "+o+" number",h),i="NaN")):f=e.test(i),!f)return n.c=n.e=null,"Infinity"!=i&&("NaN"!=i&&l(r,"not a number",h),n.s=null),E=0,n}for((s=i.indexOf("."))>-1&&(i=i.replace(".","")),(u=i.search(/e/i))>0?(0>s&&(s=u),s+=+i.slice(u+1),i=i.substring(0,u)):0>s&&(s=i.length),u=0;48===i.charCodeAt(u);u++);for(o=i.length;48===i.charCodeAt(--o););if(i=i.slice(u,o+1)){if(o=i.length,c&&o>15&&l(r,0,h),n.e=s=s-u-1,n.c=[],u=(s+1)%R,0>s&&(u+=R),o>u){for(u&&n.c.push(+i.slice(0,u)),o-=R;o>u;)n.c.push(+i.slice(u,u+=R));i=i.slice(u),u=R-i.length}else u-=o;for(;u--;i+="0");n.c.push(+i),b&&(n.e>r.maxE?n.c=n.e=null:n.e<r.minE&&(n.c=[n.e=0]))}else n.c=[n.e=0];return E=0,n}}();return f()}(),"function"==typeof define&&define.amd)define(function(){return m});else if("undefined"!=typeof t&&t.exports){if(t.exports=m,!v)try{v=e("crypto")}catch(k){}}else g=r.Decimal,m.noConflict=function(){return r.Decimal=g,m},r.Decimal=m}(this)},{crypto:6}]},{},[1]),define("ic-ajax",["ember","exports"],function(e,t){"use strict";function r(){return n.apply(null,arguments).then(function(e){return e.response},null,"ic-ajax: unwrap raw ajax response")}function n(){return a(s.apply(null,arguments))}function i(e,t){t.response&&(t.response=JSON.parse(JSON.stringify(t.response))),h[e]=t}function o(e){return h&&h[e]}function a(e){return new l.RSVP.Promise(function(t,r){var n=o(e.url);return n?"success"===n.textStatus||null==n.textStatus?l.run.later(null,t,n):l.run.later(null,r,n):(e.success=u(t),e.error=c(r),void l.$.ajax(e))},"ic-ajax: "+(e.type||"GET")+" to "+e.url)}function s(){var e={};if(1===arguments.length?"string"==typeof arguments[0]?e.url=arguments[0]:e=arguments[0]:2===arguments.length&&(e=arguments[1],e.url=arguments[0]),e.success||e.error)throw new l.Error("ajax should use promises, received 'success' or 'error' callback");return e}function u(e){return function(t,r,n){l.run(null,e,{response:t,textStatus:r,jqXHR:n})}}function c(e){return function(t,r,n){l.run(null,e,{jqXHR:t,textStatus:r,errorThrown:n})}}var l=e["default"]||e;t.request=r,t["default"]=r,t.raw=n;var h={};t.__fixtures__=h,t.defineFixture=i,t.lookupFixture=o}),function(){"use strict";function e(e){var t=Error.prototype.constructor.call(this,"The backend rejected the commit because it was invalid: "+Ember.inspect(e));this.errors=e;for(var r=0,n=mt.length;n>r;r++)this[mt[r]]=t[mt[r]]}function t(){Ember.OrderedSet.apply(this,arguments)}function r(){Ember.Map.apply(this,arguments)}function n(){Ember.MapWithDefault.apply(this,arguments)}function i(e){return function(t,r){e.call(this,r,t)}}function o(e,t){return"function"!=typeof String.prototype.endsWith?-1!==e.indexOf(t,e.length-t.length):e.endsWith(t)}function a(e,t){for(var r=0,n=t.length;n>r;r++)e.uncountable[t[r].toLowerCase()]=!0}function s(e,t){for(var r,n=0,i=t.length;i>n;n++)r=t[n],e.irregular[r[0].toLowerCase()]=r[1],e.irregular[r[1].toLowerCase()]=r[1],e.irregularInverse[r[1].toLowerCase()]=r[0],e.irregularInverse[r[0].toLowerCase()]=r[0]}function u(e){e=e||{},e.uncountable=e.uncountable||c(),e.irregularPairs=e.irregularPairs||c();var t=this.rules={plurals:e.plurals||[],singular:e.singular||[],irregular:c(),irregularInverse:c(),uncountable:c()};a(t,e.uncountable),s(t,e.irregularPairs),this.enableCache()}function c(){var e=Object.create(null);return e._dict=null,delete e._dict,e}function l(e){return Lt.inflector.pluralize(e)}function h(e){return Lt.inflector.singularize(e)}function f(e){return null==e?null:e+""}function d(e){this.container=e}function p(e){var t=new ar(e);t.registerDeprecations([{deprecated:"serializer:_ams",valid:"serializer:-active-model"},{deprecated:"adapter:_ams",valid:"adapter:-active-model"}]),e.register("serializer:-active-model",or),e.register("adapter:-active-model",zt)}function m(e){return function(){var t=hr(this,"content");return t[e].apply(t,arguments)}}function g(e){var t=Ember.create(null);for(var r in e)t[r]=e[r];return t}function y(e){for(var t=[],r=Ember.keys(e),n=0;n<r.length;n++)t.push(e[r[n]]);return t}function v(e){e.destroy()}function b(e){for(var t=e.length,r=Ember.A(),n=0;t>n;n++)r=r.concat(e[n]);return r}function E(e,t){t.value===t.originalValue?(delete e._attributes[t.name],e.send("propertyWasReset",t.name)):t.value!==t.oldValue&&e.send("becomeDirty"),e.updateRecordArraysLater()}function x(e){var t,r={};for(var n in e)t=e[n],r[n]=t&&"object"==typeof t?x(t):t;return r}function w(e,t){for(var r in t)e[r]=t[r];return e}function _(e){var t=x(kr);return w(t,e)}function T(){}function R(e,t,r){e=w(t?Ember.create(t):{},e),e.parentState=t,e.stateName=r;for(var n in e)e.hasOwnProperty(n)&&"parentState"!==n&&"stateName"!==n&&"object"==typeof e[n]&&(e[n]=R(e[n],e,r+"."+n));return e}function S(e,t){if(!t||"object"!=typeof t)return e;for(var r,n=Ember.keys(t),i=n.length,o=0;i>o;o++)r=n[o],e[r]=t[r];return e}function C(e){var r=new t;if(e)for(var n=0,i=e.length;i>n;n++)r.add(e[n]);return r}function H(e){return an[e]||(an[e]=e.split("."))}function M(e){return on[e]||(on[e]=H(e)[0])}function A(e,t){return"function"==typeof t.defaultValue?t.defaultValue.apply(null,arguments):t.defaultValue}function N(e,t){return t in e._attributes||t in e._inFlightAttributes||e._data.hasOwnProperty(t)}function P(e,t){return t in e._attributes?e._attributes[t]:t in e._inFlightAttributes?e._inFlightAttributes[t]:e._data[t]}function k(e,t){"object"==typeof e?(t=e,e=void 0):t=t||{};var r={type:e,isAttribute:!0,options:t};return Ember.computed(function(e,r){if(arguments.length>1){var n=P(this,e);return r!==n&&(this._attributes[e]=r,this.send("didSetProperty",{name:e,oldValue:n,originalValue:this._data[e],value:r})),r}return N(this,e)?P(this,e):A(this,t,e)}).meta(r)}function O(e){return null==e?null:e+""}function L(e,t,r){return t.eachRelationship(function(t,n){var i=n.kind,o=r[t];"belongsTo"===i?D(e,r,t,n,o):"hasMany"===i&&B(e,r,t,n,o)}),r}function D(e,t,r,n,i){if(!(yn(i)||i instanceof un)){var o;"number"==typeof i||"string"==typeof i?(o=F(n,r,t),t[r]=e.recordForId(o,i)):"object"==typeof i&&(t[r]=e.recordForId(i.type,i.id))}}function F(e,t,r){return e.options.polymorphic?r[t+"Type"]:e.type}function B(e,t,r,n,i){if(!yn(i))for(var o=0,a=i.length;a>o;o++)D(e,i,o,n,i[o])}function I(e,t,r){return e.lookup("serializer:"+t)||e.lookup("serializer:application")||e.lookup("serializer:"+r)||e.lookup("serializer:-default")}function z(e){return e.lookup("serializer:application")||e.lookup("serializer:-default")}function U(e,t){var r=e.serializer,n=e.defaultSerializer,i=e.container;return i&&void 0===r&&(r=I(i,t.typeKey,n)),(null===r||void 0===r)&&(r={extract:function(e,t,r){return r}}),r}function V(e){return!(pn(e,"isDestroyed")||pn(e,"isDestroying"))}function j(e,t){var r=e["finally"](function(){t()||(r._subscribers.length=0)});return r}function q(e,t){return e._backburner.run(t)}function G(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(void 0,t)}}function W(e,t,r,n,i){var o=e.find(t,r,n,i),a=U(e,r),s="DS: Handle Adapter#find of "+r+" with id: "+n;return o=xn.cast(o,s),o=j(o,G(V,t)),o.then(function(e){return q(t,function(){var i=a.extract(t,r,e,n,"find");return t.push(r,i)})},function(e){var i=t.getById(r,n);throw i&&i.notFound(),e},"DS: Extract payload of '"+r+"'")}function K(e,t,r,n,i){var o=e.findMany(t,r,n,i),a=U(e,r),s="DS: Handle Adapter#findMany of "+r;if(void 0===o)throw new Error("adapter.findMany returned undefined, this was very likely a mistake");return o=xn.cast(o,s),o=j(o,G(V,t)),o.then(function(e){return q(t,function(){var n=a.extract(t,r,e,null,"findMany");return t.pushMany(r,n)})},null,"DS: Extract payload of "+r)}function X(e,t,r,n,i){var o=e.findHasMany(t,r,n,i),a=U(e,i.type),s="DS: Handle Adapter#findHasMany of "+r+" : "+i.type;return o=xn.cast(o,s),o=j(o,G(V,t)),o=j(o,G(V,r)),o.then(function(e){return q(t,function(){var r=a.extract(t,i.type,e,null,"findHasMany"),n=t.pushMany(i.type,r);return n})},null,"DS: Extract payload of "+r+" : hasMany "+i.type)}function Y(e,t,r,n,i){var o=e.findBelongsTo(t,r,n,i),a=U(e,i.type),s="DS: Handle Adapter#findBelongsTo of "+r+" : "+i.type;return o=xn.cast(o,s),o=j(o,G(V,t)),o=j(o,G(V,r)),o.then(function(e){return q(t,function(){var r=a.extract(t,i.type,e,null,"findBelongsTo");if(!r)return null;var n=t.push(i.type,r);return n})},null,"DS: Extract payload of "+r+" : "+i.type)}function $(e,t,r,n){var i=e.findAll(t,r,n),o=U(e,r),a="DS: Handle Adapter#findAll of "+r;return i=xn.cast(i,a),i=j(i,G(V,t)),i.then(function(e){return q(t,function(){var n=o.extract(t,r,e,null,"findAll");t.pushMany(r,n)}),t.didUpdateAll(r),t.all(r)},null,"DS: Extract payload of findAll "+r)}function Q(e,t,r,n,i){var o=e.findQuery(t,r,n,i),a=U(e,r),s="DS: Handle Adapter#findQuery of "+r;return o=xn.cast(o,s),o=j(o,G(V,t)),o.then(function(e){var n;return q(t,function(){n=a.extract(t,r,e,null,"findQuery")}),i.load(n),i},null,"DS: Extract payload of findQuery "+r)}function Z(t,r,n,i){var o=i.constructor,a=t[n](r,o,i),s=U(t,o),u="DS: Extract and notify about "+n+" completion of "+i;return a=xn.cast(a,u),a=j(a,G(V,r)),a=j(a,G(V,i)),a.then(function(e){var t;return q(r,function(){t=e?s.extract(r,o,e,pn(i,"id"),n):e,r.didSaveRecord(i,t)}),i},function(t){if(t instanceof e){var n=s.extractErrors(r,o,t.errors,pn(i,"id"));r.recordWasInvalid(i,n),t=new e(n)}else r.recordWasError(i,t);throw t},u)}function J(e,t,r){var n=t.constructor;n.eachRelationship(function(e,n){var i=n.kind,o=r[e],a=t._relationships[e];if(r.links&&r.links[e]&&a.updateLink(r.links[e]),"belongsTo"===i){if(void 0===o)return;a.setCanonicalRecord(o)}else"hasMany"===i&&o&&a.updateRecordsFromAdapter(o)})}function et(e,t){e.register("store:main",e.lookupFactory("store:application")||t&&t.Store||Tn);var r=new ar(e);r.registerDeprecations([{deprecated:"serializer:_default",valid:"serializer:-default"},{deprecated:"serializer:_rest",valid:"serializer:-rest"},{deprecated:"adapter:_rest",valid:"adapter:-rest"}]),e.register("serializer:-default",Gt),e.register("serializer:-rest",Qt),e.register("adapter:-rest",Mt),e.lookup("store:main")}function tt(e){return e===e&&1/0!==e&&e!==-1/0}function rt(e){e.register("transform:boolean",kn),e.register("transform:date",An),e.register("transform:number",Hn),e.register("transform:string",Pn)}function nt(e){e.injection("controller","store","store:main"),e.injection("route","store","store:main"),e.injection("serializer","store","store:main"),e.injection("data-adapter","store","store:main")}function it(e){e.register("data-adapter:main",In)}function ot(e,t){zn(e,t),On(e,t),Ln(e,t),Rn(e,t),sr(e,t)}function at(e,t,r,n){return r.eachRelationship(function(r,i){if(e.hasDeserializeRecordsOption(r)){var o=t.modelFor(i.type.typeKey);"hasMany"===i.kind&&(i.options.polymorphic?ut(t,r,n):st(t,r,o,n)),"belongsTo"===i.kind&&ct(t,r,o,n)}}),n}function st(e,t,r,n){if(!n[t])return n;var i=[],o=e.serializerFor(r.typeKey);return Xn(n[t],function(t){var n=o.normalize(r,t,null);e.push(r,n),i.push(n.id)}),n[t]=i,n}function ut(e,t,r){if(!r[t])return r;var n=[];return Xn(r[t],function(t){var r=t.type,i=e.serializerFor(r),o=e.modelFor(r),a=Kn(i,"primaryKey"),s=i.normalize(o,t,null);e.push(o,s),n.push({id:s[a],type:r})}),r[t]=n,r}function ct(e,t,r,n){if(!n[t])return n;var i=e.serializerFor(r.typeKey),o=i.normalize(r,n[t],null);return e.push(r,o),n[t]=o.id,n}function lt(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r={type:e,isRelationship:!0,options:t,kind:"belongsTo",key:null};return Ember.computed(function(e,t){return arguments.length>1&&(void 0===t&&(t=null),t&&t.then?this._relationships[e].setRecordPromise(t):this._relationships[e].setRecord(t)),this._relationships[e].getRecord()}).meta(r)}function ht(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r={type:e,isRelationship:!0,options:t,kind:"hasMany",key:null};return Ember.computed(function(e){var t=this._relationships[e];return t.getRecords()}).meta(r).readOnly()}function ft(e,t){var r,n;return r=t.type||t.key,"string"==typeof r?("hasMany"===t.kind&&(r=h(r)),n=e.modelFor(r)):n=t.type,n}function dt(e,t){return{key:t.key,kind:t.kind,type:ft(e,t),options:t.options,parentType:t.parentType,isRelationship:!0}}var pt=Ember.get,mt=["description","fileName","lineNumber","message","name","number","stack"];e.prototype=Ember.create(Error.prototype);var gt,yt,vt=Ember.Object.extend({find:Ember.required(Function),findAll:null,findQuery:null,generateIdForRecord:null,serialize:function(e,t){return pt(e,"store").serializerFor(e.constructor.typeKey).serialize(e,t)},createRecord:Ember.required(Function),updateRecord:Ember.required(Function),deleteRecord:Ember.required(Function),coalesceFindRequests:!0,groupRecordsForFindMany:function(e,t){return[t]}}),bt=vt,Et=Ember.get,xt=Ember.String.fmt,wt=Ember.EnumerableUtils.indexOf,_t=0,Tt=bt.extend({serializer:null,simulateRemoteResponse:!0,latency:50,fixturesForType:function(e){if(e.FIXTURES){var t=Ember.A(e.FIXTURES);return t.map(function(e){var t=typeof e.id;if("number"!==t&&"string"!==t)throw new Error(xt("the id property must be defined as a number or string for fixture %@",[e]));return e.id=e.id+"",e})}return null},queryFixtures:function(){},updateFixtures:function(e,t){e.FIXTURES||(e.FIXTURES=[]);var r=e.FIXTURES;this.deleteLoadedFixture(e,t),r.push(t)},mockJSON:function(e,t,r){return e.serializerFor(t).serialize(r,{includeId:!0})},generateIdForRecord:function(){return"fixture-"+_t++},find:function(e,t,r){var n,i=this.fixturesForType(t);return i&&(n=Ember.A(i).findBy("id",r)),n?this.simulateRemoteCall(function(){return n},this):void 0},findMany:function(e,t,r){var n=this.fixturesForType(t);return n&&(n=n.filter(function(e){return-1!==wt(r,e.id)})),n?this.simulateRemoteCall(function(){return n},this):void 0},findAll:function(e,t){var r=this.fixturesForType(t);return this.simulateRemoteCall(function(){return r},this)},findQuery:function(e,t,r){var n=this.fixturesForType(t);return n=this.queryFixtures(n,r,t),n?this.simulateRemoteCall(function(){return n},this):void 0},createRecord:function(e,t,r){var n=this.mockJSON(e,t,r);return this.updateFixtures(t,n),this.simulateRemoteCall(function(){return n},this)},updateRecord:function(e,t,r){var n=this.mockJSON(e,t,r);return this.updateFixtures(t,n),this.simulateRemoteCall(function(){return n},this)},deleteRecord:function(e,t,r){return this.deleteLoadedFixture(t,r),this.simulateRemoteCall(function(){return null})},deleteLoadedFixture:function(e,t){var r=this.findExistingFixture(e,t);if(r){var n=wt(e.FIXTURES,r);return e.FIXTURES.splice(n,1),!0}},findExistingFixture:function(e,t){var r=this.fixturesForType(e),n=Et(t,"id");return this.findFixtureById(r,n)},findFixtureById:function(e,t){return Ember.A(e).find(function(e){return""+Et(e,"id")==""+t?!0:!1})},simulateRemoteCall:function(e,t){var r=this;return new Ember.RSVP.Promise(function(n){var i=Ember.copy(e.call(t),!0);Et(r,"simulateRemoteResponse")?Ember.run.later(function(){n(i)},Et(r,"latency")):Ember.run.schedule("actions",null,function(){n(i)})},"DS: FixtureAdapter#simulateRemoteCall")}}),Rt=Ember.Map.create();Rt.set("key","value");var St=!1;Rt.forEach(function(e,t){St="key"===e&&"value"===t}),r.prototype=Ember.create(Ember.Map.prototype),n.prototype=Ember.create(Ember.MapWithDefault.prototype),t.prototype=Ember.create(Ember.OrderedSet.prototype),t.create=function(){return new t},St&&(gt=function(e,t){this.__super$forEach(i(e),t)},yt=function(e){this.remove(e)},r.prototype.__super$forEach=Ember.Map.prototype.forEach,r.prototype.forEach=gt,r.prototype["delete"]=yt,n.prototype.forEach=gt,n.prototype.__super$forEach=Ember.MapWithDefault.prototype.forEach,n.prototype["delete"]=yt,t.prototype["delete"]=yt),n.constructor=n,r.constructor=r,n.create=function(e){return e?new n(e):new r},r.create=function(){return new this.constructor};var Ct=Ember.get,Ht=Ember.ArrayPolyfills.forEach,Mt=vt.extend({defaultSerializer:"-rest",coalesceFindRequests:!1,find:function(e,t,r,n){return this.ajax(this.buildURL(t.typeKey,r,n),"GET")},findAll:function(e,t,r){var n;return r&&(n={since:r}),this.ajax(this.buildURL(t.typeKey),"GET",{data:n})},findQuery:function(e,t,r){return this.ajax(this.buildURL(t.typeKey),"GET",{data:r})},findMany:function(e,t,r,n){return this.ajax(this.buildURL(t.typeKey,r,n),"GET",{data:{ids:r}})},findHasMany:function(e,t,r){var n=Ct(this,"host"),i=Ct(t,"id"),o=t.constructor.typeKey;return n&&"/"===r.charAt(0)&&"/"!==r.charAt(1)&&(r=n+r),this.ajax(this.urlPrefix(r,this.buildURL(o,i)),"GET")},findBelongsTo:function(e,t,r){var n=Ct(t,"id"),i=t.constructor.typeKey;return this.ajax(this.urlPrefix(r,this.buildURL(i,n)),"GET")},createRecord:function(e,t,r){var n={},i=e.serializerFor(t.typeKey);return i.serializeIntoHash(n,t,r,{includeId:!0}),this.ajax(this.buildURL(t.typeKey,null,r),"POST",{data:n})},updateRecord:function(e,t,r){var n={},i=e.serializerFor(t.typeKey);i.serializeIntoHash(n,t,r);var o=Ct(r,"id");return this.ajax(this.buildURL(t.typeKey,o,r),"PUT",{data:n})},deleteRecord:function(e,t,r){var n=Ct(r,"id");return this.ajax(this.buildURL(t.typeKey,n,r),"DELETE")},buildURL:function(e,t){var r=[],n=Ct(this,"host"),i=this.urlPrefix();return e&&r.push(this.pathForType(e)),t&&!Ember.isArray(t)&&r.push(encodeURIComponent(t)),i&&r.unshift(i),r=r.join("/"),!n&&r&&(r="/"+r),r},urlPrefix:function(e,t){var r=Ct(this,"host"),n=Ct(this,"namespace"),i=[];return e?"/"===e.charAt(0)?r&&(e=e.slice(1),i.push(r)):/^http(s)?:\/\//.test(e)||i.push(t):(r&&i.push(r),n&&i.push(n)),e&&i.push(e),i.join("/")},_stripIDFromURL:function(e,t){var r=t.constructor,n=this.buildURL(r.typeKey,t.get("id"),t),i=n.split("/"),a=i[i.length-1],s=t.get("id");return a===s?i[i.length-1]="":o(a,"?id="+s)&&(i[i.length-1]=a.substring(0,a.length-s.length-1)),i.join("/")},maxUrlLength:2048,groupRecordsForFindMany:function(e,t){function r(t,r,n){var i=o._stripIDFromURL(e,t[0]),a=0,s=[[]];return Ht.call(t,function(e){var t=encodeURIComponent(e.get("id")).length+n;i.length+a+t>=r&&(a=0,s.push([])),a+=t;var o=s.length-1;s[o].push(e)}),s}var i=n.create({defaultValue:function(){return[]}}),o=this,a=this.maxUrlLength;Ht.call(t,function(t){var r=o._stripIDFromURL(e,t);i.get(r).push(t)});var s=[];return i.forEach(function(e){var t="&ids%5B%5D=".length,n=r(e,a,t);Ht.call(n,function(e){s.push(e)})}),s},pathForType:function(e){var t=Ember.String.camelize(e);return Ember.String.pluralize(t)},ajaxError:function(e,t,r){var n=null!==e&&"object"==typeof e;return n&&(e.then=null,e.errorThrown||(e.errorThrown=r)),e},ajaxSuccess:function(e,t){return t},ajax:function(t,r,n){var i=this;return new Ember.RSVP.Promise(function(o,a){var s=i.ajaxOptions(t,r,n);s.success=function(t,r,n){t=i.ajaxSuccess(n,t),t instanceof e?Ember.run(null,a,t):Ember.run(null,o,t)},s.error=function(e,t,r){Ember.run(null,a,i.ajaxError(e,e.responseText,r))},Ember.$.ajax(s)},"DS: RESTAdapter#ajax "+r+" to "+t)},ajaxOptions:function(e,t,r){var n=r||{};n.url=e,n.type=t,n.dataType="json",n.context=this,n.data&&"GET"!==t&&(n.contentType="application/json; charset=utf-8",n.data=JSON.stringify(n.data));var i=Ct(this,"headers");return void 0!==i&&(n.beforeSend=function(e){Ht.call(Ember.keys(i),function(t){e.setRequestHeader(t,i[t])})}),n}}),At=Ember.String.capitalize,Nt=/^\s*$/,Pt=/(\w+[_-])([a-z\d]+$)/,kt=/(\w+)([A-Z][a-z\d]*$)/,Ot=/[A-Z][a-z\d]*$/;if(!Object.create&&!Object.create(null).hasOwnProperty)throw new Error("This browser does not support Object.create(null), please polyfil with es5-sham: http://git.io/yBU2rg");u.prototype={enableCache:function(){this.purgeCache(),this.singularize=function(e){return this._cacheUsed=!0,this._sCache[e]||(this._sCache[e]=this._singularize(e))},this.pluralize=function(e){return this._cacheUsed=!0,this._pCache[e]||(this._pCache[e]=this._pluralize(e))
}},purgeCache:function(){this._cacheUsed=!1,this._sCache=c(),this._pCache=c()},disableCache:function(){this._sCache=null,this._pCache=null,this.singularize=function(e){return this._singularize(e)},this.pluralize=function(e){return this._pluralize(e)}},plural:function(e,t){this._cacheUsed&&this.purgeCache(),this.rules.plurals.push([e,t.toLowerCase()])},singular:function(e,t){this._cacheUsed&&this.purgeCache(),this.rules.singular.push([e,t.toLowerCase()])},uncountable:function(e){this._cacheUsed&&this.purgeCache(),a(this.rules,[e.toLowerCase()])},irregular:function(e,t){this._cacheUsed&&this.purgeCache(),s(this.rules,[[e,t]])},pluralize:function(e){return this._pluralize(e)},_pluralize:function(e){return this.inflect(e,this.rules.plurals,this.rules.irregular)},singularize:function(e){return this._singularize(e)},_singularize:function(e){return this.inflect(e,this.rules.singular,this.rules.irregularInverse)},inflect:function(e,t,r){var n,i,o,a,s,u,c,l,h,f,d,p;if(l=Nt.test(e),h=Ot.test(e),u="",l)return e;if(a=e.toLowerCase(),s=Pt.exec(e)||kt.exec(e),s&&(u=s[1],c=s[2].toLowerCase()),f=this.rules.uncountable[a]||this.rules.uncountable[c])return e;if(d=r&&(r[a]||r[c]))return r[a]?d:(d=h?At(d):d,u+d);for(var m=t.length,g=0;m>g&&(n=t[m-1],p=n[0],!p.test(e));m--);return n=n||[],p=n[0],i=n[1],o=e.replace(p,i)}};var Lt=u,Dt={plurals:[[/$/,"s"],[/s$/i,"s"],[/^(ax|test)is$/i,"$1es"],[/(octop|vir)us$/i,"$1i"],[/(octop|vir)i$/i,"$1i"],[/(alias|status)$/i,"$1es"],[/(bu)s$/i,"$1ses"],[/(buffal|tomat)o$/i,"$1oes"],[/([ti])um$/i,"$1a"],[/([ti])a$/i,"$1a"],[/sis$/i,"ses"],[/(?:([^f])fe|([lr])f)$/i,"$1$2ves"],[/(hive)$/i,"$1s"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/(x|ch|ss|sh)$/i,"$1es"],[/(matr|vert|ind)(?:ix|ex)$/i,"$1ices"],[/^(m|l)ouse$/i,"$1ice"],[/^(m|l)ice$/i,"$1ice"],[/^(ox)$/i,"$1en"],[/^(oxen)$/i,"$1"],[/(quiz)$/i,"$1zes"]],singular:[[/s$/i,""],[/(ss)$/i,"$1"],[/(n)ews$/i,"$1ews"],[/([ti])a$/i,"$1um"],[/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)(sis|ses)$/i,"$1sis"],[/(^analy)(sis|ses)$/i,"$1sis"],[/([^f])ves$/i,"$1fe"],[/(hive)s$/i,"$1"],[/(tive)s$/i,"$1"],[/([lr])ves$/i,"$1f"],[/([^aeiouy]|qu)ies$/i,"$1y"],[/(s)eries$/i,"$1eries"],[/(m)ovies$/i,"$1ovie"],[/(x|ch|ss|sh)es$/i,"$1"],[/^(m|l)ice$/i,"$1ouse"],[/(bus)(es)?$/i,"$1"],[/(o)es$/i,"$1"],[/(shoe)s$/i,"$1"],[/(cris|test)(is|es)$/i,"$1is"],[/^(a)x[ie]s$/i,"$1xis"],[/(octop|vir)(us|i)$/i,"$1us"],[/(alias|status)(es)?$/i,"$1"],[/^(ox)en/i,"$1"],[/(vert|ind)ices$/i,"$1ex"],[/(matr)ices$/i,"$1ix"],[/(quiz)zes$/i,"$1"],[/(database)s$/i,"$1"]],irregularPairs:[["person","people"],["man","men"],["child","children"],["sex","sexes"],["move","moves"],["cow","kine"],["zombie","zombies"]],uncountable:["equipment","information","rice","money","species","series","fish","sheep","jeans","police"]};Lt.inflector=new Lt(Dt),Ember.Handlebars.helper("singularize",h),Ember.Handlebars.helper("pluralize",function(e,t){return arguments.length<3?l(e):(1!=e&&(t=l(t)),e+" "+t)}),(Ember.EXTEND_PROTOTYPES===!0||Ember.EXTEND_PROTOTYPES.String)&&(String.prototype.pluralize=function(){return l(this)},String.prototype.singularize=function(){return h(this)}),Lt.defaultRules=Dt,Ember.Inflector=Lt,Ember.String.pluralize=l,Ember.String.singularize=h;var Ft=Ember.String.decamelize,Bt=Ember.String.underscore,It=Mt.extend({defaultSerializer:"-active-model",pathForType:function(e){var t=Ft(e),r=Bt(t);return l(r)},ajaxError:function(t){var r=this._super.apply(this,arguments);return t&&422===t.status?new e(Ember.$.parseJSON(t.responseText)):r}}),zt=It,Ut=Ember.get,Vt=Ember.isNone,jt=Ember.ArrayPolyfills.map,qt=Ember.merge,Gt=Ember.Object.extend({primaryKey:"id",applyTransforms:function(e,t){return e.eachTransformedAttribute(function(e,r){if(t.hasOwnProperty(e)){var n=this.transformFor(r);t[e]=n.deserialize(t[e])}},this),t},normalize:function(e,t){return t?(this.normalizeId(t),this.normalizeAttributes(e,t),this.normalizeRelationships(e,t),this.normalizeUsingDeclaredMapping(e,t),this.applyTransforms(e,t),t):t},normalizePayload:function(e){return e},normalizeAttributes:function(e,t){var r;this.keyForAttribute&&e.eachAttribute(function(e){r=this.keyForAttribute(e),e!==r&&t.hasOwnProperty(r)&&(t[e]=t[r],delete t[r])},this)},normalizeRelationships:function(e,t){var r;this.keyForRelationship&&e.eachRelationship(function(e,n){r=this.keyForRelationship(e,n.kind),e!==r&&t.hasOwnProperty(r)&&(t[e]=t[r],delete t[r])},this)},normalizeUsingDeclaredMapping:function(e,t){var r,n,i=Ut(this,"attrs");if(i)for(n in i)r=this._getMappedKey(n),t.hasOwnProperty(r)&&r!==n&&(t[n]=t[r],delete t[r])},normalizeId:function(e){var t=Ut(this,"primaryKey");"id"!==t&&(e.id=e[t],delete e[t])},normalizeErrors:function(e,t){this.normalizeId(t),this.normalizeAttributes(e,t),this.normalizeRelationships(e,t)},_getMappedKey:function(e){var t,r=Ut(this,"attrs");return r&&r[e]&&(t=r[e],t.key&&(t=t.key),"string"==typeof t&&(e=t)),e},_canSerialize:function(e){var t=Ut(this,"attrs");return!t||!t[e]||t[e].serialize!==!1},serialize:function(e,t){var r={};if(t&&t.includeId){var n=Ut(e,"id");n&&(r[Ut(this,"primaryKey")]=n)}return e.eachAttribute(function(t,n){this.serializeAttribute(e,r,t,n)},this),e.eachRelationship(function(t,n){"belongsTo"===n.kind?this.serializeBelongsTo(e,r,n):"hasMany"===n.kind&&this.serializeHasMany(e,r,n)},this),r},serializeIntoHash:function(e,t,r,n){qt(e,this.serialize(r,n))},serializeAttribute:function(e,t,r,n){var i=n.type;if(this._canSerialize(r)){var o=Ut(e,r);if(i){var a=this.transformFor(i);o=a.serialize(o)}var s=this._getMappedKey(r);s===r&&this.keyForAttribute&&(s=this.keyForAttribute(r)),t[s]=o}},serializeBelongsTo:function(e,t,r){var n=r.key;if(this._canSerialize(n)){var i=Ut(e,n),o=this._getMappedKey(n);o===n&&this.keyForRelationship&&(o=this.keyForRelationship(n,"belongsTo")),t[o]=Vt(i)||Vt(Ut(i,"id"))?null:Ut(i,"id"),r.options.polymorphic&&this.serializePolymorphicType(e,t,r)}},serializeHasMany:function(e,t,r){var n=r.key;if(this._canSerialize(n)){var i;i=this._getMappedKey(n),i===n&&this.keyForRelationship&&(i=this.keyForRelationship(n,"hasMany"));var o=e.constructor.determineRelationshipType(r);("manyToNone"===o||"manyToMany"===o)&&(t[i]=Ut(e,n).mapBy("id"))}},serializePolymorphicType:Ember.K,extract:function(e,t,r,n,i){this.extractMeta(e,t,r);var o="extract"+i.charAt(0).toUpperCase()+i.substr(1);return this[o](e,t,r,n,i)},extractFindAll:function(e,t,r,n,i){return this.extractArray(e,t,r,n,i)},extractFindQuery:function(e,t,r,n,i){return this.extractArray(e,t,r,n,i)},extractFindMany:function(e,t,r,n,i){return this.extractArray(e,t,r,n,i)},extractFindHasMany:function(e,t,r,n,i){return this.extractArray(e,t,r,n,i)},extractCreateRecord:function(e,t,r,n,i){return this.extractSave(e,t,r,n,i)},extractUpdateRecord:function(e,t,r,n,i){return this.extractSave(e,t,r,n,i)},extractDeleteRecord:function(e,t,r,n,i){return this.extractSave(e,t,r,n,i)},extractFind:function(e,t,r,n,i){return this.extractSingle(e,t,r,n,i)},extractFindBelongsTo:function(e,t,r,n,i){return this.extractSingle(e,t,r,n,i)},extractSave:function(e,t,r,n,i){return this.extractSingle(e,t,r,n,i)},extractSingle:function(e,t,r){return r=this.normalizePayload(r),this.normalize(t,r)},extractArray:function(e,t,r){var n=this.normalizePayload(r),i=this;return jt.call(n,function(e){return i.normalize(t,e)})},extractMeta:function(e,t,r){r&&r.meta&&(e.setMetadataFor(t,r.meta),delete r.meta)},extractErrors:function(e,t,r){return r&&"object"==typeof r&&r.errors&&(r=r.errors,this.normalizeErrors(t,r)),r},keyForAttribute:function(e){return e},keyForRelationship:function(e){return e},transformFor:function(e){var t=this.container.lookup("transform:"+e);return t}}),Wt=Ember.get,Kt=Ember.ArrayPolyfills.forEach,Xt=Ember.ArrayPolyfills.map,Yt=Ember.String.camelize,$t=Gt.extend({normalize:function(e,t,r){return this.normalizeId(t),this.normalizeAttributes(e,t),this.normalizeRelationships(e,t),this.normalizeUsingDeclaredMapping(e,t),this.normalizeHash&&this.normalizeHash[r]&&this.normalizeHash[r](t),this.applyTransforms(e,t),t},extractSingle:function(e,t,r,n){var i,o=this.normalizePayload(r),a=t.typeKey;for(var s in o){var u=this.typeForRoot(s);if(e.modelFactoryFor(u)){var c=e.modelFor(u),l=c.typeKey===a,h=o[s];null!==h&&(l&&"array"!==Ember.typeOf(h)?i=this.normalize(t,h,s):Kt.call(h,function(t){var r=this.typeForRoot(s),o=e.modelFor(r),a=e.serializerFor(o);t=a.normalize(o,t,s);var u=l&&!n&&!i,c=l&&f(t.id)===n;u||c?i=t:e.push(r,t)},this))}}return i},extractArray:function(e,t,r){var n,i=this.normalizePayload(r),o=t.typeKey;for(var a in i){var s=a,u=!1;"_"===a.charAt(0)&&(u=!0,s=a.substr(1));var c=this.typeForRoot(s);if(e.modelFactoryFor(c)){var l=e.modelFor(c),h=e.serializerFor(l),f=!u&&l.typeKey===o,d=Xt.call(i[a],function(e){return h.normalize(l,e,a)},this);f?n=d:e.pushMany(c,d)}}return n},pushPayload:function(e,t){var r=this.normalizePayload(t);for(var n in r){var i=this.typeForRoot(n);if(e.modelFactoryFor(i,n)){var o=e.modelFor(i),a=e.serializerFor(o),s=Xt.call(Ember.makeArray(r[n]),function(e){return a.normalize(o,e,n)},this);e.pushMany(i,s)}}},typeForRoot:function(e){return Yt(h(e))},serialize:function(){return this._super.apply(this,arguments)},serializeIntoHash:function(e,t,r,n){e[t.typeKey]=this.serialize(r,n)},serializePolymorphicType:function(e,t,r){var n=r.key,i=Wt(e,n);n=this.keyForAttribute?this.keyForAttribute(n):n,t[n+"Type"]=Ember.isNone(i)?null:Ember.String.camelize(i.constructor.typeKey)}}),Qt=$t,Zt=Ember.get,Jt=Ember.EnumerableUtils.forEach,er=Ember.String.camelize,tr=Ember.String.capitalize,rr=Ember.String.decamelize,nr=Ember.String.underscore,ir=Qt.extend({keyForAttribute:function(e){return rr(e)},keyForRelationship:function(e,t){var r=rr(e);return"belongsTo"===t?r+"_id":"hasMany"===t?h(r)+"_ids":r},serializeHasMany:Ember.K,serializeIntoHash:function(e,t,r,n){var i=nr(rr(t.typeKey));e[i]=this.serialize(r,n)},serializePolymorphicType:function(e,t,r){var n=r.key,i=Zt(e,n),o=nr(n+"_type");t[o]=Ember.isNone(i)?null:tr(er(i.constructor.typeKey))},normalize:function(e,t,r){return this.normalizeLinks(t),this._super(e,t,r)},normalizeLinks:function(e){if(e.links){var t=e.links;for(var r in t){var n=er(r);n!==r&&(t[n]=t[r],delete t[r])}}},normalizeRelationships:function(e,t){this.keyForRelationship&&e.eachRelationship(function(e,r){var n,i;if(r.options.polymorphic){if(n=this.keyForAttribute(e),i=t[n],i&&i.type)i.type=this.typeForRoot(i.type);else if(i&&"hasMany"===r.kind){var o=this;Jt(i,function(e){e.type=o.typeForRoot(e.type)})}}else{if(n=this.keyForRelationship(e,r.kind),!t.hasOwnProperty(n))return;i=t[n]}t[e]=i,e!==n&&delete t[n]},this)}}),or=ir;d.prototype.aliasedFactory=function(e,t){var r=this;return{create:function(){return t&&t(),r.container.lookup(e)}}},d.prototype.registerAlias=function(e,t,r){var n=this.aliasedFactory(t,r);return this.container.register(e,n)},d.prototype.registerDeprecation=function(e,t){var r=function(){};return this.registerAlias(e,t,r)},d.prototype.registerDeprecations=function(e){var t,r,n,i;for(t=e.length;t>0;t--)r=e[t-1],n=r.deprecated,i=r.valid,this.registerDeprecation(n,i)};var ar=d,sr=p,ur=Ember.Namespace.create({VERSION:"1.0.0-beta.14.1"});Ember.libraries&&Ember.libraries.registerCoreLibrary("Ember Data",ur.VERSION);var cr=ur,lr=Ember.RSVP.Promise,hr=Ember.get,fr=Ember.ArrayProxy.extend(Ember.PromiseProxyMixin),dr=Ember.ObjectProxy.extend(Ember.PromiseProxyMixin),pr=function(e,t){return dr.create({promise:lr.resolve(e,t)})},mr=function(e,t){return fr.create({promise:lr.resolve(e,t)})},gr=fr.extend({reload:function(){return gr.create({promise:hr(this,"content").reload()})},createRecord:m("createRecord"),on:m("on"),one:m("one"),trigger:m("trigger"),off:m("off"),has:m("has")}),yr=Ember.get,vr=Ember.set,br=Ember.ArrayProxy.extend(Ember.Evented,{type:null,content:null,isLoaded:!1,isUpdating:!1,store:null,objectAtContent:function(e){var t=yr(this,"content");return t.objectAt(e)},update:function(){if(!yr(this,"isUpdating")){var e=yr(this,"store"),t=yr(this,"type");return e.fetchAll(t,this)}},addRecord:function(e,t){var r=yr(this,"content");void 0===t?r.addObject(e):r.contains(e)||r.insertAt(t,e)},pushRecord:function(e){yr(this,"content").pushObject(e)},removeRecord:function(e){yr(this,"content").removeObject(e)},save:function(){var e="DS: RecordArray#save "+yr(this,"type"),t=Ember.RSVP.all(this.invoke("save"),e).then(function(e){return Ember.A(e)},null,"DS: RecordArray#save apply Ember.NativeArray");return fr.create({promise:t})},_dissociateFromOwnRecords:function(){var e=this;this.forEach(function(t){var r=t._recordArrays;r&&r["delete"](e)})},_unregisterFromManager:function(){var e=yr(this,"manager");e&&e.unregisterFilteredRecordArray(this)},willDestroy:function(){this._unregisterFromManager(),this._dissociateFromOwnRecords(),vr(this,"content",void 0),this._super()}}),Er=Ember.get,xr=br.extend({filterFunction:null,isLoaded:!0,replace:function(){var e=Er(this,"type").toString();throw new Error("The result of a client-side filter (on "+e+") is immutable.")},_updateFilter:function(){var e=Er(this,"manager");e.updateFilter(this,Er(this,"type"),Er(this,"filterFunction"))},updateFilter:Ember.observer(function(){Ember.run.once(this,this._updateFilter)},"filterFunction")}),wr=Ember.get,_r=br.extend({query:null,replace:function(){var e=wr(this,"type").toString();throw new Error("The result of a server query (on "+e+") is immutable.")},load:function(e){var t=wr(this,"store"),r=wr(this,"type"),n=t.pushMany(r,e),i=t.metadataFor(r);this.setProperties({content:Ember.A(n),isLoaded:!0,meta:g(i)}),n.forEach(function(e){this.manager.recordArraysForRecord(e).add(this)},this),Ember.run.once(this,"trigger","didLoad")}}),Tr=Ember.get,Rr=Ember.set,Sr=Ember.Object.extend(Ember.MutableArray,Ember.Evented,{init:function(){this.currentState=Ember.A([]),this.diff=[]},record:null,canonicalState:null,currentState:null,diff:null,length:0,objectAt:function(e){return this.currentState[e]?this.currentState[e]:this.canonicalState[e]},flushCanonical:function(){var e=this.canonicalState.slice(0),t=this.currentState.filter(function(e){return e.get("isNew")});e=e.concat(t),this.arrayContentWillChange(0,this.length,this.length),this.set("length",e.length),this.currentState=e,this.arrayContentDidChange(0,this.length,this.length),this.relationship.notifyHasManyChanged(),this.record.updateRecordArrays()},isPolymorphic:!1,isLoaded:!1,relationship:null,internalReplace:function(e,t,r){r||(r=[]),this.arrayContentWillChange(e,t,r.length),this.currentState.splice.apply(this.currentState,[e,t].concat(r)),this.set("length",this.currentState.length),this.arrayContentDidChange(e,t,r.length),r&&this.relationship.notifyHasManyChanged(),this.record.updateRecordArrays()},internalRemoveRecords:function(e){for(var t,r=0;r<e.length;r++)t=this.currentState.indexOf(e[r]),this.internalReplace(t,1)},internalAddRecords:function(e,t){void 0===t&&(t=this.currentState.length),this.internalReplace(t,0,e)},replace:function(e,t,r){var n;t>0&&(n=this.currentState.slice(e,e+t),this.get("relationship").removeRecords(n)),r&&this.get("relationship").addRecords(r,e)},promise:null,loadingRecordsCount:function(e){this.loadingRecordsCount=e},loadedRecord:function(){this.loadingRecordsCount--,0===this.loadingRecordsCount&&(Rr(this,"isLoaded",!0),this.trigger("didLoad"))},reload:function(){return this.relationship.reload()},createRecord:function(e){var t,r=Tr(this,"store"),n=Tr(this,"type");return t=r.createRecord(n,e),this.pushObject(t),t}}),Cr=Ember.get,Hr=Ember.EnumerableUtils.forEach,Mr=Ember.EnumerableUtils.indexOf,Ar=Ember.Object.extend({init:function(){this.filteredRecordArrays=n.create({defaultValue:function(){return[]}}),this.changedRecords=[],this._adapterPopulatedRecordArrays=[]},recordDidChange:function(e){1===this.changedRecords.push(e)&&Ember.run.schedule("actions",this,this.updateRecordArrays)},recordArraysForRecord:function(e){return e._recordArrays=e._recordArrays||t.create(),e._recordArrays},updateRecordArrays:function(){Hr(this.changedRecords,function(e){Cr(e,"isDeleted")?this._recordWasDeleted(e):this._recordWasChanged(e)},this),this.changedRecords.length=0},_recordWasDeleted:function(e){var t=e._recordArrays;t&&(t.forEach(function(t){t.removeRecord(e)}),e._recordArrays=null)},_recordWasChanged:function(e){var t,r=e.constructor,n=this.filteredRecordArrays.get(r);Hr(n,function(n){t=Cr(n,"filterFunction"),this.updateRecordArray(n,t,r,e)},this);var i=e._loadingRecordArrays;if(i){for(var o=0,a=i.length;a>o;o++)i[o].loadedRecord();e._loadingRecordArrays=[]}},updateRecordArray:function(e,t,r,n){var i;i=t?t(n):!0;var o=this.recordArraysForRecord(n);i?o.has(e)||(e.pushRecord(n),o.add(e)):i||(o["delete"](e),e.removeRecord(n))},updateFilter:function(e,t,r){for(var n,i=this.store.typeMapFor(t),o=i.records,a=0,s=o.length;s>a;a++)n=o[a],Cr(n,"isDeleted")||Cr(n,"isEmpty")||this.updateRecordArray(e,r,t,n)},createRecordArray:function(e){var t=br.create({type:e,content:Ember.A(),store:this.store,isLoaded:!0,manager:this});return this.registerFilteredRecordArray(t,e),t},createFilteredRecordArray:function(e,t,r){var n=xr.create({query:r,type:e,content:Ember.A(),store:this.store,manager:this,filterFunction:t});return this.registerFilteredRecordArray(n,e,t),n},createAdapterPopulatedRecordArray:function(e,t){var r=_r.create({type:e,query:t,content:Ember.A(),store:this.store,manager:this});return this._adapterPopulatedRecordArrays.push(r),r},registerFilteredRecordArray:function(e,t,r){var n=this.filteredRecordArrays.get(t);n.push(e),this.updateFilter(e,t,r)},unregisterFilteredRecordArray:function(e){var t=this.filteredRecordArrays.get(e.type),r=Mr(t,e);t.splice(r,1)},registerWaitingRecordArray:function(e,t){var r=e._loadingRecordArrays||[];r.push(t),e._loadingRecordArrays=r},willDestroy:function(){this._super(),Hr(b(y(this.filteredRecordArrays.values)),v),Hr(this._adapterPopulatedRecordArrays,v)}}),Nr=Ember.get,Pr=Ember.set,kr={initialState:"uncommitted",isDirty:!0,uncommitted:{didSetProperty:E,loadingData:Ember.K,propertyWasReset:function(e){var t=Ember.keys(e._attributes).length,r=t>0;r||e.send("rolledBack")},pushedData:Ember.K,becomeDirty:Ember.K,willCommit:function(e){e.transitionTo("inFlight")},reloadRecord:function(e,t){t(Nr(e,"store").reloadRecord(e))},rolledBack:function(e){e.transitionTo("loaded.saved")},becameInvalid:function(e){e.transitionTo("invalid")},rollback:function(e){e.rollback()}},inFlight:{isSaving:!0,didSetProperty:E,becomeDirty:Ember.K,pushedData:Ember.K,unloadRecord:function(){},willCommit:Ember.K,didCommit:function(e){var t=Nr(this,"dirtyType");e.transitionTo("saved"),e.send("invokeLifecycleCallbacks",t)},becameInvalid:function(e){e.transitionTo("invalid"),e.send("invokeLifecycleCallbacks")},becameError:function(e){e.transitionTo("uncommitted"),e.triggerLater("becameError",e)}},invalid:{isValid:!1,deleteRecord:function(e){e.transitionTo("deleted.uncommitted"),e.disconnectRelationships()},didSetProperty:function(e,t){Nr(e,"errors").remove(t.name),E(e,t)},becomeDirty:Ember.K,willCommit:function(e){Nr(e,"errors").clear(),e.transitionTo("inFlight")},rolledBack:function(e){Nr(e,"errors").clear()},becameValid:function(e){e.transitionTo("uncommitted")},invokeLifecycleCallbacks:function(e){e.triggerLater("becameInvalid",e)},exit:function(e){e._inFlightAttributes={}}}},Or=_({dirtyType:"created",isNew:!0});Or.uncommitted.rolledBack=function(e){e.transitionTo("deleted.saved")};var Lr=_({dirtyType:"updated"});Or.uncommitted.deleteRecord=function(e){e.disconnectRelationships(),e.transitionTo("deleted.saved")},Or.uncommitted.rollback=function(e){kr.uncommitted.rollback.apply(this,arguments),e.transitionTo("deleted.saved")},Or.uncommitted.propertyWasReset=Ember.K,Lr.inFlight.unloadRecord=T,Lr.uncommitted.deleteRecord=function(e){e.transitionTo("deleted.uncommitted"),e.disconnectRelationships()};var Dr={isEmpty:!1,isLoading:!1,isLoaded:!1,isDirty:!1,isSaving:!1,isDeleted:!1,isNew:!1,isValid:!0,rolledBack:Ember.K,unloadRecord:function(e){e.clearRelationships(),e.transitionTo("deleted.saved")},propertyWasReset:Ember.K,empty:{isEmpty:!0,loadingData:function(e,t){e._loadingPromise=t,e.transitionTo("loading")},loadedData:function(e){e.transitionTo("loaded.created.uncommitted")},pushedData:function(e){e.transitionTo("loaded.saved"),e.triggerLater("didLoad")}},loading:{isLoading:!0,exit:function(e){e._loadingPromise=null},pushedData:function(e){e.transitionTo("loaded.saved"),e.triggerLater("didLoad"),Pr(e,"isError",!1)},becameError:function(e){e.triggerLater("becameError",e)},notFound:function(e){e.transitionTo("empty")}},loaded:{initialState:"saved",isLoaded:!0,loadingData:Ember.K,saved:{setup:function(e){var t=e._attributes,r=Ember.keys(t).length>0;r&&e.adapterDidDirty()},didSetProperty:E,pushedData:Ember.K,becomeDirty:function(e){e.transitionTo("updated.uncommitted")},willCommit:function(e){e.transitionTo("updated.inFlight")},reloadRecord:function(e,t){t(Nr(e,"store").reloadRecord(e))},deleteRecord:function(e){e.transitionTo("deleted.uncommitted"),e.disconnectRelationships()},unloadRecord:function(e){e.clearRelationships(),e.transitionTo("deleted.saved")},didCommit:function(e){e.send("invokeLifecycleCallbacks",Nr(e,"lastDirtyType"))},notFound:Ember.K},created:Or,updated:Lr},deleted:{initialState:"uncommitted",dirtyType:"deleted",isDeleted:!0,isLoaded:!0,isDirty:!0,setup:function(e){e.updateRecordArrays()},uncommitted:{willCommit:function(e){e.transitionTo("inFlight")},rollback:function(e){e.rollback()},becomeDirty:Ember.K,deleteRecord:Ember.K,rolledBack:function(e){e.transitionTo("loaded.saved")}},inFlight:{isSaving:!0,unloadRecord:T,willCommit:Ember.K,didCommit:function(e){e.transitionTo("saved"),e.send("invokeLifecycleCallbacks")},becameError:function(e){e.transitionTo("uncommitted"),e.triggerLater("becameError",e)}},saved:{isDirty:!1,setup:function(e){var t=Nr(e,"store");t.dematerializeRecord(e)},invokeLifecycleCallbacks:function(e){e.triggerLater("didDelete",e),e.triggerLater("didCommit",e)},willCommit:Ember.K,didCommit:Ember.K}},invokeLifecycleCallbacks:function(e,t){"created"===t?e.triggerLater("didCreate",e):e.triggerLater("didUpdate",e),e.triggerLater("didCommit",e)}};Dr=R(Dr,null,"root");var Fr=Dr,Br=Ember.get,Ir=Ember.isEmpty,zr=Ember.EnumerableUtils.map,Ur=Ember.Object.extend(Ember.Enumerable,Ember.Evented,{registerHandlers:function(e,t,r){this.on("becameInvalid",e,t),this.on("becameValid",e,r)},errorsByAttributeName:Ember.reduceComputed("content",{initialValue:function(){return n.create({defaultValue:function(){return Ember.A()}})},addedItem:function(e,t){return e.get(t.attribute).pushObject(t),e},removedItem:function(e,t){return e.get(t.attribute).removeObject(t),e}}),errorsFor:function(e){return Br(this,"errorsByAttributeName").get(e)},messages:Ember.computed.mapBy("content","message"),content:Ember.computed(function(){return Ember.A()}),unknownProperty:function(e){var t=this.errorsFor(e);return Ir(t)?null:t},nextObject:function(e){return Br(this,"content").objectAt(e)},length:Ember.computed.oneWay("content.length").readOnly(),isEmpty:Ember.computed.not("length").readOnly(),add:function(e,t){var r=Br(this,"isEmpty");t=this._findOrCreateMessages(e,t),Br(this,"content").addObjects(t),this.notifyPropertyChange(e),this.enumerableContentDidChange(),r&&!Br(this,"isEmpty")&&this.trigger("becameInvalid")},_findOrCreateMessages:function(e,t){var r=this.errorsFor(e);return zr(Ember.makeArray(t),function(t){return r.findBy("message",t)||{attribute:e,message:t}})},remove:function(e){if(!Br(this,"isEmpty")){var t=Br(this,"content").rejectBy("attribute",e);Br(this,"content").setObjects(t),this.notifyPropertyChange(e),this.enumerableContentDidChange(),Br(this,"isEmpty")&&this.trigger("becameValid")}},clear:function(){Br(this,"isEmpty")||(Br(this,"content").clear(),this.enumerableContentDidChange(),this.trigger("becameValid"))},has:function(e){return!Ir(this.errorsFor(e))}}),Vr=S,jr=Ember.EnumerableUtils.forEach,qr=function(e,r,n,i){this.members=new t,this.canonicalMembers=new t,this.store=e,this.key=i.key,this.inverseKey=n,this.record=r,this.isAsync=i.options.async,this.relationshipMeta=i,this.inverseKeyForImplicit=this.store.modelFor(this.record.constructor).typeKey+this.key,this.linkPromise=null};qr.prototype={constructor:qr,destroy:Ember.K,clear:function(){for(var e,t=this.members.list;t.length>0;)e=t[0],this.removeRecord(e)},disconnect:function(){this.members.forEach(function(e){this.removeRecordFromInverse(e)},this)},reconnect:function(){this.members.forEach(function(e){this.addRecordToInverse(e)},this)},removeRecords:function(e){var t=this;jr(e,function(e){t.removeRecord(e)})},addRecords:function(e,t){var r=this;jr(e,function(e){r.addRecord(e,t),void 0!==t&&t++})},addCanonicalRecords:function(e,t){for(var r=0;r<e.length;r++)void 0!==t?this.addCanonicalRecord(e[r],r+t):this.addCanonicalRecord(e[r])},addCanonicalRecord:function(e){this.canonicalMembers.has(e)||(this.canonicalMembers.add(e),this.inverseKey?e._relationships[this.inverseKey].addCanonicalRecord(this.record):(e._implicitRelationships[this.inverseKeyForImplicit]||(e._implicitRelationships[this.inverseKeyForImplicit]=new qr(this.store,e,this.key,{options:{}})),e._implicitRelationships[this.inverseKeyForImplicit].addCanonicalRecord(this.record))),this.flushCanonicalLater()},removeCanonicalRecords:function(e,t){for(var r=0;r<e.length;r++)void 0!==t?this.removeCanonicalRecord(e[r],r+t):this.removeCanonicalRecord(e[r])},removeCanonicalRecord:function(e){this.canonicalMembers.has(e)&&(this.removeCanonicalRecordFromOwn(e),this.inverseKey?this.removeCanonicalRecordFromInverse(e):e._implicitRelationships[this.inverseKeyForImplicit]&&e._implicitRelationships[this.inverseKeyForImplicit].removeCanonicalRecord(this.record)),this.flushCanonicalLater()},addRecord:function(e,t){this.members.has(e)||(this.members.add(e),this.notifyRecordRelationshipAdded(e,t),this.inverseKey?e._relationships[this.inverseKey].addRecord(this.record):(e._implicitRelationships[this.inverseKeyForImplicit]||(e._implicitRelationships[this.inverseKeyForImplicit]=new qr(this.store,e,this.key,{options:{}})),e._implicitRelationships[this.inverseKeyForImplicit].addRecord(this.record)),this.record.updateRecordArrays())},removeRecord:function(e){this.members.has(e)&&(this.removeRecordFromOwn(e),this.inverseKey?this.removeRecordFromInverse(e):e._implicitRelationships[this.inverseKeyForImplicit]&&e._implicitRelationships[this.inverseKeyForImplicit].removeRecord(this.record))},addRecordToInverse:function(e){this.inverseKey&&e._relationships[this.inverseKey].addRecord(this.record)},removeRecordFromInverse:function(e){var t=e._relationships[this.inverseKey];t&&t.removeRecordFromOwn(this.record)},removeRecordFromOwn:function(e){this.members["delete"](e),this.notifyRecordRelationshipRemoved(e),this.record.updateRecordArrays()},removeCanonicalRecordFromInverse:function(e){var t=e._relationships[this.inverseKey];t&&t.removeCanonicalRecordFromOwn(this.record)},removeCanonicalRecordFromOwn:function(e){this.canonicalMembers["delete"](e),this.flushCanonicalLater()},flushCanonical:function(){this.willSync=!1;for(var e=[],t=0;t<this.members.list.length;t++)this.members.list[t].get("isNew")&&e.push(this.members.list[t]);for(this.members=this.canonicalMembers.copy(),t=0;t<e.length;t++)this.members.add(e[t])},flushCanonicalLater:function(){if(!this.willSync){this.willSync=!0;var e=this;this.store._backburner.join(function(){e.store._backburner.schedule("syncRelationships",e,e.flushCanonical)})}},updateLink:function(e){e!==this.link&&(this.link=e,this.linkPromise=null,this.record.notifyPropertyChange(this.key))},findLink:function(){if(this.linkPromise)return this.linkPromise;var e=this.fetchLink();return this.linkPromise=e,e.then(function(e){return e})},updateRecordsFromAdapter:function(e){var t=this;t.computeChanges(e)},notifyRecordRelationshipAdded:Ember.K,notifyRecordRelationshipRemoved:Ember.K};var Gr=qr,Wr=function(e,t,r,n){this._super$constructor(e,t,r,n),this.belongsToType=n.type,this.canonicalState=[],this.manyArray=Sr.create({canonicalState:this.canonicalState,store:this.store,relationship:this,type:this.belongsToType,record:t}),this.isPolymorphic=n.options.polymorphic,this.manyArray.isPolymorphic=this.isPolymorphic};Wr.prototype=Ember.create(Gr.prototype),Wr.prototype.constructor=Wr,Wr.prototype._super$constructor=Gr,Wr.prototype.destroy=function(){this.manyArray.destroy()},Wr.prototype._super$addCanonicalRecord=Gr.prototype.addCanonicalRecord,Wr.prototype.addCanonicalRecord=function(e,t){this.canonicalMembers.has(e)||(void 0!==t?this.canonicalState.splice(t,0,e):this.canonicalState.push(e),this._super$addCanonicalRecord(e,t))},Wr.prototype._super$addRecord=Gr.prototype.addRecord,Wr.prototype.addRecord=function(e,t){this.members.has(e)||(this._super$addRecord(e,t),this.manyArray.internalAddRecords([e],t))},Wr.prototype._super$removeCanonicalRecordFromOwn=Gr.prototype.removeCanonicalRecordFromOwn,Wr.prototype.removeCanonicalRecordFromOwn=function(e,t){var r=t;this.canonicalMembers.has(e)&&(void 0===r&&(r=this.canonicalState.indexOf(e)),r>-1&&this.canonicalState.splice(r,1),this._super$removeCanonicalRecordFromOwn(e,t))},Wr.prototype._super$flushCanonical=Gr.prototype.flushCanonical,Wr.prototype.flushCanonical=function(){this.manyArray.flushCanonical(),this._super$flushCanonical()},Wr.prototype._super$removeRecordFromOwn=Gr.prototype.removeRecordFromOwn,Wr.prototype.removeRecordFromOwn=function(e,t){this.members.has(e)&&(this._super$removeRecordFromOwn(e,t),void 0!==t?this.manyArray.currentState.removeAt(t):this.manyArray.internalRemoveRecords([e]))},Wr.prototype.notifyRecordRelationshipAdded=function(e,t){this.relationshipMeta.type;this.record.notifyHasManyAdded(this.key,e,t)},Wr.prototype.reload=function(){var e=this;return this.link?this.fetchLink():this.store.scheduleFetchMany(this.manyArray.toArray()).then(function(){return e.manyArray.set("isLoaded",!0),e.manyArray})},Wr.prototype.computeChanges=function(e){var t,r,n,i=this.canonicalMembers,o=[];e=C(e),i.forEach(function(t){e.has(t)||o.push(t)}),this.removeCanonicalRecords(o);var a=this.manyArray;for(e=e.toArray(),t=e.length,n=0;t>n;n++)r=e[n],a.objectAt(n)!==r&&(this.removeCanonicalRecord(r),this.addCanonicalRecord(r,n))},Wr.prototype.fetchLink=function(){var e=this;return this.store.findHasMany(this.record,this.link,this.relationshipMeta).then(function(t){return e.updateRecordsFromAdapter(t),e.manyArray})},Wr.prototype.findRecords=function(){var e=this.manyArray;return this.store.findMany(e.toArray()).then(function(){return e.set("isLoaded",!0),e})},Wr.prototype.notifyHasManyChanged=function(){this.record.notifyHasManyAdded(this.key)},Wr.prototype.getRecords=function(){if(this.isAsync){var e,t=this;return e=this.link?this.findLink().then(function(){return t.findRecords()}):this.findRecords(),gr.create({content:this.manyArray,promise:e})}return this.manyArray.get("isDestroyed")||this.manyArray.set("isLoaded",!0),this.manyArray};var Kr=Wr,Xr=function(e,t,r,n){this._super$constructor(e,t,r,n),this.record=t,this.key=n.key,this.inverseRecord=null,this.canonicalState=null};Xr.prototype=Ember.create(Gr.prototype),Xr.prototype.constructor=Xr,Xr.prototype._super$constructor=Gr,Xr.prototype.setRecord=function(e){e?this.addRecord(e):this.inverseRecord&&this.removeRecord(this.inverseRecord)},Xr.prototype.setCanonicalRecord=function(e){e?this.addCanonicalRecord(e):this.inverseRecord&&this.removeCanonicalRecord(this.inverseRecord)},Xr.prototype._super$addCanonicalRecord=Gr.prototype.addCanonicalRecord,Xr.prototype.addCanonicalRecord=function(e){if(!this.canonicalMembers.has(e)){{this.relationshipMeta.type}this.canonicalState&&this.removeCanonicalRecord(this.canonicalState),this.canonicalState=e,this._super$addCanonicalRecord(e)}},Xr.prototype._super$flushCanonical=Gr.prototype.flushCanonical,Xr.prototype.flushCanonical=function(){this.inverseRecord&&this.inverseRecord.get("isNew")&&!this.canonicalState||(this.inverseRecord=this.canonicalState,this.record.notifyBelongsToChanged(this.key),this._super$flushCanonical())},Xr.prototype._super$addRecord=Gr.prototype.addRecord,Xr.prototype.addRecord=function(e){if(!this.members.has(e)){{this.relationshipMeta.type
}this.inverseRecord&&this.removeRecord(this.inverseRecord),this.inverseRecord=e,this._super$addRecord(e),this.record.notifyBelongsToChanged(this.key)}},Xr.prototype.setRecordPromise=function(e){var t=e.get&&e.get("content");this.setRecord(t)},Xr.prototype._super$removeRecordFromOwn=Gr.prototype.removeRecordFromOwn,Xr.prototype.removeRecordFromOwn=function(e){this.members.has(e)&&(this.inverseRecord=null,this._super$removeRecordFromOwn(e),this.record.notifyBelongsToChanged(this.key))},Xr.prototype._super$removeCanonicalRecordFromOwn=Gr.prototype.removeCanonicalRecordFromOwn,Xr.prototype.removeCanonicalRecordFromOwn=function(e){this.canonicalMembers.has(e)&&(this.canonicalState=null,this._super$removeCanonicalRecordFromOwn(e))},Xr.prototype.findRecord=function(){return this.inverseRecord?this.store._findByRecord(this.inverseRecord):Ember.RSVP.Promise.resolve(null)},Xr.prototype.fetchLink=function(){var e=this;return this.store.findBelongsTo(this.record,this.link,this.relationshipMeta).then(function(t){return t&&e.addRecord(t),t})},Xr.prototype.getRecord=function(){if(this.isAsync){var e;if(this.link){var t=this;e=this.findLink().then(function(){return t.findRecord()})}else e=this.findRecord();return dr.create({promise:e,content:this.inverseRecord})}return this.inverseRecord};var Yr=Xr,$r=function(e,t,r){var n,i=e.constructor.inverseFor(t.key);return i&&(n=i.name),"hasMany"===t.kind?new Kr(r,e,n,t):new Yr(r,e,n,t)},Qr=$r,Zr=Ember.get,Jr=Ember.set,en=Ember.RSVP.Promise,tn=Ember.ArrayPolyfills.forEach,rn=Ember.ArrayPolyfills.map,nn=Ember.computed("currentState",function(e){return Zr(Zr(this,"currentState"),e)}).readOnly(),on=Ember.create(null),an=Ember.create(null),sn=Ember.Object.extend(Ember.Evented,{_recordArrays:void 0,_relationships:void 0,_loadingRecordArrays:void 0,isEmpty:nn,isLoading:nn,isLoaded:nn,isDirty:nn,isSaving:nn,isDeleted:nn,isNew:nn,isValid:nn,dirtyType:nn,isError:!1,isReloading:!1,clientId:null,id:null,currentState:Fr.empty,errors:Ember.computed(function(){var e=Ur.create();return e.registerHandlers(this,function(){this.send("becameInvalid")},function(){this.send("becameValid")}),e}).readOnly(),serialize:function(e){var t=Zr(this,"store");return t.serialize(this,e)},toJSON:function(e){var t=Gt.create({container:this.container});return t.serialize(this,e)},didLoad:Ember.K,didUpdate:Ember.K,didCreate:Ember.K,didDelete:Ember.K,becameInvalid:Ember.K,becameError:Ember.K,data:Ember.computed(function(){return this._data=this._data||{},this._data}).readOnly(),_data:null,init:function(){this._super(),this._setup()},_setup:function(){this._changesToSync={},this._deferredTriggers=[],this._data={},this._attributes=Ember.create(null),this._inFlightAttributes=Ember.create(null),this._relationships={},this._implicitRelationships=Ember.create(null);var e=this;this.constructor.eachRelationship(function(t,r){e._relationships[t]=Qr(e,r,e.store)})},send:function(e,t){var r=Zr(this,"currentState");return r[e]||this._unhandledEvent(r,e,t),r[e](this,t)},transitionTo:function(e){var t=M(e),r=Zr(this,"currentState"),n=r;do n.exit&&n.exit(this),n=n.parentState;while(!n.hasOwnProperty(t));var i,o,a=H(e),s=[],u=[];for(i=0,o=a.length;o>i;i++)n=n[a[i]],n.enter&&u.push(n),n.setup&&s.push(n);for(i=0,o=u.length;o>i;i++)u[i].enter(this);for(Jr(this,"currentState",n),i=0,o=s.length;o>i;i++)s[i].setup(this);this.updateRecordArraysLater()},_unhandledEvent:function(e,t,r){var n="Attempted to handle event `"+t+"` ";throw n+="on "+String(this)+" while in state ",n+=e.stateName+". ",void 0!==r&&(n+="Called with "+Ember.inspect(r)+"."),new Ember.Error(n)},withTransaction:function(e){var t=Zr(this,"transaction");t&&e(t)},loadingData:function(e){this.send("loadingData",e)},loadedData:function(){this.send("loadedData")},notFound:function(){this.send("notFound")},pushedData:function(){this.send("pushedData")},deleteRecord:function(){this.send("deleteRecord")},destroyRecord:function(){return this.deleteRecord(),this.save()},unloadRecord:function(){this.isDestroyed||this.send("unloadRecord")},clearRelationships:function(){this.eachRelationship(function(e){var t=this._relationships[e];t&&(t.clear(),t.destroy())},this)},disconnectRelationships:function(){this.eachRelationship(function(e){this._relationships[e].disconnect()},this);var e=this;tn.call(Ember.keys(this._implicitRelationships),function(t){e._implicitRelationships[t].disconnect()})},reconnectRelationships:function(){this.eachRelationship(function(e){this._relationships[e].reconnect()},this);var e=this;tn.call(Ember.keys(this._implicitRelationships),function(t){e._implicitRelationships[t].reconnect()})},updateRecordArrays:function(){this._updatingRecordArraysLater=!1,Zr(this,"store").dataWasUpdated(this.constructor,this)},_preloadData:function(e){var t=this;tn.call(Ember.keys(e),function(r){var n=Zr(e,r),i=t.constructor.metaForProperty(r);i.isRelationship?t._preloadRelationship(r,n):Zr(t,"_data")[r]=n})},_preloadRelationship:function(e,t){var r=this.constructor.metaForProperty(e),n=r.type;"hasMany"===r.kind?this._preloadHasMany(e,t,n):this._preloadBelongsTo(e,t,n)},_preloadHasMany:function(e,t,r){var n=this,i=rn.call(t,function(e){return n._convertStringOrNumberIntoRecord(e,r)});this._relationships[e].updateRecordsFromAdapter(i)},_preloadBelongsTo:function(e,t,r){var n=this._convertStringOrNumberIntoRecord(t,r);this._relationships[e].setRecord(n)},_convertStringOrNumberIntoRecord:function(e,t){return"string"===Ember.typeOf(e)||"number"===Ember.typeOf(e)?this.store.recordForId(t,e):e},_notifyProperties:function(e){Ember.beginPropertyChanges();for(var t,r=0,n=e.length;n>r;r++)t=e[r],this.notifyPropertyChange(t);Ember.endPropertyChanges()},changedAttributes:function(){var e,t=Zr(this,"_data"),r=Zr(this,"_attributes"),n={};for(e in r)n[e]=[t[e],r[e]];return n},adapterWillCommit:function(){this.send("willCommit")},adapterDidCommit:function(e){Jr(this,"isError",!1),e?this._data=e:Vr(this._data,this._inFlightAttributes),this._inFlightAttributes=Ember.create(null),this.send("didCommit"),this.updateRecordArraysLater(),e&&this._notifyProperties(Ember.keys(e))},adapterDidDirty:function(){this.send("becomeDirty"),this.updateRecordArraysLater()},updateRecordArraysLater:function(){this._updatingRecordArraysLater||(this._updatingRecordArraysLater=!0,Ember.run.schedule("actions",this,this.updateRecordArrays))},setupData:function(e){Ember.merge(this._data,e),this.pushedData(),this._notifyProperties(Ember.keys(e))},materializeId:function(e){Jr(this,"id",e)},materializeAttributes:function(e){Vr(this._data,e)},materializeAttribute:function(e,t){this._data[e]=t},rollback:function(){var e=Ember.keys(this._attributes);this._attributes=Ember.create(null),Zr(this,"isError")&&(this._inFlightAttributes=Ember.create(null),Jr(this,"isError",!1)),Zr(this,"isDeleted")&&this.reconnectRelationships(),Zr(this,"isNew")&&this.clearRelationships(),Zr(this,"isValid")||(this._inFlightAttributes=Ember.create(null)),this.send("rolledBack"),this._notifyProperties(e)},toStringExtension:function(){return Zr(this,"id")},save:function(){var e="DS: Model#save "+this,t=Ember.RSVP.defer(e);return this.get("store").scheduleSave(this,t),this._inFlightAttributes=this._attributes,this._attributes=Ember.create(null),dr.create({promise:t.promise})},reload:function(){Jr(this,"isReloading",!0);var e=this,t="DS: Model#reload of "+this,r=new en(function(t){e.send("reloadRecord",t)},t).then(function(){return e.set("isReloading",!1),e.set("isError",!1),e},function(t){throw e.set("isError",!0),t},"DS: Model#reload complete, update flags")["finally"](function(){e.updateRecordArrays()});return dr.create({promise:r})},adapterDidInvalidate:function(e){function t(t){e[t]&&r.add(t,e[t])}var r=Zr(this,"errors");this.eachAttribute(t),this.eachRelationship(t),this._saveWasRejected()},adapterDidError:function(){this.send("becameError"),Jr(this,"isError",!0),this._saveWasRejected()},_saveWasRejected:function(){for(var e=Ember.keys(this._inFlightAttributes),t=0;t<e.length;t++)void 0===this._attributes[e[t]]&&(this._attributes[e[t]]=this._inFlightAttributes[e[t]]);this._inFlightAttributes=Ember.create(null)},trigger:function(){for(var e=arguments.length,t=new Array(e-1),r=arguments[0],n=1;e>n;n++)t[n-1]=arguments[n];Ember.tryInvoke(this,r,t),this._super.apply(this,arguments)},triggerLater:function(){for(var e=arguments.length,t=new Array(e),r=0;e>r;r++)t[r]=arguments[r];1===this._deferredTriggers.push(t)&&Ember.run.schedule("actions",this,"_triggerDeferredTriggers")},_triggerDeferredTriggers:function(){for(var e=0,t=this._deferredTriggers.length;t>e;e++)this.trigger.apply(this,this._deferredTriggers[e]);this._deferredTriggers.length=0},willDestroy:function(){this._super(),this.clearRelationships()},willMergeMixin:function(){}});sn.reopenClass({_create:sn.create,create:function(){throw new Ember.Error("You should not call `create` on a model. Instead, call `store.createRecord` with the attributes you would like to set.")}});var un=sn,cn=Ember.get;un.reopenClass({attributes:Ember.computed(function(){var e=r.create();return this.eachComputedProperty(function(t,r){r.isAttribute&&(r.name=t,e.set(t,r))}),e}).readOnly(),transformedAttributes:Ember.computed(function(){var e=r.create();return this.eachAttribute(function(t,r){r.type&&e.set(t,r.type)}),e}).readOnly(),eachAttribute:function(e,t){cn(this,"attributes").forEach(function(r,n){e.call(t,n,r)},t)},eachTransformedAttribute:function(e,t){cn(this,"transformedAttributes").forEach(function(r,n){e.call(t,n,r)})}}),un.reopen({eachAttribute:function(e,t){this.constructor.eachAttribute(e,t)}});var ln=k,hn=Ember.__loader.require("backburner")["default"]||Ember.__loader.require("backburner").Backburner;if(!hn.prototype.join){var fn=function(e){return"string"==typeof e};hn.prototype.join=function(){var e,t;if(this.currentInstance){var r=arguments.length;if(1===r?(e=arguments[0],t=null):(t=arguments[0],e=arguments[1]),fn(e)&&(e=t[e]),1===r)return e();if(2===r)return e.call(t);for(var n=new Array(r-2),i=0,o=r-2;o>i;i++)n[i]=arguments[i+2];return e.apply(t,n)}return this.run.apply(this,arguments)}}var dn,pn=Ember.get,mn=Ember.set,gn=Ember.run.once,yn=Ember.isNone,vn=Ember.EnumerableUtils.forEach,bn=Ember.EnumerableUtils.indexOf,En=Ember.EnumerableUtils.map,xn=Ember.RSVP.Promise,wn=Ember.copy,_n=Ember.String.camelize;dn=Ember.Object.extend({init:function(){this._backburner=new hn(["normalizeRelationships","syncRelationships","finished"]),this.typeMaps={},this.recordArrayManager=Ar.create({store:this}),this._pendingSave=[],this._pendingFetch=r.create()},adapter:"-rest",serialize:function(e,t){return this.serializerFor(e.constructor.typeKey).serialize(e,t)},defaultAdapter:Ember.computed("adapter",function(){var e=pn(this,"adapter");return"string"==typeof e&&(e=this.container.lookup("adapter:"+e)||this.container.lookup("adapter:application")||this.container.lookup("adapter:-rest")),DS.Adapter.detect(e)&&(e=e.create({container:this.container})),e}),createRecord:function(e,t){var r=this.modelFor(e),n=wn(t)||{};yn(n.id)&&(n.id=this._generateId(r)),n.id=O(n.id);var i=this.buildRecord(r,n.id);return i.loadedData(),i.setProperties(n),i},_generateId:function(e){var t=this.adapterFor(e);return t&&t.generateIdForRecord?t.generateIdForRecord(this):null},deleteRecord:function(e){e.deleteRecord()},unloadRecord:function(e){e.unloadRecord()},find:function(e,t,r){return 1===arguments.length?this.findAll(e):"object"===Ember.typeOf(t)?this.findQuery(e,t):this.findById(e,O(t),r)},fetch:function(e,t,r){return this.hasRecordForId(e,t)?this.getById(e,t).reload():this.find(e,t,r)},findById:function(e,t,r){var n=this.modelFor(e),i=this.recordForId(n,t);return this._findByRecord(i,r)},_findByRecord:function(e,t){var r;return t&&e._preloadData(t),pn(e,"isEmpty")?r=this.scheduleFetch(e):pn(e,"isLoading")&&(r=e._loadingPromise),pr(r||e,"DS: Store#findByRecord "+e.typeKey+" with id: "+pn(e,"id"))},findByIds:function(e,t){var r=this;return mr(Ember.RSVP.all(En(t,function(t){return r.findById(e,t)})).then(Ember.A,null,"DS: Store#findByIds of "+e+" complete"))},fetchRecord:function(e){var t=e.constructor,r=pn(e,"id"),n=this.adapterFor(t),i=W(n,this,t,r,e);return i},scheduleFetchMany:function(e){return xn.all(En(e,this.scheduleFetch,this))},scheduleFetch:function(e){var t=e.constructor;if(yn(e))return null;if(e._loadingPromise)return e._loadingPromise;var r=Ember.RSVP.defer("Fetching "+t+"with id: "+e.get("id")),n={record:e,resolver:r},i=r.promise;return e.loadingData(i),this._pendingFetch.get(t)?this._pendingFetch.get(t).push(n):this._pendingFetch.set(t,[n]),Ember.run.scheduleOnce("afterRender",this,this.flushAllPendingFetches),i},flushAllPendingFetches:function(){this.isDestroyed||this.isDestroying||(this._pendingFetch.forEach(this._flushPendingFetchForType,this),this._pendingFetch=r.create())},_flushPendingFetchForType:function(e,t){function r(e){e.resolver.resolve(s.fetchRecord(e.record))}function n(t){vn(t,function(t){var r=Ember.A(e).findBy("record",t);if(r){var n=r.resolver;n.resolve(t)}})}function i(e){return function(t){var r=e.without(t);a(r)}}function o(e){return function(t){a(e,t)}}function a(t,r){vn(t,function(t){var n=Ember.A(e).findBy("record",t);if(n){var i=n.resolver;i.reject(r)}})}var s=this,u=s.adapterFor(t),c=!!u.findMany&&u.coalesceFindRequests,l=Ember.A(e).mapBy("record");if(1===e.length)r(e[0]);else if(c){var h=u.groupRecordsForFindMany(this,l);vn(h,function(a){var c=Ember.A(a),l=c.mapBy("id");if(l.length>1)K(u,s,t,l,c).then(n).then(i(c)).then(null,o(c));else if(1===l.length){var h=Ember.A(e).findBy("record",a[0]);r(h)}})}else vn(e,r)},getById:function(e,t){return this.hasRecordForId(e,t)?this.recordForId(e,t):null},reloadRecord:function(e){{var t=e.constructor;this.adapterFor(t),pn(e,"id")}return this.scheduleFetch(e)},hasRecordForId:function(e,t){var r=this.modelFor(e),n=O(t);return!!this.typeMapFor(r).idToRecord[n]},recordForId:function(e,t){var r=this.modelFor(e),n=O(t),i=this.typeMapFor(r).idToRecord,o=i[n];return o&&i[n]||(o=this.buildRecord(r,n)),o},findMany:function(e){var t=this;return xn.all(En(e,function(e){return t._findByRecord(e)}))},findHasMany:function(e,t,r){var n=this.adapterFor(e.constructor);return X(n,this,e,t,r)},findBelongsTo:function(e,t,r){var n=this.adapterFor(e.constructor);return Y(n,this,e,t,r)},findQuery:function(e,t){var r=this.modelFor(e),n=this.recordArrayManager.createAdapterPopulatedRecordArray(r,t),i=this.adapterFor(r);return mr(Q(i,this,r,t,n))},findAll:function(e){var t=this.modelFor(e);return this.fetchAll(t,this.all(t))},fetchAll:function(e,t){var r=this.adapterFor(e),n=this.typeMapFor(e).metadata.since;return mn(t,"isUpdating",!0),mr($(r,this,e,n))},didUpdateAll:function(e){var t=this.typeMapFor(e).findAllCache;mn(t,"isUpdating",!1)},all:function(e){var t=this.modelFor(e),r=this.typeMapFor(t),n=r.findAllCache;if(n)return this.recordArrayManager.updateFilter(n,t),n;var i=this.recordArrayManager.createRecordArray(t);return r.findAllCache=i,i},unloadAll:function(e){for(var t,r=this.modelFor(e),n=this.typeMapFor(r),i=n.records.slice(),o=0;o<i.length;o++)t=i[o],t.unloadRecord(),t.destroy();n.findAllCache=null},filter:function(e,t,r){var n,i,o=arguments.length,a=3===o;return a?n=this.findQuery(e,t):2===arguments.length&&(r=t),e=this.modelFor(e),i=a?this.recordArrayManager.createFilteredRecordArray(e,r,t):this.recordArrayManager.createFilteredRecordArray(e,r),n=n||xn.cast(i),mr(n.then(function(){return i},null,"DS: Store#filter of "+e))},recordIsLoaded:function(e,t){return this.hasRecordForId(e,t)?!pn(this.recordForId(e,t),"isEmpty"):!1},metadataFor:function(e){var t=this.modelFor(e);return this.typeMapFor(t).metadata},setMetadataFor:function(e,t){var r=this.modelFor(e);Ember.merge(this.typeMapFor(r).metadata,t)},dataWasUpdated:function(e,t){this.recordArrayManager.recordDidChange(t)},scheduleSave:function(e,t){e.adapterWillCommit(),this._pendingSave.push([e,t]),gn(this,"flushPendingSave")},flushPendingSave:function(){var e=this._pendingSave.slice();this._pendingSave=[],vn(e,function(e){var t,r=e[0],n=e[1],i=this.adapterFor(r.constructor);return"root.deleted.saved"===pn(r,"currentState.stateName")?n.resolve(r):(t=pn(r,"isNew")?"createRecord":pn(r,"isDeleted")?"deleteRecord":"updateRecord",void n.resolve(Z(i,this,t,r)))},this)},didSaveRecord:function(e,t){t&&(this._backburner.schedule("normalizeRelationships",this,"_setupRelationships",e,e.constructor,t),this.updateId(e,t)),e.adapterDidCommit(t)},recordWasInvalid:function(e,t){e.adapterDidInvalidate(t)},recordWasError:function(e){e.adapterDidError()},updateId:function(e,t){var r=(pn(e,"id"),O(t.id));this.typeMapFor(e.constructor).idToRecord[r]=e,mn(e,"id",r)},typeMapFor:function(e){var t,r=pn(this,"typeMaps"),n=Ember.guidFor(e);return(t=r[n])?t:(t={idToRecord:Ember.create(null),records:[],metadata:Ember.create(null),type:e},r[n]=t,t)},_load:function(e,t){var r=O(t.id),n=this.recordForId(e,r);return n.setupData(t),this.recordArrayManager.recordDidChange(n),n},modelFor:function(e){var t;if("string"==typeof e){if(t=this.modelFactoryFor(e),!t)throw new Ember.Error("No model was found for '"+e+"'");t.typeKey=t.typeKey||this._normalizeTypeKey(e)}else t=e,t.typeKey&&(t.typeKey=this._normalizeTypeKey(t.typeKey));return t.store=this,t},modelFactoryFor:function(e){return this.container.lookupFactory("model:"+e)},push:function(e,t){{var r=this.modelFor(e);Ember.EnumerableUtils.filter}!Ember.ENV.DS_NO_WARN_ON_UNUSED_KEYS,this._load(r,t);var n=this.recordForId(r,t.id),i=this;return this._backburner.join(function(){i._backburner.schedule("normalizeRelationships",i,"_setupRelationships",n,r,t)}),n},_setupRelationships:function(e,t,r){r=L(this,t,r),J(this,e,r)},pushPayload:function(e,t){var r,n;t?(n=t,r=this.serializerFor(e)):(n=e,r=z(this.container));var i=this;q(this,function(){r.pushPayload(i,n)})},normalize:function(e,t){var r=this.serializerFor(e),n=this.modelFor(e);return r.normalize(n,t)},update:function(e,t){return this.push(e,t)},pushMany:function(e,t){for(var r=t.length,n=new Array(r),i=0;r>i;i++)n[i]=this.push(e,t[i]);return n},metaForType:function(e,t){this.setMetadataFor(e,t)},buildRecord:function(e,t,r){var n=this.typeMapFor(e),i=n.idToRecord,o=e._create({id:t,store:this,container:this.container});return r&&o.setupData(r),t&&(i[t]=o),n.records.push(o),o},dematerializeRecord:function(e){var t=e.constructor,r=this.typeMapFor(t),n=pn(e,"id");e.updateRecordArrays(),n&&delete r.idToRecord[n];var i=bn(r.records,e);r.records.splice(i,1)},adapterFor:function(e){var t,r=this.container;return r&&(t=r.lookup("adapter:"+e.typeKey)||r.lookup("adapter:application")),t||pn(this,"defaultAdapter")},serializerFor:function(e){e=this.modelFor(e);var t=this.adapterFor(e);return I(this.container,e.typeKey,t&&t.defaultSerializer)},willDestroy:function(){function e(e){return t[e].type}var t=this.typeMaps,r=Ember.keys(t),n=En(r,e);this.recordArrayManager.destroy(),vn(n,this.unloadAll,this)},_normalizeTypeKey:function(e){return _n(h(e))}});var Tn=dn,Rn=et,Sn=Ember.Object.extend({serialize:Ember.required(),deserialize:Ember.required()}),Cn=Ember.isEmpty,Hn=Sn.extend({deserialize:function(e){var t;return Cn(e)?null:(t=Number(e),tt(t)?t:null)},serialize:function(e){var t;return Cn(e)?null:(t=Number(e),tt(t)?t:null)}}),Mn=Date.prototype.toISOString||function(){function e(e){return 10>e?"0"+e:e}return this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"."+(this.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};Ember.SHIM_ES5&&(Date.prototype.toISOString||(Date.prototype.toISOString=Mn));var An=Sn.extend({deserialize:function(e){var t=typeof e;return"string"===t?new Date(Ember.Date.parse(e)):"number"===t?new Date(e):null===e||void 0===e?e:null},serialize:function(e){return e instanceof Date?Mn.call(e):null}}),Nn=Ember.isNone,Pn=Sn.extend({deserialize:function(e){return Nn(e)?null:String(e)},serialize:function(e){return Nn(e)?null:String(e)}}),kn=Sn.extend({deserialize:function(e){var t=typeof e;return"boolean"===t?e:"string"===t?null!==e.match(/^true$|^t$|^1$/i):"number"===t?1===e:!1},serialize:function(e){return Boolean(e)}}),On=rt,Ln=nt,Dn=Ember.get,Fn=Ember.String.capitalize,Bn=Ember.String.underscore,In=Ember.DataAdapter.extend({getFilters:function(){return[{name:"isNew",desc:"New"},{name:"isModified",desc:"Modified"},{name:"isClean",desc:"Clean"}]},detect:function(e){return e!==un&&un.detect(e)},columnsForType:function(e){var t=[{name:"id",desc:"Id"}],r=0,n=this;return Dn(e,"attributes").forEach(function(e,i){if(r++>n.attributeLimit)return!1;var o=Fn(Bn(i).replace("_"," "));t.push({name:i,desc:o})}),t},getRecords:function(e){return this.get("store").all(e)},getRecordColumnValues:function(e){var t=this,r=0,n={id:Dn(e,"id")};return e.eachAttribute(function(i){if(r++>t.attributeLimit)return!1;var o=Dn(e,i);n[i]=o}),n},getRecordKeywords:function(e){var t=[],r=Ember.A(["id"]);return e.eachAttribute(function(e){r.push(e)}),r.forEach(function(r){t.push(Dn(e,r))}),t},getRecordFilterValues:function(e){return{isNew:e.get("isNew"),isModified:e.get("isDirty")&&!e.get("isNew"),isClean:!e.get("isDirty")}},getRecordColor:function(e){var t="black";return e.get("isNew")?t="green":e.get("isDirty")&&(t="blue"),t},observeRecord:function(e,t){var r=Ember.A(),n=this,i=Ember.A(["id","isNew","isDirty"]);e.eachAttribute(function(e){i.push(e)}),i.forEach(function(i){var o=function(){t(n.wrapRecord(e))};Ember.addObserver(e,i,o),r.push(function(){Ember.removeObserver(e,i,o)})});var o=function(){r.forEach(function(e){e()})};return o}}),zn=it,Un=ot,Vn=Ember.K;Ember.onLoad("Ember.Application",function(e){e.initializer({name:"ember-data",initialize:Un}),e.initializer({name:"store",after:"ember-data",initialize:Vn}),e.initializer({name:"activeModelAdapter",before:"store",initialize:Vn}),e.initializer({name:"transforms",before:"store",initialize:Vn}),e.initializer({name:"data-adapter",before:"store",initialize:Vn}),e.initializer({name:"injectStore",before:"store",initialize:Vn})}),Ember.Date=Ember.Date||{};var jn=Date.parse,qn=[1,4,5,6,7,10,11];Ember.Date.parse=function(e){var t,r,n=0;if(r=/^(\d{4}|[+\-]\d{6})(?:-(\d{2})(?:-(\d{2}))?)?(?:T(\d{2}):(\d{2})(?::(\d{2})(?:\.(\d{3}))?)?(?:(Z)|([+\-])(\d{2})(?::(\d{2}))?)?)?$/.exec(e)){for(var i,o=0;i=qn[o];++o)r[i]=+r[i]||0;r[2]=(+r[2]||1)-1,r[3]=+r[3]||1,"Z"!==r[8]&&void 0!==r[9]&&(n=60*r[10]+r[11],"+"===r[9]&&(n=0-n)),t=Date.UTC(r[1],r[2],r[3],r[4],r[5]+n,r[6],r[7])}else t=jn?jn(e):0/0;return t},(Ember.EXTEND_PROTOTYPES===!0||Ember.EXTEND_PROTOTYPES.Date)&&(Date.parse=Ember.Date.parse);var Gn=Ember.create(null);if(void 0!==Gn.toString&&"__proto__"===Ember.keys(Ember.create({}))[0])throw new Error("Ember Data requires a correct Object.create shim. You should upgrade to Ember >= 1.8 which provides one for you. If you are using ES5-shim, you should try removing that after upgrading Ember.");un.reopen({_debugInfo:function(){var e=["id"],t={belongsTo:[],hasMany:[]},r=[];this.eachAttribute(function(t){e.push(t)},this),this.eachRelationship(function(e,n){t[n.kind].push(e),r.push(e)});var n=[{name:"Attributes",properties:e,expand:!0},{name:"Belongs To",properties:t.belongsTo,expand:!0},{name:"Has Many",properties:t.hasMany,expand:!0},{name:"Flags",properties:["isLoaded","isDirty","isSaving","isDeleted","isError","isNew","isValid"]}];return{propertyInfo:{includeOtherProperties:!0,groups:n,expensiveProperties:r}}}});var Wn=In,Kn=Ember.get,Xn=Ember.EnumerableUtils.forEach,Yn=Ember.String.camelize,$n=Ember.Mixin.create({normalize:function(e,t,r){var n=this._super(e,t,r);return at(this,this.store,e,n)},keyForRelationship:function(e,t){return this.hasDeserializeRecordsOption(e)?this.keyForAttribute(e):this._super(e,t)||e},serializeBelongsTo:function(e,t,r){var n=r.key;if(this.noSerializeOptionSpecified(n))return void this._super(e,t,r);var i,o=this.hasSerializeIdsOption(n),a=this.hasSerializeRecordsOption(n),s=e.get(n);o?(i=this.keyForRelationship(n,r.kind),t[i]=s?Kn(s,"id"):null):a&&(i=this.keyForAttribute(n),s?(t[i]=s.serialize({includeId:!0}),this.removeEmbeddedForeignKey(e,s,r,t[i])):t[i]=null)},serializeHasMany:function(e,t,r){var n=r.key;if(this.noSerializeOptionSpecified(n))return void this._super(e,t,r);var i,o=this.hasSerializeIdsOption(n),a=this.hasSerializeRecordsOption(n);o?(i=this.keyForRelationship(n,r.kind),t[i]=Kn(e,n).mapBy("id")):a&&(i=this.keyForAttribute(n),t[i]=Kn(e,n).map(function(t){var n=t.serialize({includeId:!0});return this.removeEmbeddedForeignKey(e,t,r,n),n},this))},removeEmbeddedForeignKey:function(e,t,r,n){if("hasMany"!==r.kind&&"belongsTo"===r.kind){var i=e.constructor.inverseFor(r.key);if(i){var o=i.name,a=this.store.serializerFor(t.constructor),s=a.keyForRelationship(o,i.kind);s&&delete n[s]}}},hasEmbeddedAlwaysOption:function(e){var t=this.attrsOption(e);return t&&"always"===t.embedded},hasSerializeRecordsOption:function(e){var t=this.hasEmbeddedAlwaysOption(e),r=this.attrsOption(e);return t||r&&"records"===r.serialize},hasSerializeIdsOption:function(e){var t=this.attrsOption(e);return t&&("ids"===t.serialize||"id"===t.serialize)},noSerializeOptionSpecified:function(e){var t=this.attrsOption(e);return!(t&&(t.serialize||t.embedded))},hasDeserializeRecordsOption:function(e){var t=this.hasEmbeddedAlwaysOption(e),r=this.attrsOption(e);return t||r&&"records"===r.deserialize},attrsOption:function(e){var t=this.get("attrs");return t&&(t[Yn(e)]||t[e])}}),Qn=$n;un.reopen({notifyBelongsToChanged:function(e){this.notifyPropertyChange(e)}});var Zn=lt;un.reopen({notifyHasManyAdded:function(e){this.notifyPropertyChange(e)}});var Jn=ht,ei=Ember.get,ti=Ember.ArrayPolyfills.filter,ri=Ember.computed(function(){Ember.testing===!0&&ri._cacheable===!0&&(ri._cacheable=!1);var e=new n({defaultValue:function(){return[]}});return this.eachComputedProperty(function(t,r){if(r.isRelationship){r.key=t;var n=e.get(ft(this.store,r));n.push({name:t,kind:r.kind})}}),e}).readOnly(),ni=Ember.computed(function(){Ember.testing===!0&&ni._cacheable===!0&&(ni._cacheable=!1);var e,t=Ember.A();return this.eachComputedProperty(function(r,n){n.isRelationship&&(n.key=r,e=ft(this.store,n),t.contains(e)||t.push(e))}),t}).readOnly(),ii=Ember.computed(function(){Ember.testing===!0&&ii._cacheable===!0&&(ii._cacheable=!1);var e=r.create();return this.eachComputedProperty(function(t,r){if(r.isRelationship){r.key=t;var n=dt(this.store,r);n.type=ft(this.store,r),e.set(t,n)}}),e}).readOnly();un.reopen({didDefineProperty:function(e,t,r){if(r instanceof Ember.ComputedProperty){var n=r.meta();n.parentType=e.constructor}}}),un.reopenClass({typeForRelationship:function(e){var t=ei(this,"relationshipsByName").get(e);return t&&t.type},inverseMap:Ember.computed(function(){return Ember.create(null)}),inverseFor:function(e){var t=ei(this,"inverseMap");if(t[e])return t[e];var r=this._findInverseFor(e);return t[e]=r,r},_findInverseFor:function(e){function t(r,n,i){var o=i||[],a=ei(n,"relationships");if(a){var s=a.get(r);return s=ti.call(s,function(t){var r=n.metaForProperty(t.name).options;return r.inverse?e===r.inverse:!0}),s&&o.push.apply(o,s),r.superclass&&t(r.superclass,n,o),o}}var r=this.typeForRelationship(e);if(!r)return null;var n=this.metaForProperty(e).options;if(null===n.inverse)return null;var i,o,a;if(n.inverse)i=n.inverse,a=Ember.get(r,"relationshipsByName").get(i),o=a.kind;else{var s=t(this,r);if(0===s.length)return null;var u=ti.call(s,function(t){var n=r.metaForProperty(t.name).options;return e===n.inverse});1===u.length&&(s=u),i=s[0].name,o=s[0].kind}return{type:r,name:i,kind:o}},relationships:ri,relationshipNames:Ember.computed(function(){var e={hasMany:[],belongsTo:[]};return this.eachComputedProperty(function(t,r){r.isRelationship&&e[r.kind].push(t)}),e}),relatedTypes:ni,relationshipsByName:ii,fields:Ember.computed(function(){var e=r.create();return this.eachComputedProperty(function(t,r){r.isRelationship?e.set(t,r.kind):r.isAttribute&&e.set(t,"attribute")}),e}).readOnly(),eachRelationship:function(e,t){ei(this,"relationshipsByName").forEach(function(r,n){e.call(t,n,r)})},eachRelatedType:function(e,t){ei(this,"relatedTypes").forEach(function(r){e.call(t,r)})},determineRelationshipType:function(e){var t,r,n=e.key,i=e.kind,o=this.inverseFor(n);return o?(t=o.name,r=o.kind,"belongsTo"===r?"belongsTo"===i?"oneToOne":"manyToOne":"belongsTo"===i?"oneToMany":"manyToMany"):"belongsTo"===i?"oneToNone":"manyToNone"}}),un.reopen({eachRelationship:function(e,t){this.constructor.eachRelationship(e,t)},relationshipFor:function(e){return ei(this.constructor,"relationshipsByName").get(e)},inverseFor:function(e){return this.constructor.inverseFor(e)}}),Ember.RSVP.Promise.cast=Ember.RSVP.Promise.cast||Ember.RSVP.resolve,cr.Store=dn,cr.PromiseArray=fr,cr.PromiseObject=dr,cr.PromiseManyArray=gr,cr.Model=un,cr.RootState=Fr,cr.attr=ln,cr.Errors=Ur,cr.Adapter=vt,cr.InvalidError=e,cr.DebugAdapter=Wn,cr.RecordArray=br,cr.FilteredRecordArray=xr,cr.AdapterPopulatedRecordArray=_r,cr.ManyArray=Sr,cr.RecordArrayManager=Ar,cr.RESTAdapter=Mt,cr.FixtureAdapter=Tt,cr.RESTSerializer=Qt,cr.JSONSerializer=Gt,cr.Transform=Sn,cr.DateTransform=An,cr.StringTransform=Pn,cr.NumberTransform=Hn,cr.BooleanTransform=kn,cr.ActiveModelAdapter=zt,cr.ActiveModelSerializer=or,cr.EmbeddedRecordsMixin=Qn,cr.belongsTo=Zn,cr.hasMany=Jn,cr.Relationship=Gr,cr.ContainerProxy=ar,cr._setupContainer=Un,Ember.lookup.DS=cr}.call(this),function(e){function t(e){var t=e.length,n=r.type(e);return"function"===n||r.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}if(!e.jQuery){var r=function(e,t){return new r.fn.init(e,t)};r.isWindow=function(e){return null!=e&&e==e.window},r.type=function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[a.call(e)]||"object":typeof e},r.isArray=Array.isArray||function(e){return"array"===r.type(e)},r.isPlainObject=function(e){var t;if(!e||"object"!==r.type(e)||e.nodeType||r.isWindow(e))return!1;try{if(e.constructor&&!o.call(e,"constructor")&&!o.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}for(t in e);return void 0===t||o.call(e,t)},r.each=function(e,r,n){var i,o=0,a=e.length,s=t(e);if(n){if(s)for(;a>o&&(i=r.apply(e[o],n),i!==!1);o++);else for(o in e)if(i=r.apply(e[o],n),i===!1)break}else if(s)for(;a>o&&(i=r.call(e[o],o,e[o]),i!==!1);o++);else for(o in e)if(i=r.call(e[o],o,e[o]),i===!1)break;return e},r.data=function(e,t,i){if(void 0===i){var o=e[r.expando],a=o&&n[o];if(void 0===t)return a;if(a&&t in a)return a[t]}else if(void 0!==t){var o=e[r.expando]||(e[r.expando]=++r.uuid);return n[o]=n[o]||{},n[o][t]=i,i}},r.removeData=function(e,t){var i=e[r.expando],o=i&&n[i];o&&r.each(t,function(e,t){delete o[t]})},r.extend=function(){var e,t,n,i,o,a,s=arguments[0]||{},u=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[u]||{},u++),"object"!=typeof s&&"function"!==r.type(s)&&(s={}),u===c&&(s=this,u--);c>u;u++)if(null!=(o=arguments[u]))for(i in o)e=s[i],n=o[i],s!==n&&(l&&n&&(r.isPlainObject(n)||(t=r.isArray(n)))?(t?(t=!1,a=e&&r.isArray(e)?e:[]):a=e&&r.isPlainObject(e)?e:{},s[i]=r.extend(l,a,n)):void 0!==n&&(s[i]=n));return s},r.queue=function(e,n,i){function o(e,r){var n=r||[];return null!=e&&(t(Object(e))?!function(e,t){for(var r=+t.length,n=0,i=e.length;r>n;)e[i++]=t[n++];if(r!==r)for(;void 0!==t[n];)e[i++]=t[n++];return e.length=i,e}(n,"string"==typeof e?[e]:e):[].push.call(n,e)),n}if(e){n=(n||"fx")+"queue";var a=r.data(e,n);return i?(!a||r.isArray(i)?a=r.data(e,n,o(i)):a.push(i),a):a||[]}},r.dequeue=function(e,t){r.each(e.nodeType?[e]:e,function(e,n){t=t||"fx";var i=r.queue(n,t),o=i.shift();"inprogress"===o&&(o=i.shift()),o&&("fx"===t&&i.unshift("inprogress"),o.call(n,function(){r.dequeue(n,t)}))})},r.fn=r.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}
},position:function(){function e(){for(var e=this.offsetParent||document;e&&"html"===!e.nodeType.toLowerCase&&"static"===e.style.position;)e=e.offsetParent;return e||document}var t=this[0],e=e.apply(t),n=this.offset(),i=/^(?:body|html)$/i.test(e.nodeName)?{top:0,left:0}:r(e).offset();return n.top-=parseFloat(t.style.marginTop)||0,n.left-=parseFloat(t.style.marginLeft)||0,e.style&&(i.top+=parseFloat(e.style.borderTopWidth)||0,i.left+=parseFloat(e.style.borderLeftWidth)||0),{top:n.top-i.top,left:n.left-i.left}}};var n={};r.expando="velocity"+(new Date).getTime(),r.uuid=0;for(var i={},o=i.hasOwnProperty,a=i.toString,s="Boolean Number String Function Array Date RegExp Object Error".split(" "),u=0;u<s.length;u++)i["[object "+s[u]+"]"]=s[u].toLowerCase();r.fn.init.prototype=r.fn,e.Velocity={Utilities:r}}}(window),function(e){"object"==typeof module&&"object"==typeof module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):e()}(function(){return function(e,t,r,n){function i(e){for(var t=-1,r=e?e.length:0,n=[];++t<r;){var i=e[t];i&&n.push(i)}return n}function o(e){return m.isWrapped(e)?e=[].slice.call(e):m.isNode(e)&&(e=[e]),e}function a(e){var t=f.data(e,"velocity");return null===t?n:t}function s(e){return function(t){return Math.round(t*e)*(1/e)}}function u(e,r,n,i){function o(e,t){return 1-3*t+3*e}function a(e,t){return 3*t-6*e}function s(e){return 3*e}function u(e,t,r){return((o(t,r)*e+a(t,r))*e+s(t))*e}function c(e,t,r){return 3*o(t,r)*e*e+2*a(t,r)*e+s(t)}function l(t,r){for(var i=0;m>i;++i){var o=c(r,e,n);if(0===o)return r;var a=u(r,e,n)-t;r-=a/o}return r}function h(){for(var t=0;b>t;++t)_[t]=u(t*E,e,n)}function f(t,r,i){var o,a,s=0;do a=r+(i-r)/2,o=u(a,e,n)-t,o>0?i=a:r=a;while(Math.abs(o)>y&&++s<v);return a}function d(t){for(var r=0,i=1,o=b-1;i!=o&&_[i]<=t;++i)r+=E;--i;var a=(t-_[i])/(_[i+1]-_[i]),s=r+a*E,u=c(s,e,n);return u>=g?l(t,s):0==u?s:f(t,r,r+E)}function p(){T=!0,(e!=r||n!=i)&&h()}var m=4,g=.001,y=1e-7,v=10,b=11,E=1/(b-1),x="Float32Array"in t;if(4!==arguments.length)return!1;for(var w=0;4>w;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var _=x?new Float32Array(b):new Array(b),T=!1,R=function(t){return T||p(),e===r&&n===i?t:0===t?0:1===t?1:u(d(t),r,i)};R.getControlPoints=function(){return[{x:e,y:r},{x:n,y:i}]};var S="generateBezier("+[e,r,n,i]+")";return R.toString=function(){return S},R}function c(e,t){var r=e;return m.isString(e)?b.Easings[e]||(r=!1):r=m.isArray(e)&&1===e.length?s.apply(null,e):m.isArray(e)&&2===e.length?E.apply(null,e.concat([t])):m.isArray(e)&&4===e.length?u.apply(null,e):!1,r===!1&&(r=b.Easings[b.defaults.easing]?b.defaults.easing:v),r}function l(e){if(e){var t=(new Date).getTime(),r=b.State.calls.length;r>1e4&&(b.State.calls=i(b.State.calls));for(var o=0;r>o;o++)if(b.State.calls[o]){var s=b.State.calls[o],u=s[0],c=s[2],d=s[3],p=!!d,g=null;d||(d=b.State.calls[o][3]=t-16);for(var y=Math.min((t-d)/c.duration,1),v=0,E=u.length;E>v;v++){var w=u[v],T=w.element;if(a(T)){var R=!1;if(c.display!==n&&null!==c.display&&"none"!==c.display){if("flex"===c.display){var S=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];f.each(S,function(e,t){x.setPropertyValue(T,"display",t)})}x.setPropertyValue(T,"display",c.display)}c.visibility!==n&&"hidden"!==c.visibility&&x.setPropertyValue(T,"visibility",c.visibility);for(var C in w)if("element"!==C){var H,M=w[C],A=m.isString(M.easing)?b.Easings[M.easing]:M.easing;if(1===y)H=M.endValue;else{var N=M.endValue-M.startValue;if(H=M.startValue+N*A(y,c,N),!p&&H===M.currentValue)continue}if(M.currentValue=H,"tween"===C)g=H;else{if(x.Hooks.registered[C]){var P=x.Hooks.getRoot(C),k=a(T).rootPropertyValueCache[P];k&&(M.rootPropertyValue=k)}var O=x.setPropertyValue(T,C,M.currentValue+(0===parseFloat(H)?"":M.unitType),M.rootPropertyValue,M.scrollData);x.Hooks.registered[C]&&(a(T).rootPropertyValueCache[P]=x.Normalizations.registered[P]?x.Normalizations.registered[P]("extract",null,O[1]):O[1]),"transform"===O[0]&&(R=!0)}}c.mobileHA&&a(T).transformCache.translate3d===n&&(a(T).transformCache.translate3d="(0px, 0px, 0px)",R=!0),R&&x.flushTransformCache(T)}}c.display!==n&&"none"!==c.display&&(b.State.calls[o][2].display=!1),c.visibility!==n&&"hidden"!==c.visibility&&(b.State.calls[o][2].visibility=!1),c.progress&&c.progress.call(s[1],s[1],y,Math.max(0,d+c.duration-t),d,g),1===y&&h(o)}}b.State.isTicking&&_(l)}function h(e,t){if(!b.State.calls[e])return!1;for(var r=b.State.calls[e][0],i=b.State.calls[e][1],o=b.State.calls[e][2],s=b.State.calls[e][4],u=!1,c=0,l=r.length;l>c;c++){var h=r[c].element;if(t||o.loop||("none"===o.display&&x.setPropertyValue(h,"display",o.display),"hidden"===o.visibility&&x.setPropertyValue(h,"visibility",o.visibility)),o.loop!==!0&&(f.queue(h)[1]===n||!/\.velocityQueueEntryFlag/i.test(f.queue(h)[1]))&&a(h)){a(h).isAnimating=!1,a(h).rootPropertyValueCache={};var d=!1;f.each(x.Lists.transforms3D,function(e,t){var r=/^scale/.test(t)?1:0,i=a(h).transformCache[t];a(h).transformCache[t]!==n&&new RegExp("^\\("+r+"[^.]").test(i)&&(d=!0,delete a(h).transformCache[t])}),o.mobileHA&&(d=!0,delete a(h).transformCache.translate3d),d&&x.flushTransformCache(h),x.Values.removeClass(h,"velocity-animating")}if(!t&&o.complete&&!o.loop&&c===l-1)try{o.complete.call(i,i)}catch(p){setTimeout(function(){throw p},1)}s&&o.loop!==!0&&s(i),a(h)&&o.loop===!0&&!t&&(f.each(a(h).tweensContainer,function(e,t){/^rotate/.test(e)&&360===parseFloat(t.endValue)&&(t.endValue=0,t.startValue=360),/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)}),b(h,"reverse",{loop:!0,delay:o.delay})),o.queue!==!1&&f.dequeue(h,o.queue)}b.State.calls[e]=!1;for(var m=0,g=b.State.calls.length;g>m;m++)if(b.State.calls[m]!==!1){u=!0;break}u===!1&&(b.State.isTicking=!1,delete b.State.calls,b.State.calls=[])}var f,d=function(){if(r.documentMode)return r.documentMode;for(var e=7;e>4;e--){var t=r.createElement("div");if(t.innerHTML="<!--[if IE "+e+"]><span></span><![endif]-->",t.getElementsByTagName("span").length)return t=null,e}return n}(),p=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var r,n=(new Date).getTime();return r=Math.max(0,16-(n-e)),e=n+r,setTimeout(function(){t(n+r)},r)}}(),m={isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==n&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(e.jquery||t.Zepto&&t.Zepto.zepto.isZ(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)return!1;return!0}},g=!1;if(e.fn&&e.fn.jquery?(f=e,g=!0):f=t.Velocity.Utilities,8>=d&&!g)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(7>=d)return void(jQuery.fn.velocity=jQuery.fn.animate);var y=400,v="swing",b={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:r.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:f,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:y,easing:v,begin:n,complete:n,progress:n,display:n,visibility:n,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(e){f.data(e,"velocity",{isSVG:m.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};t.pageYOffset!==n?(b.State.scrollAnchor=t,b.State.scrollPropertyLeft="pageXOffset",b.State.scrollPropertyTop="pageYOffset"):(b.State.scrollAnchor=r.documentElement||r.body.parentNode||r.body,b.State.scrollPropertyLeft="scrollLeft",b.State.scrollPropertyTop="scrollTop");var E=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,n){var i={x:t.x+n.dx*r,v:t.v+n.dv*r,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function r(r,n){var i={dx:r.v,dv:e(r)},o=t(r,.5*n,i),a=t(r,.5*n,o),s=t(r,n,a),u=1/6*(i.dx+2*(o.dx+a.dx)+s.dx),c=1/6*(i.dv+2*(o.dv+a.dv)+s.dv);return r.x=r.x+u*n,r.v=r.v+c*n,r}return function n(e,t,i){var o,a,s,u={x:-1,v:0,tension:null,friction:null},c=[0],l=0,h=1e-4,f=.016;for(e=parseFloat(e)||500,t=parseFloat(t)||20,i=i||null,u.tension=e,u.friction=t,o=null!==i,o?(l=n(e,t),a=l/i*f):a=f;;)if(s=r(s||u,a),c.push(1+s.x),l+=16,!(Math.abs(s.x)>h&&Math.abs(s.v)>h))break;return o?function(e){return c[e*(c.length-1)|0]}:l}}();b.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},f.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],function(e,t){b.Easings[t[0]]=u.apply(null,t[1])});var x=b.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<x.Lists.colors.length;e++){var t="color"===x.Lists.colors[e]?"0 0 0 1":"255 255 255 1";x.Hooks.templates[x.Lists.colors[e]]=["Red Green Blue Alpha",t]}var r,n,i;if(d)for(r in x.Hooks.templates){n=x.Hooks.templates[r],i=n[0].split(" ");var o=n[1].match(x.RegEx.valueSplit);"Color"===i[0]&&(i.push(i.shift()),o.push(o.shift()),x.Hooks.templates[r]=[i.join(" "),o.join(" ")])}for(r in x.Hooks.templates){n=x.Hooks.templates[r],i=n[0].split(" ");for(var e in i){var a=r+i[e],s=e;x.Hooks.registered[a]=[r,s]}}},getRoot:function(e){var t=x.Hooks.registered[e];return t?t[0]:e},cleanRootPropertyValue:function(e,t){return x.RegEx.valueUnwrap.test(t)&&(t=t.match(x.RegEx.valueUnwrap)[1]),x.Values.isCSSNullValue(t)&&(t=x.Hooks.templates[e][1]),t},extractValue:function(e,t){var r=x.Hooks.registered[e];if(r){var n=r[0],i=r[1];return t=x.Hooks.cleanRootPropertyValue(n,t),t.toString().match(x.RegEx.valueSplit)[i]}return t},injectValue:function(e,t,r){var n=x.Hooks.registered[e];if(n){var i,o,a=n[0],s=n[1];return r=x.Hooks.cleanRootPropertyValue(a,r),i=r.toString().match(x.RegEx.valueSplit),i[s]=t,o=i.join(" ")}return r}},Normalizations:{registered:{clip:function(e,t,r){switch(e){case"name":return"clip";case"extract":var n;return x.RegEx.wrappedValueAlreadyExtracted.test(r)?n=r:(n=r.toString().match(x.RegEx.valueUnwrap),n=n?n[1].replace(/,(\s+)?/g," "):r),n;case"inject":return"rect("+r+")"}},blur:function(e,t,r){switch(e){case"name":return b.State.isFirefox?"filter":"-webkit-filter";case"extract":var n=parseFloat(r);if(!n&&0!==n){var i=r.toString().match(/blur\(([0-9]+[A-z]+)\)/i);n=i?i[1]:0}return n;case"inject":return parseFloat(r)?"blur("+r+")":"none"}},opacity:function(e,t,r){if(8>=d)switch(e){case"name":return"filter";case"extract":var n=r.toString().match(/alpha\(opacity=(.*)\)/i);return r=n?n[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(r)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(r),10)+")"}else switch(e){case"name":return"opacity";case"extract":return r;case"inject":return r}}},register:function(){9>=d||b.State.isGingerbread||(x.Lists.transformsBase=x.Lists.transformsBase.concat(x.Lists.transforms3D));for(var e=0;e<x.Lists.transformsBase.length;e++)!function(){var t=x.Lists.transformsBase[e];x.Normalizations.registered[t]=function(e,r,i){switch(e){case"name":return"transform";case"extract":return a(r)===n||a(r).transformCache[t]===n?/^scale/i.test(t)?1:0:a(r).transformCache[t].replace(/[()]/g,"");case"inject":var o=!1;switch(t.substr(0,t.length-1)){case"translate":o=!/(%|px|em|rem|vw|vh|\d)$/i.test(i);break;case"scal":case"scale":b.State.isAndroid&&a(r).transformCache[t]===n&&1>i&&(i=1),o=!/(\d)$/i.test(i);break;case"skew":o=!/(deg|\d)$/i.test(i);break;case"rotate":o=!/(deg|\d)$/i.test(i)}return o||(a(r).transformCache[t]="("+i+")"),a(r).transformCache[t]}}}();for(var e=0;e<x.Lists.colors.length;e++)!function(){var t=x.Lists.colors[e];x.Normalizations.registered[t]=function(e,r,i){switch(e){case"name":return t;case"extract":var o;if(x.RegEx.wrappedValueAlreadyExtracted.test(i))o=i;else{var a,s={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(i)?a=s[i]!==n?s[i]:s.black:x.RegEx.isHex.test(i)?a="rgb("+x.Values.hexToRgb(i).join(" ")+")":/^rgba?\(/i.test(i)||(a=s.black),o=(a||i).toString().match(x.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=d||3!==o.split(" ").length||(o+=" 1"),o;case"inject":return 8>=d?4===i.split(" ").length&&(i=i.split(/\s+/).slice(0,3).join(" ")):3===i.split(" ").length&&(i+=" 1"),(8>=d?"rgb":"rgba")+"("+i.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(d||b.State.isAndroid&&!b.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(b.State.prefixMatches[e])return[b.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],r=0,n=t.length;n>r;r++){var i;if(i=0===r?e:t[r]+e.replace(/^\w/,function(e){return e.toUpperCase()}),m.isString(b.State.prefixElement.style[i]))return b.State.prefixMatches[e]=i,[i,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(r,function(e,t,r,n){return t+t+r+r+n+n}),t=n.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return 0==e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=(e.className.length?" ":"")+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ")}},getPropertyValue:function(e,r,i,o){function s(e,r){function i(){c&&x.setPropertyValue(e,"display","none")}var u=0;if(8>=d)u=f.css(e,r);else{var c=!1;if(/^(width|height)$/.test(r)&&0===x.getPropertyValue(e,"display")&&(c=!0,x.setPropertyValue(e,"display",x.Values.getDisplayType(e))),!o){if("height"===r&&"border-box"!==x.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var l=e.offsetHeight-(parseFloat(x.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(x.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(x.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(x.getPropertyValue(e,"paddingBottom"))||0);return i(),l}if("width"===r&&"border-box"!==x.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var h=e.offsetWidth-(parseFloat(x.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(x.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(x.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(x.getPropertyValue(e,"paddingRight"))||0);return i(),h}}var p;p=a(e)===n?t.getComputedStyle(e,null):a(e).computedStyle?a(e).computedStyle:a(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===r&&(r="borderTopColor"),u=9===d&&"filter"===r?p.getPropertyValue(r):p[r],(""===u||null===u)&&(u=e.style[r]),i()}if("auto"===u&&/^(top|right|bottom|left)$/i.test(r)){var m=s(e,"position");("fixed"===m||"absolute"===m&&/top|left/i.test(r))&&(u=f(e).position()[r]+"px")}return u}var u;if(x.Hooks.registered[r]){var c=r,l=x.Hooks.getRoot(c);i===n&&(i=x.getPropertyValue(e,x.Names.prefixCheck(l)[0])),x.Normalizations.registered[l]&&(i=x.Normalizations.registered[l]("extract",e,i)),u=x.Hooks.extractValue(c,i)}else if(x.Normalizations.registered[r]){var h,p;h=x.Normalizations.registered[r]("name",e),"transform"!==h&&(p=s(e,x.Names.prefixCheck(h)[0]),x.Values.isCSSNullValue(p)&&x.Hooks.templates[r]&&(p=x.Hooks.templates[r][1])),u=x.Normalizations.registered[r]("extract",e,p)}if(!/^[\d-]/.test(u))if(a(e)&&a(e).isSVG&&x.Names.SVGAttribute(r))if(/^(height|width)$/i.test(r))try{u=e.getBBox()[r]}catch(m){u=0}else u=e.getAttribute(r);else u=s(e,x.Names.prefixCheck(r)[0]);return x.Values.isCSSNullValue(u)&&(u=0),b.debug>=2&&console.log("Get "+r+": "+u),u},setPropertyValue:function(e,r,n,i,o){var s=r;if("scroll"===r)o.container?o.container["scroll"+o.direction]=n:"Left"===o.direction?t.scrollTo(n,o.alternateValue):t.scrollTo(o.alternateValue,n);else if(x.Normalizations.registered[r]&&"transform"===x.Normalizations.registered[r]("name",e))x.Normalizations.registered[r]("inject",e,n),s="transform",n=a(e).transformCache[r];else{if(x.Hooks.registered[r]){var u=r,c=x.Hooks.getRoot(r);i=i||x.getPropertyValue(e,c),n=x.Hooks.injectValue(u,n,i),r=c}if(x.Normalizations.registered[r]&&(n=x.Normalizations.registered[r]("inject",e,n),r=x.Normalizations.registered[r]("name",e)),s=x.Names.prefixCheck(r)[0],8>=d)try{e.style[s]=n}catch(l){b.debug&&console.log("Browser does not support ["+n+"] for ["+s+"]")}else a(e)&&a(e).isSVG&&x.Names.SVGAttribute(r)?e.setAttribute(r,n):e.style[s]=n;b.debug>=2&&console.log("Set "+r+" ("+s+"): "+n)}return[s,n]},flushTransformCache:function(e){function t(t){return parseFloat(x.getPropertyValue(e,t))}var r="";if((d||b.State.isAndroid&&!b.State.isChrome)&&a(e).isSVG){var n={translate:[t("translateX"),t("translateY")],skewX:[t("skewX")],skewY:[t("skewY")],scale:1!==t("scale")?[t("scale"),t("scale")]:[t("scaleX"),t("scaleY")],rotate:[t("rotateZ"),0,0]};f.each(a(e).transformCache,function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),n[e]&&(r+=e+"("+n[e].join(" ")+") ",delete n[e])})}else{var i,o;f.each(a(e).transformCache,function(t){return i=a(e).transformCache[t],"transformPerspective"===t?(o=i,!0):(9===d&&"rotateZ"===t&&(t="rotate"),void(r+=t+i+" "))}),o&&(r="perspective"+o+" "+r)}x.setPropertyValue(e,"transform",r)}};x.Hooks.register(),x.Normalizations.register(),b.hook=function(e,t,r){var i=n;return e=o(e),f.each(e,function(e,o){if(a(o)===n&&b.init(o),r===n)i===n&&(i=b.CSS.getPropertyValue(o,t));else{var s=b.CSS.setPropertyValue(o,t,r);"transform"===s[0]&&b.CSS.flushTransformCache(o),i=s}}),i};var w=function(){function e(){return s?C.promise||null:u}function i(){function e(){function e(e,t){var r=n,i=n,a=n;return m.isArray(e)?(r=e[0],!m.isArray(e[1])&&/^[\d-]/.test(e[1])||m.isFunction(e[1])||x.RegEx.isHex.test(e[1])?a=e[1]:(m.isString(e[1])&&!x.RegEx.isHex.test(e[1])||m.isArray(e[1]))&&(i=t?e[1]:c(e[1],s.duration),e[2]!==n&&(a=e[2]))):r=e,t||(i=i||s.easing),m.isFunction(r)&&(r=r.call(o,T,_)),m.isFunction(a)&&(a=a.call(o,T,_)),[r||0,i,a]}function h(e,t){var r,n;return n=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,function(e){return r=e,""}),r||(r=x.Values.getUnitType(e)),[n,r]}function d(){var e={myParent:o.parentNode||r.body,position:x.getPropertyValue(o,"position"),fontSize:x.getPropertyValue(o,"fontSize")},n=e.position===O.lastPosition&&e.myParent===O.lastParent,i=e.fontSize===O.lastFontSize;O.lastParent=e.myParent,O.lastPosition=e.position,O.lastFontSize=e.fontSize;var s=100,u={};if(i&&n)u.emToPx=O.lastEmToPx,u.percentToPxWidth=O.lastPercentToPxWidth,u.percentToPxHeight=O.lastPercentToPxHeight;else{var c=a(o).isSVG?r.createElementNS("http://www.w3.org/2000/svg","rect"):r.createElement("div");b.init(c),e.myParent.appendChild(c),f.each(["overflow","overflowX","overflowY"],function(e,t){b.CSS.setPropertyValue(c,t,"hidden")}),b.CSS.setPropertyValue(c,"position",e.position),b.CSS.setPropertyValue(c,"fontSize",e.fontSize),b.CSS.setPropertyValue(c,"boxSizing","content-box"),f.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],function(e,t){b.CSS.setPropertyValue(c,t,s+"%")}),b.CSS.setPropertyValue(c,"paddingLeft",s+"em"),u.percentToPxWidth=O.lastPercentToPxWidth=(parseFloat(x.getPropertyValue(c,"width",null,!0))||1)/s,u.percentToPxHeight=O.lastPercentToPxHeight=(parseFloat(x.getPropertyValue(c,"height",null,!0))||1)/s,u.emToPx=O.lastEmToPx=(parseFloat(x.getPropertyValue(c,"paddingLeft"))||1)/s,e.myParent.removeChild(c)}return null===O.remToPx&&(O.remToPx=parseFloat(x.getPropertyValue(r.body,"fontSize"))||16),null===O.vwToPx&&(O.vwToPx=parseFloat(t.innerWidth)/100,O.vhToPx=parseFloat(t.innerHeight)/100),u.remToPx=O.remToPx,u.vwToPx=O.vwToPx,u.vhToPx=O.vhToPx,b.debug>=1&&console.log("Unit ratios: "+JSON.stringify(u),o),u}if(s.begin&&0===T)try{s.begin.call(p,p)}catch(y){setTimeout(function(){throw y},1)}if("scroll"===H){var E,w,R,S=/^x$/i.test(s.axis)?"Left":"Top",M=parseFloat(s.offset)||0;s.container?m.isWrapped(s.container)||m.isNode(s.container)?(s.container=s.container[0]||s.container,E=s.container["scroll"+S],R=E+f(o).position()[S.toLowerCase()]+M):s.container=null:(E=b.State.scrollAnchor[b.State["scrollProperty"+S]],w=b.State.scrollAnchor[b.State["scrollProperty"+("Left"===S?"Top":"Left")]],R=f(o).offset()[S.toLowerCase()]+M),u={scroll:{rootPropertyValue:!1,startValue:E,currentValue:E,endValue:R,unitType:"",easing:s.easing,scrollData:{container:s.container,direction:S,alternateValue:w}},element:o},b.debug&&console.log("tweensContainer (scroll): ",u.scroll,o)}else if("reverse"===H){if(!a(o).tweensContainer)return void f.dequeue(o,s.queue);"none"===a(o).opts.display&&(a(o).opts.display="auto"),"hidden"===a(o).opts.visibility&&(a(o).opts.visibility="visible"),a(o).opts.loop=!1,a(o).opts.begin=null,a(o).opts.complete=null,v.easing||delete s.easing,v.duration||delete s.duration,s=f.extend({},a(o).opts,s);var A=f.extend(!0,{},a(o).tweensContainer);for(var N in A)if("element"!==N){var P=A[N].startValue;A[N].startValue=A[N].currentValue=A[N].endValue,A[N].endValue=P,m.isEmptyObject(v)||(A[N].easing=s.easing),b.debug&&console.log("reverse tweensContainer ("+N+"): "+JSON.stringify(A[N]),o)}u=A}else if("start"===H){var A;a(o).tweensContainer&&a(o).isAnimating===!0&&(A=a(o).tweensContainer),f.each(g,function(t,r){if(RegExp("^"+x.Lists.colors.join("$|^")+"$").test(t)){var i=e(r,!0),o=i[0],a=i[1],s=i[2];if(x.RegEx.isHex.test(o)){for(var u=["Red","Green","Blue"],c=x.Values.hexToRgb(o),l=s?x.Values.hexToRgb(s):n,h=0;h<u.length;h++){var f=[c[h]];a&&f.push(a),l!==n&&f.push(l[h]),g[t+u[h]]=f}delete g[t]}}});for(var k in g){var D=e(g[k]),F=D[0],B=D[1],I=D[2];k=x.Names.camelCase(k);var z=x.Hooks.getRoot(k),U=!1;if(a(o).isSVG||"tween"===z||x.Names.prefixCheck(z)[1]!==!1||x.Normalizations.registered[z]!==n){(s.display!==n&&null!==s.display&&"none"!==s.display||s.visibility!==n&&"hidden"!==s.visibility)&&/opacity|filter/.test(k)&&!I&&0!==F&&(I=0),s._cacheValues&&A&&A[k]?(I===n&&(I=A[k].endValue+A[k].unitType),U=a(o).rootPropertyValueCache[z]):x.Hooks.registered[k]?I===n?(U=x.getPropertyValue(o,z),I=x.getPropertyValue(o,k,U)):U=x.Hooks.templates[z][1]:I===n&&(I=x.getPropertyValue(o,k));var V,j,q,G=!1;if(V=h(k,I),I=V[0],q=V[1],V=h(k,F),F=V[0].replace(/^([+-\/*])=/,function(e,t){return G=t,""}),j=V[1],I=parseFloat(I)||0,F=parseFloat(F)||0,"%"===j&&(/^(fontSize|lineHeight)$/.test(k)?(F/=100,j="em"):/^scale/.test(k)?(F/=100,j=""):/(Red|Green|Blue)$/i.test(k)&&(F=F/100*255,j="")),/[\/*]/.test(G))j=q;else if(q!==j&&0!==I)if(0===F)j=q;else{i=i||d();var W=/margin|padding|left|right|width|text|word|letter/i.test(k)||/X$/.test(k)||"x"===k?"x":"y";switch(q){case"%":I*="x"===W?i.percentToPxWidth:i.percentToPxHeight;break;case"px":break;default:I*=i[q+"ToPx"]}switch(j){case"%":I*=1/("x"===W?i.percentToPxWidth:i.percentToPxHeight);break;case"px":break;default:I*=1/i[j+"ToPx"]}}switch(G){case"+":F=I+F;break;case"-":F=I-F;break;case"*":F=I*F;break;case"/":F=I/F}u[k]={rootPropertyValue:U,startValue:I,currentValue:I,endValue:F,unitType:j,easing:B},b.debug&&console.log("tweensContainer ("+k+"): "+JSON.stringify(u[k]),o)}else b.debug&&console.log("Skipping ["+z+"] due to a lack of browser support.")}u.element=o}u.element&&(x.Values.addClass(o,"velocity-animating"),L.push(u),""===s.queue&&(a(o).tweensContainer=u,a(o).opts=s),a(o).isAnimating=!0,T===_-1?(b.State.calls.push([L,p,s,null,C.resolver]),b.State.isTicking===!1&&(b.State.isTicking=!0,l())):T++)}var i,o=this,s=f.extend({},b.defaults,v),u={};switch(a(o)===n&&b.init(o),parseFloat(s.delay)&&s.queue!==!1&&f.queue(o,s.queue,function(e){b.velocityQueueEntryFlag=!0,a(o).delayTimer={setTimeout:setTimeout(e,parseFloat(s.delay)),next:e}}),s.duration.toString().toLowerCase()){case"fast":s.duration=200;break;case"normal":s.duration=y;break;case"slow":s.duration=600;break;default:s.duration=parseFloat(s.duration)||1}b.mock!==!1&&(b.mock===!0?s.duration=s.delay=1:(s.duration*=parseFloat(b.mock)||1,s.delay*=parseFloat(b.mock)||1)),s.easing=c(s.easing,s.duration),s.begin&&!m.isFunction(s.begin)&&(s.begin=null),s.progress&&!m.isFunction(s.progress)&&(s.progress=null),s.complete&&!m.isFunction(s.complete)&&(s.complete=null),s.display!==n&&null!==s.display&&(s.display=s.display.toString().toLowerCase(),"auto"===s.display&&(s.display=b.CSS.Values.getDisplayType(o))),s.visibility!==n&&null!==s.visibility&&(s.visibility=s.visibility.toString().toLowerCase()),s.mobileHA=s.mobileHA&&b.State.isMobile&&!b.State.isGingerbread,s.queue===!1?s.delay?setTimeout(e,s.delay):e():f.queue(o,s.queue,function(t,r){return r===!0?(C.promise&&C.resolver(p),!0):(b.velocityQueueEntryFlag=!0,void e(t))}),""!==s.queue&&"fx"!==s.queue||"inprogress"===f.queue(o)[0]||f.dequeue(o)}var s,u,d,p,g,v,E=arguments[0]&&(arguments[0].p||f.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||m.isString(arguments[0].properties));if(m.isWrapped(this)?(s=!1,d=0,p=this,u=this):(s=!0,d=1,p=E?arguments[0].elements||arguments[0].e:arguments[0]),p=o(p)){E?(g=arguments[0].properties||arguments[0].p,v=arguments[0].options||arguments[0].o):(g=arguments[d],v=arguments[d+1]);var _=p.length,T=0;if(!/^(stop|finish)$/i.test(g)&&!f.isPlainObject(v)){var R=d+1;v={};for(var S=R;S<arguments.length;S++)m.isArray(arguments[S])||!/^(fast|normal|slow)$/i.test(arguments[S])&&!/^\d/.test(arguments[S])?m.isString(arguments[S])||m.isArray(arguments[S])?v.easing=arguments[S]:m.isFunction(arguments[S])&&(v.complete=arguments[S]):v.duration=arguments[S]}var C={promise:null,resolver:null,rejecter:null};s&&b.Promise&&(C.promise=new b.Promise(function(e,t){C.resolver=e,C.rejecter=t}));var H;switch(g){case"scroll":H="scroll";break;case"reverse":H="reverse";break;case"finish":case"stop":f.each(p,function(e,t){a(t)&&a(t).delayTimer&&(clearTimeout(a(t).delayTimer.setTimeout),a(t).delayTimer.next&&a(t).delayTimer.next(),delete a(t).delayTimer)});var M=[];return f.each(b.State.calls,function(e,t){t&&f.each(t[1],function(r,i){var o=v===n?"":v;return o===!0||t[2].queue===o||v===n&&t[2].queue===!1?void f.each(p,function(r,n){n===i&&((v===!0||m.isString(v))&&(f.each(f.queue(n,m.isString(v)?v:""),function(e,t){m.isFunction(t)&&t(null,!0)}),f.queue(n,m.isString(v)?v:"",[])),"stop"===g?(a(n)&&a(n).tweensContainer&&o!==!1&&f.each(a(n).tweensContainer,function(e,t){t.endValue=t.currentValue}),M.push(e)):"finish"===g&&(t[2].duration=1))}):!0})}),"stop"===g&&(f.each(M,function(e,t){h(t,!0)}),C.promise&&C.resolver(p)),e();default:if(!f.isPlainObject(g)||m.isEmptyObject(g)){if(m.isString(g)&&b.Redirects[g]){var A=f.extend({},v),N=A.duration,P=A.delay||0;return A.backwards===!0&&(p=f.extend(!0,[],p).reverse()),f.each(p,function(e,t){parseFloat(A.stagger)?A.delay=P+parseFloat(A.stagger)*e:m.isFunction(A.stagger)&&(A.delay=P+A.stagger.call(t,e,_)),A.drag&&(A.duration=parseFloat(N)||(/^(callout|transition)/.test(g)?1e3:y),A.duration=Math.max(A.duration*(A.backwards?1-e/_:(e+1)/_),.75*A.duration,200)),b.Redirects[g].call(t,t,A||{},e,_,p,C.promise?C:n)}),e()}var k="Velocity: First argument ("+g+") was not a property map, a known action, or a registered redirect. Aborting.";return C.promise?C.rejecter(new Error(k)):console.log(k),e()}H="start"}var O={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},L=[];f.each(p,function(e,t){m.isNode(t)&&i.call(t)});var D,A=f.extend({},b.defaults,v);if(A.loop=parseInt(A.loop),D=2*A.loop-1,A.loop)for(var F=0;D>F;F++){var B={delay:A.delay,progress:A.progress};F===D-1&&(B.display=A.display,B.visibility=A.visibility,B.complete=A.complete),w(p,"reverse",B)}return e()}};b=f.extend(w,b),b.animate=w;var _=t.requestAnimationFrame||p;return b.State.isMobile||r.hidden===n||r.addEventListener("visibilitychange",function(){r.hidden?(_=function(e){return setTimeout(function(){e(!0)},16)},l()):_=t.requestAnimationFrame||p}),e.Velocity=b,e!==t&&(e.fn.velocity=w,e.fn.velocity.defaults=b.defaults),f.each(["Down","Up"],function(e,t){b.Redirects["slide"+t]=function(e,r,i,o,a,s){var u=f.extend({},r),c=u.begin,l=u.complete,h={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""},d={};u.display===n&&(u.display="Down"===t?"inline"===b.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),u.begin=function(){c&&c.call(a,a);for(var r in h){d[r]=e.style[r];var n=b.CSS.getPropertyValue(e,r);h[r]="Down"===t?[n,0]:[0,n]}d.overflow=e.style.overflow,e.style.overflow="hidden"},u.complete=function(){for(var t in d)e.style[t]=d[t];l&&l.call(a,a),s&&s.resolver(a)},b(e,h,u)}}),f.each(["In","Out"],function(e,t){b.Redirects["fade"+t]=function(e,r,i,o,a,s){var u=f.extend({},r),c={opacity:"In"===t?1:0},l=u.complete;u.complete=i!==o-1?u.begin=null:function(){l&&l.call(a,a),s&&s.resolver(a)},u.display===n&&(u.display="In"===t?"auto":"none"),b(this,c,u)}}),b}(window.jQuery||window.Zepto||window,window,document)});var THREE={REVISION:"70"};"object"==typeof module&&(module.exports=THREE),void 0===Math.sign&&(Math.sign=function(e){return 0>e?-1:e>0?1:0
}),THREE.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},THREE.CullFaceNone=0,THREE.CullFaceBack=1,THREE.CullFaceFront=2,THREE.CullFaceFrontBack=3,THREE.FrontFaceDirectionCW=0,THREE.FrontFaceDirectionCCW=1,THREE.BasicShadowMap=0,THREE.PCFShadowMap=1,THREE.PCFSoftShadowMap=2,THREE.FrontSide=0,THREE.BackSide=1,THREE.DoubleSide=2,THREE.NoShading=0,THREE.FlatShading=1,THREE.SmoothShading=2,THREE.NoColors=0,THREE.FaceColors=1,THREE.VertexColors=2,THREE.NoBlending=0,THREE.NormalBlending=1,THREE.AdditiveBlending=2,THREE.SubtractiveBlending=3,THREE.MultiplyBlending=4,THREE.CustomBlending=5,THREE.AddEquation=100,THREE.SubtractEquation=101,THREE.ReverseSubtractEquation=102,THREE.MinEquation=103,THREE.MaxEquation=104,THREE.ZeroFactor=200,THREE.OneFactor=201,THREE.SrcColorFactor=202,THREE.OneMinusSrcColorFactor=203,THREE.SrcAlphaFactor=204,THREE.OneMinusSrcAlphaFactor=205,THREE.DstAlphaFactor=206,THREE.OneMinusDstAlphaFactor=207,THREE.DstColorFactor=208,THREE.OneMinusDstColorFactor=209,THREE.SrcAlphaSaturateFactor=210,THREE.MultiplyOperation=0,THREE.MixOperation=1,THREE.AddOperation=2,THREE.UVMapping=300,THREE.CubeReflectionMapping=301,THREE.CubeRefractionMapping=302,THREE.EquirectangularReflectionMapping=303,THREE.EquirectangularRefractionMapping=304,THREE.SphericalReflectionMapping=305,THREE.RepeatWrapping=1e3,THREE.ClampToEdgeWrapping=1001,THREE.MirroredRepeatWrapping=1002,THREE.NearestFilter=1003,THREE.NearestMipMapNearestFilter=1004,THREE.NearestMipMapLinearFilter=1005,THREE.LinearFilter=1006,THREE.LinearMipMapNearestFilter=1007,THREE.LinearMipMapLinearFilter=1008,THREE.UnsignedByteType=1009,THREE.ByteType=1010,THREE.ShortType=1011,THREE.UnsignedShortType=1012,THREE.IntType=1013,THREE.UnsignedIntType=1014,THREE.FloatType=1015,THREE.UnsignedShort4444Type=1016,THREE.UnsignedShort5551Type=1017,THREE.UnsignedShort565Type=1018,THREE.AlphaFormat=1019,THREE.RGBFormat=1020,THREE.RGBAFormat=1021,THREE.LuminanceFormat=1022,THREE.LuminanceAlphaFormat=1023,THREE.RGBEFormat=THREE.RGBAFormat,THREE.RGB_S3TC_DXT1_Format=2001,THREE.RGBA_S3TC_DXT1_Format=2002,THREE.RGBA_S3TC_DXT3_Format=2003,THREE.RGBA_S3TC_DXT5_Format=2004,THREE.RGB_PVRTC_4BPPV1_Format=2100,THREE.RGB_PVRTC_2BPPV1_Format=2101,THREE.RGBA_PVRTC_4BPPV1_Format=2102,THREE.RGBA_PVRTC_2BPPV1_Format=2103,THREE.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js."),this.projectVector=function(e,t){console.warn("THREE.Projector: .projectVector() is now vector.project()."),e.project(t)},this.unprojectVector=function(e,t){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject()."),e.unproject(t)},this.pickingRay=function(){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}},THREE.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js"),this.domElement=document.createElement("canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},THREE.Color=function(e){return 3===arguments.length?this.setRGB(arguments[0],arguments[1],arguments[2]):this.set(e)},THREE.Color.prototype={constructor:THREE.Color,r:1,g:1,b:1,set:function(e){return e instanceof THREE.Color?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,r){return this.r=e,this.g=t,this.b=r,this},setHSL:function(e,t,r){if(0===t)this.r=this.g=this.b=r;else{var n=function(e,t,r){return 0>r&&(r+=1),r>1&&(r-=1),1/6>r?e+6*(t-e)*r:.5>r?t:2/3>r?e+6*(t-e)*(2/3-r):e},i=.5>=r?r*(1+t):r+t-r*t,o=2*r-i;this.r=n(o,i,e+1/3),this.g=n(o,i,e),this.b=n(o,i,e-1/3)}return this},setStyle:function(e){if(/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.test(e)){var t=/^rgb\((\d+), ?(\d+), ?(\d+)\)$/i.exec(e);return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,this}if(/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.test(e)){var t=/^rgb\((\d+)\%, ?(\d+)\%, ?(\d+)\%\)$/i.exec(e);return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,this}if(/^\#([0-9a-f]{6})$/i.test(e)){var t=/^\#([0-9a-f]{6})$/i.exec(e);return this.setHex(parseInt(t[1],16)),this}if(/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.test(e)){var t=/^\#([0-9a-f])([0-9a-f])([0-9a-f])$/i.exec(e);return this.setHex(parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3],16)),this}return/^(\w+)$/i.test(e)?(this.setHex(THREE.ColorKeywords[e]),this):void 0},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e){return this.r=e.r*e.r,this.g=e.g*e.g,this.b=e.b*e.b,this},copyLinearToGamma:function(e){return this.r=Math.sqrt(e.r),this.g=Math.sqrt(e.g),this.b=Math.sqrt(e.b),this},convertGammaToLinear:function(){var e=this.r,t=this.g,r=this.b;return this.r=e*e,this.g=t*t,this.b=r*r,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,r,n=e||{h:0,s:0,l:0},i=this.r,o=this.g,a=this.b,s=Math.max(i,o,a),u=Math.min(i,o,a),c=(u+s)/2;if(u===s)t=0,r=0;else{var l=s-u;switch(r=.5>=c?l/(s+u):l/(2-s-u),s){case i:t=(o-a)/l+(a>o?6:0);break;case o:t=(a-i)/l+2;break;case a:t=(i-o)/l+4}t/=6}return n.h=t,n.s=r,n.l=c,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,r){var n=this.getHSL();return n.h+=e,n.s+=t,n.l+=r,this.setHSL(n.h,n.s,n.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e){return this.r=e[0],this.g=e[1],this.b=e[2],this},toArray:function(){return[this.r,this.g,this.b]},clone:function(){return(new THREE.Color).setRGB(this.r,this.g,this.b)}},THREE.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},THREE.Quaternion=function(e,t,r,n){this._x=e||0,this._y=t||0,this._z=r||0,this._w=void 0!==n?n:1},THREE.Quaternion.prototype={constructor:THREE.Quaternion,_x:0,_y:0,_z:0,_w:0,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get w(){return this._w},set w(e){this._w=e,this.onChangeCallback()},set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this.onChangeCallback(),this},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(e instanceof THREE.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var r=Math.cos(e._x/2),n=Math.cos(e._y/2),i=Math.cos(e._z/2),o=Math.sin(e._x/2),a=Math.sin(e._y/2),s=Math.sin(e._z/2);return"XYZ"===e.order?(this._x=o*n*i+r*a*s,this._y=r*a*i-o*n*s,this._z=r*n*s+o*a*i,this._w=r*n*i-o*a*s):"YXZ"===e.order?(this._x=o*n*i+r*a*s,this._y=r*a*i-o*n*s,this._z=r*n*s-o*a*i,this._w=r*n*i+o*a*s):"ZXY"===e.order?(this._x=o*n*i-r*a*s,this._y=r*a*i+o*n*s,this._z=r*n*s+o*a*i,this._w=r*n*i-o*a*s):"ZYX"===e.order?(this._x=o*n*i-r*a*s,this._y=r*a*i+o*n*s,this._z=r*n*s-o*a*i,this._w=r*n*i+o*a*s):"YZX"===e.order?(this._x=o*n*i+r*a*s,this._y=r*a*i+o*n*s,this._z=r*n*s-o*a*i,this._w=r*n*i-o*a*s):"XZY"===e.order&&(this._x=o*n*i-r*a*s,this._y=r*a*i-o*n*s,this._z=r*n*s+o*a*i,this._w=r*n*i+o*a*s),t!==!1&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,r=e.elements,n=r[0],i=r[4],o=r[8],a=r[1],s=r[5],u=r[9],c=r[2],l=r[6],h=r[10],f=n+s+h;return f>0?(t=.5/Math.sqrt(f+1),this._w=.25/t,this._x=(l-u)*t,this._y=(o-c)*t,this._z=(a-i)*t):n>s&&n>h?(t=2*Math.sqrt(1+n-s-h),this._w=(l-u)/t,this._x=.25*t,this._y=(i+a)/t,this._z=(o+c)/t):s>h?(t=2*Math.sqrt(1+s-n-h),this._w=(o-c)/t,this._x=(i+a)/t,this._y=.25*t,this._z=(u+l)/t):(t=2*Math.sqrt(1+h-n-s),this._w=(a-i)/t,this._x=(o+c)/t,this._y=(u+l)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(){var e,t,r=1e-6;return function(n,i){return void 0===e&&(e=new THREE.Vector3),t=n.dot(i)+1,r>t?(t=0,Math.abs(n.x)>Math.abs(n.z)?e.set(-n.y,n.x,0):e.set(0,-n.z,n.y)):e.crossVectors(n,i),this._x=e.x,this._y=e.y,this._z=e.z,this._w=t,this.normalize(),this}}(),inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(e,t)):this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var r=e._x,n=e._y,i=e._z,o=e._w,a=t._x,s=t._y,u=t._z,c=t._w;return this._x=r*c+o*a+n*u-i*s,this._y=n*c+o*s+i*a-r*u,this._z=i*c+o*u+r*s-n*a,this._w=o*c-r*a-n*s-i*u,this.onChangeCallback(),this},multiplyVector3:function(e){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),e.applyQuaternion(this)},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var r=this._x,n=this._y,i=this._z,o=this._w,a=o*e._w+r*e._x+n*e._y+i*e._z;if(0>a?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;var s=Math.acos(a),u=Math.sqrt(1-a*a);if(Math.abs(u)<.001)return this._w=.5*(o+this._w),this._x=.5*(r+this._x),this._y=.5*(n+this._y),this._z=.5*(i+this._z),this;var c=Math.sin((1-t)*s)/u,l=Math.sin(t*s)/u;return this._w=o*c+this._w*l,this._x=r*c+this._x*l,this._y=n*c+this._y*l,this._z=i*c+this._z*l,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){},clone:function(){return new THREE.Quaternion(this._x,this._y,this._z,this._w)}},THREE.Quaternion.slerp=function(e,t,r,n){return r.copy(e).slerp(t,n)},THREE.Vector2=function(e,t){this.x=e||0,this.y=t||0},THREE.Vector2.prototype={constructor:THREE.Vector2,set:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this)},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScalar:function(e){return this.x+=e,this.y+=e,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t}else this.x=0,this.y=0;return this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this},clampScalar:function(){var e,t;return function(r,n){return void 0===e&&(e=new THREE.Vector2,t=new THREE.Vector2),e.set(r,r),t.set(n,n),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},normalize:function(){return this.divideScalar(this.length())},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y;return t*t+r*r},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromAttribute:function(e,t,r){return void 0===r&&(r=0),t=t*e.itemSize+r,this.x=e.array[t],this.y=e.array[t+1],this},clone:function(){return new THREE.Vector2(this.x,this.y)}},THREE.Vector3=function(e,t,r){this.x=e||0,this.y=t||0,this.z=r||0},THREE.Vector3.prototype={constructor:THREE.Vector3,set:function(e,t,r){return this.x=e,this.y=t,this.z=r,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(e,t)):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(){var e;return function(t){return t instanceof THREE.Euler==!1&&console.error("THREE.Vector3: .applyEuler() now expects a Euler rotation rather than a Vector3 and order."),void 0===e&&(e=new THREE.Quaternion),this.applyQuaternion(e.setFromEuler(t)),this}}(),applyAxisAngle:function(){var e;return function(t,r){return void 0===e&&(e=new THREE.Quaternion),this.applyQuaternion(e.setFromAxisAngle(t,r)),this}}(),applyMatrix3:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6]*n,this.y=i[1]*t+i[4]*r+i[7]*n,this.z=i[2]*t+i[5]*r+i[8]*n,this},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n+i[12],this.y=i[1]*t+i[5]*r+i[9]*n+i[13],this.z=i[2]*t+i[6]*r+i[10]*n+i[14],this},applyProjection:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements,o=1/(i[3]*t+i[7]*r+i[11]*n+i[15]);return this.x=(i[0]*t+i[4]*r+i[8]*n+i[12])*o,this.y=(i[1]*t+i[5]*r+i[9]*n+i[13])*o,this.z=(i[2]*t+i[6]*r+i[10]*n+i[14])*o,this},applyQuaternion:function(e){var t=this.x,r=this.y,n=this.z,i=e.x,o=e.y,a=e.z,s=e.w,u=s*t+o*n-a*r,c=s*r+a*t-i*n,l=s*n+i*r-o*t,h=-i*t-o*r-a*n;return this.x=u*s+h*-i+c*-a-l*-o,this.y=c*s+h*-o+l*-i-u*-a,this.z=l*s+h*-a+u*-o-c*-i,this},project:function(){var e;return function(t){return void 0===e&&(e=new THREE.Matrix4),e.multiplyMatrices(t.projectionMatrix,e.getInverse(t.matrixWorld)),this.applyProjection(e)}}(),unproject:function(){var e;return function(t){return void 0===e&&(e=new THREE.Matrix4),e.multiplyMatrices(t.matrixWorld,e.getInverse(t.projectionMatrix)),this.applyProjection(e)}}(),transformDirection:function(e){var t=this.x,r=this.y,n=this.z,i=e.elements;return this.x=i[0]*t+i[4]*r+i[8]*n,this.y=i[1]*t+i[5]*r+i[9]*n,this.z=i[2]*t+i[6]*r+i[10]*n,this.normalize(),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t,this.z*=t}else this.x=0,this.y=0,this.z=0;return this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this},clampScalar:function(){var e,t;return function(r,n){return void 0===e&&(e=new THREE.Vector3,t=new THREE.Vector3),e.set(r,r,r),t.set(n,n,n),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},cross:function(e,t){if(void 0!==t)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(e,t);var r=this.x,n=this.y,i=this.z;return this.x=n*e.z-i*e.y,this.y=i*e.x-r*e.z,this.z=r*e.y-n*e.x,this},crossVectors:function(e,t){var r=e.x,n=e.y,i=e.z,o=t.x,a=t.y,s=t.z;return this.x=n*s-i*a,this.y=i*o-r*s,this.z=r*a-n*o,this},projectOnVector:function(){var e,t;return function(r){return void 0===e&&(e=new THREE.Vector3),e.copy(r).normalize(),t=this.dot(e),this.copy(e).multiplyScalar(t)}}(),projectOnPlane:function(){var e;return function(t){return void 0===e&&(e=new THREE.Vector3),e.copy(this).projectOnVector(t),this.sub(e)}}(),reflect:function(){var e;return function(t){return void 0===e&&(e=new THREE.Vector3),this.sub(e.copy(t).multiplyScalar(2*this.dot(t)))}}(),angleTo:function(e){var t=this.dot(e)/(this.length()*e.length());return Math.acos(THREE.Math.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,r=this.y-e.y,n=this.z-e.z;return t*t+r*r+n*n},setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(e){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(e)},getScaleFromMatrix:function(e){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(e)},getColumnFromMatrix:function(e,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},setFromMatrixPosition:function(e){return this.x=e.elements[12],this.y=e.elements[13],this.z=e.elements[14],this},setFromMatrixScale:function(e){var t=this.set(e.elements[0],e.elements[1],e.elements[2]).length(),r=this.set(e.elements[4],e.elements[5],e.elements[6]).length(),n=this.set(e.elements[8],e.elements[9],e.elements[10]).length();return this.x=t,this.y=r,this.z=n,this},setFromMatrixColumn:function(e,t){var r=4*e,n=t.elements;return this.x=n[r],this.y=n[r+1],this.z=n[r+2],this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromAttribute:function(e,t,r){return void 0===r&&(r=0),t=t*e.itemSize+r,this.x=e.array[t],this.y=e.array[t+1],this.z=e.array[t+2],this},clone:function(){return new THREE.Vector3(this.x,this.y,this.z)}},THREE.Vector4=function(e,t,r,n){this.x=e||0,this.y=t||0,this.z=r||0,this.w=void 0!==n?n:1},THREE.Vector4.prototype={constructor:THREE.Vector4,set:function(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(e,t)):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},sub:function(e,t){return void 0!==t?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(e,t)):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this},applyMatrix4:function(e){var t=this.x,r=this.y,n=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*n+o[12]*i,this.y=o[1]*t+o[5]*r+o[9]*n+o[13]*i,this.z=o[2]*t+o[6]*r+o[10]*n+o[14]*i,this.w=o[3]*t+o[7]*r+o[11]*n+o[15]*i,this},divideScalar:function(e){if(0!==e){var t=1/e;this.x*=t,this.y*=t,this.z*=t,this.w*=t}else this.x=0,this.y=0,this.z=0,this.w=1;return this},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return 1e-4>t?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,r,n,i,o=.01,a=.1,s=e.elements,u=s[0],c=s[4],l=s[8],h=s[1],f=s[5],d=s[9],p=s[2],m=s[6],g=s[10];if(Math.abs(c-h)<o&&Math.abs(l-p)<o&&Math.abs(d-m)<o){if(Math.abs(c+h)<a&&Math.abs(l+p)<a&&Math.abs(d+m)<a&&Math.abs(u+f+g-3)<a)return this.set(1,0,0,0),this;t=Math.PI;var y=(u+1)/2,v=(f+1)/2,b=(g+1)/2,E=(c+h)/4,x=(l+p)/4,w=(d+m)/4;return y>v&&y>b?o>y?(r=0,n=.707106781,i=.707106781):(r=Math.sqrt(y),n=E/r,i=x/r):v>b?o>v?(r=.707106781,n=0,i=.707106781):(n=Math.sqrt(v),r=E/n,i=w/n):o>b?(r=.707106781,n=.707106781,i=0):(i=Math.sqrt(b),r=x/i,n=w/i),this.set(r,n,i,t),this}var _=Math.sqrt((m-d)*(m-d)+(l-p)*(l-p)+(h-c)*(h-c));return Math.abs(_)<.001&&(_=1),this.x=(m-d)/_,this.y=(l-p)/_,this.z=(h-c)/_,this.w=Math.acos((u+f+g-1)/2),this},min:function(e){return this.x>e.x&&(this.x=e.x),this.y>e.y&&(this.y=e.y),this.z>e.z&&(this.z=e.z),this.w>e.w&&(this.w=e.w),this},max:function(e){return this.x<e.x&&(this.x=e.x),this.y<e.y&&(this.y=e.y),this.z<e.z&&(this.z=e.z),this.w<e.w&&(this.w=e.w),this},clamp:function(e,t){return this.x<e.x?this.x=e.x:this.x>t.x&&(this.x=t.x),this.y<e.y?this.y=e.y:this.y>t.y&&(this.y=t.y),this.z<e.z?this.z=e.z:this.z>t.z&&(this.z=t.z),this.w<e.w?this.w=e.w:this.w>t.w&&(this.w=t.w),this},clampScalar:function(){var e,t;return function(r,n){return void 0===e&&(e=new THREE.Vector4,t=new THREE.Vector4),e.set(r,r,r,r),t.set(n,n,n,n),this.clamp(e,t)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromAttribute:function(e,t,r){return void 0===r&&(r=0),t=t*e.itemSize+r,this.x=e.array[t],this.y=e.array[t+1],this.z=e.array[t+2],this.w=e.array[t+3],this},clone:function(){return new THREE.Vector4(this.x,this.y,this.z,this.w)}},THREE.Euler=function(e,t,r,n){this._x=e||0,this._y=t||0,this._z=r||0,this._order=n||THREE.Euler.DefaultOrder},THREE.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],THREE.Euler.DefaultOrder="XYZ",THREE.Euler.prototype={constructor:THREE.Euler,_x:0,_y:0,_z:0,_order:THREE.Euler.DefaultOrder,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get order(){return this._order},set order(e){this._order=e,this.onChangeCallback()},set:function(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._order=n||this._order,this.onChangeCallback(),this},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,r){var n=THREE.Math.clamp,i=e.elements,o=i[0],a=i[4],s=i[8],u=i[1],c=i[5],l=i[9],h=i[2],f=i[6],d=i[10];
return t=t||this._order,"XYZ"===t?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(f,c),this._z=0)):"YXZ"===t?(this._x=Math.asin(-n(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,d),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===t?(this._x=Math.asin(n(f,-1,1)),Math.abs(f)<.99999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(u,o))):"ZYX"===t?(this._y=Math.asin(-n(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(f,d),this._z=Math.atan2(u,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===t?(this._z=Math.asin(n(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===t?(this._z=Math.asin(-n(a,-1,1)),Math.abs(a)<.99999?(this._x=Math.atan2(f,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-l,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+t),this._order=t,r!==!1&&this.onChangeCallback(),this},setFromQuaternion:function(){var e;return function(t,r,n){return void 0===e&&(e=new THREE.Matrix4),e.makeRotationFromQuaternion(t),this.setFromRotationMatrix(e,r,n),this}}(),setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:function(){var e=new THREE.Quaternion;return function(t){e.setFromEuler(this),this.setFromQuaternion(e,t)}}(),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(){return[this._x,this._y,this._z,this._order]},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new THREE.Vector3(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){},clone:function(){return new THREE.Euler(this._x,this._y,this._z,this._order)}},THREE.Line3=function(e,t){this.start=void 0!==e?e:new THREE.Vector3,this.end=void 0!==t?t:new THREE.Vector3},THREE.Line3.prototype={constructor:THREE.Line3,set:function(e,t){return this.start.copy(e),this.end.copy(t),this},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},center:function(e){var t=e||new THREE.Vector3;return t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){var t=e||new THREE.Vector3;return t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var r=t||new THREE.Vector3;return this.delta(r).multiplyScalar(e).add(this.start)},closestPointToPointParameter:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(r,n){e.subVectors(r,this.start),t.subVectors(this.end,this.start);var i=t.dot(t),o=t.dot(e),a=o/i;return n&&(a=THREE.Math.clamp(a,0,1)),a}}(),closestPointToPoint:function(e,t,r){var n=this.closestPointToPointParameter(e,t),i=r||new THREE.Vector3;return this.delta(i).multiplyScalar(n).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)},clone:function(){return(new THREE.Line3).copy(this)}},THREE.Box2=function(e,t){this.min=void 0!==e?e:new THREE.Vector2(1/0,1/0),this.max=void 0!==t?t:new THREE.Vector2(-1/0,-1/0)},THREE.Box2.prototype={constructor:THREE.Box2,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;r>t;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new THREE.Vector2;return function(t,r){var n=e.copy(r).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}}(),copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(e){var t=e||new THREE.Vector2;return t.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){var t=e||new THREE.Vector2;return t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y?!1:!0},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y?!0:!1},getParameter:function(e,t){var r=t||new THREE.Vector2;return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},isIntersectionBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y?!1:!0},clampPoint:function(e,t){var r=t||new THREE.Vector2;return r.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new THREE.Vector2;return function(t){var r=e.copy(t).clamp(this.min,this.max);return r.sub(t).length()}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new THREE.Box2).copy(this)}},THREE.Box3=function(e,t){this.min=void 0!==e?e:new THREE.Vector3(1/0,1/0,1/0),this.max=void 0!==t?t:new THREE.Vector3(-1/0,-1/0,-1/0)},THREE.Box3.prototype={constructor:THREE.Box3,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,r=e.length;r>t;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:function(){var e=new THREE.Vector3;return function(t,r){var n=e.copy(r).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}}(),setFromObject:function(){var e=new THREE.Vector3;return function(t){var r=this;return t.updateMatrixWorld(!0),this.makeEmpty(),t.traverse(function(t){var n=t.geometry;if(void 0!==n)if(n instanceof THREE.Geometry)for(var i=n.vertices,o=0,a=i.length;a>o;o++)e.copy(i[o]),e.applyMatrix4(t.matrixWorld),r.expandByPoint(e);else if(n instanceof THREE.BufferGeometry&&void 0!==n.attributes.position)for(var s=n.attributes.position.array,o=0,a=s.length;a>o;o+=3)e.set(s[o],s[o+1],s[o+2]),e.applyMatrix4(t.matrixWorld),r.expandByPoint(e)}),this}}(),copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},empty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(e){var t=e||new THREE.Vector3;return t.addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){var t=e||new THREE.Vector3;return t.subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z?!1:!0},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z?!0:!1},getParameter:function(e,t){var r=t||new THREE.Vector3;return r.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},isIntersectionBox:function(e){return e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z?!1:!0},clampPoint:function(e,t){var r=t||new THREE.Vector3;return r.copy(e).clamp(this.min,this.max)},distanceToPoint:function(){var e=new THREE.Vector3;return function(t){var r=e.copy(t).clamp(this.min,this.max);return r.sub(t).length()}}(),getBoundingSphere:function(){var e=new THREE.Vector3;return function(t){var r=t||new THREE.Sphere;return r.center=this.center(),r.radius=.5*this.size(e).length(),r}}(),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:function(){var e=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3,new THREE.Vector3];return function(t){return e[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),e[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),e[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),e[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),e[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),e[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),e[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),e[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.makeEmpty(),this.setFromPoints(e),this}}(),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)},clone:function(){return(new THREE.Box3).copy(this)}},THREE.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")},THREE.Matrix3.prototype={constructor:THREE.Matrix3,set:function(e,t,r,n,i,o,a,s,u){var c=this.elements;return c[0]=e,c[3]=t,c[6]=r,c[1]=n,c[4]=i,c[7]=o,c[2]=a,c[5]=s,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},copy:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]),this},multiplyVector3:function(e){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),e.applyMatrix3(this)},multiplyVector3Array:function(e){return console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToVector3Array:function(){var e=new THREE.Vector3;return function(t,r,n){void 0===r&&(r=0),void 0===n&&(n=t.length);for(var i=0,o=r;n>i;i+=3,o+=3)e.x=t[o],e.y=t[o+1],e.z=t[o+2],e.applyMatrix3(this),t[o]=e.x,t[o+1]=e.y,t[o+2]=e.z;return t}}(),multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],a=e[5],s=e[6],u=e[7],c=e[8];return t*o*c-t*a*u-r*i*c+r*a*s+n*i*u-n*o*s},getInverse:function(e,t){var r=e.elements,n=this.elements;n[0]=r[10]*r[5]-r[6]*r[9],n[1]=-r[10]*r[1]+r[2]*r[9],n[2]=r[6]*r[1]-r[2]*r[5],n[3]=-r[10]*r[4]+r[6]*r[8],n[4]=r[10]*r[0]-r[2]*r[8],n[5]=-r[6]*r[0]+r[2]*r[4],n[6]=r[9]*r[4]-r[5]*r[8],n[7]=-r[9]*r[0]+r[1]*r[8],n[8]=r[5]*r[0]-r[1]*r[4];var i=r[0]*n[0]+r[1]*n[3]+r[2]*n[6];if(0===i){var o="Matrix3.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(o);return console.warn(o),this.identity(),this}return this.multiplyScalar(1/i),this},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},flattenToArrayOffset:function(e,t){var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e},getNormalMatrix:function(e){return this.getInverse(e).transpose(),this},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]},clone:function(){return(new THREE.Matrix3).fromArray(this.elements)}},THREE.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")},THREE.Matrix4.prototype={constructor:THREE.Matrix4,set:function(e,t,r,n,i,o,a,s,u,c,l,h,f,d,p,m){var g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=n,g[1]=i,g[5]=o,g[9]=a,g[13]=s,g[2]=u,g[6]=c,g[10]=l,g[14]=h,g[3]=f,g[7]=d,g[11]=p,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},copy:function(e){return this.elements.set(e.elements),this},extractPosition:function(e){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(e)},copyPosition:function(e){var t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this},extractBasis:function(e,t,r){var n=this.elements;return e.set(n[0],n[1],n[2]),t.set(n[4],n[5],n[6]),r.set(n[8],n[9],n[10]),this},makeBasis:function(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this},extractRotation:function(){var e=new THREE.Vector3;return function(t){var r=this.elements,n=t.elements,i=1/e.set(n[0],n[1],n[2]).length(),o=1/e.set(n[4],n[5],n[6]).length(),a=1/e.set(n[8],n[9],n[10]).length();return r[0]=n[0]*i,r[1]=n[1]*i,r[2]=n[2]*i,r[4]=n[4]*o,r[5]=n[5]*o,r[6]=n[6]*o,r[8]=n[8]*a,r[9]=n[9]*a,r[10]=n[10]*a,this}}(),makeRotationFromEuler:function(e){e instanceof THREE.Euler==!1&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var t=this.elements,r=e.x,n=e.y,i=e.z,o=Math.cos(r),a=Math.sin(r),s=Math.cos(n),u=Math.sin(n),c=Math.cos(i),l=Math.sin(i);if("XYZ"===e.order){var h=o*c,f=o*l,d=a*c,p=a*l;t[0]=s*c,t[4]=-s*l,t[8]=u,t[1]=f+d*u,t[5]=h-p*u,t[9]=-a*s,t[2]=p-h*u,t[6]=d+f*u,t[10]=o*s}else if("YXZ"===e.order){var m=s*c,g=s*l,y=u*c,v=u*l;t[0]=m+v*a,t[4]=y*a-g,t[8]=o*u,t[1]=o*l,t[5]=o*c,t[9]=-a,t[2]=g*a-y,t[6]=v+m*a,t[10]=o*s}else if("ZXY"===e.order){var m=s*c,g=s*l,y=u*c,v=u*l;t[0]=m-v*a,t[4]=-o*l,t[8]=y+g*a,t[1]=g+y*a,t[5]=o*c,t[9]=v-m*a,t[2]=-o*u,t[6]=a,t[10]=o*s}else if("ZYX"===e.order){var h=o*c,f=o*l,d=a*c,p=a*l;t[0]=s*c,t[4]=d*u-f,t[8]=h*u+p,t[1]=s*l,t[5]=p*u+h,t[9]=f*u-d,t[2]=-u,t[6]=a*s,t[10]=o*s}else if("YZX"===e.order){var b=o*s,E=o*u,x=a*s,w=a*u;t[0]=s*c,t[4]=w-b*l,t[8]=x*l+E,t[1]=l,t[5]=o*c,t[9]=-a*c,t[2]=-u*c,t[6]=E*l+x,t[10]=b-w*l}else if("XZY"===e.order){var b=o*s,E=o*u,x=a*s,w=a*u;t[0]=s*c,t[4]=-l,t[8]=u*c,t[1]=b*l+w,t[5]=o*c,t[9]=E*l-x,t[2]=x*l-E,t[6]=a*c,t[10]=w*l+b}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},setRotationFromQuaternion:function(e){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(e)},makeRotationFromQuaternion:function(e){var t=this.elements,r=e.x,n=e.y,i=e.z,o=e.w,a=r+r,s=n+n,u=i+i,c=r*a,l=r*s,h=r*u,f=n*s,d=n*u,p=i*u,m=o*a,g=o*s,y=o*u;return t[0]=1-(f+p),t[4]=l-y,t[8]=h+g,t[1]=l+y,t[5]=1-(c+p),t[9]=d-m,t[2]=h-g,t[6]=d+m,t[10]=1-(c+f),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(){var e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3;return function(n,i,o){var a=this.elements;return r.subVectors(n,i).normalize(),0===r.length()&&(r.z=1),e.crossVectors(o,r).normalize(),0===e.length()&&(r.x+=1e-4,e.crossVectors(o,r).normalize()),t.crossVectors(r,e),a[0]=e.x,a[4]=t.x,a[8]=r.x,a[1]=e.y,a[5]=t.y,a[9]=r.y,a[2]=e.z,a[6]=t.z,a[10]=r.z,this}}(),multiply:function(e,t){return void 0!==t?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(e,t)):this.multiplyMatrices(this,e)},multiplyMatrices:function(e,t){var r=e.elements,n=t.elements,i=this.elements,o=r[0],a=r[4],s=r[8],u=r[12],c=r[1],l=r[5],h=r[9],f=r[13],d=r[2],p=r[6],m=r[10],g=r[14],y=r[3],v=r[7],b=r[11],E=r[15],x=n[0],w=n[4],_=n[8],T=n[12],R=n[1],S=n[5],C=n[9],H=n[13],M=n[2],A=n[6],N=n[10],P=n[14],k=n[3],O=n[7],L=n[11],D=n[15];return i[0]=o*x+a*R+s*M+u*k,i[4]=o*w+a*S+s*A+u*O,i[8]=o*_+a*C+s*N+u*L,i[12]=o*T+a*H+s*P+u*D,i[1]=c*x+l*R+h*M+f*k,i[5]=c*w+l*S+h*A+f*O,i[9]=c*_+l*C+h*N+f*L,i[13]=c*T+l*H+h*P+f*D,i[2]=d*x+p*R+m*M+g*k,i[6]=d*w+p*S+m*A+g*O,i[10]=d*_+p*C+m*N+g*L,i[14]=d*T+p*H+m*P+g*D,i[3]=y*x+v*R+b*M+E*k,i[7]=y*w+v*S+b*A+E*O,i[11]=y*_+v*C+b*N+E*L,i[15]=y*T+v*H+b*P+E*D,this},multiplyToArray:function(e,t,r){var n=this.elements;return this.multiplyMatrices(e,t),r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},multiplyVector3:function(e){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead."),e.applyProjection(this)},multiplyVector4:function(e){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},multiplyVector3Array:function(e){return console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead."),this.applyToVector3Array(e)},applyToVector3Array:function(){var e=new THREE.Vector3;return function(t,r,n){void 0===r&&(r=0),void 0===n&&(n=t.length);for(var i=0,o=r;n>i;i+=3,o+=3)e.x=t[o],e.y=t[o+1],e.z=t[o+2],e.applyMatrix4(this),t[o]=e.x,t[o+1]=e.y,t[o+2]=e.z;return t}}(),rotateAxis:function(e){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),e.transformDirection(this)},crossVector:function(e){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),e.applyMatrix4(this)},determinant:function(){var e=this.elements,t=e[0],r=e[4],n=e[8],i=e[12],o=e[1],a=e[5],s=e[9],u=e[13],c=e[2],l=e[6],h=e[10],f=e[14],d=e[3],p=e[7],m=e[11],g=e[15];return d*(+i*s*l-n*u*l-i*a*h+r*u*h+n*a*f-r*s*f)+p*(+t*s*f-t*u*h+i*o*h-n*o*f+n*u*c-i*s*c)+m*(+t*u*l-t*a*f-i*o*l+r*o*f+i*a*c-r*u*c)+g*(-n*a*c-t*s*l+t*a*h+n*o*l-r*o*h+r*s*c)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},flattenToArrayOffset:function(e,t){var r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e},getPosition:function(){var e=new THREE.Vector3;return function(){console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");var t=this.elements;return e.set(t[12],t[13],t[14])}}(),setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var r=this.elements,n=e.elements,i=n[0],o=n[4],a=n[8],s=n[12],u=n[1],c=n[5],l=n[9],h=n[13],f=n[2],d=n[6],p=n[10],m=n[14],g=n[3],y=n[7],v=n[11],b=n[15];r[0]=l*m*y-h*p*y+h*d*v-c*m*v-l*d*b+c*p*b,r[4]=s*p*y-a*m*y-s*d*v+o*m*v+a*d*b-o*p*b,r[8]=a*h*y-s*l*y+s*c*v-o*h*v-a*c*b+o*l*b,r[12]=s*l*d-a*h*d-s*c*p+o*h*p+a*c*m-o*l*m,r[1]=h*p*g-l*m*g-h*f*v+u*m*v+l*f*b-u*p*b,r[5]=a*m*g-s*p*g+s*f*v-i*m*v-a*f*b+i*p*b,r[9]=s*l*g-a*h*g-s*u*v+i*h*v+a*u*b-i*l*b,r[13]=a*h*f-s*l*f+s*u*p-i*h*p-a*u*m+i*l*m,r[2]=c*m*g-h*d*g+h*f*y-u*m*y-c*f*b+u*d*b,r[6]=s*d*g-o*m*g-s*f*y+i*m*y+o*f*b-i*d*b,r[10]=o*h*g-s*c*g+s*u*y-i*h*y-o*u*b+i*c*b,r[14]=s*c*f-o*h*f-s*u*d+i*h*d+o*u*m-i*c*m,r[3]=l*d*g-c*p*g-l*f*y+u*p*y+c*f*v-u*d*v,r[7]=o*p*g-a*d*g+a*f*y-i*p*y-o*f*v+i*d*v,r[11]=a*c*g-o*l*g-a*u*y+i*l*y+o*u*v-i*c*v,r[15]=o*l*f-a*c*f+a*u*d-i*l*d-o*u*p+i*c*p;var E=i*r[0]+u*r[4]+f*r[8]+g*r[12];if(0==E){var x="Matrix4.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(x);return console.warn(x),this.identity(),this}return this.multiplyScalar(1/E),this},translate:function(){console.warn("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.warn("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.warn("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.warn("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.warn("THREE.Matrix4: .rotateByAxis() has been removed.")},scale:function(e){var t=this.elements,r=e.x,n=e.y,i=e.z;return t[0]*=r,t[4]*=n,t[8]*=i,t[1]*=r,t[5]*=n,t[9]*=i,t[2]*=r,t[6]*=n,t[10]*=i,t[3]*=r,t[7]*=n,t[11]*=i,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,Math.max(r,n)))},makeTranslation:function(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var r=Math.cos(t),n=Math.sin(t),i=1-r,o=e.x,a=e.y,s=e.z,u=i*o,c=i*a;return this.set(u*o+r,u*a-n*s,u*s+n*a,0,u*a+n*s,c*a+r,c*s-n*o,0,u*s-n*a,c*s+n*o,i*s*s+r,0,0,0,0,1),this},makeScale:function(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this},compose:function(e,t,r){return this.makeRotationFromQuaternion(t),this.scale(r),this.setPosition(e),this},decompose:function(){var e=new THREE.Vector3,t=new THREE.Matrix4;return function(r,n,i){var o=this.elements,a=e.set(o[0],o[1],o[2]).length(),s=e.set(o[4],o[5],o[6]).length(),u=e.set(o[8],o[9],o[10]).length(),c=this.determinant();0>c&&(a=-a),r.x=o[12],r.y=o[13],r.z=o[14],t.elements.set(this.elements);var l=1/a,h=1/s,f=1/u;return t.elements[0]*=l,t.elements[1]*=l,t.elements[2]*=l,t.elements[4]*=h,t.elements[5]*=h,t.elements[6]*=h,t.elements[8]*=f,t.elements[9]*=f,t.elements[10]*=f,n.setFromRotationMatrix(t),i.x=a,i.y=s,i.z=u,this}}(),makeFrustum:function(e,t,r,n,i,o){var a=this.elements,s=2*i/(t-e),u=2*i/(n-r),c=(t+e)/(t-e),l=(n+r)/(n-r),h=-(o+i)/(o-i),f=-2*o*i/(o-i);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=u,a[9]=l,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=f,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makePerspective:function(e,t,r,n){var i=r*Math.tan(THREE.Math.degToRad(.5*e)),o=-i,a=o*t,s=i*t;return this.makeFrustum(a,s,o,i,r,n)},makeOrthographic:function(e,t,r,n,i,o){var a=this.elements,s=t-e,u=r-n,c=o-i,l=(t+e)/s,h=(r+n)/u,f=(o+i)/c;return a[0]=2/s,a[4]=0,a[8]=0,a[12]=-l,a[1]=0,a[5]=2/u,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2/c,a[14]=-f,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]},clone:function(){return(new THREE.Matrix4).fromArray(this.elements)}},THREE.Ray=function(e,t){this.origin=void 0!==e?e:new THREE.Vector3,this.direction=void 0!==t?t:new THREE.Vector3},THREE.Ray.prototype={constructor:THREE.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){var r=t||new THREE.Vector3;return r.copy(this.direction).multiplyScalar(e).add(this.origin)},recast:function(){var e=new THREE.Vector3;return function(t){return this.origin.copy(this.at(t,e)),this}}(),closestPointToPoint:function(e,t){var r=t||new THREE.Vector3;r.subVectors(e,this.origin);var n=r.dot(this.direction);return 0>n?r.copy(this.origin):r.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(){var e=new THREE.Vector3;return function(t){var r=e.subVectors(t,this.origin).dot(this.direction);return 0>r?this.origin.distanceTo(t):(e.copy(this.direction).multiplyScalar(r).add(this.origin),e.distanceTo(t))}}(),distanceSqToSegment:function(){var e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3;return function(n,i,o,a){e.copy(n).add(i).multiplyScalar(.5),t.copy(i).sub(n).normalize(),r.copy(this.origin).sub(e);var s,u,c,l,h=.5*n.distanceTo(i),f=-this.direction.dot(t),d=r.dot(this.direction),p=-r.dot(t),m=r.lengthSq(),g=Math.abs(1-f*f);if(g>0)if(s=f*p-d,u=f*d-p,l=h*g,s>=0)if(u>=-l)if(l>=u){var y=1/g;s*=y,u*=y,c=s*(s+f*u+2*d)+u*(f*s+u+2*p)+m}else u=h,s=Math.max(0,-(f*u+d)),c=-s*s+u*(u+2*p)+m;else u=-h,s=Math.max(0,-(f*u+d)),c=-s*s+u*(u+2*p)+m;else-l>=u?(s=Math.max(0,-(-f*h+d)),u=s>0?-h:Math.min(Math.max(-h,-p),h),c=-s*s+u*(u+2*p)+m):l>=u?(s=0,u=Math.min(Math.max(-h,-p),h),c=u*(u+2*p)+m):(s=Math.max(0,-(f*h+d)),u=s>0?h:Math.min(Math.max(-h,-p),h),c=-s*s+u*(u+2*p)+m);else u=f>0?-h:h,s=Math.max(0,-(f*u+d)),c=-s*s+u*(u+2*p)+m;return o&&o.copy(this.direction).multiplyScalar(s).add(this.origin),a&&a.copy(t).multiplyScalar(u).add(e),c}}(),isIntersectionSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},intersectSphere:function(){var e=new THREE.Vector3;return function(t,r){e.subVectors(t.center,this.origin);var n=e.dot(this.direction),i=e.dot(e)-n*n,o=t.radius*t.radius;if(i>o)return null;var a=Math.sqrt(o-i),s=n-a,u=n+a;return 0>s&&0>u?null:0>s?this.at(u,r):this.at(s,r)}}(),isIntersectionPlane:function(e){var t=e.distanceToPoint(this.origin);if(0===t)return!0;var r=e.normal.dot(this.direction);return 0>r*t?!0:!1},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0==t)return 0==e.distanceToPoint(this.origin)?0:null;var r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null},intersectPlane:function(e,t){var r=this.distanceToPlane(e);return null===r?null:this.at(r,t)},isIntersectionBox:function(){var e=new THREE.Vector3;return function(t){return null!==this.intersectBox(t,e)}}(),intersectBox:function(e,t){var r,n,i,o,a,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,n=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,n=(e.min.x-h.x)*u),c>=0?(i=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(i=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),r>o||i>n?null:((i>r||r!==r)&&(r=i),(n>o||n!==n)&&(n=o),l>=0?(a=(e.min.z-h.z)*l,s=(e.max.z-h.z)*l):(a=(e.max.z-h.z)*l,s=(e.min.z-h.z)*l),r>s||a>n?null:((a>r||r!==r)&&(r=a),(n>s||n!==n)&&(n=s),0>n?null:this.at(r>=0?r:n,t)))},intersectTriangle:function(){var e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3,n=new THREE.Vector3;return function(i,o,a,s,u){t.subVectors(o,i),r.subVectors(a,i),n.crossVectors(t,r);var c,l=this.direction.dot(n);if(l>0){if(s)return null;c=1}else{if(!(0>l))return null;c=-1,l=-l}e.subVectors(this.origin,i);var h=c*this.direction.dot(r.crossVectors(e,r));if(0>h)return null;var f=c*this.direction.dot(t.cross(e));if(0>f)return null;if(h+f>l)return null;var d=-c*e.dot(n);return 0>d?null:this.at(d/l,u)}}(),applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)},clone:function(){return(new THREE.Ray).copy(this)}},THREE.Sphere=function(e,t){this.center=void 0!==e?e:new THREE.Vector3,this.radius=void 0!==t?t:0},THREE.Sphere.prototype={constructor:THREE.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:function(){var e=new THREE.Box3;return function(t,r){var n=this.center;void 0!==r?n.copy(r):e.setFromPoints(t).center(n);for(var i=0,o=0,a=t.length;a>o;o++)i=Math.max(i,n.distanceToSquared(t[o]));return this.radius=Math.sqrt(i),this}}(),copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},clampPoint:function(e,t){var r=this.center.distanceToSquared(e),n=t||new THREE.Vector3;return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox:function(e){var t=e||new THREE.Box3;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius},clone:function(){return(new THREE.Sphere).copy(this)}},THREE.Frustum=function(e,t,r,n,i,o){this.planes=[void 0!==e?e:new THREE.Plane,void 0!==t?t:new THREE.Plane,void 0!==r?r:new THREE.Plane,void 0!==n?n:new THREE.Plane,void 0!==i?i:new THREE.Plane,void 0!==o?o:new THREE.Plane]},THREE.Frustum.prototype={constructor:THREE.Frustum,set:function(e,t,r,n,i,o){var a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(n),a[4].copy(i),a[5].copy(o),this},copy:function(e){for(var t=this.planes,r=0;6>r;r++)t[r].copy(e.planes[r]);return this},setFromMatrix:function(e){var t=this.planes,r=e.elements,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],u=r[5],c=r[6],l=r[7],h=r[8],f=r[9],d=r[10],p=r[11],m=r[12],g=r[13],y=r[14],v=r[15];return t[0].setComponents(a-n,l-s,p-h,v-m).normalize(),t[1].setComponents(a+n,l+s,p+h,v+m).normalize(),t[2].setComponents(a+i,l+u,p+f,v+g).normalize(),t[3].setComponents(a-i,l-u,p-f,v-g).normalize(),t[4].setComponents(a-o,l-c,p-d,v-y).normalize(),t[5].setComponents(a+o,l+c,p+d,v+y).normalize(),this},intersectsObject:function(){var e=new THREE.Sphere;return function(t){var r=t.geometry;return null===r.boundingSphere&&r.computeBoundingSphere(),e.copy(r.boundingSphere),e.applyMatrix4(t.matrixWorld),this.intersectsSphere(e)}}(),intersectsSphere:function(e){for(var t=this.planes,r=e.center,n=-e.radius,i=0;6>i;i++){var o=t[i].distanceToPoint(r);if(n>o)return!1}return!0},intersectsBox:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(r){for(var n=this.planes,i=0;6>i;i++){var o=n[i];e.x=o.normal.x>0?r.min.x:r.max.x,t.x=o.normal.x>0?r.max.x:r.min.x,e.y=o.normal.y>0?r.min.y:r.max.y,t.y=o.normal.y>0?r.max.y:r.min.y,e.z=o.normal.z>0?r.min.z:r.max.z,t.z=o.normal.z>0?r.max.z:r.min.z;var a=o.distanceToPoint(e),s=o.distanceToPoint(t);if(0>a&&0>s)return!1}return!0}}(),containsPoint:function(e){for(var t=this.planes,r=0;6>r;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0},clone:function(){return(new THREE.Frustum).copy(this)}},THREE.Plane=function(e,t){this.normal=void 0!==e?e:new THREE.Vector3(1,0,0),this.constant=void 0!==t?t:0},THREE.Plane.prototype={constructor:THREE.Plane,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,r,n){return this.normal.set(e,t,r),this.constant=n,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(r,n,i){var o=e.subVectors(i,n).cross(t.subVectors(r,n)).normalize();return this.setFromNormalAndCoplanarPoint(o,r),this}}(),copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()
},orthoPoint:function(e,t){var r=this.distanceToPoint(e),n=t||new THREE.Vector3;return n.copy(this.normal).multiplyScalar(r)},isIntersectionLine:function(e){var t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return 0>t&&r>0||0>r&&t>0},intersectLine:function(){var e=new THREE.Vector3;return function(t,r){var n=r||new THREE.Vector3,i=t.delta(e),o=this.normal.dot(i);if(0==o)return 0==this.distanceToPoint(t.start)?n.copy(t.start):void 0;var a=-(t.start.dot(this.normal)+this.constant)/o;return 0>a||a>1?void 0:n.copy(i).multiplyScalar(a).add(t.start)}}(),coplanarPoint:function(e){var t=e||new THREE.Vector3;return t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Matrix3;return function(n,i){var o=i||r.getNormalMatrix(n),a=e.copy(this.normal).applyMatrix3(o),s=this.coplanarPoint(t);return s.applyMatrix4(n),this.setFromNormalAndCoplanarPoint(a,s),this}}(),translate:function(e){return this.constant=this.constant-e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant==this.constant},clone:function(){return(new THREE.Plane).copy(this)}},THREE.Math={generateUUID:function(){var e,t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=new Array(36),n=0;return function(){for(var i=0;36>i;i++)8==i||13==i||18==i||23==i?r[i]="-":14==i?r[i]="4":(2>=n&&(n=33554432+16777216*Math.random()|0),e=15&n,n>>=4,r[i]=t[19==i?3&e|8:e]);return r.join("")}}(),clamp:function(e,t,r){return t>e?t:e>r?r:e},clampBottom:function(e,t){return t>e?t:e},mapLinear:function(e,t,r,n,i){return n+(e-t)*(i-n)/(r-t)},smoothstep:function(e,t,r){return t>=e?0:e>=r?1:(e=(e-t)/(r-t),e*e*(3-2*e))},smootherstep:function(e,t,r){return t>=e?0:e>=r?1:(e=(e-t)/(r-t),e*e*e*(e*(6*e-15)+10))},random16:function(){return(65280*Math.random()+255*Math.random())/65535},randInt:function(e,t){return Math.floor(this.randFloat(e,t))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:function(){var e=Math.PI/180;return function(t){return t*e}}(),radToDeg:function(){var e=180/Math.PI;return function(t){return t*e}}(),isPowerOfTwo:function(e){return 0===(e&e-1)&&0!==e}},THREE.Spline=function(e){function t(e,t,r,n,i,o,a){var s=.5*(r-e),u=.5*(n-t);return(2*(t-r)+s+u)*a+(-3*(t-r)-2*s-u)*o+s*i+t}this.points=e;var r,n,i,o,a,s,u,c,l,h=[],f={x:0,y:0,z:0};this.initFromArray=function(e){this.points=[];for(var t=0;t<e.length;t++)this.points[t]={x:e[t][0],y:e[t][1],z:e[t][2]}},this.getPoint=function(e){return r=(this.points.length-1)*e,n=Math.floor(r),i=r-n,h[0]=0===n?n:n-1,h[1]=n,h[2]=n>this.points.length-2?this.points.length-1:n+1,h[3]=n>this.points.length-3?this.points.length-1:n+2,s=this.points[h[0]],u=this.points[h[1]],c=this.points[h[2]],l=this.points[h[3]],o=i*i,a=i*o,f.x=t(s.x,u.x,c.x,l.x,i,o,a),f.y=t(s.y,u.y,c.y,l.y,i,o,a),f.z=t(s.z,u.z,c.z,l.z,i,o,a),f},this.getControlPointsArray=function(){var e,t,r=this.points.length,n=[];for(e=0;r>e;e++)t=this.points[e],n[e]=[t.x,t.y,t.z];return n},this.getLength=function(e){var t,r,n,i,o=0,a=0,s=0,u=new THREE.Vector3,c=new THREE.Vector3,l=[],h=0;for(l[0]=0,e||(e=100),n=this.points.length*e,u.copy(this.points[0]),t=1;n>t;t++)r=t/n,i=this.getPoint(r),c.copy(i),h+=c.distanceTo(u),u.copy(i),o=(this.points.length-1)*r,a=Math.floor(o),a!=s&&(l[a]=h,s=a);return l[l.length]=h,{chunks:l,total:h}},this.reparametrizeByArcLength=function(e){var t,r,n,i,o,a,s,u,c=[],l=new THREE.Vector3,h=this.getLength();for(c.push(l.copy(this.points[0]).clone()),t=1;t<this.points.length;t++){for(a=h.chunks[t]-h.chunks[t-1],s=Math.ceil(e*a/h.total),i=(t-1)/(this.points.length-1),o=t/(this.points.length-1),r=1;s-1>r;r++)n=i+r*(1/s)*(o-i),u=this.getPoint(n),c.push(l.copy(u).clone());c.push(l.copy(this.points[t]).clone())}this.points=c}},THREE.Triangle=function(e,t,r){this.a=void 0!==e?e:new THREE.Vector3,this.b=void 0!==t?t:new THREE.Vector3,this.c=void 0!==r?r:new THREE.Vector3},THREE.Triangle.normal=function(){var e=new THREE.Vector3;return function(t,r,n,i){var o=i||new THREE.Vector3;o.subVectors(n,r),e.subVectors(t,r),o.cross(e);var a=o.lengthSq();return a>0?o.multiplyScalar(1/Math.sqrt(a)):o.set(0,0,0)}}(),THREE.Triangle.barycoordFromPoint=function(){var e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3;return function(n,i,o,a,s){e.subVectors(a,i),t.subVectors(o,i),r.subVectors(n,i);var u=e.dot(e),c=e.dot(t),l=e.dot(r),h=t.dot(t),f=t.dot(r),d=u*h-c*c,p=s||new THREE.Vector3;if(0==d)return p.set(-2,-1,-1);var m=1/d,g=(h*l-c*f)*m,y=(u*f-c*l)*m;return p.set(1-g-y,y,g)}}(),THREE.Triangle.containsPoint=function(){var e=new THREE.Vector3;return function(t,r,n,i){var o=THREE.Triangle.barycoordFromPoint(t,r,n,i,e);return o.x>=0&&o.y>=0&&o.x+o.y<=1}}(),THREE.Triangle.prototype={constructor:THREE.Triangle,set:function(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this},setFromPointsAndIndices:function(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(){return e.subVectors(this.c,this.b),t.subVectors(this.a,this.b),.5*e.cross(t).length()}}(),midpoint:function(e){var t=e||new THREE.Vector3;return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return THREE.Triangle.normal(this.a,this.b,this.c,e)},plane:function(e){var t=e||new THREE.Plane;return t.setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return THREE.Triangle.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return THREE.Triangle.containsPoint(e,this.a,this.b,this.c)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)},clone:function(){return(new THREE.Triangle).copy(this)}},THREE.Clock=function(e){this.autoStart=void 0!==e?e:!0,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},THREE.Clock.prototype={constructor:THREE.Clock,start:function(){this.startTime=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running&&this.start(),this.running){var t=void 0!==self.performance&&void 0!==self.performance.now?self.performance.now():Date.now();e=.001*(t-this.oldTime),this.oldTime=t,this.elapsedTime+=e}return e}},THREE.EventDispatcher=function(){},THREE.EventDispatcher.prototype={constructor:THREE.EventDispatcher,apply:function(e){e.addEventListener=THREE.EventDispatcher.prototype.addEventListener,e.hasEventListener=THREE.EventDispatcher.prototype.hasEventListener,e.removeEventListener=THREE.EventDispatcher.prototype.removeEventListener,e.dispatchEvent=THREE.EventDispatcher.prototype.dispatchEvent},addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var r=this._listeners;void 0===r[e]&&(r[e]=[]),-1===r[e].indexOf(t)&&r[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var r=this._listeners;return void 0!==r[e]&&-1!==r[e].indexOf(t)?!0:!1},removeEventListener:function(e,t){if(void 0!==this._listeners){var r=this._listeners,n=r[e];if(void 0!==n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners,r=t[e.type];if(void 0!==r){e.target=this;for(var n=[],i=r.length,o=0;i>o;o++)n[o]=r[o];for(var o=0;i>o;o++)n[o].call(this,e)}}}},function(e){e.Raycaster=function(t,r,n,i){this.ray=new e.Ray(t,r),this.near=n||0,this.far=i||1/0,this.params={Sprite:{},Mesh:{},PointCloud:{threshold:1},LOD:{},Line:{}}};var t=function(e,t){return e.distance-t.distance},r=function(e,t,n,i){if(e.raycast(t,n),i===!0)for(var o=e.children,a=0,s=o.length;s>a;a++)r(o[a],t,n,!0)};e.Raycaster.prototype={constructor:e.Raycaster,precision:1e-4,linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(t,r){r instanceof e.PerspectiveCamera?(this.ray.origin.copy(r.position),this.ray.direction.set(t.x,t.y,.5).unproject(r).sub(r.position).normalize()):r instanceof e.OrthographicCamera?(this.ray.origin.set(t.x,t.y,-1).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(e,n){var i=[];return r(e,this,i,n),i.sort(t),i},intersectObjects:function(e,n){var i=[];if(e instanceof Array==!1)return console.log("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var o=0,a=e.length;a>o;o++)r(e[o],this,i,n);return i.sort(t),i}}}(THREE),THREE.Object3D=function(){Object.defineProperty(this,"id",{value:THREE.Object3DIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=void 0,this.children=[],this.up=THREE.Object3D.DefaultUp.clone();var e=new THREE.Vector3,t=new THREE.Euler,r=new THREE.Quaternion,n=new THREE.Vector3(1,1,1),i=function(){r.setFromEuler(t,!1)},o=function(){t.setFromQuaternion(r,void 0,!1)};t.onChange(i),r.onChange(o),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:r},scale:{enumerable:!0,value:n}}),this.rotationAutoUpdate=!0,this.matrix=new THREE.Matrix4,this.matrixWorld=new THREE.Matrix4,this.matrixAutoUpdate=!0,this.matrixWorldNeedsUpdate=!1,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.userData={}},THREE.Object3D.DefaultUp=new THREE.Vector3(0,1,0),THREE.Object3D.prototype={constructor:THREE.Object3D,get eulerOrder(){return console.warn("THREE.Object3D: .eulerOrder has been moved to .rotation.order."),this.rotation.order},set eulerOrder(e){console.warn("THREE.Object3D: .eulerOrder has been moved to .rotation.order."),this.rotation.order=e},get useQuaternion(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set useQuaternion(e){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:function(){var e=new THREE.Quaternion;return function(t,r){return e.setFromAxisAngle(t,r),this.quaternion.multiply(e),this}}(),rotateX:function(){var e=new THREE.Vector3(1,0,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateY:function(){var e=new THREE.Vector3(0,1,0);return function(t){return this.rotateOnAxis(e,t)}}(),rotateZ:function(){var e=new THREE.Vector3(0,0,1);return function(t){return this.rotateOnAxis(e,t)}}(),translateOnAxis:function(){var e=new THREE.Vector3;return function(t,r){return e.copy(t).applyQuaternion(this.quaternion),this.position.add(e.multiplyScalar(r)),this}}(),translate:function(e,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,e)},translateX:function(){var e=new THREE.Vector3(1,0,0);return function(t){return this.translateOnAxis(e,t)}}(),translateY:function(){var e=new THREE.Vector3(0,1,0);return function(t){return this.translateOnAxis(e,t)}}(),translateZ:function(){var e=new THREE.Vector3(0,0,1);return function(t){return this.translateOnAxis(e,t)}}(),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var e=new THREE.Matrix4;return function(t){return t.applyMatrix4(e.getInverse(this.matrixWorld))}}(),lookAt:function(){var e=new THREE.Matrix4;return function(t){e.lookAt(t,this.position,this.up),this.quaternion.setFromRotationMatrix(e)}}(),add:function(e){if(arguments.length>1){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add:",e,"can't be added as a child of itself."),this):(e instanceof THREE.Object3D?(void 0!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)):console.error("THREE.Object3D.add:",e,"is not an instance of THREE.Object3D."),this)},remove:function(e){if(arguments.length>1)for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);var r=this.children.indexOf(e);-1!==r&&(e.parent=void 0,e.dispatchEvent({type:"removed"}),this.children.splice(r,1))},getChildByName:function(e,t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(e,t)},getObjectById:function(e,t){return this.getObjectByProperty("id",e,t)},getObjectByName:function(e,t){return this.getObjectByProperty("name",e,t)},getObjectByProperty:function(e,t,r){if(this[e]===t)return this;for(var n=0,i=this.children.length;i>n;n++){var o=this.children[n],a=o.getObjectByProperty(e,t,r);if(void 0!==a)return a}return void 0},getWorldPosition:function(e){var t=e||new THREE.Vector3;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(r){var n=r||new THREE.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,n,t),n}}(),getWorldRotation:function(){var e=new THREE.Quaternion;return function(t){var r=t||new THREE.Euler;return this.getWorldQuaternion(e),r.setFromQuaternion(e,this.rotation.order,!1)}}(),getWorldScale:function(){var e=new THREE.Vector3,t=new THREE.Quaternion;return function(r){var n=r||new THREE.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(e,t,n),n}}(),getWorldDirection:function(){var e=new THREE.Quaternion;return function(t){var r=t||new THREE.Vector3;return this.getWorldQuaternion(e),r.set(0,0,1).applyQuaternion(e)}}(),raycast:function(){},traverse:function(e){e(this);for(var t=0,r=this.children.length;r>t;t++)this.children[t].traverse(e)},traverseVisible:function(e){if(this.visible!==!1){e(this);for(var t=0,r=this.children.length;r>t;t++)this.children[t].traverseVisible(e)}},traverseAncestors:function(e){this.parent&&(e(this.parent),this.parent.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){this.matrixAutoUpdate===!0&&this.updateMatrix(),(this.matrixWorldNeedsUpdate===!0||e===!0)&&(void 0===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);for(var t=0,r=this.children.length;r>t;t++)this.children[t].updateMatrixWorld(e)},toJSON:function(){var e={metadata:{version:4.3,type:"Object",generator:"ObjectExporter"}},t={},r=function(r){if(void 0===e.geometries&&(e.geometries=[]),void 0===t[r.uuid]){var n=r.toJSON();delete n.metadata,t[r.uuid]=n,e.geometries.push(n)}return r.uuid},n={},i=function(t){if(void 0===e.materials&&(e.materials=[]),void 0===n[t.uuid]){var r=t.toJSON();delete r.metadata,n[t.uuid]=r,e.materials.push(r)}return t.uuid},o=function(e){var t={};if(t.uuid=e.uuid,t.type=e.type,""!==e.name&&(t.name=e.name),"{}"!==JSON.stringify(e.userData)&&(t.userData=e.userData),e.visible!==!0&&(t.visible=e.visible),e instanceof THREE.PerspectiveCamera?(t.fov=e.fov,t.aspect=e.aspect,t.near=e.near,t.far=e.far):e instanceof THREE.OrthographicCamera?(t.left=e.left,t.right=e.right,t.top=e.top,t.bottom=e.bottom,t.near=e.near,t.far=e.far):e instanceof THREE.AmbientLight?t.color=e.color.getHex():e instanceof THREE.DirectionalLight?(t.color=e.color.getHex(),t.intensity=e.intensity):e instanceof THREE.PointLight?(t.color=e.color.getHex(),t.intensity=e.intensity,t.distance=e.distance):e instanceof THREE.SpotLight?(t.color=e.color.getHex(),t.intensity=e.intensity,t.distance=e.distance,t.angle=e.angle,t.exponent=e.exponent):e instanceof THREE.HemisphereLight?(t.color=e.color.getHex(),t.groundColor=e.groundColor.getHex()):e instanceof THREE.Mesh?(t.geometry=r(e.geometry),t.material=i(e.material)):e instanceof THREE.Line?(t.geometry=r(e.geometry),t.material=i(e.material)):e instanceof THREE.Sprite&&(t.material=i(e.material)),t.matrix=e.matrix.toArray(),e.children.length>0){t.children=[];for(var n=0;n<e.children.length;n++)t.children.push(o(e.children[n]))}return t};return e.object=o(this),e},clone:function(e,t){if(void 0===e&&(e=new THREE.Object3D),void 0===t&&(t=!0),e.name=this.name,e.up.copy(this.up),e.position.copy(this.position),e.quaternion.copy(this.quaternion),e.scale.copy(this.scale),e.rotationAutoUpdate=this.rotationAutoUpdate,e.matrix.copy(this.matrix),e.matrixWorld.copy(this.matrixWorld),e.matrixAutoUpdate=this.matrixAutoUpdate,e.matrixWorldNeedsUpdate=this.matrixWorldNeedsUpdate,e.visible=this.visible,e.castShadow=this.castShadow,e.receiveShadow=this.receiveShadow,e.frustumCulled=this.frustumCulled,e.userData=JSON.parse(JSON.stringify(this.userData)),t===!0)for(var r=0;r<this.children.length;r++){var n=this.children[r];e.add(n.clone())}return e}},THREE.EventDispatcher.prototype.apply(THREE.Object3D.prototype),THREE.Object3DIdCount=0,THREE.Face3=function(e,t,r,n,i,o){this.a=e,this.b=t,this.c=r,this.normal=n instanceof THREE.Vector3?n:new THREE.Vector3,this.vertexNormals=n instanceof Array?n:[],this.color=i instanceof THREE.Color?i:new THREE.Color,this.vertexColors=i instanceof Array?i:[],this.vertexTangents=[],this.materialIndex=void 0!==o?o:0},THREE.Face3.prototype={constructor:THREE.Face3,clone:function(){var e=new THREE.Face3(this.a,this.b,this.c);e.normal.copy(this.normal),e.color.copy(this.color),e.materialIndex=this.materialIndex;for(var t=0,r=this.vertexNormals.length;r>t;t++)e.vertexNormals[t]=this.vertexNormals[t].clone();for(var t=0,r=this.vertexColors.length;r>t;t++)e.vertexColors[t]=this.vertexColors[t].clone();for(var t=0,r=this.vertexTangents.length;r>t;t++)e.vertexTangents[t]=this.vertexTangents[t].clone();return e}},THREE.Face4=function(e,t,r,n,i,o,a){return console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead."),new THREE.Face3(e,t,r,i,o,a)},THREE.BufferAttribute=function(e,t){this.array=e,this.itemSize=t,this.needsUpdate=!1},THREE.BufferAttribute.prototype={constructor:THREE.BufferAttribute,get length(){return this.array.length},copyAt:function(e,t,r){e*=this.itemSize,r*=t.itemSize;for(var n=0,i=this.itemSize;i>n;n++)this.array[e+n]=t.array[r+n]},set:function(e){return this.array.set(e),this},setX:function(e,t){return this.array[e*this.itemSize]=t,this},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},setXY:function(e,t,r){return e*=this.itemSize,this.array[e]=t,this.array[e+1]=r,this},setXYZ:function(e,t,r,n){return e*=this.itemSize,this.array[e]=t,this.array[e+1]=r,this.array[e+2]=n,this},setXYZW:function(e,t,r,n,i){return e*=this.itemSize,this.array[e]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=i,this},clone:function(){return new THREE.BufferAttribute(new this.array.constructor(this.array),this.itemSize)}},THREE.Int8Attribute=function(e,t){return console.warn("THREE.Int8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(e,t)},THREE.Uint8Attribute=function(e,t){return console.warn("THREE.Uint8Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(e,t)},THREE.Uint8ClampedAttribute=function(e,t){return console.warn("THREE.Uint8ClampedAttribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(e,t)},THREE.Int16Attribute=function(e,t){return console.warn("THREE.Int16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(e,t)},THREE.Uint16Attribute=function(e,t){return console.warn("THREE.Uint16Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(e,t)},THREE.Int32Attribute=function(e,t){return console.warn("THREE.Int32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(e,t)},THREE.Uint32Attribute=function(e,t){return console.warn("THREE.Uint32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(e,t)},THREE.Float32Attribute=function(e,t){return console.warn("THREE.Float32Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(e,t)},THREE.Float64Attribute=function(e,t){return console.warn("THREE.Float64Attribute has been removed. Use THREE.BufferAttribute( array, itemSize ) instead."),new THREE.BufferAttribute(e,t)},THREE.BufferGeometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.attributes={},this.attributesKeys=[],this.drawcalls=[],this.offsets=this.drawcalls,this.boundingBox=null,this.boundingSphere=null},THREE.BufferGeometry.prototype={constructor:THREE.BufferGeometry,addAttribute:function(e,t){return t instanceof THREE.BufferAttribute==!1?(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void(this.attributes[e]={array:arguments[1],itemSize:arguments[2]})):(this.attributes[e]=t,void(this.attributesKeys=Object.keys(this.attributes)))},getAttribute:function(e){return this.attributes[e]},addDrawCall:function(e,t,r){this.drawcalls.push({start:e,count:t,index:void 0!==r?r:0})},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToVector3Array(t.array),t.needsUpdate=!0);var r=this.attributes.normal;if(void 0!==r){var n=(new THREE.Matrix3).getNormalMatrix(e);n.applyToVector3Array(r.array),r.needsUpdate=!0}},center:function(){},fromGeometry:function(e,t){t=t||{vertexColors:THREE.NoColors};var r=e.vertices,n=e.faces,i=e.faceVertexUvs,o=t.vertexColors,a=i[0].length>0,s=3==n[0].vertexNormals.length,u=new Float32Array(3*n.length*3);this.addAttribute("position",new THREE.BufferAttribute(u,3));var c=new Float32Array(3*n.length*3);if(this.addAttribute("normal",new THREE.BufferAttribute(c,3)),o!==THREE.NoColors){var l=new Float32Array(3*n.length*3);this.addAttribute("color",new THREE.BufferAttribute(l,3))}if(a===!0){var h=new Float32Array(3*n.length*2);this.addAttribute("uv",new THREE.BufferAttribute(h,2))}for(var f=0,d=0,p=0;f<n.length;f++,d+=6,p+=9){var m=n[f],g=r[m.a],y=r[m.b],v=r[m.c];if(u[p]=g.x,u[p+1]=g.y,u[p+2]=g.z,u[p+3]=y.x,u[p+4]=y.y,u[p+5]=y.z,u[p+6]=v.x,u[p+7]=v.y,u[p+8]=v.z,s===!0){var b=m.vertexNormals[0],E=m.vertexNormals[1],x=m.vertexNormals[2];c[p]=b.x,c[p+1]=b.y,c[p+2]=b.z,c[p+3]=E.x,c[p+4]=E.y,c[p+5]=E.z,c[p+6]=x.x,c[p+7]=x.y,c[p+8]=x.z}else{var w=m.normal;c[p]=w.x,c[p+1]=w.y,c[p+2]=w.z,c[p+3]=w.x,c[p+4]=w.y,c[p+5]=w.z,c[p+6]=w.x,c[p+7]=w.y,c[p+8]=w.z}if(o===THREE.FaceColors){var _=m.color;l[p]=_.r,l[p+1]=_.g,l[p+2]=_.b,l[p+3]=_.r,l[p+4]=_.g,l[p+5]=_.b,l[p+6]=_.r,l[p+7]=_.g,l[p+8]=_.b}else if(o===THREE.VertexColors){var T=m.vertexColors[0],R=m.vertexColors[1],S=m.vertexColors[2];l[p]=T.r,l[p+1]=T.g,l[p+2]=T.b,l[p+3]=R.r,l[p+4]=R.g,l[p+5]=R.b,l[p+6]=S.r,l[p+7]=S.g,l[p+8]=S.b}if(a===!0){var C=i[0][f][0],H=i[0][f][1],M=i[0][f][2];h[d]=C.x,h[d+1]=C.y,h[d+2]=H.x,h[d+3]=H.y,h[d+4]=M.x,h[d+5]=M.y}}return this.computeBoundingSphere(),this},computeBoundingBox:function(){var e=new THREE.Vector3;return function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3);var t=this.attributes.position.array;if(t){var r=this.boundingBox;r.makeEmpty();for(var n=0,i=t.length;i>n;n+=3)e.set(t[n],t[n+1],t[n+2]),r.expandByPoint(e)}(void 0===t||0===t.length)&&(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.')}}(),computeBoundingSphere:function(){var e=new THREE.Box3,t=new THREE.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere);var r=this.attributes.position.array;if(r){e.makeEmpty();for(var n=this.boundingSphere.center,i=0,o=r.length;o>i;i+=3)t.set(r[i],r[i+1],r[i+2]),e.expandByPoint(t);e.center(n);for(var a=0,i=0,o=r.length;o>i;i+=3)t.set(r[i],r[i+1],r[i+2]),a=Math.max(a,n.distanceToSquared(t));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.')}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.attributes;if(e.position){var t=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new THREE.BufferAttribute(new Float32Array(t.length),3));else for(var r=e.normal.array,n=0,i=r.length;i>n;n++)r[n]=0;var o,a,s,r=e.normal.array,u=new THREE.Vector3,c=new THREE.Vector3,l=new THREE.Vector3,h=new THREE.Vector3,f=new THREE.Vector3;if(e.index)for(var d=e.index.array,p=this.offsets.length>0?this.offsets:[{start:0,count:d.length,index:0}],m=0,g=p.length;g>m;++m)for(var y=p[m].start,v=p[m].count,b=p[m].index,n=y,i=y+v;i>n;n+=3)o=3*(b+d[n]),a=3*(b+d[n+1]),s=3*(b+d[n+2]),u.fromArray(t,o),c.fromArray(t,a),l.fromArray(t,s),h.subVectors(l,c),f.subVectors(u,c),h.cross(f),r[o]+=h.x,r[o+1]+=h.y,r[o+2]+=h.z,r[a]+=h.x,r[a+1]+=h.y,r[a+2]+=h.z,r[s]+=h.x,r[s+1]+=h.y,r[s+2]+=h.z;else for(var n=0,i=t.length;i>n;n+=9)u.fromArray(t,n),c.fromArray(t,n+3),l.fromArray(t,n+6),h.subVectors(l,c),f.subVectors(u,c),h.cross(f),r[n]=h.x,r[n+1]=h.y,r[n+2]=h.z,r[n+3]=h.x,r[n+4]=h.y,r[n+5]=h.z,r[n+6]=h.x,r[n+7]=h.y,r[n+8]=h.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},computeTangents:function(){function e(e,t,r){M.fromArray(n,3*e),A.fromArray(n,3*t),N.fromArray(n,3*r),P.fromArray(o,2*e),k.fromArray(o,2*t),O.fromArray(o,2*r),h=A.x-M.x,f=N.x-M.x,d=A.y-M.y,p=N.y-M.y,m=A.z-M.z,g=N.z-M.z,y=k.x-P.x,v=O.x-P.x,b=k.y-P.y,E=O.y-P.y,x=1/(y*E-v*b),L.set((E*h-b*f)*x,(E*d-b*p)*x,(E*m-b*g)*x),D.set((y*f-v*h)*x,(y*p-v*d)*x,(y*g-v*m)*x),u[e].add(L),u[t].add(L),u[r].add(L),c[e].add(D),c[t].add(D),c[r].add(D)}function t(e){W.fromArray(i,3*e),K.copy(W),V=u[e],q.copy(V),q.sub(W.multiplyScalar(W.dot(V))).normalize(),G.crossVectors(K,V),j=G.dot(c[e]),U=0>j?-1:1,s[4*e]=q.x,s[4*e+1]=q.y,s[4*e+2]=q.z,s[4*e+3]=U}if(void 0===this.attributes.index||void 0===this.attributes.position||void 0===this.attributes.normal||void 0===this.attributes.uv)return void console.warn("Missing required attributes (index, position, normal or uv) in BufferGeometry.computeTangents()");var r=this.attributes.index.array,n=this.attributes.position.array,i=this.attributes.normal.array,o=this.attributes.uv.array,a=n.length/3;void 0===this.attributes.tangent&&this.addAttribute("tangent",new THREE.BufferAttribute(new Float32Array(4*a),4));for(var s=this.attributes.tangent.array,u=[],c=[],l=0;a>l;l++)u[l]=new THREE.Vector3,c[l]=new THREE.Vector3;var h,f,d,p,m,g,y,v,b,E,x,w,_,T,R,S,C,H,M=new THREE.Vector3,A=new THREE.Vector3,N=new THREE.Vector3,P=new THREE.Vector2,k=new THREE.Vector2,O=new THREE.Vector2,L=new THREE.Vector3,D=new THREE.Vector3;0===this.drawcalls.length&&this.addDrawCall(0,r.length,0);var F=this.drawcalls;for(T=0,R=F.length;R>T;++T){var B=F[T].start,I=F[T].count,z=F[T].index;for(w=B,_=B+I;_>w;w+=3)S=z+r[w],C=z+r[w+1],H=z+r[w+2],e(S,C,H)}var U,V,j,q=new THREE.Vector3,G=new THREE.Vector3,W=new THREE.Vector3,K=new THREE.Vector3;for(T=0,R=F.length;R>T;++T){var B=F[T].start,I=F[T].count,z=F[T].index;for(w=B,_=B+I;_>w;w+=3)S=z+r[w],C=z+r[w+1],H=z+r[w+2],t(S),t(C),t(H)}},computeOffsets:function(e){var t=e;void 0===e&&(t=65535);for(var r=(Date.now(),this.attributes.index.array),n=this.attributes.position.array,i=(n.length/3,r.length/3),o=new Uint16Array(r.length),a=0,s=0,u=[{start:0,count:0,index:0}],c=u[0],l=0,h=0,f=new Int32Array(6),d=new Int32Array(n.length),p=new Int32Array(n.length),m=0;m<n.length;m++)d[m]=-1,p[m]=-1;for(var g=0;i>g;g++){h=0;for(var y=0;3>y;y++){var v=r[3*g+y];-1==d[v]?(f[2*y]=v,f[2*y+1]=-1,h++):d[v]<c.index?(f[2*y]=v,f[2*y+1]=-1,l++):(f[2*y]=v,f[2*y+1]=d[v])}var b=s+h;if(b>c.index+t){var E={start:a,count:0,index:s};u.push(E),c=E;for(var x=0;6>x;x+=2){var w=f[x+1];w>-1&&w<c.index&&(f[x+1]=-1)}}for(var x=0;6>x;x+=2){var v=f[x],w=f[x+1];-1===w&&(w=s++),d[v]=w,p[w]=v,o[a++]=w-c.index,c.count++}}return this.reorderBuffers(o,p,s),this.offsets=u,u},merge:function(e,t){if(e instanceof THREE.BufferGeometry==!1)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",e);void 0===t&&(t=0);var r=this.attributes;for(var n in r)if(void 0!==e.attributes[n])for(var i=r[n],o=i.array,a=e.attributes[n],s=a.array,u=a.itemSize,c=0,l=u*t;c<s.length;c++,l++)o[l]=s[c];return this},normalizeNormals:function(){for(var e,t,r,n,i=this.attributes.normal.array,o=0,a=i.length;a>o;o+=3)e=i[o],t=i[o+1],r=i[o+2],n=1/Math.sqrt(e*e+t*t+r*r),i[o]*=n,i[o+1]*=n,i[o+2]*=n},reorderBuffers:function(e,t,r){var n={};for(var i in this.attributes)if("index"!=i){var o=this.attributes[i].array;n[i]=new o.constructor(this.attributes[i].itemSize*r)}for(var a=0;r>a;a++){var s=t[a];for(var i in this.attributes)if("index"!=i)for(var u=this.attributes[i].array,c=this.attributes[i].itemSize,l=n[i],h=0;c>h;h++)l[a*c+h]=u[s*c+h]}this.attributes.index.array=e;for(var i in this.attributes)"index"!=i&&(this.attributes[i].array=n[i],this.attributes[i].numItems=this.attributes[i].itemSize*r)},toJSON:function(){var e={metadata:{version:4,type:"BufferGeometry",generator:"BufferGeometryExporter"},uuid:this.uuid,type:this.type,data:{attributes:{}}},t=this.attributes,r=this.offsets,n=this.boundingSphere;for(var i in t){for(var o=t[i],a=[],s=o.array,u=0,c=s.length;c>u;u++)a[u]=s[u];e.data.attributes[i]={itemSize:o.itemSize,type:o.array.constructor.name,array:a}}return r.length>0&&(e.data.offsets=JSON.parse(JSON.stringify(r))),null!==n&&(e.data.boundingSphere={center:n.center.toArray(),radius:n.radius}),e},clone:function(){var e=new THREE.BufferGeometry;for(var t in this.attributes){var r=this.attributes[t];e.addAttribute(t,r.clone())}for(var n=0,i=this.offsets.length;i>n;n++){var o=this.offsets[n];e.offsets.push({start:o.start,index:o.index,count:o.count})}return e},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.BufferGeometry.prototype),THREE.Geometry=function(){Object.defineProperty(this,"id",{value:THREE.GeometryIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphColors=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.hasTangents=!1,this.dynamic=!0,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.tangentsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},THREE.Geometry.prototype={constructor:THREE.Geometry,applyMatrix:function(e){for(var t=(new THREE.Matrix3).getNormalMatrix(e),r=0,n=this.vertices.length;n>r;r++){var i=this.vertices[r];i.applyMatrix4(e)}for(var r=0,n=this.faces.length;n>r;r++){var o=this.faces[r];o.normal.applyMatrix3(t).normalize();for(var a=0,s=o.vertexNormals.length;s>a;a++)o.vertexNormals[a].applyMatrix3(t).normalize()}this.boundingBox instanceof THREE.Box3&&this.computeBoundingBox(),this.boundingSphere instanceof THREE.Sphere&&this.computeBoundingSphere()},fromBufferGeometry:function(e){for(var t=this,r=e.attributes,n=r.position.array,i=void 0!==r.index?r.index.array:void 0,o=void 0!==r.normal?r.normal.array:void 0,a=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,u=[],c=[],l=0,h=0;l<n.length;l+=3,h+=2)t.vertices.push(new THREE.Vector3(n[l],n[l+1],n[l+2])),void 0!==o&&u.push(new THREE.Vector3(o[l],o[l+1],o[l+2])),void 0!==a&&t.colors.push(new THREE.Color(a[l],a[l+1],a[l+2])),void 0!==s&&c.push(new THREE.Vector2(s[h],s[h+1]));
var f=function(e,r,n){var i=void 0!==o?[u[e].clone(),u[r].clone(),u[n].clone()]:[],l=void 0!==a?[t.colors[e].clone(),t.colors[r].clone(),t.colors[n].clone()]:[];t.faces.push(new THREE.Face3(e,r,n,i,l)),void 0!==s&&t.faceVertexUvs[0].push([c[e].clone(),c[r].clone(),c[n].clone()])};if(void 0!==i)for(var l=0;l<i.length;l+=3)f(i[l],i[l+1],i[l+2]);else for(var l=0;l<n.length/3;l+=3)f(l,l+1,l+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=new THREE.Vector3;return e.addVectors(this.boundingBox.min,this.boundingBox.max),e.multiplyScalar(-.5),this.applyMatrix((new THREE.Matrix4).makeTranslation(e.x,e.y,e.z)),this.computeBoundingBox(),e},computeFaceNormals:function(){for(var e=new THREE.Vector3,t=new THREE.Vector3,r=0,n=this.faces.length;n>r;r++){var i=this.faces[r],o=this.vertices[i.a],a=this.vertices[i.b],s=this.vertices[i.c];e.subVectors(s,a),t.subVectors(o,a),e.cross(t),e.normalize(),i.normal.copy(e)}},computeVertexNormals:function(e){var t,r,n,i,o,a;for(a=new Array(this.vertices.length),t=0,r=this.vertices.length;r>t;t++)a[t]=new THREE.Vector3;if(e){{var s,u,c,l=new THREE.Vector3,h=new THREE.Vector3;new THREE.Vector3,new THREE.Vector3,new THREE.Vector3}for(n=0,i=this.faces.length;i>n;n++)o=this.faces[n],s=this.vertices[o.a],u=this.vertices[o.b],c=this.vertices[o.c],l.subVectors(c,u),h.subVectors(s,u),l.cross(h),a[o.a].add(l),a[o.b].add(l),a[o.c].add(l)}else for(n=0,i=this.faces.length;i>n;n++)o=this.faces[n],a[o.a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(t=0,r=this.vertices.length;r>t;t++)a[t].normalize();for(n=0,i=this.faces.length;i>n;n++)o=this.faces[n],o.vertexNormals[0]=a[o.a].clone(),o.vertexNormals[1]=a[o.b].clone(),o.vertexNormals[2]=a[o.c].clone()},computeMorphNormals:function(){var e,t,r,n,i;for(r=0,n=this.faces.length;n>r;r++)for(i=this.faces[r],i.__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),e=0,t=i.vertexNormals.length;t>e;e++)i.__originalVertexNormals[e]?i.__originalVertexNormals[e].copy(i.vertexNormals[e]):i.__originalVertexNormals[e]=i.vertexNormals[e].clone();var o=new THREE.Geometry;for(o.faces=this.faces,e=0,t=this.morphTargets.length;t>e;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var a,s,u=this.morphNormals[e].faceNormals,c=this.morphNormals[e].vertexNormals;for(r=0,n=this.faces.length;n>r;r++)a=new THREE.Vector3,s={a:new THREE.Vector3,b:new THREE.Vector3,c:new THREE.Vector3},u.push(a),c.push(s)}var l=this.morphNormals[e];o.vertices=this.morphTargets[e].vertices,o.computeFaceNormals(),o.computeVertexNormals();var a,s;for(r=0,n=this.faces.length;n>r;r++)i=this.faces[r],a=l.faceNormals[r],s=l.vertexNormals[r],a.copy(i.normal),s.a.copy(i.vertexNormals[0]),s.b.copy(i.vertexNormals[1]),s.c.copy(i.vertexNormals[2])}for(r=0,n=this.faces.length;n>r;r++)i=this.faces[r],i.normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeTangents:function(){function e(e,t,r,n,i,o,a){c=e.vertices[t],l=e.vertices[r],h=e.vertices[n],f=u[i],d=u[o],p=u[a],m=l.x-c.x,g=h.x-c.x,y=l.y-c.y,v=h.y-c.y,b=l.z-c.z,E=h.z-c.z,x=d.x-f.x,w=p.x-f.x,_=d.y-f.y,T=p.y-f.y,R=1/(x*T-w*_),N.set((T*m-_*g)*R,(T*y-_*v)*R,(T*b-_*E)*R),P.set((x*g-w*m)*R,(x*v-w*y)*R,(x*E-w*b)*R),M[t].add(N),M[r].add(N),M[n].add(N),A[t].add(P),A[r].add(P),A[n].add(P)}var t,r,n,i,o,a,s,u,c,l,h,f,d,p,m,g,y,v,b,E,x,w,_,T,R,S,C,H,M=[],A=[],N=new THREE.Vector3,P=new THREE.Vector3,k=new THREE.Vector3,O=new THREE.Vector3,L=new THREE.Vector3;for(n=0,i=this.vertices.length;i>n;n++)M[n]=new THREE.Vector3,A[n]=new THREE.Vector3;for(t=0,r=this.faces.length;r>t;t++)s=this.faces[t],u=this.faceVertexUvs[0][t],e(this,s.a,s.b,s.c,0,1,2);var D=["a","b","c","d"];for(t=0,r=this.faces.length;r>t;t++)for(s=this.faces[t],o=0;o<Math.min(s.vertexNormals.length,3);o++)L.copy(s.vertexNormals[o]),a=s[D[o]],S=M[a],k.copy(S),k.sub(L.multiplyScalar(L.dot(S))).normalize(),O.crossVectors(s.vertexNormals[o],S),C=O.dot(A[a]),H=0>C?-1:1,s.vertexTangents[o]=new THREE.Vector4(k.x,k.y,k.z,H);this.hasTangents=!0},computeLineDistances:function(){for(var e=0,t=this.vertices,r=0,n=t.length;n>r;r++)r>0&&(e+=t[r].distanceTo(t[r-1])),this.lineDistances[r]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new THREE.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new THREE.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,r){if(e instanceof THREE.Geometry==!1)return void console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);var n,i=this.vertices.length,o=this.vertices,a=e.vertices,s=this.faces,u=e.faces,c=this.faceVertexUvs[0],l=e.faceVertexUvs[0];void 0===r&&(r=0),void 0!==t&&(n=(new THREE.Matrix3).getNormalMatrix(t));for(var h=0,f=a.length;f>h;h++){var d=a[h],p=d.clone();void 0!==t&&p.applyMatrix4(t),o.push(p)}for(h=0,f=u.length;f>h;h++){var m,g,y,v=u[h],b=v.vertexNormals,E=v.vertexColors;m=new THREE.Face3(v.a+i,v.b+i,v.c+i),m.normal.copy(v.normal),void 0!==n&&m.normal.applyMatrix3(n).normalize();for(var x=0,w=b.length;w>x;x++)g=b[x].clone(),void 0!==n&&g.applyMatrix3(n).normalize(),m.vertexNormals.push(g);m.color.copy(v.color);for(var x=0,w=E.length;w>x;x++)y=E[x],m.vertexColors.push(y.clone());m.materialIndex=v.materialIndex+r,s.push(m)}for(h=0,f=l.length;f>h;h++){var _=l[h],T=[];if(void 0!==_){for(var x=0,w=_.length;w>x;x++)T.push(_[x].clone());c.push(T)}}},mergeMesh:function(e){return e instanceof THREE.Mesh==!1?void console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e):(e.matrixAutoUpdate&&e.updateMatrix(),void this.merge(e.geometry,e.matrix))},mergeVertices:function(){var e,t,r,n,i,o,a,s,u={},c=[],l=[],h=4,f=Math.pow(10,h);for(r=0,n=this.vertices.length;n>r;r++)e=this.vertices[r],t=Math.round(e.x*f)+"_"+Math.round(e.y*f)+"_"+Math.round(e.z*f),void 0===u[t]?(u[t]=r,c.push(this.vertices[r]),l[r]=c.length-1):l[r]=l[u[t]];var d=[];for(r=0,n=this.faces.length;n>r;r++){i=this.faces[r],i.a=l[i.a],i.b=l[i.b],i.c=l[i.c],o=[i.a,i.b,i.c];for(var p=-1,m=0;3>m;m++)if(o[m]==o[(m+1)%3]){p=m,d.push(r);break}}for(r=d.length-1;r>=0;r--){var g=d[r];for(this.faces.splice(g,1),a=0,s=this.faceVertexUvs.length;s>a;a++)this.faceVertexUvs[a].splice(g,1)}var y=this.vertices.length-c.length;return this.vertices=c,y},toJSON:function(){function e(e,t,r){return r?e|1<<t:e&~(1<<t)}function t(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==f[t]?f[t]:(f[t]=h.length/3,h.push(e.x,e.y,e.z),f[t])}function r(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==p[t]?p[t]:(p[t]=d.length,d.push(e.getHex()),p[t])}function n(e){var t=e.x.toString()+e.y.toString();return void 0!==g[t]?g[t]:(g[t]=m.length/2,m.push(e.x,e.y),g[t])}var i={metadata:{version:4,type:"BufferGeometry",generator:"BufferGeometryExporter"},uuid:this.uuid,type:this.type};if(""!==this.name&&(i.name=this.name),void 0!==this.parameters){var o=this.parameters;for(var a in o)void 0!==o[a]&&(i[a]=o[a]);return i}for(var s=[],u=0;u<this.vertices.length;u++){var c=this.vertices[u];s.push(c.x,c.y,c.z)}for(var l=[],h=[],f={},d=[],p={},m=[],g={},u=0;u<this.faces.length;u++){var y=this.faces[u],v=!1,b=!1,E=void 0!==this.faceVertexUvs[0][u],x=y.normal.length()>0,w=y.vertexNormals.length>0,_=1!==y.color.r||1!==y.color.g||1!==y.color.b,T=y.vertexColors.length>0,R=0;if(R=e(R,0,0),R=e(R,1,v),R=e(R,2,b),R=e(R,3,E),R=e(R,4,x),R=e(R,5,w),R=e(R,6,_),R=e(R,7,T),l.push(R),l.push(y.a,y.b,y.c),E){var S=this.faceVertexUvs[0][u];l.push(n(S[0]),n(S[1]),n(S[2]))}if(x&&l.push(t(y.normal)),w){var C=y.vertexNormals;l.push(t(C[0]),t(C[1]),t(C[2]))}if(_&&l.push(r(y.color)),T){var H=y.vertexColors;l.push(r(H[0]),r(H[1]),r(H[2]))}}return i.data={},i.data.vertices=s,i.data.normals=h,d.length>0&&(i.data.colors=d),m.length>0&&(i.data.uvs=[m]),i.data.faces=l,i},clone:function(){for(var e=new THREE.Geometry,t=this.vertices,r=0,n=t.length;n>r;r++)e.vertices.push(t[r].clone());for(var i=this.faces,r=0,n=i.length;n>r;r++)e.faces.push(i[r].clone());for(var r=0,n=this.faceVertexUvs.length;n>r;r++){var o=this.faceVertexUvs[r];void 0===e.faceVertexUvs[r]&&(e.faceVertexUvs[r]=[]);for(var a=0,s=o.length;s>a;a++){for(var u=o[a],c=[],l=0,h=u.length;h>l;l++){var f=u[l];c.push(f.clone())}e.faceVertexUvs[r].push(c)}}return e},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Geometry.prototype),THREE.GeometryIdCount=0,THREE.Camera=function(){THREE.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new THREE.Matrix4,this.projectionMatrix=new THREE.Matrix4},THREE.Camera.prototype=Object.create(THREE.Object3D.prototype),THREE.Camera.prototype.constructor=THREE.Camera,THREE.Camera.prototype.getWorldDirection=function(){var e=new THREE.Quaternion;return function(t){var r=t||new THREE.Vector3;return this.getWorldQuaternion(e),r.set(0,0,-1).applyQuaternion(e)}}(),THREE.Camera.prototype.lookAt=function(){var e=new THREE.Matrix4;return function(t){e.lookAt(this.position,t,this.up),this.quaternion.setFromRotationMatrix(e)}}(),THREE.Camera.prototype.clone=function(e){return void 0===e&&(e=new THREE.Camera),THREE.Object3D.prototype.clone.call(this,e),e.matrixWorldInverse.copy(this.matrixWorldInverse),e.projectionMatrix.copy(this.projectionMatrix),e},THREE.CubeCamera=function(e,t,r){THREE.Object3D.call(this),this.type="CubeCamera";var n=90,i=1,o=new THREE.PerspectiveCamera(n,i,e,t);o.up.set(0,-1,0),o.lookAt(new THREE.Vector3(1,0,0)),this.add(o);var a=new THREE.PerspectiveCamera(n,i,e,t);a.up.set(0,-1,0),a.lookAt(new THREE.Vector3(-1,0,0)),this.add(a);var s=new THREE.PerspectiveCamera(n,i,e,t);s.up.set(0,0,1),s.lookAt(new THREE.Vector3(0,1,0)),this.add(s);var u=new THREE.PerspectiveCamera(n,i,e,t);u.up.set(0,0,-1),u.lookAt(new THREE.Vector3(0,-1,0)),this.add(u);var c=new THREE.PerspectiveCamera(n,i,e,t);c.up.set(0,-1,0),c.lookAt(new THREE.Vector3(0,0,1)),this.add(c);var l=new THREE.PerspectiveCamera(n,i,e,t);l.up.set(0,-1,0),l.lookAt(new THREE.Vector3(0,0,-1)),this.add(l),this.renderTarget=new THREE.WebGLRenderTargetCube(r,r,{format:THREE.RGBFormat,magFilter:THREE.LinearFilter,minFilter:THREE.LinearFilter}),this.updateCubeMap=function(e,t){var r=this.renderTarget,n=r.generateMipmaps;r.generateMipmaps=!1,r.activeCubeFace=0,e.render(t,o,r),r.activeCubeFace=1,e.render(t,a,r),r.activeCubeFace=2,e.render(t,s,r),r.activeCubeFace=3,e.render(t,u,r),r.activeCubeFace=4,e.render(t,c,r),r.generateMipmaps=n,r.activeCubeFace=5,e.render(t,l,r)}},THREE.CubeCamera.prototype=Object.create(THREE.Object3D.prototype),THREE.CubeCamera.prototype.constructor=THREE.CubeCamera,THREE.OrthographicCamera=function(e,t,r,n,i,o){THREE.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=e,this.right=t,this.top=r,this.bottom=n,this.near=void 0!==i?i:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()},THREE.OrthographicCamera.prototype=Object.create(THREE.Camera.prototype),THREE.OrthographicCamera.prototype.constructor=THREE.OrthographicCamera,THREE.OrthographicCamera.prototype.updateProjectionMatrix=function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(r-e,r+e,n+t,n-t,this.near,this.far)},THREE.OrthographicCamera.prototype.clone=function(){var e=new THREE.OrthographicCamera;return THREE.Camera.prototype.clone.call(this,e),e.zoom=this.zoom,e.left=this.left,e.right=this.right,e.top=this.top,e.bottom=this.bottom,e.near=this.near,e.far=this.far,e.projectionMatrix.copy(this.projectionMatrix),e},THREE.PerspectiveCamera=function(e,t,r,n){THREE.Camera.call(this),this.type="PerspectiveCamera",this.zoom=1,this.fov=void 0!==e?e:50,this.aspect=void 0!==t?t:1,this.near=void 0!==r?r:.1,this.far=void 0!==n?n:2e3,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype=Object.create(THREE.Camera.prototype),THREE.PerspectiveCamera.prototype.constructor=THREE.PerspectiveCamera,THREE.PerspectiveCamera.prototype.setLens=function(e,t){void 0===t&&(t=24),this.fov=2*THREE.Math.radToDeg(Math.atan(t/(2*e))),this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.setViewOffset=function(e,t,r,n,i,o){this.fullWidth=e,this.fullHeight=t,this.x=r,this.y=n,this.width=i,this.height=o,this.updateProjectionMatrix()},THREE.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var e=THREE.Math.radToDeg(2*Math.atan(Math.tan(.5*THREE.Math.degToRad(this.fov))/this.zoom));if(this.fullWidth){var t=this.fullWidth/this.fullHeight,r=Math.tan(THREE.Math.degToRad(.5*e))*this.near,n=-r,i=t*n,o=t*r,a=Math.abs(o-i),s=Math.abs(r-n);this.projectionMatrix.makeFrustum(i+this.x*a/this.fullWidth,i+(this.x+this.width)*a/this.fullWidth,r-(this.y+this.height)*s/this.fullHeight,r-this.y*s/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(e,this.aspect,this.near,this.far)},THREE.PerspectiveCamera.prototype.clone=function(){var e=new THREE.PerspectiveCamera;return THREE.Camera.prototype.clone.call(this,e),e.zoom=this.zoom,e.fov=this.fov,e.aspect=this.aspect,e.near=this.near,e.far=this.far,e.projectionMatrix.copy(this.projectionMatrix),e},THREE.Light=function(e){THREE.Object3D.call(this),this.type="Light",this.color=new THREE.Color(e)},THREE.Light.prototype=Object.create(THREE.Object3D.prototype),THREE.Light.prototype.constructor=THREE.Light,THREE.Light.prototype.clone=function(e){return void 0===e&&(e=new THREE.Light),THREE.Object3D.prototype.clone.call(this,e),e.color.copy(this.color),e},THREE.AmbientLight=function(e){THREE.Light.call(this,e),this.type="AmbientLight"},THREE.AmbientLight.prototype=Object.create(THREE.Light.prototype),THREE.AmbientLight.prototype.constructor=THREE.AmbientLight,THREE.AmbientLight.prototype.clone=function(){var e=new THREE.AmbientLight;return THREE.Light.prototype.clone.call(this,e),e},THREE.AreaLight=function(e,t){THREE.Light.call(this,e),this.type="AreaLight",this.normal=new THREE.Vector3(0,-1,0),this.right=new THREE.Vector3(1,0,0),this.intensity=void 0!==t?t:1,this.width=1,this.height=1,this.constantAttenuation=1.5,this.linearAttenuation=.5,this.quadraticAttenuation=.1},THREE.AreaLight.prototype=Object.create(THREE.Light.prototype),THREE.AreaLight.prototype.constructor=THREE.AreaLight,THREE.DirectionalLight=function(e,t){THREE.Light.call(this,e),this.type="DirectionalLight",this.position.set(0,1,0),this.target=new THREE.Object3D,this.intensity=void 0!==t?t:1,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraLeft=-500,this.shadowCameraRight=500,this.shadowCameraTop=500,this.shadowCameraBottom=-500,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowCascade=!1,this.shadowCascadeOffset=new THREE.Vector3(0,0,-1e3),this.shadowCascadeCount=2,this.shadowCascadeBias=[0,0,0],this.shadowCascadeWidth=[512,512,512],this.shadowCascadeHeight=[512,512,512],this.shadowCascadeNearZ=[-1,.99,.998],this.shadowCascadeFarZ=[.99,.998,1],this.shadowCascadeArray=[],this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},THREE.DirectionalLight.prototype=Object.create(THREE.Light.prototype),THREE.DirectionalLight.prototype.constructor=THREE.DirectionalLight,THREE.DirectionalLight.prototype.clone=function(){var e=new THREE.DirectionalLight;return THREE.Light.prototype.clone.call(this,e),e.target=this.target.clone(),e.intensity=this.intensity,e.castShadow=this.castShadow,e.onlyShadow=this.onlyShadow,e.shadowCameraNear=this.shadowCameraNear,e.shadowCameraFar=this.shadowCameraFar,e.shadowCameraLeft=this.shadowCameraLeft,e.shadowCameraRight=this.shadowCameraRight,e.shadowCameraTop=this.shadowCameraTop,e.shadowCameraBottom=this.shadowCameraBottom,e.shadowCameraVisible=this.shadowCameraVisible,e.shadowBias=this.shadowBias,e.shadowDarkness=this.shadowDarkness,e.shadowMapWidth=this.shadowMapWidth,e.shadowMapHeight=this.shadowMapHeight,e.shadowCascade=this.shadowCascade,e.shadowCascadeOffset.copy(this.shadowCascadeOffset),e.shadowCascadeCount=this.shadowCascadeCount,e.shadowCascadeBias=this.shadowCascadeBias.slice(0),e.shadowCascadeWidth=this.shadowCascadeWidth.slice(0),e.shadowCascadeHeight=this.shadowCascadeHeight.slice(0),e.shadowCascadeNearZ=this.shadowCascadeNearZ.slice(0),e.shadowCascadeFarZ=this.shadowCascadeFarZ.slice(0),e},THREE.HemisphereLight=function(e,t,r){THREE.Light.call(this,e),this.type="HemisphereLight",this.position.set(0,100,0),this.groundColor=new THREE.Color(t),this.intensity=void 0!==r?r:1},THREE.HemisphereLight.prototype=Object.create(THREE.Light.prototype),THREE.HemisphereLight.prototype.constructor=THREE.HemisphereLight,THREE.HemisphereLight.prototype.clone=function(){var e=new THREE.HemisphereLight;return THREE.Light.prototype.clone.call(this,e),e.groundColor.copy(this.groundColor),e.intensity=this.intensity,e},THREE.PointLight=function(e,t,r){THREE.Light.call(this,e),this.type="PointLight",this.intensity=void 0!==t?t:1,this.distance=void 0!==r?r:0},THREE.PointLight.prototype=Object.create(THREE.Light.prototype),THREE.PointLight.prototype.constructor=THREE.PointLight,THREE.PointLight.prototype.clone=function(){var e=new THREE.PointLight;return THREE.Light.prototype.clone.call(this,e),e.intensity=this.intensity,e.distance=this.distance,e},THREE.SpotLight=function(e,t,r,n,i){THREE.Light.call(this,e),this.type="SpotLight",this.position.set(0,1,0),this.target=new THREE.Object3D,this.intensity=void 0!==t?t:1,this.distance=void 0!==r?r:0,this.angle=void 0!==n?n:Math.PI/3,this.exponent=void 0!==i?i:10,this.castShadow=!1,this.onlyShadow=!1,this.shadowCameraNear=50,this.shadowCameraFar=5e3,this.shadowCameraFov=50,this.shadowCameraVisible=!1,this.shadowBias=0,this.shadowDarkness=.5,this.shadowMapWidth=512,this.shadowMapHeight=512,this.shadowMap=null,this.shadowMapSize=null,this.shadowCamera=null,this.shadowMatrix=null},THREE.SpotLight.prototype=Object.create(THREE.Light.prototype),THREE.SpotLight.prototype.constructor=THREE.SpotLight,THREE.SpotLight.prototype.clone=function(){var e=new THREE.SpotLight;return THREE.Light.prototype.clone.call(this,e),e.target=this.target.clone(),e.intensity=this.intensity,e.distance=this.distance,e.angle=this.angle,e.exponent=this.exponent,e.castShadow=this.castShadow,e.onlyShadow=this.onlyShadow,e.shadowCameraNear=this.shadowCameraNear,e.shadowCameraFar=this.shadowCameraFar,e.shadowCameraFov=this.shadowCameraFov,e.shadowCameraVisible=this.shadowCameraVisible,e.shadowBias=this.shadowBias,e.shadowDarkness=this.shadowDarkness,e.shadowMapWidth=this.shadowMapWidth,e.shadowMapHeight=this.shadowMapHeight,e},THREE.Cache=function(){this.files={}},THREE.Cache.prototype={constructor:THREE.Cache,add:function(e,t){this.files[e]=t},get:function(e){return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},THREE.Loader=function(e){this.showStatus=e,this.statusDomElement=e?THREE.Loader.prototype.addStatusElement():null,this.imageLoader=new THREE.ImageLoader,this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},THREE.Loader.prototype={constructor:THREE.Loader,crossOrigin:void 0,addStatusElement:function(){var e=document.createElement("div");return e.style.position="absolute",e.style.right="0px",e.style.top="0px",e.style.fontSize="0.8em",e.style.textAlign="left",e.style.background="rgba(0,0,0,0.25)",e.style.color="#fff",e.style.width="120px",e.style.padding="0.5em 0.5em 0.5em 0.5em",e.style.zIndex=1e3,e.innerHTML="Loading ...",e},updateProgress:function(e){var t="Loaded ";t+=e.total?(100*e.loaded/e.total).toFixed(0)+"%":(e.loaded/1024).toFixed(2)+" KB",this.statusDomElement.innerHTML=t},extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t){for(var r=[],n=0;n<e.length;++n)r[n]=this.createMaterial(e[n],t);return r},needsTangents:function(e){for(var t=0,r=e.length;r>t;t++){var n=e[t];if(n instanceof THREE.ShaderMaterial)return!0}return!1},createMaterial:function(e,t){function r(e){var t=Math.log(e)/Math.LN2;return Math.pow(2,Math.round(t))}function n(e,n,i,a,s,u,c){var l,h=t+i,f=THREE.Loader.Handlers.get(h);if(null!==f?l=f.load(h):(l=new THREE.Texture,f=o.imageLoader,f.crossOrigin=o.crossOrigin,f.load(h,function(e){if(THREE.Math.isPowerOfTwo(e.width)===!1||THREE.Math.isPowerOfTwo(e.height)===!1){var t=r(e.width),n=r(e.height),i=document.createElement("canvas");i.width=t,i.height=n;var o=i.getContext("2d");o.drawImage(e,0,0,t,n),l.image=i}else l.image=e;l.needsUpdate=!0})),l.sourceFile=i,a&&(l.repeat.set(a[0],a[1]),1!==a[0]&&(l.wrapS=THREE.RepeatWrapping),1!==a[1]&&(l.wrapT=THREE.RepeatWrapping)),s&&l.offset.set(s[0],s[1]),u){var d={repeat:THREE.RepeatWrapping,mirror:THREE.MirroredRepeatWrapping};void 0!==d[u[0]]&&(l.wrapS=d[u[0]]),void 0!==d[u[1]]&&(l.wrapT=d[u[1]])}c&&(l.anisotropy=c),e[n]=l}function i(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]}var o=this,a="MeshLambertMaterial",s={color:15658734,opacity:1,map:null,lightMap:null,normalMap:null,bumpMap:null,wireframe:!1};if(e.shading){var u=e.shading.toLowerCase();"phong"===u?a="MeshPhongMaterial":"basic"===u&&(a="MeshBasicMaterial")}void 0!==e.blending&&void 0!==THREE[e.blending]&&(s.blending=THREE[e.blending]),(void 0!==e.transparent||e.opacity<1)&&(s.transparent=e.transparent),void 0!==e.depthTest&&(s.depthTest=e.depthTest),void 0!==e.depthWrite&&(s.depthWrite=e.depthWrite),void 0!==e.visible&&(s.visible=e.visible),void 0!==e.flipSided&&(s.side=THREE.BackSide),void 0!==e.doubleSided&&(s.side=THREE.DoubleSide),void 0!==e.wireframe&&(s.wireframe=e.wireframe),void 0!==e.vertexColors&&("face"===e.vertexColors?s.vertexColors=THREE.FaceColors:e.vertexColors&&(s.vertexColors=THREE.VertexColors)),e.colorDiffuse?s.color=i(e.colorDiffuse):e.DbgColor&&(s.color=e.DbgColor),e.colorSpecular&&(s.specular=i(e.colorSpecular)),e.colorAmbient&&(s.ambient=i(e.colorAmbient)),e.colorEmissive&&(s.emissive=i(e.colorEmissive)),e.transparency&&(s.opacity=e.transparency),e.specularCoef&&(s.shininess=e.specularCoef),e.mapDiffuse&&t&&n(s,"map",e.mapDiffuse,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy),e.mapLight&&t&&n(s,"lightMap",e.mapLight,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy),e.mapBump&&t&&n(s,"bumpMap",e.mapBump,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy),e.mapNormal&&t&&n(s,"normalMap",e.mapNormal,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy),e.mapSpecular&&t&&n(s,"specularMap",e.mapSpecular,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy),e.mapAlpha&&t&&n(s,"alphaMap",e.mapAlpha,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy),e.mapBumpScale&&(s.bumpScale=e.mapBumpScale),e.mapNormalFactor&&(s.normalScale=new THREE.Vector2(e.mapNormalFactor,e.mapNormalFactor));var c=new THREE[a](s);return void 0!==e.DbgName&&(c.name=e.DbgName),c}},THREE.Loader.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=0,r=this.handlers.length;r>t;t+=2){var n=this.handlers[t],i=this.handlers[t+1];if(n.test(e))return i}return null}},THREE.XHRLoader=function(e){this.cache=new THREE.Cache,this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.XHRLoader.prototype={constructor:THREE.XHRLoader,load:function(e,t,r,n){var i=this,o=i.cache.get(e);if(void 0!==o)return void(t&&t(o));var a=new XMLHttpRequest;a.open("GET",e,!0),a.addEventListener("load",function(){i.cache.add(e,this.response),t&&t(this.response),i.manager.itemEnd(e)},!1),void 0!==r&&a.addEventListener("progress",function(e){r(e)},!1),void 0!==n&&a.addEventListener("error",function(e){n(e)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),void 0!==this.responseType&&(a.responseType=this.responseType),a.send(null),i.manager.itemStart(e)},setResponseType:function(e){this.responseType=e},setCrossOrigin:function(e){this.crossOrigin=e}},THREE.ImageLoader=function(e){this.cache=new THREE.Cache,this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.ImageLoader.prototype={constructor:THREE.ImageLoader,load:function(e,t,r,n){var i=this,o=i.cache.get(e);if(void 0!==o)return void t(o);var a=document.createElement("img");return void 0!==t&&a.addEventListener("load",function(){i.cache.add(e,this),t(this),i.manager.itemEnd(e)},!1),void 0!==r&&a.addEventListener("progress",function(e){r(e)},!1),void 0!==n&&a.addEventListener("error",function(e){n(e)},!1),void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),a.src=e,i.manager.itemStart(e),a},setCrossOrigin:function(e){this.crossOrigin=e}},THREE.JSONLoader=function(e){THREE.Loader.call(this,e),this.withCredentials=!1},THREE.JSONLoader.prototype=Object.create(THREE.Loader.prototype),THREE.JSONLoader.prototype.constructor=THREE.JSONLoader,THREE.JSONLoader.prototype.load=function(e,t,r){r=r&&"string"==typeof r?r:this.extractUrlBase(e),this.onLoadStart(),this.loadAjaxJSON(this,e,t,r)},THREE.JSONLoader.prototype.loadAjaxJSON=function(e,t,r,n,i){var o=new XMLHttpRequest,a=0;o.onreadystatechange=function(){if(o.readyState===o.DONE)if(200===o.status||0===o.status){if(o.responseText){var s=JSON.parse(o.responseText);if(void 0!==s.metadata&&"scene"===s.metadata.type)return void console.error('THREE.JSONLoader: "'+t+'" seems to be a Scene. Use THREE.SceneLoader instead.');var u=e.parse(s,n);r(u.geometry,u.materials)}else console.error('THREE.JSONLoader: "'+t+'" seems to be unreachable or the file is empty.');e.onLoadComplete()}else console.error("THREE.JSONLoader: Couldn't load \""+t+'" ('+o.status+")");else o.readyState===o.LOADING?i&&(0===a&&(a=o.getResponseHeader("Content-Length")),i({total:a,loaded:o.responseText.length})):o.readyState===o.HEADERS_RECEIVED&&void 0!==i&&(a=o.getResponseHeader("Content-Length"))},o.open("GET",t,!0),o.withCredentials=this.withCredentials,o.send(null)},THREE.JSONLoader.prototype.parse=function(e,t){function r(t){function r(e,t){return e&1<<t}var n,i,a,s,u,c,l,h,f,d,p,m,g,y,v,b,E,x,w,_,T,R,S,C,H,M,A,N=e.faces,P=e.vertices,k=e.normals,O=e.colors,L=0;if(void 0!==e.uvs){for(n=0;n<e.uvs.length;n++)e.uvs[n].length&&L++;for(n=0;L>n;n++)o.faceVertexUvs[n]=[]}for(s=0,u=P.length;u>s;)x=new THREE.Vector3,x.x=P[s++]*t,x.y=P[s++]*t,x.z=P[s++]*t,o.vertices.push(x);for(s=0,u=N.length;u>s;)if(d=N[s++],p=r(d,0),m=r(d,1),g=r(d,3),y=r(d,4),v=r(d,5),b=r(d,6),E=r(d,7),p){if(_=new THREE.Face3,_.a=N[s],_.b=N[s+1],_.c=N[s+3],T=new THREE.Face3,T.a=N[s+1],T.b=N[s+2],T.c=N[s+3],s+=4,m&&(f=N[s++],_.materialIndex=f,T.materialIndex=f),a=o.faces.length,g)for(n=0;L>n;n++)for(C=e.uvs[n],o.faceVertexUvs[n][a]=[],o.faceVertexUvs[n][a+1]=[],i=0;4>i;i++)h=N[s++],M=C[2*h],A=C[2*h+1],H=new THREE.Vector2(M,A),2!==i&&o.faceVertexUvs[n][a].push(H),0!==i&&o.faceVertexUvs[n][a+1].push(H);if(y&&(l=3*N[s++],_.normal.set(k[l++],k[l++],k[l]),T.normal.copy(_.normal)),v)for(n=0;4>n;n++)l=3*N[s++],S=new THREE.Vector3(k[l++],k[l++],k[l]),2!==n&&_.vertexNormals.push(S),0!==n&&T.vertexNormals.push(S);if(b&&(c=N[s++],R=O[c],_.color.setHex(R),T.color.setHex(R)),E)for(n=0;4>n;n++)c=N[s++],R=O[c],2!==n&&_.vertexColors.push(new THREE.Color(R)),0!==n&&T.vertexColors.push(new THREE.Color(R));o.faces.push(_),o.faces.push(T)}else{if(w=new THREE.Face3,w.a=N[s++],w.b=N[s++],w.c=N[s++],m&&(f=N[s++],w.materialIndex=f),a=o.faces.length,g)for(n=0;L>n;n++)for(C=e.uvs[n],o.faceVertexUvs[n][a]=[],i=0;3>i;i++)h=N[s++],M=C[2*h],A=C[2*h+1],H=new THREE.Vector2(M,A),o.faceVertexUvs[n][a].push(H);if(y&&(l=3*N[s++],w.normal.set(k[l++],k[l++],k[l])),v)for(n=0;3>n;n++)l=3*N[s++],S=new THREE.Vector3(k[l++],k[l++],k[l]),w.vertexNormals.push(S);if(b&&(c=N[s++],w.color.setHex(O[c])),E)for(n=0;3>n;n++)c=N[s++],w.vertexColors.push(new THREE.Color(O[c]));o.faces.push(w)}}function n(){var t=void 0!==e.influencesPerVertex?e.influencesPerVertex:2;if(e.skinWeights)for(var r=0,n=e.skinWeights.length;n>r;r+=t){var i=e.skinWeights[r],a=t>1?e.skinWeights[r+1]:0,s=t>2?e.skinWeights[r+2]:0,u=t>3?e.skinWeights[r+3]:0;o.skinWeights.push(new THREE.Vector4(i,a,s,u))}if(e.skinIndices)for(var r=0,n=e.skinIndices.length;n>r;r+=t){var c=e.skinIndices[r],l=t>1?e.skinIndices[r+1]:0,h=t>2?e.skinIndices[r+2]:0,f=t>3?e.skinIndices[r+3]:0;o.skinIndices.push(new THREE.Vector4(c,l,h,f))}o.bones=e.bones,o.bones&&o.bones.length>0&&(o.skinWeights.length!==o.skinIndices.length||o.skinIndices.length!==o.vertices.length)&&console.warn("When skinning, number of vertices ("+o.vertices.length+"), skinIndices ("+o.skinIndices.length+"), and skinWeights ("+o.skinWeights.length+") should match."),o.animation=e.animation,o.animations=e.animations}function i(t){if(void 0!==e.morphTargets){var r,n,i,a,s,u;for(r=0,n=e.morphTargets.length;n>r;r++)for(o.morphTargets[r]={},o.morphTargets[r].name=e.morphTargets[r].name,o.morphTargets[r].vertices=[],s=o.morphTargets[r].vertices,u=e.morphTargets[r].vertices,i=0,a=u.length;a>i;i+=3){var c=new THREE.Vector3;c.x=u[i]*t,c.y=u[i+1]*t,c.z=u[i+2]*t,s.push(c)}}if(void 0!==e.morphColors){var r,n,l,h,f,d,p;for(r=0,n=e.morphColors.length;n>r;r++)for(o.morphColors[r]={},o.morphColors[r].name=e.morphColors[r].name,o.morphColors[r].colors=[],f=o.morphColors[r].colors,d=e.morphColors[r].colors,l=0,h=d.length;h>l;l+=3)p=new THREE.Color(16755200),p.setRGB(d[l],d[l+1],d[l+2]),f.push(p)}}var o=new THREE.Geometry,a=void 0!==e.scale?1/e.scale:1;if(r(a),n(),i(a),o.computeFaceNormals(),o.computeBoundingSphere(),void 0===e.materials||0===e.materials.length)return{geometry:o};var s=this.initMaterials(e.materials,t);return this.needsTangents(s)&&o.computeTangents(),{geometry:o,materials:s}},THREE.LoadingManager=function(e,t,r){var n=this,i=0,o=0;this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(){o++},this.itemEnd=function(e){i++,void 0!==n.onProgress&&n.onProgress(e,i,o),i===o&&void 0!==n.onLoad&&n.onLoad()}},THREE.DefaultLoadingManager=new THREE.LoadingManager,THREE.BufferGeometryLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.BufferGeometryLoader.prototype={constructor:THREE.BufferGeometryLoader,load:function(e,t,r,n){var i=this,o=new THREE.XHRLoader(i.manager);o.setCrossOrigin(this.crossOrigin),o.load(e,function(e){t(i.parse(JSON.parse(e)))},r,n)},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=new THREE.BufferGeometry,r=e.attributes;for(var n in r){var i=r[n],o=new self[i.type](i.array);t.addAttribute(n,new THREE.BufferAttribute(o,i.itemSize))}var a=e.offsets;void 0!==a&&(t.offsets=JSON.parse(JSON.stringify(a)));var s=e.boundingSphere;if(void 0!==s){var u=new THREE.Vector3;void 0!==s.center&&u.fromArray(s.center),t.boundingSphere=new THREE.Sphere(u,s.radius)}return t}},THREE.MaterialLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.MaterialLoader.prototype={constructor:THREE.MaterialLoader,load:function(e,t,r,n){var i=this,o=new THREE.XHRLoader(i.manager);o.setCrossOrigin(this.crossOrigin),o.load(e,function(e){t(i.parse(JSON.parse(e)))},r,n)},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=new THREE[e.type];if(void 0!==e.color&&t.color.setHex(e.color),void 0!==e.ambient&&t.ambient.setHex(e.ambient),void 0!==e.emissive&&t.emissive.setHex(e.emissive),void 0!==e.specular&&t.specular.setHex(e.specular),void 0!==e.shininess&&(t.shininess=e.shininess),void 0!==e.uniforms&&(t.uniforms=e.uniforms),void 0!==e.vertexShader&&(t.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(t.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(t.vertexColors=e.vertexColors),void 0!==e.shading&&(t.shading=e.shading),void 0!==e.blending&&(t.blending=e.blending),void 0!==e.side&&(t.side=e.side),void 0!==e.opacity&&(t.opacity=e.opacity),void 0!==e.transparent&&(t.transparent=e.transparent),void 0!==e.wireframe&&(t.wireframe=e.wireframe),void 0!==e.materials)for(var r=0,n=e.materials.length;n>r;r++)t.materials.push(this.parse(e.materials[r]));
return t}},THREE.ObjectLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.ObjectLoader.prototype={constructor:THREE.ObjectLoader,load:function(e,t,r,n){var i=this,o=new THREE.XHRLoader(i.manager);o.setCrossOrigin(this.crossOrigin),o.load(e,function(e){t(i.parse(JSON.parse(e)))},r,n)},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e){var t=this.parseGeometries(e.geometries),r=this.parseMaterials(e.materials),n=this.parseObject(e.object,t,r);return n},parseGeometries:function(e){var t={};if(void 0!==e)for(var r=new THREE.JSONLoader,n=new THREE.BufferGeometryLoader,i=0,o=e.length;o>i;i++){var a,s=e[i];switch(s.type){case"PlaneGeometry":a=new THREE.PlaneGeometry(s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"CubeGeometry":a=new THREE.BoxGeometry(s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":a=new THREE.CircleGeometry(s.radius,s.segments);break;case"CylinderGeometry":a=new THREE.CylinderGeometry(s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded);break;case"SphereGeometry":a=new THREE.SphereGeometry(s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"IcosahedronGeometry":a=new THREE.IcosahedronGeometry(s.radius,s.detail);break;case"TorusGeometry":a=new THREE.TorusGeometry(s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":a=new THREE.TorusKnotGeometry(s.radius,s.tube,s.radialSegments,s.tubularSegments,s.p,s.q,s.heightScale);break;case"BufferGeometry":a=n.parse(s.data);break;case"Geometry":a=r.parse(s.data).geometry}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),t[s.uuid]=a}return t},parseMaterials:function(e){var t={};if(void 0!==e)for(var r=new THREE.MaterialLoader,n=0,i=e.length;i>n;n++){var o=e[n],a=r.parse(o);a.uuid=o.uuid,void 0!==o.name&&(a.name=o.name),t[o.uuid]=a}return t},parseObject:function(){var e=new THREE.Matrix4;return function(t,r,n){var i;switch(t.type){case"Scene":i=new THREE.Scene;break;case"PerspectiveCamera":i=new THREE.PerspectiveCamera(t.fov,t.aspect,t.near,t.far);break;case"OrthographicCamera":i=new THREE.OrthographicCamera(t.left,t.right,t.top,t.bottom,t.near,t.far);break;case"AmbientLight":i=new THREE.AmbientLight(t.color);break;case"DirectionalLight":i=new THREE.DirectionalLight(t.color,t.intensity);break;case"PointLight":i=new THREE.PointLight(t.color,t.intensity,t.distance);break;case"SpotLight":i=new THREE.SpotLight(t.color,t.intensity,t.distance,t.angle,t.exponent);break;case"HemisphereLight":i=new THREE.HemisphereLight(t.color,t.groundColor,t.intensity);break;case"Mesh":var o=r[t.geometry],a=n[t.material];void 0===o&&console.warn("THREE.ObjectLoader: Undefined geometry",t.geometry),void 0===a&&console.warn("THREE.ObjectLoader: Undefined material",t.material),i=new THREE.Mesh(o,a);break;case"Line":var o=r[t.geometry],a=n[t.material];void 0===o&&console.warn("THREE.ObjectLoader: Undefined geometry",t.geometry),void 0===a&&console.warn("THREE.ObjectLoader: Undefined material",t.material),i=new THREE.Line(o,a);break;case"Sprite":var a=n[t.material];void 0===a&&console.warn("THREE.ObjectLoader: Undefined material",t.material),i=new THREE.Sprite(a);break;case"Group":i=new THREE.Group;break;default:i=new THREE.Object3D}if(i.uuid=t.uuid,void 0!==t.name&&(i.name=t.name),void 0!==t.matrix?(e.fromArray(t.matrix),e.decompose(i.position,i.quaternion,i.scale)):(void 0!==t.position&&i.position.fromArray(t.position),void 0!==t.rotation&&i.rotation.fromArray(t.rotation),void 0!==t.scale&&i.scale.fromArray(t.scale)),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.children)for(var s in t.children)i.add(this.parseObject(t.children[s],r,n));return i}}()},THREE.TextureLoader=function(e){this.manager=void 0!==e?e:THREE.DefaultLoadingManager},THREE.TextureLoader.prototype={constructor:THREE.TextureLoader,load:function(e,t,r,n){var i=this,o=new THREE.ImageLoader(i.manager);o.setCrossOrigin(this.crossOrigin),o.load(e,function(e){var r=new THREE.Texture(e);r.needsUpdate=!0,void 0!==t&&t(r)},r,n)},setCrossOrigin:function(e){this.crossOrigin=e}},THREE.DataTextureLoader=THREE.BinaryTextureLoader=function(){this._parser=null},THREE.BinaryTextureLoader.prototype={constructor:THREE.BinaryTextureLoader,load:function(e,t,r,n){var i=this,o=new THREE.DataTexture,a=new THREE.XHRLoader;return a.setResponseType("arraybuffer"),a.load(e,function(e){var r=i._parser(e);r&&(void 0!==r.image?o.image=r.image:void 0!==r.data&&(o.image.width=r.width,o.image.height=r.height,o.image.data=r.data),o.wrapS=void 0!==r.wrapS?r.wrapS:THREE.ClampToEdgeWrapping,o.wrapT=void 0!==r.wrapT?r.wrapT:THREE.ClampToEdgeWrapping,o.magFilter=void 0!==r.magFilter?r.magFilter:THREE.LinearFilter,o.minFilter=void 0!==r.minFilter?r.minFilter:THREE.LinearMipMapLinearFilter,o.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,void 0!==r.format&&(o.format=r.format),void 0!==r.type&&(o.type=r.type),void 0!==r.mipmaps&&(o.mipmaps=r.mipmaps),1===r.mipmapCount&&(o.minFilter=THREE.LinearFilter),o.needsUpdate=!0,t&&t(o,r))},r,n),o}},THREE.CompressedTextureLoader=function(){this._parser=null},THREE.CompressedTextureLoader.prototype={constructor:THREE.CompressedTextureLoader,load:function(e,t){var r=this,n=[],i=new THREE.CompressedTexture;i.image=n;var o=new THREE.XHRLoader;if(o.setResponseType("arraybuffer"),e instanceof Array)for(var a=0,s=function(s){o.load(e[s],function(e){var o=r._parser(e,!0);n[s]={width:o.width,height:o.height,format:o.format,mipmaps:o.mipmaps},a+=1,6===a&&(1==o.mipmapCount&&(i.minFilter=THREE.LinearFilter),i.format=o.format,i.needsUpdate=!0,t&&t(i))})},u=0,c=e.length;c>u;++u)s(u);else o.load(e,function(e){var o=r._parser(e,!0);if(o.isCubemap)for(var a=o.mipmaps.length/o.mipmapCount,s=0;a>s;s++){n[s]={mipmaps:[]};for(var u=0;u<o.mipmapCount;u++)n[s].mipmaps.push(o.mipmaps[s*o.mipmapCount+u]),n[s].format=o.format,n[s].width=o.width,n[s].height=o.height}else i.image.width=o.width,i.image.height=o.height,i.mipmaps=o.mipmaps;1===o.mipmapCount&&(i.minFilter=THREE.LinearFilter),i.format=o.format,i.needsUpdate=!0,t&&t(i)});return i}},THREE.Material=function(){Object.defineProperty(this,"id",{value:THREE.MaterialIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.type="Material",this.side=THREE.FrontSide,this.opacity=1,this.transparent=!1,this.blending=THREE.NormalBlending,this.blendSrc=THREE.SrcAlphaFactor,this.blendDst=THREE.OneMinusSrcAlphaFactor,this.blendEquation=THREE.AddEquation,this.depthTest=!0,this.depthWrite=!0,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.overdraw=0,this.visible=!0,this.needsUpdate=!0},THREE.Material.prototype={constructor:THREE.Material,setValues:function(e){if(void 0!==e)for(var t in e){var r=e[t];if(void 0!==r){if(t in this){var n=this[t];n instanceof THREE.Color?n.set(r):n instanceof THREE.Vector3&&r instanceof THREE.Vector3?n.copy(r):this[t]="overdraw"==t?Number(r):r}}else console.warn("THREE.Material: '"+t+"' parameter is undefined.")}},toJSON:function(){var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type};return""!==this.name&&(e.name=this.name),this instanceof THREE.MeshBasicMaterial?(e.color=this.color.getHex(),this.vertexColors!==THREE.NoColors&&(e.vertexColors=this.vertexColors),this.blending!==THREE.NormalBlending&&(e.blending=this.blending),this.side!==THREE.FrontSide&&(e.side=this.side)):this instanceof THREE.MeshLambertMaterial?(e.color=this.color.getHex(),e.ambient=this.ambient.getHex(),e.emissive=this.emissive.getHex(),this.vertexColors!==THREE.NoColors&&(e.vertexColors=this.vertexColors),this.blending!==THREE.NormalBlending&&(e.blending=this.blending),this.side!==THREE.FrontSide&&(e.side=this.side)):this instanceof THREE.MeshPhongMaterial?(e.color=this.color.getHex(),e.ambient=this.ambient.getHex(),e.emissive=this.emissive.getHex(),e.specular=this.specular.getHex(),e.shininess=this.shininess,this.vertexColors!==THREE.NoColors&&(e.vertexColors=this.vertexColors),this.blending!==THREE.NormalBlending&&(e.blending=this.blending),this.side!==THREE.FrontSide&&(e.side=this.side)):this instanceof THREE.MeshNormalMaterial?(this.shading!==THREE.FlatShading&&(e.shading=this.shading),this.blending!==THREE.NormalBlending&&(e.blending=this.blending),this.side!==THREE.FrontSide&&(e.side=this.side)):this instanceof THREE.MeshDepthMaterial?(this.blending!==THREE.NormalBlending&&(e.blending=this.blending),this.side!==THREE.FrontSide&&(e.side=this.side)):this instanceof THREE.ShaderMaterial?(e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader):this instanceof THREE.SpriteMaterial&&(e.color=this.color.getHex()),this.opacity<1&&(e.opacity=this.opacity),this.transparent!==!1&&(e.transparent=this.transparent),this.wireframe!==!1&&(e.wireframe=this.wireframe),e},clone:function(e){return void 0===e&&(e=new THREE.Material),e.name=this.name,e.side=this.side,e.opacity=this.opacity,e.transparent=this.transparent,e.blending=this.blending,e.blendSrc=this.blendSrc,e.blendDst=this.blendDst,e.blendEquation=this.blendEquation,e.depthTest=this.depthTest,e.depthWrite=this.depthWrite,e.polygonOffset=this.polygonOffset,e.polygonOffsetFactor=this.polygonOffsetFactor,e.polygonOffsetUnits=this.polygonOffsetUnits,e.alphaTest=this.alphaTest,e.overdraw=this.overdraw,e.visible=this.visible,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Material.prototype),THREE.MaterialIdCount=0,THREE.LineBasicMaterial=function(e){THREE.Material.call(this),this.type="LineBasicMaterial",this.color=new THREE.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.vertexColors=THREE.NoColors,this.fog=!0,this.setValues(e)},THREE.LineBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineBasicMaterial.prototype.constructor=THREE.LineBasicMaterial,THREE.LineBasicMaterial.prototype.clone=function(){var e=new THREE.LineBasicMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.linecap=this.linecap,e.linejoin=this.linejoin,e.vertexColors=this.vertexColors,e.fog=this.fog,e},THREE.LineDashedMaterial=function(e){THREE.Material.call(this),this.type="LineDashedMaterial",this.color=new THREE.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.vertexColors=!1,this.fog=!0,this.setValues(e)},THREE.LineDashedMaterial.prototype=Object.create(THREE.Material.prototype),THREE.LineDashedMaterial.prototype.constructor=THREE.LineDashedMaterial,THREE.LineDashedMaterial.prototype.clone=function(){var e=new THREE.LineDashedMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.linewidth=this.linewidth,e.scale=this.scale,e.dashSize=this.dashSize,e.gapSize=this.gapSize,e.vertexColors=this.vertexColors,e.fog=this.fog,e},THREE.MeshBasicMaterial=function(e){THREE.Material.call(this),this.type="MeshBasicMaterial",this.color=new THREE.Color(16777215),this.map=null,this.lightMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(e)},THREE.MeshBasicMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshBasicMaterial.prototype.constructor=THREE.MeshBasicMaterial,THREE.MeshBasicMaterial.prototype.clone=function(){var e=new THREE.MeshBasicMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.alphaMap=this.alphaMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e},THREE.MeshLambertMaterial=function(e){THREE.Material.call(this),this.type="MeshLambertMaterial",this.color=new THREE.Color(16777215),this.ambient=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.wrapAround=!1,this.wrapRGB=new THREE.Vector3(1,1,1),this.map=null,this.lightMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},THREE.MeshLambertMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshLambertMaterial.prototype.constructor=THREE.MeshLambertMaterial,THREE.MeshLambertMaterial.prototype.clone=function(){var e=new THREE.MeshLambertMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.specularMap=this.specularMap,e.alphaMap=this.alphaMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},THREE.MeshPhongMaterial=function(e){THREE.Material.call(this),this.type="MeshPhongMaterial",this.color=new THREE.Color(16777215),this.ambient=new THREE.Color(16777215),this.emissive=new THREE.Color(0),this.specular=new THREE.Color(1118481),this.shininess=30,this.metal=!1,this.wrapAround=!1,this.wrapRGB=new THREE.Vector3(1,1,1),this.map=null,this.lightMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new THREE.Vector2(1,1),this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=THREE.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=THREE.SmoothShading,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},THREE.MeshPhongMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshPhongMaterial.prototype.constructor=THREE.MeshPhongMaterial,THREE.MeshPhongMaterial.prototype.clone=function(){var e=new THREE.MeshPhongMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.ambient.copy(this.ambient),e.emissive.copy(this.emissive),e.specular.copy(this.specular),e.shininess=this.shininess,e.metal=this.metal,e.wrapAround=this.wrapAround,e.wrapRGB.copy(this.wrapRGB),e.map=this.map,e.lightMap=this.lightMap,e.bumpMap=this.bumpMap,e.bumpScale=this.bumpScale,e.normalMap=this.normalMap,e.normalScale.copy(this.normalScale),e.specularMap=this.specularMap,e.alphaMap=this.alphaMap,e.envMap=this.envMap,e.combine=this.combine,e.reflectivity=this.reflectivity,e.refractionRatio=this.refractionRatio,e.fog=this.fog,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.wireframeLinecap=this.wireframeLinecap,e.wireframeLinejoin=this.wireframeLinejoin,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},THREE.MeshDepthMaterial=function(e){THREE.Material.call(this),this.type="MeshDepthMaterial",this.morphTargets=!1,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)},THREE.MeshDepthMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshDepthMaterial.prototype.constructor=THREE.MeshDepthMaterial,THREE.MeshDepthMaterial.prototype.clone=function(){var e=new THREE.MeshDepthMaterial;return THREE.Material.prototype.clone.call(this,e),e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},THREE.MeshNormalMaterial=function(e){THREE.Material.call(this,e),this.type="MeshNormalMaterial",this.shading=THREE.FlatShading,this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(e)},THREE.MeshNormalMaterial.prototype=Object.create(THREE.Material.prototype),THREE.MeshNormalMaterial.prototype.constructor=THREE.MeshNormalMaterial,THREE.MeshNormalMaterial.prototype.clone=function(){var e=new THREE.MeshNormalMaterial;return THREE.Material.prototype.clone.call(this,e),e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e},THREE.MeshFaceMaterial=function(e){this.uuid=THREE.Math.generateUUID(),this.type="MeshFaceMaterial",this.materials=e instanceof Array?e:[]},THREE.MeshFaceMaterial.prototype={constructor:THREE.MeshFaceMaterial,toJSON:function(){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},t=0,r=this.materials.length;r>t;t++)e.materials.push(this.materials[t].toJSON());return e},clone:function(){for(var e=new THREE.MeshFaceMaterial,t=0;t<this.materials.length;t++)e.materials.push(this.materials[t].clone());return e}},THREE.PointCloudMaterial=function(e){THREE.Material.call(this),this.type="PointCloudMaterial",this.color=new THREE.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.vertexColors=THREE.NoColors,this.fog=!0,this.setValues(e)},THREE.PointCloudMaterial.prototype=Object.create(THREE.Material.prototype),THREE.PointCloudMaterial.prototype.constructor=THREE.PointCloudMaterial,THREE.PointCloudMaterial.prototype.clone=function(){var e=new THREE.PointCloudMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.size=this.size,e.sizeAttenuation=this.sizeAttenuation,e.vertexColors=this.vertexColors,e.fog=this.fog,e},THREE.ParticleBasicMaterial=function(e){return console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointCloudMaterial."),new THREE.PointCloudMaterial(e)},THREE.ParticleSystemMaterial=function(e){return console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointCloudMaterial."),new THREE.PointCloudMaterial(e)},THREE.ShaderMaterial=function(e){THREE.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.attributes=null,this.vertexShader="void main() {\n	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.shading=THREE.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=THREE.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.setValues(e)},THREE.ShaderMaterial.prototype=Object.create(THREE.Material.prototype),THREE.ShaderMaterial.prototype.constructor=THREE.ShaderMaterial,THREE.ShaderMaterial.prototype.clone=function(){var e=new THREE.ShaderMaterial;return THREE.Material.prototype.clone.call(this,e),e.fragmentShader=this.fragmentShader,e.vertexShader=this.vertexShader,e.uniforms=THREE.UniformsUtils.clone(this.uniforms),e.attributes=this.attributes,e.defines=this.defines,e.shading=this.shading,e.wireframe=this.wireframe,e.wireframeLinewidth=this.wireframeLinewidth,e.fog=this.fog,e.lights=this.lights,e.vertexColors=this.vertexColors,e.skinning=this.skinning,e.morphTargets=this.morphTargets,e.morphNormals=this.morphNormals,e},THREE.RawShaderMaterial=function(e){THREE.ShaderMaterial.call(this,e),this.type="RawShaderMaterial"},THREE.RawShaderMaterial.prototype=Object.create(THREE.ShaderMaterial.prototype),THREE.RawShaderMaterial.prototype.constructor=THREE.RawShaderMaterial,THREE.RawShaderMaterial.prototype.clone=function(){var e=new THREE.RawShaderMaterial;return THREE.ShaderMaterial.prototype.clone.call(this,e),e},THREE.SpriteMaterial=function(e){THREE.Material.call(this),this.type="SpriteMaterial",this.color=new THREE.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(e)},THREE.SpriteMaterial.prototype=Object.create(THREE.Material.prototype),THREE.SpriteMaterial.prototype.constructor=THREE.SpriteMaterial,THREE.SpriteMaterial.prototype.clone=function(){var e=new THREE.SpriteMaterial;return THREE.Material.prototype.clone.call(this,e),e.color.copy(this.color),e.map=this.map,e.rotation=this.rotation,e.fog=this.fog,e},THREE.Texture=function(e,t,r,n,i,o,a,s,u){Object.defineProperty(this,"id",{value:THREE.TextureIdCount++}),this.uuid=THREE.Math.generateUUID(),this.name="",this.image=void 0!==e?e:THREE.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:THREE.Texture.DEFAULT_MAPPING,this.wrapS=void 0!==r?r:THREE.ClampToEdgeWrapping,this.wrapT=void 0!==n?n:THREE.ClampToEdgeWrapping,this.magFilter=void 0!==i?i:THREE.LinearFilter,this.minFilter=void 0!==o?o:THREE.LinearMipMapLinearFilter,this.anisotropy=void 0!==u?u:1,this.format=void 0!==a?a:THREE.RGBAFormat,this.type=void 0!==s?s:THREE.UnsignedByteType,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this._needsUpdate=!1,this.onUpdate=null},THREE.Texture.DEFAULT_IMAGE=void 0,THREE.Texture.DEFAULT_MAPPING=THREE.UVMapping,THREE.Texture.prototype={constructor:THREE.Texture,get needsUpdate(){return this._needsUpdate},set needsUpdate(e){e===!0&&this.update(),this._needsUpdate=e},clone:function(e){return void 0===e&&(e=new THREE.Texture),e.image=this.image,e.mipmaps=this.mipmaps.slice(0),e.mapping=this.mapping,e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.format=this.format,e.type=this.type,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.generateMipmaps=this.generateMipmaps,e.premultiplyAlpha=this.premultiplyAlpha,e.flipY=this.flipY,e.unpackAlignment=this.unpackAlignment,e},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.Texture.prototype),THREE.TextureIdCount=0,THREE.CubeTexture=function(e,t,r,n,i,o,a,s,u){t=void 0!==t?t:THREE.CubeReflectionMapping,THREE.Texture.call(this,e,t,r,n,i,o,a,s,u),this.images=e},THREE.CubeTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CubeTexture.prototype.constructor=THREE.CubeTexture,THREE.CubeTexture.clone=function(e){return void 0===e&&(e=new THREE.CubeTexture),THREE.Texture.prototype.clone.call(this,e),e.images=this.images,e},THREE.CompressedTexture=function(e,t,r,n,i,o,a,s,u,c,l){THREE.Texture.call(this,null,o,a,s,u,c,n,i,l),this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1},THREE.CompressedTexture.prototype=Object.create(THREE.Texture.prototype),THREE.CompressedTexture.prototype.constructor=THREE.CompressedTexture,THREE.CompressedTexture.prototype.clone=function(){var e=new THREE.CompressedTexture;return THREE.Texture.prototype.clone.call(this,e),e},THREE.DataTexture=function(e,t,r,n,i,o,a,s,u,c,l){THREE.Texture.call(this,null,o,a,s,u,c,n,i,l),this.image={data:e,width:t,height:r}},THREE.DataTexture.prototype=Object.create(THREE.Texture.prototype),THREE.DataTexture.prototype.constructor=THREE.DataTexture,THREE.DataTexture.prototype.clone=function(){var e=new THREE.DataTexture;return THREE.Texture.prototype.clone.call(this,e),e},THREE.VideoTexture=function(e,t,r,n,i,o,a,s,u){THREE.Texture.call(this,e,t,r,n,i,o,a,s,u),this.generateMipmaps=!1;var c=this,l=function(){requestAnimationFrame(l),e.readyState===e.HAVE_ENOUGH_DATA&&(c.needsUpdate=!0)};l()},THREE.VideoTexture.prototype=Object.create(THREE.Texture.prototype),THREE.VideoTexture.prototype.constructor=THREE.VideoTexture,THREE.Group=function(){THREE.Object3D.call(this),this.type="Group"},THREE.Group.prototype=Object.create(THREE.Object3D.prototype),THREE.Group.prototype.constructor=THREE.Group,THREE.PointCloud=function(e,t){THREE.Object3D.call(this),this.type="PointCloud",this.geometry=void 0!==e?e:new THREE.Geometry,this.material=void 0!==t?t:new THREE.PointCloudMaterial({color:16777215*Math.random()})},THREE.PointCloud.prototype=Object.create(THREE.Object3D.prototype),THREE.PointCloud.prototype.constructor=THREE.PointCloud,THREE.PointCloud.prototype.raycast=function(){var e=new THREE.Matrix4,t=new THREE.Ray;return function(r,n){var i=this,o=i.geometry,a=r.params.PointCloud.threshold;if(e.getInverse(this.matrixWorld),t.copy(r.ray).applyMatrix4(e),null===o.boundingBox||t.isIntersectionBox(o.boundingBox)!==!1){var s=a/((this.scale.x+this.scale.y+this.scale.z)/3),u=new THREE.Vector3,c=function(e,o){var a=t.distanceToPoint(e);if(s>a){var u=t.closestPointToPoint(e);u.applyMatrix4(i.matrixWorld);var c=r.ray.origin.distanceTo(u);n.push({distance:c,distanceToRay:a,point:u.clone(),index:o,face:null,object:i})}};if(o instanceof THREE.BufferGeometry){var l=o.attributes,h=l.position.array;if(void 0!==l.index){var f=l.index.array,d=o.offsets;if(0===d.length){var p={start:0,count:f.length,index:0};d=[p]}for(var m=0,g=d.length;g>m;++m)for(var y=d[m].start,v=d[m].count,b=d[m].index,E=y,x=y+v;x>E;E++){var w=b+f[E];u.fromArray(h,3*w),c(u,w)}}else for(var _=h.length/3,E=0;_>E;E++)u.set(h[3*E],h[3*E+1],h[3*E+2]),c(u,E)}else for(var T=this.geometry.vertices,E=0;E<T.length;E++)c(T[E],E)}}}(),THREE.PointCloud.prototype.clone=function(e){return void 0===e&&(e=new THREE.PointCloud(this.geometry,this.material)),THREE.Object3D.prototype.clone.call(this,e),e},THREE.ParticleSystem=function(e,t){return console.warn("THREE.ParticleSystem has been renamed to THREE.PointCloud."),new THREE.PointCloud(e,t)},THREE.Line=function(e,t,r){THREE.Object3D.call(this),this.type="Line",this.geometry=void 0!==e?e:new THREE.Geometry,this.material=void 0!==t?t:new THREE.LineBasicMaterial({color:16777215*Math.random()}),this.mode=void 0!==r?r:THREE.LineStrip},THREE.LineStrip=0,THREE.LinePieces=1,THREE.Line.prototype=Object.create(THREE.Object3D.prototype),THREE.Line.prototype.constructor=THREE.Line,THREE.Line.prototype.raycast=function(){var e=new THREE.Matrix4,t=new THREE.Ray,r=new THREE.Sphere;return function(n,i){var o=n.linePrecision,a=o*o,s=this.geometry;if(null===s.boundingSphere&&s.computeBoundingSphere(),r.copy(s.boundingSphere),r.applyMatrix4(this.matrixWorld),n.ray.isIntersectionSphere(r)!==!1){e.getInverse(this.matrixWorld),t.copy(n.ray).applyMatrix4(e);var u=new THREE.Vector3,c=new THREE.Vector3,l=new THREE.Vector3,h=new THREE.Vector3,f=this.mode===THREE.LineStrip?1:2;if(s instanceof THREE.BufferGeometry){var d=s.attributes;if(void 0!==d.index){var p=d.index.array,m=d.position.array,g=s.offsets;0===g.length&&(g=[{start:0,count:p.length,index:0}]);for(var y=0;y<g.length;y++)for(var v=g[y].start,b=g[y].count,E=g[y].index,x=v;v+b-1>x;x+=f){var w=E+p[x],_=E+p[x+1];u.fromArray(m,3*w),c.fromArray(m,3*_);var T=t.distanceSqToSegment(u,c,h,l);if(!(T>a)){var R=t.origin.distanceTo(h);R<n.near||R>n.far||i.push({distance:R,point:l.clone().applyMatrix4(this.matrixWorld),face:null,faceIndex:null,object:this})}}}else for(var m=d.position.array,x=0;x<m.length/3-1;x+=f){u.fromArray(m,3*x),c.fromArray(m,3*x+3);var T=t.distanceSqToSegment(u,c,h,l);if(!(T>a)){var R=t.origin.distanceTo(h);R<n.near||R>n.far||i.push({distance:R,point:l.clone().applyMatrix4(this.matrixWorld),face:null,faceIndex:null,object:this})}}}else if(s instanceof THREE.Geometry)for(var S=s.vertices,C=S.length,x=0;C-1>x;x+=f){var T=t.distanceSqToSegment(S[x],S[x+1],h,l);if(!(T>a)){var R=t.origin.distanceTo(h);R<n.near||R>n.far||i.push({distance:R,point:l.clone().applyMatrix4(this.matrixWorld),face:null,faceIndex:null,object:this})}}}}}(),THREE.Line.prototype.clone=function(e){return void 0===e&&(e=new THREE.Line(this.geometry,this.material,this.mode)),THREE.Object3D.prototype.clone.call(this,e),e},THREE.Mesh=function(e,t){THREE.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new THREE.Geometry,this.material=void 0!==t?t:new THREE.MeshBasicMaterial({color:16777215*Math.random()}),this.updateMorphTargets()},THREE.Mesh.prototype=Object.create(THREE.Object3D.prototype),THREE.Mesh.prototype.constructor=THREE.Mesh,THREE.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetForcedOrder=[],this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,t=this.geometry.morphTargets.length;t>e;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[e].name]=e}},THREE.Mesh.prototype.getMorphTargetIndexByName=function(e){return void 0!==this.morphTargetDictionary[e]?this.morphTargetDictionary[e]:(console.log("THREE.Mesh.getMorphTargetIndexByName: morph target "+e+" does not exist. Returning 0."),0)},THREE.Mesh.prototype.raycast=function(){var e=new THREE.Matrix4,t=new THREE.Ray,r=new THREE.Sphere,n=new THREE.Vector3,i=new THREE.Vector3,o=new THREE.Vector3;return function(a,s){var u=this.geometry;if(null===u.boundingSphere&&u.computeBoundingSphere(),r.copy(u.boundingSphere),r.applyMatrix4(this.matrixWorld),a.ray.isIntersectionSphere(r)!==!1&&(e.getInverse(this.matrixWorld),t.copy(a.ray).applyMatrix4(e),null===u.boundingBox||t.isIntersectionBox(u.boundingBox)!==!1))if(u instanceof THREE.BufferGeometry){var c=this.material;if(void 0===c)return;var l,h,f,d=u.attributes,p=a.precision;if(void 0!==d.index){var m=d.index.array,g=d.position.array,y=u.offsets;0===y.length&&(y=[{start:0,count:m.length,index:0}]);for(var v=0,b=y.length;b>v;++v)for(var E=y[v].start,x=y[v].count,w=y[v].index,_=E,T=E+x;T>_;_+=3){if(l=w+m[_],h=w+m[_+1],f=w+m[_+2],n.fromArray(g,3*l),i.fromArray(g,3*h),o.fromArray(g,3*f),c.side===THREE.BackSide)var R=t.intersectTriangle(o,i,n,!0);else var R=t.intersectTriangle(n,i,o,c.side!==THREE.DoubleSide);if(null!==R){R.applyMatrix4(this.matrixWorld);var S=a.ray.origin.distanceTo(R);p>S||S<a.near||S>a.far||s.push({distance:S,point:R,face:new THREE.Face3(l,h,f,THREE.Triangle.normal(n,i,o)),faceIndex:null,object:this})}}}else for(var g=d.position.array,_=0,C=0,T=g.length;T>_;_+=3,C+=9){if(l=_,h=_+1,f=_+2,n.fromArray(g,C),i.fromArray(g,C+3),o.fromArray(g,C+6),c.side===THREE.BackSide)var R=t.intersectTriangle(o,i,n,!0);else var R=t.intersectTriangle(n,i,o,c.side!==THREE.DoubleSide);if(null!==R){R.applyMatrix4(this.matrixWorld);var S=a.ray.origin.distanceTo(R);p>S||S<a.near||S>a.far||s.push({distance:S,point:R,face:new THREE.Face3(l,h,f,THREE.Triangle.normal(n,i,o)),faceIndex:null,object:this})}}}else if(u instanceof THREE.Geometry)for(var l,h,f,H=this.material instanceof THREE.MeshFaceMaterial,M=H===!0?this.material.materials:null,p=a.precision,A=u.vertices,N=0,P=u.faces.length;P>N;N++){var k=u.faces[N],c=H===!0?M[k.materialIndex]:this.material;if(void 0!==c){if(l=A[k.a],h=A[k.b],f=A[k.c],c.morphTargets===!0){var O=u.morphTargets,L=this.morphTargetInfluences;n.set(0,0,0),i.set(0,0,0),o.set(0,0,0);for(var D=0,F=O.length;F>D;D++){var B=L[D];if(0!==B){var I=O[D].vertices;n.x+=(I[k.a].x-l.x)*B,n.y+=(I[k.a].y-l.y)*B,n.z+=(I[k.a].z-l.z)*B,i.x+=(I[k.b].x-h.x)*B,i.y+=(I[k.b].y-h.y)*B,i.z+=(I[k.b].z-h.z)*B,o.x+=(I[k.c].x-f.x)*B,o.y+=(I[k.c].y-f.y)*B,o.z+=(I[k.c].z-f.z)*B}}n.add(l),i.add(h),o.add(f),l=n,h=i,f=o}if(c.side===THREE.BackSide)var R=t.intersectTriangle(f,h,l,!0);else var R=t.intersectTriangle(l,h,f,c.side!==THREE.DoubleSide);
if(null!==R){R.applyMatrix4(this.matrixWorld);var S=a.ray.origin.distanceTo(R);p>S||S<a.near||S>a.far||s.push({distance:S,point:R,face:k,faceIndex:N,object:this})}}}}}(),THREE.Mesh.prototype.clone=function(e,t){return void 0===e&&(e=new THREE.Mesh(this.geometry,this.material)),THREE.Object3D.prototype.clone.call(this,e,t),e},THREE.Bone=function(e){THREE.Object3D.call(this),this.skin=e},THREE.Bone.prototype=Object.create(THREE.Object3D.prototype),THREE.Bone.prototype.constructor=THREE.Bone,THREE.Skeleton=function(e,t,r){if(this.useVertexTexture=void 0!==r?r:!0,this.identityMatrix=new THREE.Matrix4,e=e||[],this.bones=e.slice(0),this.useVertexTexture){var n;n=this.bones.length>256?64:this.bones.length>64?32:this.bones.length>16?16:8,this.boneTextureWidth=n,this.boneTextureHeight=n,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new THREE.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,THREE.RGBAFormat,THREE.FloatType),this.boneTexture.minFilter=THREE.NearestFilter,this.boneTexture.magFilter=THREE.NearestFilter,this.boneTexture.generateMipmaps=!1,this.boneTexture.flipY=!1}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[];for(var i=0,o=this.bones.length;o>i;i++)this.boneInverses.push(new THREE.Matrix4)}},THREE.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var e=0,t=this.bones.length;t>e;e++){var r=new THREE.Matrix4;this.bones[e]&&r.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(r)}},THREE.Skeleton.prototype.pose=function(){for(var e,t=0,r=this.bones.length;r>t;t++)e=this.bones[t],e&&e.matrixWorld.getInverse(this.boneInverses[t]);for(var t=0,r=this.bones.length;r>t;t++)e=this.bones[t],e&&(e.parent?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},THREE.Skeleton.prototype.update=function(){var e=new THREE.Matrix4;return function(){for(var t=0,r=this.bones.length;r>t;t++){var n=this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix;e.multiplyMatrices(n,this.boneInverses[t]),e.flattenToArrayOffset(this.boneMatrices,16*t)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),THREE.SkinnedMesh=function(e,t,r){THREE.Mesh.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new THREE.Matrix4,this.bindMatrixInverse=new THREE.Matrix4;var n=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,o,a,s,u,c=0,l=this.geometry.bones.length;l>c;++c)o=this.geometry.bones[c],a=o.pos,s=o.rotq,u=o.scl,i=new THREE.Bone(this),n.push(i),i.name=o.name,i.position.set(a[0],a[1],a[2]),i.quaternion.set(s[0],s[1],s[2],s[3]),void 0!==u?i.scale.set(u[0],u[1],u[2]):i.scale.set(1,1,1);for(var c=0,l=this.geometry.bones.length;l>c;++c)o=this.geometry.bones[c],-1!==o.parent?n[o.parent].add(n[c]):this.add(n[c])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new THREE.Skeleton(n,void 0,r))},THREE.SkinnedMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.SkinnedMesh.prototype.constructor=THREE.SkinnedMesh,THREE.SkinnedMesh.prototype.bind=function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},THREE.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()},THREE.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof THREE.Geometry)for(var e=0;e<this.geometry.skinIndices.length;e++){var t=this.geometry.skinWeights[e],r=1/t.lengthManhattan();1/0!==r?t.multiplyScalar(r):t.set(1)}},THREE.SkinnedMesh.prototype.updateMatrixWorld=function(){THREE.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unreckognized bindMode: "+this.bindMode)},THREE.SkinnedMesh.prototype.clone=function(e){return void 0===e&&(e=new THREE.SkinnedMesh(this.geometry,this.material,this.useVertexTexture)),THREE.Mesh.prototype.clone.call(this,e),e},THREE.MorphAnimMesh=function(e,t){THREE.Mesh.call(this,e,t),this.type="MorphAnimMesh",this.duration=1e3,this.mirroredLoop=!1,this.time=0,this.lastKeyframe=0,this.currentKeyframe=0,this.direction=1,this.directionBackwards=!1,this.setFrameRange(0,this.geometry.morphTargets.length-1)},THREE.MorphAnimMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphAnimMesh.prototype.constructor=THREE.MorphAnimMesh,THREE.MorphAnimMesh.prototype.setFrameRange=function(e,t){this.startKeyframe=e,this.endKeyframe=t,this.length=this.endKeyframe-this.startKeyframe+1},THREE.MorphAnimMesh.prototype.setDirectionForward=function(){this.direction=1,this.directionBackwards=!1},THREE.MorphAnimMesh.prototype.setDirectionBackward=function(){this.direction=-1,this.directionBackwards=!0},THREE.MorphAnimMesh.prototype.parseAnimations=function(){var e=this.geometry;e.animations||(e.animations={});for(var t,r=e.animations,n=/([a-z]+)_?(\d+)/,i=0,o=e.morphTargets.length;o>i;i++){var a=e.morphTargets[i],s=a.name.match(n);if(s&&s.length>1){{var u=s[1];s[2]}r[u]||(r[u]={start:1/0,end:-1/0});var c=r[u];i<c.start&&(c.start=i),i>c.end&&(c.end=i),t||(t=u)}}e.firstAnimation=t},THREE.MorphAnimMesh.prototype.setAnimationLabel=function(e,t,r){this.geometry.animations||(this.geometry.animations={}),this.geometry.animations[e]={start:t,end:r}},THREE.MorphAnimMesh.prototype.playAnimation=function(e,t){var r=this.geometry.animations[e];r?(this.setFrameRange(r.start,r.end),this.duration=1e3*((r.end-r.start)/t),this.time=0):console.warn("animation["+e+"] undefined")},THREE.MorphAnimMesh.prototype.updateAnimation=function(e){var t=this.duration/this.length;this.time+=this.direction*e,this.mirroredLoop?(this.time>this.duration||this.time<0)&&(this.direction*=-1,this.time>this.duration&&(this.time=this.duration,this.directionBackwards=!0),this.time<0&&(this.time=0,this.directionBackwards=!1)):(this.time=this.time%this.duration,this.time<0&&(this.time+=this.duration));var r=this.startKeyframe+THREE.Math.clamp(Math.floor(this.time/t),0,this.length-1);r!==this.currentKeyframe&&(this.morphTargetInfluences[this.lastKeyframe]=0,this.morphTargetInfluences[this.currentKeyframe]=1,this.morphTargetInfluences[r]=0,this.lastKeyframe=this.currentKeyframe,this.currentKeyframe=r);var n=this.time%t/t;this.directionBackwards&&(n=1-n),this.morphTargetInfluences[this.currentKeyframe]=n,this.morphTargetInfluences[this.lastKeyframe]=1-n},THREE.MorphAnimMesh.prototype.interpolateTargets=function(e,t,r){for(var n=this.morphTargetInfluences,i=0,o=n.length;o>i;i++)n[i]=0;e>-1&&(n[e]=1-r),t>-1&&(n[t]=r)},THREE.MorphAnimMesh.prototype.clone=function(e){return void 0===e&&(e=new THREE.MorphAnimMesh(this.geometry,this.material)),e.duration=this.duration,e.mirroredLoop=this.mirroredLoop,e.time=this.time,e.lastKeyframe=this.lastKeyframe,e.currentKeyframe=this.currentKeyframe,e.direction=this.direction,e.directionBackwards=this.directionBackwards,THREE.Mesh.prototype.clone.call(this,e),e},THREE.LOD=function(){THREE.Object3D.call(this),this.objects=[]},THREE.LOD.prototype=Object.create(THREE.Object3D.prototype),THREE.LOD.prototype.constructor=THREE.LOD,THREE.LOD.prototype.addLevel=function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var r=0;r<this.objects.length&&!(t<this.objects[r].distance);r++);this.objects.splice(r,0,{distance:t,object:e}),this.add(e)},THREE.LOD.prototype.getObjectForDistance=function(e){for(var t=1,r=this.objects.length;r>t&&!(e<this.objects[t].distance);t++);return this.objects[t-1].object},THREE.LOD.prototype.raycast=function(){var e=new THREE.Vector3;return function(t,r){e.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(e);this.getObjectForDistance(n).raycast(t,r)}}(),THREE.LOD.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(r){if(this.objects.length>1){e.setFromMatrixPosition(r.matrixWorld),t.setFromMatrixPosition(this.matrixWorld);var n=e.distanceTo(t);this.objects[0].object.visible=!0;for(var i=1,o=this.objects.length;o>i&&n>=this.objects[i].distance;i++)this.objects[i-1].object.visible=!1,this.objects[i].object.visible=!0;for(;o>i;i++)this.objects[i].object.visible=!1}}}(),THREE.LOD.prototype.clone=function(e){void 0===e&&(e=new THREE.LOD),THREE.Object3D.prototype.clone.call(this,e);for(var t=0,r=this.objects.length;r>t;t++){var n=this.objects[t].object.clone();n.visible=0===t,e.addLevel(n,this.objects[t].distance)}return e},THREE.Sprite=function(){var e=new Uint16Array([0,1,2,0,2,3]),t=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),r=new Float32Array([0,0,1,0,1,1,0,1]),n=new THREE.BufferGeometry;return n.addAttribute("index",new THREE.BufferAttribute(e,1)),n.addAttribute("position",new THREE.BufferAttribute(t,3)),n.addAttribute("uv",new THREE.BufferAttribute(r,2)),function(e){THREE.Object3D.call(this),this.type="Sprite",this.geometry=n,this.material=void 0!==e?e:new THREE.SpriteMaterial}}(),THREE.Sprite.prototype=Object.create(THREE.Object3D.prototype),THREE.Sprite.prototype.constructor=THREE.Sprite,THREE.Sprite.prototype.raycast=function(){var e=new THREE.Vector3;return function(t,r){e.setFromMatrixPosition(this.matrixWorld);var n=t.ray.distanceToPoint(e);n>this.scale.x||r.push({distance:n,point:this.position,face:null,object:this})}}(),THREE.Sprite.prototype.clone=function(e){return void 0===e&&(e=new THREE.Sprite(this.material)),THREE.Object3D.prototype.clone.call(this,e),e},THREE.Particle=THREE.Sprite,THREE.LensFlare=function(e,t,r,n,i){THREE.Object3D.call(this),this.lensFlares=[],this.positionScreen=new THREE.Vector3,this.customUpdateCallback=void 0,void 0!==e&&this.add(e,t,r,n,i)},THREE.LensFlare.prototype=Object.create(THREE.Object3D.prototype),THREE.LensFlare.prototype.constructor=THREE.LensFlare,THREE.LensFlare.prototype.add=function(e,t,r,n,i,o){void 0===t&&(t=-1),void 0===r&&(r=0),void 0===o&&(o=1),void 0===i&&(i=new THREE.Color(16777215)),void 0===n&&(n=THREE.NormalBlending),r=Math.min(r,Math.max(0,r)),this.lensFlares.push({texture:e,size:t,distance:r,x:0,y:0,z:0,scale:1,rotation:1,opacity:o,color:i,blending:n})},THREE.LensFlare.prototype.updateLensFlares=function(){var e,t,r=this.lensFlares.length,n=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(e=0;r>e;e++)t=this.lensFlares[e],t.x=this.positionScreen.x+n*t.distance,t.y=this.positionScreen.y+i*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)},THREE.Scene=function(){THREE.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},THREE.Scene.prototype=Object.create(THREE.Object3D.prototype),THREE.Scene.prototype.constructor=THREE.Scene,THREE.Scene.prototype.clone=function(e){return void 0===e&&(e=new THREE.Scene),THREE.Object3D.prototype.clone.call(this,e),null!==this.fog&&(e.fog=this.fog.clone()),null!==this.overrideMaterial&&(e.overrideMaterial=this.overrideMaterial.clone()),e.autoUpdate=this.autoUpdate,e.matrixAutoUpdate=this.matrixAutoUpdate,e},THREE.Fog=function(e,t,r){this.name="",this.color=new THREE.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==r?r:1e3},THREE.Fog.prototype.clone=function(){return new THREE.Fog(this.color.getHex(),this.near,this.far)},THREE.FogExp2=function(e,t){this.name="",this.color=new THREE.Color(e),this.density=void 0!==t?t:25e-5},THREE.FogExp2.prototype.clone=function(){return new THREE.FogExp2(this.color.getHex(),this.density)},THREE.ShaderChunk={},THREE.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\n	if ( gl_FragColor.a < ALPHATEST ) discard;\n\n#endif\n",THREE.ShaderChunk.lights_lambert_vertex="vLightFront = vec3( 0.0 );\n\n#ifdef DOUBLE_SIDED\n\n	vLightBack = vec3( 0.0 );\n\n#endif\n\ntransformedNormal = normalize( transformedNormal );\n\n#if MAX_DIR_LIGHTS > 0\n\nfor( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n	vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n	vec3 dirVector = normalize( lDirection.xyz );\n\n	float dotProduct = dot( transformedNormal, dirVector );\n	vec3 directionalLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n	#ifdef DOUBLE_SIDED\n\n		vec3 directionalLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n		#ifdef WRAP_AROUND\n\n			vec3 directionalLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n		#endif\n\n	#endif\n\n	#ifdef WRAP_AROUND\n\n		vec3 directionalLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n		directionalLightWeighting = mix( directionalLightWeighting, directionalLightWeightingHalf, wrapRGB );\n\n		#ifdef DOUBLE_SIDED\n\n			directionalLightWeightingBack = mix( directionalLightWeightingBack, directionalLightWeightingHalfBack, wrapRGB );\n\n		#endif\n\n	#endif\n\n	vLightFront += directionalLightColor[ i ] * directionalLightWeighting;\n\n	#ifdef DOUBLE_SIDED\n\n		vLightBack += directionalLightColor[ i ] * directionalLightWeightingBack;\n\n	#endif\n\n}\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	for( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n		float lDistance = 1.0;\n		if ( pointLightDistance[ i ] > 0.0 )\n			lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\n\n		lVector = normalize( lVector );\n		float dotProduct = dot( transformedNormal, lVector );\n\n		vec3 pointLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n		#ifdef DOUBLE_SIDED\n\n			vec3 pointLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n			#ifdef WRAP_AROUND\n\n				vec3 pointLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n			#endif\n\n		#endif\n\n		#ifdef WRAP_AROUND\n\n			vec3 pointLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n			pointLightWeighting = mix( pointLightWeighting, pointLightWeightingHalf, wrapRGB );\n\n			#ifdef DOUBLE_SIDED\n\n				pointLightWeightingBack = mix( pointLightWeightingBack, pointLightWeightingHalfBack, wrapRGB );\n\n			#endif\n\n		#endif\n\n		vLightFront += pointLightColor[ i ] * pointLightWeighting * lDistance;\n\n		#ifdef DOUBLE_SIDED\n\n			vLightBack += pointLightColor[ i ] * pointLightWeightingBack * lDistance;\n\n		#endif\n\n	}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	for( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz - mvPosition.xyz;\n\n		float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - worldPosition.xyz ) );\n\n		if ( spotEffect > spotLightAngleCos[ i ] ) {\n\n			spotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n			float lDistance = 1.0;\n			if ( spotLightDistance[ i ] > 0.0 )\n				lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\n\n			lVector = normalize( lVector );\n\n			float dotProduct = dot( transformedNormal, lVector );\n			vec3 spotLightWeighting = vec3( max( dotProduct, 0.0 ) );\n\n			#ifdef DOUBLE_SIDED\n\n				vec3 spotLightWeightingBack = vec3( max( -dotProduct, 0.0 ) );\n\n				#ifdef WRAP_AROUND\n\n					vec3 spotLightWeightingHalfBack = vec3( max( -0.5 * dotProduct + 0.5, 0.0 ) );\n\n				#endif\n\n			#endif\n\n			#ifdef WRAP_AROUND\n\n				vec3 spotLightWeightingHalf = vec3( max( 0.5 * dotProduct + 0.5, 0.0 ) );\n				spotLightWeighting = mix( spotLightWeighting, spotLightWeightingHalf, wrapRGB );\n\n				#ifdef DOUBLE_SIDED\n\n					spotLightWeightingBack = mix( spotLightWeightingBack, spotLightWeightingHalfBack, wrapRGB );\n\n				#endif\n\n			#endif\n\n			vLightFront += spotLightColor[ i ] * spotLightWeighting * lDistance * spotEffect;\n\n			#ifdef DOUBLE_SIDED\n\n				vLightBack += spotLightColor[ i ] * spotLightWeightingBack * lDistance * spotEffect;\n\n			#endif\n\n		}\n\n	}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n		vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n		vec3 lVector = normalize( lDirection.xyz );\n\n		float dotProduct = dot( transformedNormal, lVector );\n\n		float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n		float hemiDiffuseWeightBack = -0.5 * dotProduct + 0.5;\n\n		vLightFront += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n		#ifdef DOUBLE_SIDED\n\n			vLightBack += mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeightBack );\n\n		#endif\n\n	}\n\n#endif\n\nvLightFront = vLightFront * diffuse + ambient * ambientLightColor + emissive;\n\n#ifdef DOUBLE_SIDED\n\n	vLightBack = vLightBack * diffuse + ambient * ambientLightColor + emissive;\n\n#endif",THREE.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\n	uniform sampler2D map;\n\n#endif",THREE.ShaderChunk.default_vertex="#ifdef USE_SKINNING\n\n	vec4 mvPosition = modelViewMatrix * skinned;\n\n#elif defined( USE_MORPHTARGETS )\n\n	vec4 mvPosition = modelViewMatrix * vec4( morphed, 1.0 );\n\n#else\n\n	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\n#endif\n\ngl_Position = projectionMatrix * mvPosition;\n",THREE.ShaderChunk.map_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n	varying vec2 vUv;\n\n#endif\n\n#ifdef USE_MAP\n\n	uniform sampler2D map;\n\n#endif",THREE.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\n	mat4 skinMatrix = mat4( 0.0 );\n	skinMatrix += skinWeight.x * boneMatX;\n	skinMatrix += skinWeight.y * boneMatY;\n	skinMatrix += skinWeight.z * boneMatZ;\n	skinMatrix += skinWeight.w * boneMatW;\n	skinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\n	#ifdef USE_MORPHNORMALS\n\n	vec4 skinnedNormal = skinMatrix * vec4( morphedNormal, 0.0 );\n\n	#else\n\n	vec4 skinnedNormal = skinMatrix * vec4( normal, 0.0 );\n\n	#endif\n\n#endif\n",THREE.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		varying float vFragDepth;\n\n	#endif\n\n	uniform float logDepthBufFC;\n\n#endif",THREE.ShaderChunk.lightmap_pars_vertex="#ifdef USE_LIGHTMAP\n\n	varying vec2 vUv2;\n\n#endif",THREE.ShaderChunk.lights_phong_fragment="vec3 normal = normalize( vNormal );\nvec3 viewPosition = normalize( vViewPosition );\n\n#ifdef DOUBLE_SIDED\n\n	normal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\n#endif\n\n#ifdef USE_NORMALMAP\n\n	normal = perturbNormal2Arb( -vViewPosition, normal );\n\n#elif defined( USE_BUMPMAP )\n\n	normal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	vec3 pointDiffuse = vec3( 0.0 );\n	vec3 pointSpecular = vec3( 0.0 );\n\n	for ( int i = 0; i < MAX_POINT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( pointLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n		float lDistance = 1.0;\n		if ( pointLightDistance[ i ] > 0.0 )\n			lDistance = 1.0 - min( ( length( lVector ) / pointLightDistance[ i ] ), 1.0 );\n\n		lVector = normalize( lVector );\n\n				// diffuse\n\n		float dotProduct = dot( normal, lVector );\n\n		#ifdef WRAP_AROUND\n\n			float pointDiffuseWeightFull = max( dotProduct, 0.0 );\n			float pointDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n			vec3 pointDiffuseWeight = mix( vec3( pointDiffuseWeightFull ), vec3( pointDiffuseWeightHalf ), wrapRGB );\n\n		#else\n\n			float pointDiffuseWeight = max( dotProduct, 0.0 );\n\n		#endif\n\n		pointDiffuse += diffuse * pointLightColor[ i ] * pointDiffuseWeight * lDistance;\n\n				// specular\n\n		vec3 pointHalfVector = normalize( lVector + viewPosition );\n		float pointDotNormalHalf = max( dot( normal, pointHalfVector ), 0.0 );\n		float pointSpecularWeight = specularStrength * max( pow( pointDotNormalHalf, shininess ), 0.0 );\n\n		float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n		vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, pointHalfVector ), 0.0 ), 5.0 );\n		pointSpecular += schlick * pointLightColor[ i ] * pointSpecularWeight * pointDiffuseWeight * lDistance * specularNormalization;\n\n	}\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	vec3 spotDiffuse = vec3( 0.0 );\n	vec3 spotSpecular = vec3( 0.0 );\n\n	for ( int i = 0; i < MAX_SPOT_LIGHTS; i ++ ) {\n\n		vec4 lPosition = viewMatrix * vec4( spotLightPosition[ i ], 1.0 );\n		vec3 lVector = lPosition.xyz + vViewPosition.xyz;\n\n		float lDistance = 1.0;\n		if ( spotLightDistance[ i ] > 0.0 )\n			lDistance = 1.0 - min( ( length( lVector ) / spotLightDistance[ i ] ), 1.0 );\n\n		lVector = normalize( lVector );\n\n		float spotEffect = dot( spotLightDirection[ i ], normalize( spotLightPosition[ i ] - vWorldPosition ) );\n\n		if ( spotEffect > spotLightAngleCos[ i ] ) {\n\n			spotEffect = max( pow( max( spotEffect, 0.0 ), spotLightExponent[ i ] ), 0.0 );\n\n					// diffuse\n\n			float dotProduct = dot( normal, lVector );\n\n			#ifdef WRAP_AROUND\n\n				float spotDiffuseWeightFull = max( dotProduct, 0.0 );\n				float spotDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n				vec3 spotDiffuseWeight = mix( vec3( spotDiffuseWeightFull ), vec3( spotDiffuseWeightHalf ), wrapRGB );\n\n			#else\n\n				float spotDiffuseWeight = max( dotProduct, 0.0 );\n\n			#endif\n\n			spotDiffuse += diffuse * spotLightColor[ i ] * spotDiffuseWeight * lDistance * spotEffect;\n\n					// specular\n\n			vec3 spotHalfVector = normalize( lVector + viewPosition );\n			float spotDotNormalHalf = max( dot( normal, spotHalfVector ), 0.0 );\n			float spotSpecularWeight = specularStrength * max( pow( spotDotNormalHalf, shininess ), 0.0 );\n\n			float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n			vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, spotHalfVector ), 0.0 ), 5.0 );\n			spotSpecular += schlick * spotLightColor[ i ] * spotSpecularWeight * spotDiffuseWeight * lDistance * specularNormalization * spotEffect;\n\n		}\n\n	}\n\n#endif\n\n#if MAX_DIR_LIGHTS > 0\n\n	vec3 dirDiffuse = vec3( 0.0 );\n	vec3 dirSpecular = vec3( 0.0 );\n\n	for( int i = 0; i < MAX_DIR_LIGHTS; i ++ ) {\n\n		vec4 lDirection = viewMatrix * vec4( directionalLightDirection[ i ], 0.0 );\n		vec3 dirVector = normalize( lDirection.xyz );\n\n				// diffuse\n\n		float dotProduct = dot( normal, dirVector );\n\n		#ifdef WRAP_AROUND\n\n			float dirDiffuseWeightFull = max( dotProduct, 0.0 );\n			float dirDiffuseWeightHalf = max( 0.5 * dotProduct + 0.5, 0.0 );\n\n			vec3 dirDiffuseWeight = mix( vec3( dirDiffuseWeightFull ), vec3( dirDiffuseWeightHalf ), wrapRGB );\n\n		#else\n\n			float dirDiffuseWeight = max( dotProduct, 0.0 );\n\n		#endif\n\n		dirDiffuse += diffuse * directionalLightColor[ i ] * dirDiffuseWeight;\n\n		// specular\n\n		vec3 dirHalfVector = normalize( dirVector + viewPosition );\n		float dirDotNormalHalf = max( dot( normal, dirHalfVector ), 0.0 );\n		float dirSpecularWeight = specularStrength * max( pow( dirDotNormalHalf, shininess ), 0.0 );\n\n		/*\n		// fresnel term from skin shader\n		const float F0 = 0.128;\n\n		float base = 1.0 - dot( viewPosition, dirHalfVector );\n		float exponential = pow( base, 5.0 );\n\n		float fresnel = exponential + F0 * ( 1.0 - exponential );\n		*/\n\n		/*\n		// fresnel term from fresnel shader\n		const float mFresnelBias = 0.08;\n		const float mFresnelScale = 0.3;\n		const float mFresnelPower = 5.0;\n\n		float fresnel = mFresnelBias + mFresnelScale * pow( 1.0 + dot( normalize( -viewPosition ), normal ), mFresnelPower );\n		*/\n\n		float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n		// 		dirSpecular += specular * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization * fresnel;\n\n		vec3 schlick = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( dirVector, dirHalfVector ), 0.0 ), 5.0 );\n		dirSpecular += schlick * directionalLightColor[ i ] * dirSpecularWeight * dirDiffuseWeight * specularNormalization;\n\n\n	}\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	vec3 hemiDiffuse = vec3( 0.0 );\n	vec3 hemiSpecular = vec3( 0.0 );\n\n	for( int i = 0; i < MAX_HEMI_LIGHTS; i ++ ) {\n\n		vec4 lDirection = viewMatrix * vec4( hemisphereLightDirection[ i ], 0.0 );\n		vec3 lVector = normalize( lDirection.xyz );\n\n		// diffuse\n\n		float dotProduct = dot( normal, lVector );\n		float hemiDiffuseWeight = 0.5 * dotProduct + 0.5;\n\n		vec3 hemiColor = mix( hemisphereLightGroundColor[ i ], hemisphereLightSkyColor[ i ], hemiDiffuseWeight );\n\n		hemiDiffuse += diffuse * hemiColor;\n\n		// specular (sky light)\n\n		vec3 hemiHalfVectorSky = normalize( lVector + viewPosition );\n		float hemiDotNormalHalfSky = 0.5 * dot( normal, hemiHalfVectorSky ) + 0.5;\n		float hemiSpecularWeightSky = specularStrength * max( pow( max( hemiDotNormalHalfSky, 0.0 ), shininess ), 0.0 );\n\n		// specular (ground light)\n\n		vec3 lVectorGround = -lVector;\n\n		vec3 hemiHalfVectorGround = normalize( lVectorGround + viewPosition );\n		float hemiDotNormalHalfGround = 0.5 * dot( normal, hemiHalfVectorGround ) + 0.5;\n		float hemiSpecularWeightGround = specularStrength * max( pow( max( hemiDotNormalHalfGround, 0.0 ), shininess ), 0.0 );\n\n		float dotProductGround = dot( normal, lVectorGround );\n\n		float specularNormalization = ( shininess + 2.0 ) / 8.0;\n\n		vec3 schlickSky = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVector, hemiHalfVectorSky ), 0.0 ), 5.0 );\n		vec3 schlickGround = specular + vec3( 1.0 - specular ) * pow( max( 1.0 - dot( lVectorGround, hemiHalfVectorGround ), 0.0 ), 5.0 );\n		hemiSpecular += hemiColor * specularNormalization * ( schlickSky * hemiSpecularWeightSky * max( dotProduct, 0.0 ) + schlickGround * hemiSpecularWeightGround * max( dotProductGround, 0.0 ) );\n\n	}\n\n#endif\n\nvec3 totalDiffuse = vec3( 0.0 );\nvec3 totalSpecular = vec3( 0.0 );\n\n#if MAX_DIR_LIGHTS > 0\n\n	totalDiffuse += dirDiffuse;\n	totalSpecular += dirSpecular;\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	totalDiffuse += hemiDiffuse;\n	totalSpecular += hemiSpecular;\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	totalDiffuse += pointDiffuse;\n	totalSpecular += pointSpecular;\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	totalDiffuse += spotDiffuse;\n	totalSpecular += spotSpecular;\n\n#endif\n\n#ifdef METAL\n\n	gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient + totalSpecular );\n\n#else\n\n	gl_FragColor.xyz = gl_FragColor.xyz * ( emissive + totalDiffuse + ambientLightColor * ambient ) + totalSpecular;\n\n#endif",THREE.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\n	uniform vec3 fogColor;\n\n	#ifdef FOG_EXP2\n\n		uniform float fogDensity;\n\n	#else\n\n		uniform float fogNear;\n		uniform float fogFar;\n	#endif\n\n#endif",THREE.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\n	vec3 morphedNormal = vec3( 0.0 );\n\n	morphedNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n	morphedNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n	morphedNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n	morphedNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n\n	morphedNormal += normal;\n\n#endif",THREE.ShaderChunk.envmap_pars_fragment="#ifdef USE_ENVMAP\n\n	uniform float reflectivity;\n	#ifdef ENVMAP_TYPE_CUBE\n		uniform samplerCube envMap;\n	#else\n		uniform sampler2D envMap;\n	#endif\n	uniform float flipEnvMap;\n\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n		uniform float refractionRatio;\n\n	#else\n\n		varying vec3 vReflect;\n\n	#endif\n\n#endif\n",THREE.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\n	gl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n\n#endif",THREE.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\n	uniform sampler2D normalMap;\n	uniform vec2 normalScale;\n\n			// Per-Pixel Tangent Space Normal Mapping\n			// http://hacksoflife.blogspot.ch/2009/11/per-pixel-tangent-space-normal-mapping.html\n\n	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\n		vec3 q0 = dFdx( eye_pos.xyz );\n		vec3 q1 = dFdy( eye_pos.xyz );\n		vec2 st0 = dFdx( vUv.st );\n		vec2 st1 = dFdy( vUv.st );\n\n		vec3 S = normalize( q0 * st1.t - q1 * st0.t );\n		vec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n		vec3 N = normalize( surf_norm );\n\n		vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n		mapN.xy = normalScale * mapN.xy;\n		mat3 tsn = mat3( S, T, N );\n		return normalize( tsn * mapN );\n\n	}\n\n#endif\n",THREE.ShaderChunk.lights_phong_pars_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n	varying vec3 vWorldPosition;\n\n#endif\n",THREE.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\n	varying vec2 vUv2;\n	uniform sampler2D lightMap;\n\n#endif",THREE.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\n	for( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n		vShadowCoord[ i ] = shadowMatrix[ i ] * worldPosition;\n\n	}\n\n#endif",THREE.ShaderChunk.lights_phong_vertex="#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n	vWorldPosition = worldPosition.xyz;\n\n#endif",THREE.ShaderChunk.map_fragment="#ifdef USE_MAP\n\n	vec4 texelColor = texture2D( map, vUv );\n\n	#ifdef GAMMA_INPUT\n\n		texelColor.xyz *= texelColor.xyz;\n\n	#endif\n\n	gl_FragColor = gl_FragColor * texelColor;\n\n#endif",THREE.ShaderChunk.lightmap_vertex="#ifdef USE_LIGHTMAP\n\n	vUv2 = uv2;\n\n#endif",THREE.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\n	gl_FragColor = gl_FragColor * texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );\n\n#endif",THREE.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\n	varying vec3 vColor;\n\n#endif\n",THREE.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\n	#ifdef GAMMA_INPUT\n\n		vColor = color * color;\n\n	#else\n\n		vColor = color;\n\n	#endif\n\n#endif",THREE.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\n	#ifdef USE_MORPHTARGETS\n\n	vec4 skinVertex = bindMatrix * vec4( morphed, 1.0 );\n\n	#else\n\n	vec4 skinVertex = bindMatrix * vec4( position, 1.0 );\n\n	#endif\n\n	vec4 skinned = vec4( 0.0 );\n	skinned += boneMatX * skinVertex * skinWeight.x;\n	skinned += boneMatY * skinVertex * skinWeight.y;\n	skinned += boneMatZ * skinVertex * skinWeight.z;\n	skinned += boneMatW * skinVertex * skinWeight.w;\n	skinned  = bindMatrixInverse * skinned;\n\n#endif\n",THREE.ShaderChunk.envmap_pars_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n	varying vec3 vReflect;\n\n	uniform float refractionRatio;\n\n#endif\n",THREE.ShaderChunk.linear_to_gamma_fragment="#ifdef GAMMA_OUTPUT\n\n	gl_FragColor.xyz = sqrt( gl_FragColor.xyz );\n\n#endif",THREE.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\n	varying vec3 vColor;\n\n#endif",THREE.ShaderChunk.lights_lambert_pars_vertex="uniform vec3 ambient;\nuniform vec3 diffuse;\nuniform vec3 emissive;\n\nuniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#ifdef WRAP_AROUND\n\n	uniform vec3 wrapRGB;\n\n#endif\n",THREE.ShaderChunk.map_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n	varying vec2 vUv;\n	uniform vec4 offsetRepeat;\n\n#endif\n",THREE.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\n	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\n		vec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\n		// http://en.wikibooks.org/wiki/GLSL_Programming/Applying_Matrix_Transformations\n		// Transforming Normal Vectors with the Inverse Transformation\n\n		vec3 worldNormal = normalize( vec3( vec4( normal, 0.0 ) * viewMatrix ) );\n\n		#ifdef ENVMAP_MODE_REFLECTION\n\n			vec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\n		#else\n\n			vec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\n		#endif\n\n	#else\n\n		vec3 reflectVec = vReflect;\n\n	#endif\n\n	#ifdef DOUBLE_SIDED\n		float flipNormal = ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n	#else\n		float flipNormal = 1.0;\n	#endif\n\n	#ifdef ENVMAP_TYPE_CUBE\n		vec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\n	#elif defined( ENVMAP_TYPE_EQUIREC )\n		vec2 sampleUV;\n		sampleUV.y = clamp( flipNormal * reflectVec.y * 0.5 + 0.5, 0.0, 1.0);\n		sampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * 0.15915494309189533576888376337251 + 0.5; // reciprocal( 2 PI ) + 0.5\n		vec4 envColor = texture2D( envMap, sampleUV );\n		\n	#elif defined( ENVMAP_TYPE_SPHERE )\n		vec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n		vec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n	#endif\n\n	#ifdef GAMMA_INPUT\n\n		envColor.xyz *= envColor.xyz;\n\n	#endif\n\n	#ifdef ENVMAP_BLENDING_MULTIPLY\n\n		gl_FragColor.xyz = mix( gl_FragColor.xyz, gl_FragColor.xyz * envColor.xyz, specularStrength * reflectivity );\n\n	#elif defined( ENVMAP_BLENDING_MIX )\n\n		gl_FragColor.xyz = mix( gl_FragColor.xyz, envColor.xyz, specularStrength * reflectivity );\n\n	#elif defined( ENVMAP_BLENDING_ADD )\n\n		gl_FragColor.xyz += envColor.xyz * specularStrength * reflectivity;\n\n	#endif\n\n#endif\n",THREE.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\n	uniform sampler2D specularMap;\n\n#endif",THREE.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\n	gl_Position.z = log2(max(1e-6, gl_Position.w + 1.0)) * logDepthBufFC;\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		vFragDepth = 1.0 + gl_Position.w;\n\n#else\n\n		gl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\n	#endif\n\n#endif",THREE.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\n	#ifndef USE_MORPHNORMALS\n\n	uniform float morphTargetInfluences[ 8 ];\n\n	#else\n\n	uniform float morphTargetInfluences[ 4 ];\n\n	#endif\n\n#endif",THREE.ShaderChunk.specularmap_fragment="float specularStrength;\n\n#ifdef USE_SPECULARMAP\n\n	vec4 texelSpecular = texture2D( specularMap, vUv );\n	specularStrength = texelSpecular.r;\n\n#else\n\n	specularStrength = 1.0;\n\n#endif",THREE.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		float depth = gl_FragDepthEXT / gl_FragCoord.w;\n\n	#else\n\n		float depth = gl_FragCoord.z / gl_FragCoord.w;\n\n	#endif\n\n	#ifdef FOG_EXP2\n\n		const float LOG2 = 1.442695;\n		float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\n		fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n\n	#else\n\n		float fogFactor = smoothstep( fogNear, fogFar, depth );\n\n	#endif\n	\n	gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n\n#endif",THREE.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\n	uniform sampler2D bumpMap;\n	uniform float bumpScale;\n\n			// Derivative maps - bump mapping unparametrized surfaces by Morten Mikkelsen\n			//	http://mmikkelsen3d.blogspot.sk/2011/07/derivative-maps.html\n\n			// Evaluate the derivative of the height w.r.t. screen-space using forward differencing (listing 2)\n\n	vec2 dHdxy_fwd() {\n\n		vec2 dSTdx = dFdx( vUv );\n		vec2 dSTdy = dFdy( vUv );\n\n		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\n		return vec2( dBx, dBy );\n\n	}\n\n	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\n		vec3 vSigmaX = dFdx( surf_pos );\n		vec3 vSigmaY = dFdy( surf_pos );\n		vec3 vN = surf_norm;		// normalized\n\n		vec3 R1 = cross( vSigmaY, vN );\n		vec3 R2 = cross( vN, vSigmaX );\n\n		float fDet = dot( vSigmaX, R1 );\n\n		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n		return normalize( abs( fDet ) * surf_norm - vGrad );\n\n	}\n\n#endif",THREE.ShaderChunk.defaultnormal_vertex="#ifdef USE_SKINNING\n\n	vec3 objectNormal = skinnedNormal.xyz;\n\n#elif defined( USE_MORPHNORMALS )\n\n	vec3 objectNormal = morphedNormal;\n\n#else\n\n	vec3 objectNormal = normal;\n\n#endif\n\n#ifdef FLIP_SIDED\n\n	objectNormal = -objectNormal;\n\n#endif\n\nvec3 transformedNormal = normalMatrix * objectNormal;\n",THREE.ShaderChunk.lights_phong_pars_fragment="uniform vec3 ambientLightColor;\n\n#if MAX_DIR_LIGHTS > 0\n\n	uniform vec3 directionalLightColor[ MAX_DIR_LIGHTS ];\n	uniform vec3 directionalLightDirection[ MAX_DIR_LIGHTS ];\n\n#endif\n\n#if MAX_HEMI_LIGHTS > 0\n\n	uniform vec3 hemisphereLightSkyColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightGroundColor[ MAX_HEMI_LIGHTS ];\n	uniform vec3 hemisphereLightDirection[ MAX_HEMI_LIGHTS ];\n\n#endif\n\n#if MAX_POINT_LIGHTS > 0\n\n	uniform vec3 pointLightColor[ MAX_POINT_LIGHTS ];\n\n	uniform vec3 pointLightPosition[ MAX_POINT_LIGHTS ];\n	uniform float pointLightDistance[ MAX_POINT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0\n\n	uniform vec3 spotLightColor[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightPosition[ MAX_SPOT_LIGHTS ];\n	uniform vec3 spotLightDirection[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightAngleCos[ MAX_SPOT_LIGHTS ];\n	uniform float spotLightExponent[ MAX_SPOT_LIGHTS ];\n\n	uniform float spotLightDistance[ MAX_SPOT_LIGHTS ];\n\n#endif\n\n#if MAX_SPOT_LIGHTS > 0 || defined( USE_BUMPMAP ) || defined( USE_ENVMAP )\n\n	varying vec3 vWorldPosition;\n\n#endif\n\n#ifdef WRAP_AROUND\n\n	uniform vec3 wrapRGB;\n\n#endif\n\nvarying vec3 vViewPosition;\nvarying vec3 vNormal;",THREE.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\n	mat4 boneMatX = getBoneMatrix( skinIndex.x );\n	mat4 boneMatY = getBoneMatrix( skinIndex.y );\n	mat4 boneMatZ = getBoneMatrix( skinIndex.z );\n	mat4 boneMatW = getBoneMatrix( skinIndex.w );\n\n#endif",THREE.ShaderChunk.map_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP )\n\n	vUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n\n#endif",THREE.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\n	gl_FragColor = gl_FragColor * texture2D( lightMap, vUv2 );\n\n#endif",THREE.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\n	varying vec4 vShadowCoord[ MAX_SHADOWS ];\n	uniform mat4 shadowMatrix[ MAX_SHADOWS ];\n\n#endif",THREE.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\n	gl_FragColor = gl_FragColor * vec4( vColor, 1.0 );\n\n#endif",THREE.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\n	vec3 morphed = vec3( 0.0 );\n	morphed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n	morphed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n	morphed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n	morphed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\n	#ifndef USE_MORPHNORMALS\n\n	morphed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n	morphed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n	morphed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n	morphed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\n	#endif\n\n	morphed += position;\n\n#endif",THREE.ShaderChunk.envmap_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG )\n\n	vec3 worldNormal = mat3( modelMatrix[ 0 ].xyz, modelMatrix[ 1 ].xyz, modelMatrix[ 2 ].xyz ) * objectNormal;\n	worldNormal = normalize( worldNormal );\n\n	vec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\n	#ifdef ENVMAP_MODE_REFLECTION\n\n		vReflect = reflect( cameraToVertex, worldNormal );\n\n	#else\n\n		vReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\n	#endif\n\n#endif\n",THREE.ShaderChunk.shadowmap_fragment="#ifdef USE_SHADOWMAP\n\n	#ifdef SHADOWMAP_DEBUG\n\n		vec3 frustumColors[3];\n		frustumColors[0] = vec3( 1.0, 0.5, 0.0 );\n		frustumColors[1] = vec3( 0.0, 1.0, 0.8 );\n		frustumColors[2] = vec3( 0.0, 0.5, 1.0 );\n\n	#endif\n\n	#ifdef SHADOWMAP_CASCADE\n\n		int inFrustumCount = 0;\n\n	#endif\n\n	float fDepth;\n	vec3 shadowColor = vec3( 1.0 );\n\n	for( int i = 0; i < MAX_SHADOWS; i ++ ) {\n\n		vec3 shadowCoord = vShadowCoord[ i ].xyz / vShadowCoord[ i ].w;\n\n				// if ( something && something ) breaks ATI OpenGL shader compiler\n				// if ( all( something, something ) ) using this instead\n\n		bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n		bool inFrustum = all( inFrustumVec );\n\n				// don't shadow pixels outside of light frustum\n				// use just first frustum (for cascades)\n				// don't shadow pixels behind far plane of light frustum\n\n		#ifdef SHADOWMAP_CASCADE\n\n			inFrustumCount += int( inFrustum );\n			bvec3 frustumTestVec = bvec3( inFrustum, inFrustumCount == 1, shadowCoord.z <= 1.0 );\n\n		#else\n\n			bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\n		#endif\n\n		bool frustumTest = all( frustumTestVec );\n\n		if ( frustumTest ) {\n\n			shadowCoord.z += shadowBias[ i ];\n\n			#if defined( SHADOWMAP_TYPE_PCF )\n\n						// Percentage-close filtering\n						// (9 pixel kernel)\n						// http://fabiensanglard.net/shadowmappingPCF/\n\n				float shadow = 0.0;\n\n		/*\n						// nested loops breaks shader compiler / validator on some ATI cards when using OpenGL\n						// must enroll loop manually\n\n				for ( float y = -1.25; y <= 1.25; y += 1.25 )\n					for ( float x = -1.25; x <= 1.25; x += 1.25 ) {\n\n						vec4 rgbaDepth = texture2D( shadowMap[ i ], vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy );\n\n								// doesn't seem to produce any noticeable visual difference compared to simple texture2D lookup\n								//vec4 rgbaDepth = texture2DProj( shadowMap[ i ], vec4( vShadowCoord[ i ].w * ( vec2( x * xPixelOffset, y * yPixelOffset ) + shadowCoord.xy ), 0.05, vShadowCoord[ i ].w ) );\n\n						float fDepth = unpackDepth( rgbaDepth );\n\n						if ( fDepth < shadowCoord.z )\n							shadow += 1.0;\n\n				}\n\n				shadow /= 9.0;\n\n		*/\n\n				const float shadowDelta = 1.0 / 9.0;\n\n				float xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n				float yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n				float dx0 = -1.25 * xPixelOffset;\n				float dy0 = -1.25 * yPixelOffset;\n				float dx1 = 1.25 * xPixelOffset;\n				float dy1 = 1.25 * yPixelOffset;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				fDepth = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n				if ( fDepth < shadowCoord.z ) shadow += shadowDelta;\n\n				shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n			#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\n						// Percentage-close filtering\n						// (9 pixel kernel)\n						// http://fabiensanglard.net/shadowmappingPCF/\n\n				float shadow = 0.0;\n\n				float xPixelOffset = 1.0 / shadowMapSize[ i ].x;\n				float yPixelOffset = 1.0 / shadowMapSize[ i ].y;\n\n				float dx0 = -1.0 * xPixelOffset;\n				float dy0 = -1.0 * yPixelOffset;\n				float dx1 = 1.0 * xPixelOffset;\n				float dy1 = 1.0 * yPixelOffset;\n\n				mat3 shadowKernel;\n				mat3 depthKernel;\n\n				depthKernel[0][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy0 ) ) );\n				depthKernel[0][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, 0.0 ) ) );\n				depthKernel[0][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx0, dy1 ) ) );\n				depthKernel[1][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy0 ) ) );\n				depthKernel[1][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy ) );\n				depthKernel[1][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( 0.0, dy1 ) ) );\n				depthKernel[2][0] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy0 ) ) );\n				depthKernel[2][1] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, 0.0 ) ) );\n				depthKernel[2][2] = unpackDepth( texture2D( shadowMap[ i ], shadowCoord.xy + vec2( dx1, dy1 ) ) );\n\n				vec3 shadowZ = vec3( shadowCoord.z );\n				shadowKernel[0] = vec3(lessThan(depthKernel[0], shadowZ ));\n				shadowKernel[0] *= vec3(0.25);\n\n				shadowKernel[1] = vec3(lessThan(depthKernel[1], shadowZ ));\n				shadowKernel[1] *= vec3(0.25);\n\n				shadowKernel[2] = vec3(lessThan(depthKernel[2], shadowZ ));\n				shadowKernel[2] *= vec3(0.25);\n\n				vec2 fractionalCoord = 1.0 - fract( shadowCoord.xy * shadowMapSize[i].xy );\n\n				shadowKernel[0] = mix( shadowKernel[1], shadowKernel[0], fractionalCoord.x );\n				shadowKernel[1] = mix( shadowKernel[2], shadowKernel[1], fractionalCoord.x );\n\n				vec4 shadowValues;\n				shadowValues.x = mix( shadowKernel[0][1], shadowKernel[0][0], fractionalCoord.y );\n				shadowValues.y = mix( shadowKernel[0][2], shadowKernel[0][1], fractionalCoord.y );\n				shadowValues.z = mix( shadowKernel[1][1], shadowKernel[1][0], fractionalCoord.y );\n				shadowValues.w = mix( shadowKernel[1][2], shadowKernel[1][1], fractionalCoord.y );\n\n				shadow = dot( shadowValues, vec4( 1.0 ) );\n\n				shadowColor = shadowColor * vec3( ( 1.0 - shadowDarkness[ i ] * shadow ) );\n\n			#else\n\n				vec4 rgbaDepth = texture2D( shadowMap[ i ], shadowCoord.xy );\n				float fDepth = unpackDepth( rgbaDepth );\n\n				if ( fDepth < shadowCoord.z )\n\n		// spot with multiple shadows is darker\n\n					shadowColor = shadowColor * vec3( 1.0 - shadowDarkness[ i ] );\n\n		// spot with multiple shadows has the same color as single shadow spot\n\n		// 					shadowColor = min( shadowColor, vec3( shadowDarkness[ i ] ) );\n\n			#endif\n\n		}\n\n\n		#ifdef SHADOWMAP_DEBUG\n\n			#ifdef SHADOWMAP_CASCADE\n\n				if ( inFrustum && inFrustumCount == 1 ) gl_FragColor.xyz *= frustumColors[ i ];\n\n			#else\n\n				if ( inFrustum ) gl_FragColor.xyz *= frustumColors[ i ];\n\n			#endif\n\n		#endif\n\n	}\n\n	#ifdef GAMMA_OUTPUT\n\n		shadowColor *= shadowColor;\n\n	#endif\n\n	gl_FragColor.xyz = gl_FragColor.xyz * shadowColor;\n\n#endif\n",THREE.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\n	#ifdef USE_SKINNING\n\n		vec4 worldPosition = modelMatrix * skinned;\n\n	#elif defined( USE_MORPHTARGETS )\n\n		vec4 worldPosition = modelMatrix * vec4( morphed, 1.0 );\n\n	#else\n\n		vec4 worldPosition = modelMatrix * vec4( position, 1.0 );\n\n	#endif\n\n#endif\n",THREE.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\n	uniform sampler2D shadowMap[ MAX_SHADOWS ];\n	uniform vec2 shadowMapSize[ MAX_SHADOWS ];\n\n	uniform float shadowDarkness[ MAX_SHADOWS ];\n	uniform float shadowBias[ MAX_SHADOWS ];\n\n	varying vec4 vShadowCoord[ MAX_SHADOWS ];\n\n	float unpackDepth( const in vec4 rgba_depth ) {\n\n		const vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n		float depth = dot( rgba_depth, bit_shift );\n		return depth;\n\n	}\n\n#endif",THREE.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\n	uniform mat4 bindMatrix;\n	uniform mat4 bindMatrixInverse;\n\n	#ifdef BONE_TEXTURE\n\n		uniform sampler2D boneTexture;\n		uniform int boneTextureWidth;\n		uniform int boneTextureHeight;\n\n		mat4 getBoneMatrix( const in float i ) {\n\n			float j = i * 4.0;\n			float x = mod( j, float( boneTextureWidth ) );\n			float y = floor( j / float( boneTextureWidth ) );\n\n			float dx = 1.0 / float( boneTextureWidth );\n			float dy = 1.0 / float( boneTextureHeight );\n\n			y = dy * ( y + 0.5 );\n\n			vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n			vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n			vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n			vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\n			mat4 bone = mat4( v1, v2, v3, v4 );\n\n			return bone;\n\n		}\n\n	#else\n\n		uniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\n		mat4 getBoneMatrix( const in float i ) {\n\n			mat4 bone = boneGlobalMatrices[ int(i) ];\n			return bone;\n\n		}\n\n	#endif\n\n#endif\n",THREE.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\n	uniform float logDepthBufFC;\n\n	#ifdef USE_LOGDEPTHBUF_EXT\n\n		#extension GL_EXT_frag_depth : enable\n		varying float vFragDepth;\n\n	#endif\n\n#endif",THREE.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\n	gl_FragColor.a *= texture2D( alphaMap, vUv ).g;\n\n#endif\n",THREE.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\n	uniform sampler2D alphaMap;\n\n#endif\n",THREE.UniformsUtils={merge:function(e){for(var t={},r=0;r<e.length;r++){var n=this.clone(e[r]);
for(var i in n)t[i]=n[i]}return t},clone:function(e){var t={};for(var r in e){t[r]={};for(var n in e[r]){var i=e[r][n];t[r][n]=i instanceof THREE.Color||i instanceof THREE.Vector2||i instanceof THREE.Vector3||i instanceof THREE.Vector4||i instanceof THREE.Matrix4||i instanceof THREE.Texture?i.clone():i instanceof Array?i.slice():i}}return t}},THREE.UniformsLib={common:{diffuse:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new THREE.Vector4(0,0,1,1)},lightMap:{type:"t",value:null},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98},morphTargetInfluences:{type:"f",value:0}},bump:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new THREE.Vector2(1,1)}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLightDirection:{type:"fv",value:[]},directionalLightColor:{type:"fv",value:[]},hemisphereLightDirection:{type:"fv",value:[]},hemisphereLightSkyColor:{type:"fv",value:[]},hemisphereLightGroundColor:{type:"fv",value:[]},pointLightColor:{type:"fv",value:[]},pointLightPosition:{type:"fv",value:[]},pointLightDistance:{type:"fv1",value:[]},spotLightColor:{type:"fv",value:[]},spotLightPosition:{type:"fv",value:[]},spotLightDirection:{type:"fv",value:[]},spotLightDistance:{type:"fv1",value:[]},spotLightAngleCos:{type:"fv1",value:[]},spotLightExponent:{type:"fv1",value:[]}},particle:{psColor:{type:"c",value:new THREE.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new THREE.Color(16777215)}},shadowmap:{shadowMap:{type:"tv",value:[]},shadowMapSize:{type:"v2v",value:[]},shadowBias:{type:"fv1",value:[]},shadowDarkness:{type:"fv1",value:[]},shadowMatrix:{type:"m4v",value:[]}}},THREE.ShaderLib={basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.shadowmap]),vertexShader:[THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.skinbase_vertex,"	#ifdef USE_ENVMAP",THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"	#endif",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.alphamap_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphamap_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},lambert:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define LAMBERT","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","#endif",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_lambert_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_lambert_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vLightFront;","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","#endif",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.alphamap_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( vec3( 1.0 ), opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphamap_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,"	#ifdef DOUBLE_SIDED","		if ( gl_FrontFacing )","			gl_FragColor.xyz *= vLightFront;","		else","			gl_FragColor.xyz *= vLightBack;","	#else","		gl_FragColor.xyz *= vLightFront;","	#endif",THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},phong:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.bump,THREE.UniformsLib.normalmap,THREE.UniformsLib.fog,THREE.UniformsLib.lights,THREE.UniformsLib.shadowmap,{ambient:{type:"c",value:new THREE.Color(16777215)},emissive:{type:"c",value:new THREE.Color(0)},specular:{type:"c",value:new THREE.Color(1118481)},shininess:{type:"f",value:30},wrapRGB:{type:"v3",value:new THREE.Vector3(1,1,1)}}]),vertexShader:["#define PHONG","varying vec3 vViewPosition;","varying vec3 vNormal;",THREE.ShaderChunk.map_pars_vertex,THREE.ShaderChunk.lightmap_pars_vertex,THREE.ShaderChunk.envmap_pars_vertex,THREE.ShaderChunk.lights_phong_pars_vertex,THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.map_vertex,THREE.ShaderChunk.lightmap_vertex,THREE.ShaderChunk.color_vertex,THREE.ShaderChunk.morphnormal_vertex,THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.skinnormal_vertex,THREE.ShaderChunk.defaultnormal_vertex,"	vNormal = normalize( transformedNormal );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"	vViewPosition = -mvPosition.xyz;",THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.envmap_vertex,THREE.ShaderChunk.lights_phong_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["#define PHONG","uniform vec3 diffuse;","uniform float opacity;","uniform vec3 ambient;","uniform vec3 emissive;","uniform vec3 specular;","uniform float shininess;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_pars_fragment,THREE.ShaderChunk.alphamap_pars_fragment,THREE.ShaderChunk.lightmap_pars_fragment,THREE.ShaderChunk.envmap_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.lights_phong_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.bumpmap_pars_fragment,THREE.ShaderChunk.normalmap_pars_fragment,THREE.ShaderChunk.specularmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( vec3( 1.0 ), opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_fragment,THREE.ShaderChunk.alphamap_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.specularmap_fragment,THREE.ShaderChunk.lights_phong_fragment,THREE.ShaderChunk.lightmap_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.envmap_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.linear_to_gamma_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},particle_basic:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.particle,THREE.UniformsLib.shadowmap]),vertexShader:["uniform float size;","uniform float scale;",THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.shadowmap_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","	#ifdef USE_SIZEATTENUATION","		gl_PointSize = size * ( scale / length( mvPosition.xyz ) );","	#else","		gl_PointSize = size;","	#endif","	gl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.logdepthbuf_vertex,THREE.ShaderChunk.worldpos_vertex,THREE.ShaderChunk.shadowmap_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 psColor;","uniform float opacity;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.map_particle_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.shadowmap_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( psColor, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.map_particle_fragment,THREE.ShaderChunk.alphatest_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.shadowmap_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},dashed:{uniforms:THREE.UniformsUtils.merge([THREE.UniformsLib.common,THREE.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:["uniform float scale;","attribute float lineDistance;","varying float vLineDistance;",THREE.ShaderChunk.color_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.color_vertex,"	vLineDistance = scale * lineDistance;","	vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","	gl_Position = projectionMatrix * mvPosition;",THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform vec3 diffuse;","uniform float opacity;","uniform float dashSize;","uniform float totalSize;","varying float vLineDistance;",THREE.ShaderChunk.color_pars_fragment,THREE.ShaderChunk.fog_pars_fragment,THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	if ( mod( vLineDistance, totalSize ) > dashSize ) {","		discard;","	}","	gl_FragColor = vec4( diffuse, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,THREE.ShaderChunk.color_fragment,THREE.ShaderChunk.fog_fragment,"}"].join("\n")},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float mNear;","uniform float mFar;","uniform float opacity;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {",THREE.ShaderChunk.logdepthbuf_fragment,"	#ifdef USE_LOGDEPTHBUF_EXT","		float depth = gl_FragDepthEXT / gl_FragCoord.w;","	#else","		float depth = gl_FragCoord.z / gl_FragCoord.w;","	#endif","	float color = 1.0 - smoothstep( mNear, mFar, depth );","	gl_FragColor = vec4( vec3( color ), opacity );","}"].join("\n")},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:["varying vec3 vNormal;",THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","	vNormal = normalize( normalMatrix * normal );",THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform float opacity;","varying vec3 vNormal;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );",THREE.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","	vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","	vWorldPosition = worldPosition.xyz;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform samplerCube tCube;","uniform float tFlip;","varying vec3 vWorldPosition;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","	gl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );",THREE.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:["varying vec3 vWorldPosition;",THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {","	vec4 worldPosition = modelMatrix * vec4( position, 1.0 );","	vWorldPosition = worldPosition.xyz;","	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );",THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","uniform float tFlip;","varying vec3 vWorldPosition;",THREE.ShaderChunk.logdepthbuf_pars_fragment,"void main() {","vec3 direction = normalize( vWorldPosition );","vec2 sampleUV;","sampleUV.y = clamp( tFlip * direction.y * -0.5 + 0.5, 0.0, 1.0);","sampleUV.x = atan( direction.z, direction.x ) * 0.15915494309189533576888376337251 + 0.5;","gl_FragColor = texture2D( tEquirect, sampleUV );",THREE.ShaderChunk.logdepthbuf_fragment,"}"].join("\n")},depthRGBA:{uniforms:{},vertexShader:[THREE.ShaderChunk.morphtarget_pars_vertex,THREE.ShaderChunk.skinning_pars_vertex,THREE.ShaderChunk.logdepthbuf_pars_vertex,"void main() {",THREE.ShaderChunk.skinbase_vertex,THREE.ShaderChunk.morphtarget_vertex,THREE.ShaderChunk.skinning_vertex,THREE.ShaderChunk.default_vertex,THREE.ShaderChunk.logdepthbuf_vertex,"}"].join("\n"),fragmentShader:[THREE.ShaderChunk.logdepthbuf_pars_fragment,"vec4 pack_depth( const in float depth ) {","	const vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );","	const vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );","	vec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );","	res -= res.xxyz * bit_mask;","	return res;","}","void main() {",THREE.ShaderChunk.logdepthbuf_fragment,"	#ifdef USE_LOGDEPTHBUF_EXT","		gl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );","	#else","		gl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );","	#endif","}"].join("\n")}},THREE.WebGLRenderer=function(e){function t(e){e.__webglVertexBuffer=Lt.createBuffer(),e.__webglColorBuffer=Lt.createBuffer(),Dt.info.memory.geometries++}function r(e){e.__webglVertexBuffer=Lt.createBuffer(),e.__webglColorBuffer=Lt.createBuffer(),e.__webglLineDistanceBuffer=Lt.createBuffer(),Dt.info.memory.geometries++}function n(e){e.__webglVertexBuffer=Lt.createBuffer(),e.__webglNormalBuffer=Lt.createBuffer(),e.__webglTangentBuffer=Lt.createBuffer(),e.__webglColorBuffer=Lt.createBuffer(),e.__webglUVBuffer=Lt.createBuffer(),e.__webglUV2Buffer=Lt.createBuffer(),e.__webglSkinIndicesBuffer=Lt.createBuffer(),e.__webglSkinWeightsBuffer=Lt.createBuffer(),e.__webglFaceBuffer=Lt.createBuffer(),e.__webglLineBuffer=Lt.createBuffer();var t=e.numMorphTargets;if(t){e.__webglMorphTargetsBuffers=[];for(var r=0,n=t;n>r;r++)e.__webglMorphTargetsBuffers.push(Lt.createBuffer())}var i=e.numMorphNormals;if(i){e.__webglMorphNormalsBuffers=[];for(var r=0,n=i;n>r;r++)e.__webglMorphNormalsBuffers.push(Lt.createBuffer())}Dt.info.memory.geometries++}function i(e){var t=e.geometry,r=e.material,n=t.vertices.length;if(r.attributes){void 0===t.__webglCustomAttributesList&&(t.__webglCustomAttributesList=[]);for(var i in r.attributes){var o=r.attributes[i];if(!o.__webglInitialized||o.createUniqueBuffers){o.__webglInitialized=!0;var a=1;"v2"===o.type?a=2:"v3"===o.type?a=3:"v4"===o.type?a=4:"c"===o.type&&(a=3),o.size=a,o.array=new Float32Array(n*a),o.buffer=Lt.createBuffer(),o.buffer.belongsToAttribute=i,o.needsUpdate=!0}t.__webglCustomAttributesList.push(o)}}}function o(e,t){var r=e.vertices.length;e.__vertexArray=new Float32Array(3*r),e.__colorArray=new Float32Array(3*r),e.__sortArray=[],e.__webglParticleCount=r,i(t)}function a(e,t){var r=e.vertices.length;e.__vertexArray=new Float32Array(3*r),e.__colorArray=new Float32Array(3*r),e.__lineDistanceArray=new Float32Array(1*r),e.__webglLineCount=r,i(t)}function s(e,t){var r=t.geometry,n=e.faces3,i=3*n.length,o=1*n.length,a=3*n.length,s=u(t,e);e.__vertexArray=new Float32Array(3*i),e.__normalArray=new Float32Array(3*i),e.__colorArray=new Float32Array(3*i),e.__uvArray=new Float32Array(2*i),r.faceVertexUvs.length>1&&(e.__uv2Array=new Float32Array(2*i)),r.hasTangents&&(e.__tangentArray=new Float32Array(4*i)),t.geometry.skinWeights.length&&t.geometry.skinIndices.length&&(e.__skinIndexArray=new Float32Array(4*i),e.__skinWeightArray=new Float32Array(4*i));var c=null!==vr.get("OES_element_index_uint")&&o>21845?Uint32Array:Uint16Array;e.__typeArray=c,e.__faceArray=new c(3*o),e.__lineArray=new c(2*a);var l=e.numMorphTargets;if(l){e.__morphTargetsArrays=[];for(var h=0,f=l;f>h;h++)e.__morphTargetsArrays.push(new Float32Array(3*i))}var d=e.numMorphNormals;if(d){e.__morphNormalsArrays=[];for(var h=0,f=d;f>h;h++)e.__morphNormalsArrays.push(new Float32Array(3*i))}if(e.__webglFaceCount=3*o,e.__webglLineCount=2*a,s.attributes){void 0===e.__webglCustomAttributesList&&(e.__webglCustomAttributesList=[]);for(var p in s.attributes){var m=s.attributes[p],g={};for(var y in m)g[y]=m[y];if(!g.__webglInitialized||g.createUniqueBuffers){g.__webglInitialized=!0;var v=1;"v2"===g.type?v=2:"v3"===g.type?v=3:"v4"===g.type?v=4:"c"===g.type&&(v=3),g.size=v,g.array=new Float32Array(i*v),g.buffer=Lt.createBuffer(),g.buffer.belongsToAttribute=p,m.needsUpdate=!0,g.__original=m}e.__webglCustomAttributesList.push(g)}}e.__inittedArrays=!0}function u(e,t){return e.material instanceof THREE.MeshFaceMaterial?e.material.materials[t.materialIndex]:e.material}function c(e){return e&&void 0!==e.shading&&e.shading===THREE.SmoothShading}function l(e,t){var r,n,i,o,a,s,u,c,l,h,f,d=e.vertices,p=d.length,m=e.colors,g=m.length,y=e.__vertexArray,v=e.__colorArray,b=(e.__sortArray,e.verticesNeedUpdate),E=(e.elementsNeedUpdate,e.colorsNeedUpdate),x=e.__webglCustomAttributesList;if(b){for(r=0;p>r;r++)i=d[r],o=3*r,y[o]=i.x,y[o+1]=i.y,y[o+2]=i.z;Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglVertexBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,y,t)}if(E){for(n=0;g>n;n++)a=m[n],o=3*n,v[o]=a.r,v[o+1]=a.g,v[o+2]=a.b;Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglColorBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,v,t)}if(x)for(s=0,u=x.length;u>s;s++){if(f=x[s],f.needsUpdate&&(void 0===f.boundTo||"vertices"===f.boundTo))if(l=f.value.length,o=0,1===f.size)for(c=0;l>c;c++)f.array[c]=f.value[c];else if(2===f.size)for(c=0;l>c;c++)h=f.value[c],f.array[o]=h.x,f.array[o+1]=h.y,o+=2;else if(3===f.size)if("c"===f.type)for(c=0;l>c;c++)h=f.value[c],f.array[o]=h.r,f.array[o+1]=h.g,f.array[o+2]=h.b,o+=3;else for(c=0;l>c;c++)h=f.value[c],f.array[o]=h.x,f.array[o+1]=h.y,f.array[o+2]=h.z,o+=3;else if(4===f.size)for(c=0;l>c;c++)h=f.value[c],f.array[o]=h.x,f.array[o+1]=h.y,f.array[o+2]=h.z,f.array[o+3]=h.w,o+=4;Lt.bindBuffer(Lt.ARRAY_BUFFER,f.buffer),Lt.bufferData(Lt.ARRAY_BUFFER,f.array,t),f.needsUpdate=!1}}function h(e,t){var r,n,i,o,a,s,u,c,l,h,f,d,p=e.vertices,m=e.colors,g=e.lineDistances,y=p.length,v=m.length,b=g.length,E=e.__vertexArray,x=e.__colorArray,w=e.__lineDistanceArray,_=e.verticesNeedUpdate,T=e.colorsNeedUpdate,R=e.lineDistancesNeedUpdate,S=e.__webglCustomAttributesList;if(_){for(r=0;y>r;r++)o=p[r],a=3*r,E[a]=o.x,E[a+1]=o.y,E[a+2]=o.z;Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglVertexBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,E,t)}if(T){for(n=0;v>n;n++)s=m[n],a=3*n,x[a]=s.r,x[a+1]=s.g,x[a+2]=s.b;Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglColorBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,x,t)}if(R){for(i=0;b>i;i++)w[i]=g[i];Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglLineDistanceBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,w,t)}if(S)for(u=0,c=S.length;c>u;u++)if(d=S[u],d.needsUpdate&&(void 0===d.boundTo||"vertices"===d.boundTo)){if(a=0,h=d.value.length,1===d.size)for(l=0;h>l;l++)d.array[l]=d.value[l];else if(2===d.size)for(l=0;h>l;l++)f=d.value[l],d.array[a]=f.x,d.array[a+1]=f.y,a+=2;else if(3===d.size)if("c"===d.type)for(l=0;h>l;l++)f=d.value[l],d.array[a]=f.r,d.array[a+1]=f.g,d.array[a+2]=f.b,a+=3;else for(l=0;h>l;l++)f=d.value[l],d.array[a]=f.x,d.array[a+1]=f.y,d.array[a+2]=f.z,a+=3;else if(4===d.size)for(l=0;h>l;l++)f=d.value[l],d.array[a]=f.x,d.array[a+1]=f.y,d.array[a+2]=f.z,d.array[a+3]=f.w,a+=4;Lt.bindBuffer(Lt.ARRAY_BUFFER,d.buffer),Lt.bufferData(Lt.ARRAY_BUFFER,d.array,t),d.needsUpdate=!1}}function f(e,t,r,n,i){if(e.__inittedArrays){var o,a,s,u,l,h,f,d,p,m,g,y,v,b,E,x,w,_,T,R,S,C,H,M,A,N,P,k,O,L,D,F,B,I,z,U,V,j,q,G,W,K,X=c(i),Y=0,$=0,Q=0,Z=0,J=0,et=0,tt=0,rt=0,nt=0,it=0,ot=0,at=0,st=0,ut=e.__vertexArray,ct=e.__uvArray,lt=e.__uv2Array,ht=e.__normalArray,ft=e.__tangentArray,dt=e.__colorArray,pt=e.__skinIndexArray,mt=e.__skinWeightArray,gt=e.__morphTargetsArrays,yt=e.__morphNormalsArrays,vt=e.__webglCustomAttributesList,bt=e.__faceArray,Et=e.__lineArray,xt=t.geometry,wt=xt.verticesNeedUpdate,_t=xt.elementsNeedUpdate,Tt=xt.uvsNeedUpdate,Rt=xt.normalsNeedUpdate,St=xt.tangentsNeedUpdate,Ct=xt.colorsNeedUpdate,Ht=xt.morphTargetsNeedUpdate,Mt=xt.vertices,At=e.faces3,Nt=xt.faces,Pt=xt.faceVertexUvs[0],kt=xt.faceVertexUvs[1],Ot=(xt.colors,xt.skinIndices),Dt=xt.skinWeights,Ft=xt.morphTargets,Bt=xt.morphNormals;if(wt){for(o=0,a=At.length;a>o;o++)u=Nt[At[o]],y=Mt[u.a],v=Mt[u.b],b=Mt[u.c],ut[$]=y.x,ut[$+1]=y.y,ut[$+2]=y.z,ut[$+3]=v.x,ut[$+4]=v.y,ut[$+5]=v.z,ut[$+6]=b.x,ut[$+7]=b.y,ut[$+8]=b.z,$+=9;Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglVertexBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,ut,r)}if(Ht)for(z=0,U=Ft.length;U>z;z++){for(ot=0,o=0,a=At.length;a>o;o++)q=At[o],u=Nt[q],y=Ft[z].vertices[u.a],v=Ft[z].vertices[u.b],b=Ft[z].vertices[u.c],V=gt[z],V[ot]=y.x,V[ot+1]=y.y,V[ot+2]=y.z,V[ot+3]=v.x,V[ot+4]=v.y,V[ot+5]=v.z,V[ot+6]=b.x,V[ot+7]=b.y,V[ot+8]=b.z,i.morphNormals&&(X?(G=Bt[z].vertexNormals[q],_=G.a,T=G.b,R=G.c):(_=Bt[z].faceNormals[q],T=_,R=_),j=yt[z],j[ot]=_.x,j[ot+1]=_.y,j[ot+2]=_.z,j[ot+3]=T.x,j[ot+4]=T.y,j[ot+5]=T.z,j[ot+6]=R.x,j[ot+7]=R.y,j[ot+8]=R.z),ot+=9;Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglMorphTargetsBuffers[z]),Lt.bufferData(Lt.ARRAY_BUFFER,gt[z],r),i.morphNormals&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglMorphNormalsBuffers[z]),Lt.bufferData(Lt.ARRAY_BUFFER,yt[z],r))}if(Dt.length){for(o=0,a=At.length;a>o;o++)u=Nt[At[o]],M=Dt[u.a],A=Dt[u.b],N=Dt[u.c],mt[it]=M.x,mt[it+1]=M.y,mt[it+2]=M.z,mt[it+3]=M.w,mt[it+4]=A.x,mt[it+5]=A.y,mt[it+6]=A.z,mt[it+7]=A.w,mt[it+8]=N.x,mt[it+9]=N.y,mt[it+10]=N.z,mt[it+11]=N.w,P=Ot[u.a],k=Ot[u.b],O=Ot[u.c],pt[it]=P.x,pt[it+1]=P.y,pt[it+2]=P.z,pt[it+3]=P.w,pt[it+4]=k.x,pt[it+5]=k.y,pt[it+6]=k.z,pt[it+7]=k.w,pt[it+8]=O.x,pt[it+9]=O.y,pt[it+10]=O.z,pt[it+11]=O.w,it+=12;it>0&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglSkinIndicesBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,pt,r),Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglSkinWeightsBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,mt,r))}if(Ct){for(o=0,a=At.length;a>o;o++)u=Nt[At[o]],f=u.vertexColors,d=u.color,3===f.length&&i.vertexColors===THREE.VertexColors?(S=f[0],C=f[1],H=f[2]):(S=d,C=d,H=d),dt[nt]=S.r,dt[nt+1]=S.g,dt[nt+2]=S.b,dt[nt+3]=C.r,dt[nt+4]=C.g,dt[nt+5]=C.b,dt[nt+6]=H.r,dt[nt+7]=H.g,dt[nt+8]=H.b,nt+=9;nt>0&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglColorBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,dt,r))}if(St&&xt.hasTangents){for(o=0,a=At.length;a>o;o++)u=Nt[At[o]],p=u.vertexTangents,E=p[0],x=p[1],w=p[2],ft[tt]=E.x,ft[tt+1]=E.y,ft[tt+2]=E.z,ft[tt+3]=E.w,ft[tt+4]=x.x,ft[tt+5]=x.y,ft[tt+6]=x.z,ft[tt+7]=x.w,ft[tt+8]=w.x,ft[tt+9]=w.y,ft[tt+10]=w.z,ft[tt+11]=w.w,tt+=12;Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglTangentBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,ft,r)}if(Rt){for(o=0,a=At.length;a>o;o++)if(u=Nt[At[o]],l=u.vertexNormals,h=u.normal,3===l.length&&X)for(L=0;3>L;L++)F=l[L],ht[et]=F.x,ht[et+1]=F.y,ht[et+2]=F.z,et+=3;else for(L=0;3>L;L++)ht[et]=h.x,ht[et+1]=h.y,ht[et+2]=h.z,et+=3;Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglNormalBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,ht,r)}if(Tt&&Pt){for(o=0,a=At.length;a>o;o++)if(s=At[o],m=Pt[s],void 0!==m)for(L=0;3>L;L++)B=m[L],ct[Q]=B.x,ct[Q+1]=B.y,Q+=2;Q>0&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglUVBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,ct,r))}if(Tt&&kt){for(o=0,a=At.length;a>o;o++)if(s=At[o],g=kt[s],void 0!==g)for(L=0;3>L;L++)I=g[L],lt[Z]=I.x,lt[Z+1]=I.y,Z+=2;Z>0&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglUV2Buffer),Lt.bufferData(Lt.ARRAY_BUFFER,lt,r))}if(_t){for(o=0,a=At.length;a>o;o++)bt[J]=Y,bt[J+1]=Y+1,bt[J+2]=Y+2,J+=3,Et[rt]=Y,Et[rt+1]=Y+1,Et[rt+2]=Y,Et[rt+3]=Y+2,Et[rt+4]=Y+1,Et[rt+5]=Y+2,rt+=6,Y+=3;Lt.bindBuffer(Lt.ELEMENT_ARRAY_BUFFER,e.__webglFaceBuffer),Lt.bufferData(Lt.ELEMENT_ARRAY_BUFFER,bt,r),Lt.bindBuffer(Lt.ELEMENT_ARRAY_BUFFER,e.__webglLineBuffer),Lt.bufferData(Lt.ELEMENT_ARRAY_BUFFER,Et,r)}if(vt)for(L=0,D=vt.length;D>L;L++)if(K=vt[L],K.__original.needsUpdate){if(at=0,st=0,1===K.size){if(void 0===K.boundTo||"vertices"===K.boundTo)for(o=0,a=At.length;a>o;o++)u=Nt[At[o]],K.array[at]=K.value[u.a],K.array[at+1]=K.value[u.b],K.array[at+2]=K.value[u.c],at+=3;else if("faces"===K.boundTo)for(o=0,a=At.length;a>o;o++)W=K.value[At[o]],K.array[at]=W,K.array[at+1]=W,K.array[at+2]=W,at+=3}else if(2===K.size){if(void 0===K.boundTo||"vertices"===K.boundTo)for(o=0,a=At.length;a>o;o++)u=Nt[At[o]],y=K.value[u.a],v=K.value[u.b],b=K.value[u.c],K.array[at]=y.x,K.array[at+1]=y.y,K.array[at+2]=v.x,K.array[at+3]=v.y,K.array[at+4]=b.x,K.array[at+5]=b.y,at+=6;else if("faces"===K.boundTo)for(o=0,a=At.length;a>o;o++)W=K.value[At[o]],y=W,v=W,b=W,K.array[at]=y.x,K.array[at+1]=y.y,K.array[at+2]=v.x,K.array[at+3]=v.y,K.array[at+4]=b.x,K.array[at+5]=b.y,at+=6}else if(3===K.size){var It;if(It="c"===K.type?["r","g","b"]:["x","y","z"],void 0===K.boundTo||"vertices"===K.boundTo)for(o=0,a=At.length;a>o;o++)u=Nt[At[o]],y=K.value[u.a],v=K.value[u.b],b=K.value[u.c],K.array[at]=y[It[0]],K.array[at+1]=y[It[1]],K.array[at+2]=y[It[2]],K.array[at+3]=v[It[0]],K.array[at+4]=v[It[1]],K.array[at+5]=v[It[2]],K.array[at+6]=b[It[0]],K.array[at+7]=b[It[1]],K.array[at+8]=b[It[2]],at+=9;else if("faces"===K.boundTo)for(o=0,a=At.length;a>o;o++)W=K.value[At[o]],y=W,v=W,b=W,K.array[at]=y[It[0]],K.array[at+1]=y[It[1]],K.array[at+2]=y[It[2]],K.array[at+3]=v[It[0]],K.array[at+4]=v[It[1]],K.array[at+5]=v[It[2]],K.array[at+6]=b[It[0]],K.array[at+7]=b[It[1]],K.array[at+8]=b[It[2]],at+=9;else if("faceVertices"===K.boundTo)for(o=0,a=At.length;a>o;o++)W=K.value[At[o]],y=W[0],v=W[1],b=W[2],K.array[at]=y[It[0]],K.array[at+1]=y[It[1]],K.array[at+2]=y[It[2]],K.array[at+3]=v[It[0]],K.array[at+4]=v[It[1]],K.array[at+5]=v[It[2]],K.array[at+6]=b[It[0]],K.array[at+7]=b[It[1]],K.array[at+8]=b[It[2]],at+=9}else if(4===K.size)if(void 0===K.boundTo||"vertices"===K.boundTo)for(o=0,a=At.length;a>o;o++)u=Nt[At[o]],y=K.value[u.a],v=K.value[u.b],b=K.value[u.c],K.array[at]=y.x,K.array[at+1]=y.y,K.array[at+2]=y.z,K.array[at+3]=y.w,K.array[at+4]=v.x,K.array[at+5]=v.y,K.array[at+6]=v.z,K.array[at+7]=v.w,K.array[at+8]=b.x,K.array[at+9]=b.y,K.array[at+10]=b.z,K.array[at+11]=b.w,at+=12;else if("faces"===K.boundTo)for(o=0,a=At.length;a>o;o++)W=K.value[At[o]],y=W,v=W,b=W,K.array[at]=y.x,K.array[at+1]=y.y,K.array[at+2]=y.z,K.array[at+3]=y.w,K.array[at+4]=v.x,K.array[at+5]=v.y,K.array[at+6]=v.z,K.array[at+7]=v.w,K.array[at+8]=b.x,K.array[at+9]=b.y,K.array[at+10]=b.z,K.array[at+11]=b.w,at+=12;else if("faceVertices"===K.boundTo)for(o=0,a=At.length;a>o;o++)W=K.value[At[o]],y=W[0],v=W[1],b=W[2],K.array[at]=y.x,K.array[at+1]=y.y,K.array[at+2]=y.z,K.array[at+3]=y.w,K.array[at+4]=v.x,K.array[at+5]=v.y,K.array[at+6]=v.z,K.array[at+7]=v.w,K.array[at+8]=b.x,K.array[at+9]=b.y,K.array[at+10]=b.z,K.array[at+11]=b.w,at+=12;Lt.bindBuffer(Lt.ARRAY_BUFFER,K.buffer),Lt.bufferData(Lt.ARRAY_BUFFER,K.array,r)}n&&(delete e.__inittedArrays,delete e.__colorArray,delete e.__normalArray,delete e.__tangentArray,delete e.__uvArray,delete e.__uv2Array,delete e.__faceArray,delete e.__vertexArray,delete e.__lineArray,delete e.__skinIndexArray,delete e.__skinWeightArray)}}function d(e,t,r,n){for(var i=r.attributes,o=t.attributes,a=t.attributesKeys,s=0,u=a.length;u>s;s++){var c=a[s],l=o[c];if(l>=0){var h=i[c];if(void 0!==h){var f=h.itemSize;Lt.bindBuffer(Lt.ARRAY_BUFFER,h.buffer),m(l),Lt.vertexAttribPointer(l,f,Lt.FLOAT,!1,0,n*f*4)}else void 0!==e.defaultAttributeValues&&(2===e.defaultAttributeValues[c].length?Lt.vertexAttrib2fv(l,e.defaultAttributeValues[c]):3===e.defaultAttributeValues[c].length&&Lt.vertexAttrib3fv(l,e.defaultAttributeValues[c]))}}g()}function p(){for(var e=0,t=ur.length;t>e;e++)ur[e]=0}function m(e){ur[e]=1,0===cr[e]&&(Lt.enableVertexAttribArray(e),cr[e]=1)}function g(){for(var e=0,t=cr.length;t>e;e++)cr[e]!==ur[e]&&(Lt.disableVertexAttribArray(e),cr[e]=0)}function y(e,t,r){var n=e.program.attributes;if(-1!==r.morphTargetBase&&n.position>=0?(Lt.bindBuffer(Lt.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[r.morphTargetBase]),m(n.position),Lt.vertexAttribPointer(n.position,3,Lt.FLOAT,!1,0,0)):n.position>=0&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,t.__webglVertexBuffer),m(n.position),Lt.vertexAttribPointer(n.position,3,Lt.FLOAT,!1,0,0)),r.morphTargetForcedOrder.length)for(var i,o=0,a=r.morphTargetForcedOrder,s=r.morphTargetInfluences;o<e.numSupportedMorphTargets&&o<a.length;)i=n["morphTarget"+o],i>=0&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[a[o]]),m(i),Lt.vertexAttribPointer(i,3,Lt.FLOAT,!1,0,0)),i=n["morphNormal"+o],i>=0&&e.morphNormals&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,t.__webglMorphNormalsBuffers[a[o]]),m(i),Lt.vertexAttribPointer(i,3,Lt.FLOAT,!1,0,0)),r.__webglMorphTargetInfluences[o]=s[a[o]],o++;else{for(var u=[],s=r.morphTargetInfluences,c=0,l=s.length;l>c;c++){var h=s[c];u.push([h,c])}u.length>e.numSupportedMorphTargets?(u.sort(E),u.length=e.numSupportedMorphTargets):u.length>e.numSupportedMorphNormals?u.sort(E):0===u.length&&u.push([0,0]);for(var i,o=0,f=e.numSupportedMorphTargets;f>o;o++)if(u[o]){var d=u[o][1];i=n["morphTarget"+o],i>=0&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,t.__webglMorphTargetsBuffers[d]),m(i),Lt.vertexAttribPointer(i,3,Lt.FLOAT,!1,0,0)),i=n["morphNormal"+o],i>=0&&e.morphNormals&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,t.__webglMorphNormalsBuffers[d]),m(i),Lt.vertexAttribPointer(i,3,Lt.FLOAT,!1,0,0)),r.__webglMorphTargetInfluences[o]=s[d]}else r.__webglMorphTargetInfluences[o]=0}null!==e.program.uniforms.morphTargetInfluences&&Lt.uniform1fv(e.program.uniforms.morphTargetInfluences,r.__webglMorphTargetInfluences)}function v(e,t){return e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function b(e,t){return e.z!==t.z?t.z-e.z:e.id-t.id}function E(e,t){return t[0]-e[0]}function x(e){if(e.visible!==!1){if(e instanceof THREE.Scene||e instanceof THREE.Group);else if(S(e),e instanceof THREE.Light)Ht.push(e);
else if(e instanceof THREE.Sprite)kt.push(e);else if(e instanceof THREE.LensFlare)Ot.push(e);else{var t=Mt[e.id];if(t&&(e.frustumCulled===!1||lr.intersectsObject(e)===!0))for(var r=0,n=t.length;n>r;r++){var i=t[r];R(i),i.render=!0,Dt.sortObjects===!0&&(fr.setFromMatrixPosition(e.matrixWorld),fr.applyProjection(hr),i.z=fr.z)}}for(var r=0,n=e.children.length;n>r;r++)x(e.children[r])}}function w(e,t,r,n,i,o){for(var a,s=0,u=e.length;u>s;s++){var c=e[s],l=c.object,h=c.buffer;if(Q(l,t),o)a=o;else{if(a=c.material,!a)continue;i&&Dt.setBlending(a.blending,a.blendEquation,a.blendSrc,a.blendDst),Dt.setDepthTest(a.depthTest),Dt.setDepthWrite(a.depthWrite),rt(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)}Dt.setMaterialFaces(a),h instanceof THREE.BufferGeometry?Dt.renderBufferDirect(t,r,n,a,h,l):Dt.renderBuffer(t,r,n,a,h,l)}}function _(e,t,r,n,i,o,a){for(var s,u=0,c=e.length;c>u;u++){var l=e[u],h=l.object;if(h.visible){if(a)s=a;else{if(s=l[t],!s)continue;o&&Dt.setBlending(s.blending,s.blendEquation,s.blendSrc,s.blendDst),Dt.setDepthTest(s.depthTest),Dt.setDepthWrite(s.depthWrite),rt(s.polygonOffset,s.polygonOffsetFactor,s.polygonOffsetUnits)}Dt.renderImmediateObject(r,n,i,s,h)}}}function T(e){var t=e.object,r=t.material;r.transparent?(e.transparent=r,e.opaque=null):(e.opaque=r,e.transparent=null)}function R(e){var t=e.object,r=e.buffer,n=t.geometry,i=t.material;if(i instanceof THREE.MeshFaceMaterial){var o=n instanceof THREE.BufferGeometry?0:r.materialIndex;i=i.materials[o],e.material=i,i.transparent?Pt.push(e):Nt.push(e)}else i&&(e.material=i,i.transparent?Pt.push(e):Nt.push(e))}function S(e){void 0===e.__webglInit&&(e.__webglInit=!0,e._modelViewMatrix=new THREE.Matrix4,e._normalMatrix=new THREE.Matrix3,e.addEventListener("removed",Fr));var n=e.geometry;if(void 0===n||void 0===n.__webglInit&&(n.__webglInit=!0,n.addEventListener("dispose",Br),n instanceof THREE.BufferGeometry?Dt.info.memory.geometries++:e instanceof THREE.Mesh?H(e,n):e instanceof THREE.Line?void 0===n.__webglVertexBuffer&&(r(n),a(n,e),n.verticesNeedUpdate=!0,n.colorsNeedUpdate=!0,n.lineDistancesNeedUpdate=!0):e instanceof THREE.PointCloud&&void 0===n.__webglVertexBuffer&&(t(n),o(n,e),n.verticesNeedUpdate=!0,n.colorsNeedUpdate=!0)),void 0===e.__webglActive)if(e.__webglActive=!0,e instanceof THREE.Mesh){if(n instanceof THREE.BufferGeometry)M(Mt,n,e);else if(n instanceof THREE.Geometry)for(var i=Kr[n.id],s=0,u=i.length;u>s;s++)M(Mt,i[s],e)}else e instanceof THREE.Line||e instanceof THREE.PointCloud?M(Mt,n,e):(e instanceof THREE.ImmediateRenderObject||e.immediateRenderCallback)&&A(At,e)}function C(e,t){for(var r,n,i=vr.get("OES_element_index_uint")?4294967296:65535,o={},a=e.morphTargets.length,s=e.morphNormals.length,u={},c=[],l=0,h=e.faces.length;h>l;l++){var f=e.faces[l],d=t?f.materialIndex:0;d in o||(o[d]={hash:d,counter:0}),r=o[d].hash+"_"+o[d].counter,r in u||(n={id:Xr++,faces3:[],materialIndex:d,vertices:0,numMorphTargets:a,numMorphNormals:s},u[r]=n,c.push(n)),u[r].vertices+3>i&&(o[d].counter+=1,r=o[d].hash+"_"+o[d].counter,r in u||(n={id:Xr++,faces3:[],materialIndex:d,vertices:0,numMorphTargets:a,numMorphNormals:s},u[r]=n,c.push(n))),u[r].faces3.push(l),u[r].vertices+=3}return c}function H(e,t){var r=e.material,i=!1;(void 0===Kr[t.id]||t.groupsNeedUpdate===!0)&&(delete Mt[e.id],Kr[t.id]=C(t,r instanceof THREE.MeshFaceMaterial),t.groupsNeedUpdate=!1);for(var o=Kr[t.id],a=0,u=o.length;u>a;a++){var c=o[a];void 0===c.__webglVertexBuffer?(n(c),s(c,e),t.verticesNeedUpdate=!0,t.morphTargetsNeedUpdate=!0,t.elementsNeedUpdate=!0,t.uvsNeedUpdate=!0,t.normalsNeedUpdate=!0,t.tangentsNeedUpdate=!0,t.colorsNeedUpdate=!0,i=!0):i=!1,(i||void 0===e.__webglActive)&&M(Mt,c,e)}e.__webglActive=!0}function M(e,t,r){var n=r.id;e[n]=e[n]||[],e[n].push({id:n,buffer:t,object:r,material:null,z:0})}function A(e,t){e.push({id:null,object:t,opaque:null,transparent:null,z:0})}function N(e){var t=e.geometry;if(t instanceof THREE.BufferGeometry)for(var r=t.attributes,n=t.attributesKeys,i=0,o=n.length;o>i;i++){var a=n[i],c=r[a];if(void 0===c.buffer&&(c.buffer=Lt.createBuffer(),c.needsUpdate=!0),c.needsUpdate===!0){var d="index"===a?Lt.ELEMENT_ARRAY_BUFFER:Lt.ARRAY_BUFFER;Lt.bindBuffer(d,c.buffer),Lt.bufferData(d,c.array,Lt.STATIC_DRAW),c.needsUpdate=!1}}else if(e instanceof THREE.Mesh){t.groupsNeedUpdate===!0&&H(e,t);for(var p=Kr[t.id],i=0,m=p.length;m>i;i++){var g=p[i],y=u(e,g);t.groupsNeedUpdate===!0&&s(g,e);var v=y.attributes&&P(y);(t.verticesNeedUpdate||t.morphTargetsNeedUpdate||t.elementsNeedUpdate||t.uvsNeedUpdate||t.normalsNeedUpdate||t.colorsNeedUpdate||t.tangentsNeedUpdate||v)&&f(g,e,Lt.DYNAMIC_DRAW,!t.dynamic,y)}t.verticesNeedUpdate=!1,t.morphTargetsNeedUpdate=!1,t.elementsNeedUpdate=!1,t.uvsNeedUpdate=!1,t.normalsNeedUpdate=!1,t.colorsNeedUpdate=!1,t.tangentsNeedUpdate=!1,y.attributes&&k(y)}else if(e instanceof THREE.Line){var y=u(e,t),v=y.attributes&&P(y);(t.verticesNeedUpdate||t.colorsNeedUpdate||t.lineDistancesNeedUpdate||v)&&h(t,Lt.DYNAMIC_DRAW),t.verticesNeedUpdate=!1,t.colorsNeedUpdate=!1,t.lineDistancesNeedUpdate=!1,y.attributes&&k(y)}else if(e instanceof THREE.PointCloud){var y=u(e,t),v=y.attributes&&P(y);(t.verticesNeedUpdate||t.colorsNeedUpdate||v)&&l(t,Lt.DYNAMIC_DRAW,e),t.verticesNeedUpdate=!1,t.colorsNeedUpdate=!1,y.attributes&&k(y)}}function P(e){for(var t in e.attributes)if(e.attributes[t].needsUpdate)return!0;return!1}function k(e){for(var t in e.attributes)e.attributes[t].needsUpdate=!1}function O(e){e instanceof THREE.Mesh||e instanceof THREE.PointCloud||e instanceof THREE.Line?delete Mt[e.id]:(e instanceof THREE.ImmediateRenderObject||e.immediateRenderCallback)&&L(At,e),delete e.__webglInit,delete e._modelViewMatrix,delete e._normalMatrix,delete e.__webglActive}function L(e,t){for(var r=e.length-1;r>=0;r--)e[r].object===t&&e.splice(r,1)}function D(e,t,r,n){e.addEventListener("dispose",Ur);var i=Yr[e.type];if(i){var o=THREE.ShaderLib[i];e.__webglShader={uniforms:THREE.UniformsUtils.clone(o.uniforms),vertexShader:o.vertexShader,fragmentShader:o.fragmentShader}}else e.__webglShader={uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};var a=dt(t),s=pt(t),u=ft(n),c={precision:vt,supportsVertexTextures:Rr,map:!!e.map,envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,lightMap:!!e.lightMap,bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,combine:e.combine,vertexColors:e.vertexColors,fog:r,useFog:e.fog,fogExp:r instanceof THREE.FogExp2,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:Rt,skinning:e.skinning,maxBones:u,useVertexTexture:Sr&&n&&n.skeleton&&n.skeleton.useVertexTexture,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:Dt.maxMorphTargets,maxMorphNormals:Dt.maxMorphNormals,maxDirLights:a.directional,maxPointLights:a.point,maxSpotLights:a.spot,maxHemiLights:a.hemi,maxShadows:s,shadowMapEnabled:Dt.shadowMapEnabled&&n.receiveShadow&&s>0,shadowMapType:Dt.shadowMapType,shadowMapDebug:Dt.shadowMapDebug,shadowMapCascade:Dt.shadowMapCascade,alphaTest:e.alphaTest,metal:e.metal,wrapAround:e.wrapAround,doubleSided:e.side===THREE.DoubleSide,flipSided:e.side===THREE.BackSide},l=[];if(i?l.push(i):(l.push(e.fragmentShader),l.push(e.vertexShader)),void 0!==e.defines)for(var h in e.defines)l.push(h),l.push(e.defines[h]);for(var h in c)l.push(h),l.push(c[h]);for(var f,d=l.join(),p=0,m=Ft.length;m>p;p++){var g=Ft[p];if(g.code===d){f=g,f.usedTimes++;break}}void 0===f&&(f=new THREE.WebGLProgram(Dt,d,e,c),Ft.push(f),Dt.info.memory.programs=Ft.length),e.program=f;var y=f.attributes;if(e.morphTargets){e.numSupportedMorphTargets=0;for(var v,b="morphTarget",E=0;E<Dt.maxMorphTargets;E++)v=b+E,y[v]>=0&&e.numSupportedMorphTargets++}if(e.morphNormals){e.numSupportedMorphNormals=0;var v,b="morphNormal";for(E=0;E<Dt.maxMorphNormals;E++)v=b+E,y[v]>=0&&e.numSupportedMorphNormals++}e.uniformsList=[];for(var x in e.__webglShader.uniforms){var w=e.program.uniforms[x];w&&e.uniformsList.push([e.__webglShader.uniforms[x],w])}}function F(e,t,r,n,i){jt=0,n.needsUpdate&&(n.program&&Wr(n),D(n,t,r,i),n.needsUpdate=!1),n.morphTargets&&(i.__webglMorphTargetInfluences||(i.__webglMorphTargetInfluences=new Float32Array(Dt.maxMorphTargets)));var o=!1,a=!1,s=!1,u=n.program,c=u.uniforms,l=n.__webglShader.uniforms;if(u.id!==Bt&&(Lt.useProgram(u.program),Bt=u.id,o=!0,a=!0,s=!0),n.id!==zt&&(-1===zt&&(s=!0),zt=n.id,a=!0),(o||e!==Vt)&&(Lt.uniformMatrix4fv(c.projectionMatrix,!1,e.projectionMatrix.elements),Rt&&Lt.uniform1f(c.logDepthBufFC,2/(Math.log(e.far+1)/Math.LN2)),e!==Vt&&(Vt=e),(n instanceof THREE.ShaderMaterial||n instanceof THREE.MeshPhongMaterial||n.envMap)&&null!==c.cameraPosition&&(fr.setFromMatrixPosition(e.matrixWorld),Lt.uniform3f(c.cameraPosition,fr.x,fr.y,fr.z)),(n instanceof THREE.MeshPhongMaterial||n instanceof THREE.MeshLambertMaterial||n instanceof THREE.MeshBasicMaterial||n instanceof THREE.ShaderMaterial||n.skinning)&&null!==c.viewMatrix&&Lt.uniformMatrix4fv(c.viewMatrix,!1,e.matrixWorldInverse.elements)),n.skinning)if(i.bindMatrix&&null!==c.bindMatrix&&Lt.uniformMatrix4fv(c.bindMatrix,!1,i.bindMatrix.elements),i.bindMatrixInverse&&null!==c.bindMatrixInverse&&Lt.uniformMatrix4fv(c.bindMatrixInverse,!1,i.bindMatrixInverse.elements),Sr&&i.skeleton&&i.skeleton.useVertexTexture){if(null!==c.boneTexture){var h=Y();Lt.uniform1i(c.boneTexture,h),Dt.setTexture(i.skeleton.boneTexture,h)}null!==c.boneTextureWidth&&Lt.uniform1i(c.boneTextureWidth,i.skeleton.boneTextureWidth),null!==c.boneTextureHeight&&Lt.uniform1i(c.boneTextureHeight,i.skeleton.boneTextureHeight)}else i.skeleton&&i.skeleton.boneMatrices&&null!==c.boneGlobalMatrices&&Lt.uniformMatrix4fv(c.boneGlobalMatrices,!1,i.skeleton.boneMatrices);return a&&(r&&n.fog&&V(l,r),(n instanceof THREE.MeshPhongMaterial||n instanceof THREE.MeshLambertMaterial||n.lights)&&(pr&&(s=!0,et(t),pr=!1),s?(G(l,mr),W(l,!0)):W(l,!1)),(n instanceof THREE.MeshBasicMaterial||n instanceof THREE.MeshLambertMaterial||n instanceof THREE.MeshPhongMaterial)&&B(l,n),n instanceof THREE.LineBasicMaterial?I(l,n):n instanceof THREE.LineDashedMaterial?(I(l,n),z(l,n)):n instanceof THREE.PointCloudMaterial?U(l,n):n instanceof THREE.MeshPhongMaterial?j(l,n):n instanceof THREE.MeshLambertMaterial?q(l,n):n instanceof THREE.MeshDepthMaterial?(l.mNear.value=e.near,l.mFar.value=e.far,l.opacity.value=n.opacity):n instanceof THREE.MeshNormalMaterial&&(l.opacity.value=n.opacity),i.receiveShadow&&!n._shadowPass&&K(l,t),$(n.uniformsList)),X(c,i),null!==c.modelMatrix&&Lt.uniformMatrix4fv(c.modelMatrix,!1,i.matrixWorld.elements),u}function B(e,t){e.opacity.value=t.opacity,Dt.gammaInput?e.diffuse.value.copyGammaToLinear(t.color):e.diffuse.value=t.color,e.map.value=t.map,e.lightMap.value=t.lightMap,e.specularMap.value=t.specularMap,e.alphaMap.value=t.alphaMap,t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale),t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale));var r;if(t.map?r=t.map:t.specularMap?r=t.specularMap:t.normalMap?r=t.normalMap:t.bumpMap?r=t.bumpMap:t.alphaMap&&(r=t.alphaMap),void 0!==r){var n=r.offset,i=r.repeat;e.offsetRepeat.value.set(n.x,n.y,i.x,i.y)}e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap instanceof THREE.WebGLRenderTargetCube?1:-1,e.reflectivity.value=Dt.gammaInput?t.reflectivity:t.reflectivity,e.refractionRatio.value=t.refractionRatio}function I(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function z(e,t){e.dashSize.value=t.dashSize,e.totalSize.value=t.dashSize+t.gapSize,e.scale.value=t.scale}function U(e,t){e.psColor.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size,e.scale.value=mt.height/2,e.map.value=t.map}function V(e,t){e.fogColor.value=t.color,t instanceof THREE.Fog?(e.fogNear.value=t.near,e.fogFar.value=t.far):t instanceof THREE.FogExp2&&(e.fogDensity.value=t.density)}function j(e,t){e.shininess.value=t.shininess,Dt.gammaInput?(e.ambient.value.copyGammaToLinear(t.ambient),e.emissive.value.copyGammaToLinear(t.emissive),e.specular.value.copyGammaToLinear(t.specular)):(e.ambient.value=t.ambient,e.emissive.value=t.emissive,e.specular.value=t.specular),t.wrapAround&&e.wrapRGB.value.copy(t.wrapRGB)}function q(e,t){Dt.gammaInput?(e.ambient.value.copyGammaToLinear(t.ambient),e.emissive.value.copyGammaToLinear(t.emissive)):(e.ambient.value=t.ambient,e.emissive.value=t.emissive),t.wrapAround&&e.wrapRGB.value.copy(t.wrapRGB)}function G(e,t){e.ambientLightColor.value=t.ambient,e.directionalLightColor.value=t.directional.colors,e.directionalLightDirection.value=t.directional.positions,e.pointLightColor.value=t.point.colors,e.pointLightPosition.value=t.point.positions,e.pointLightDistance.value=t.point.distances,e.spotLightColor.value=t.spot.colors,e.spotLightPosition.value=t.spot.positions,e.spotLightDistance.value=t.spot.distances,e.spotLightDirection.value=t.spot.directions,e.spotLightAngleCos.value=t.spot.anglesCos,e.spotLightExponent.value=t.spot.exponents,e.hemisphereLightSkyColor.value=t.hemi.skyColors,e.hemisphereLightGroundColor.value=t.hemi.groundColors,e.hemisphereLightDirection.value=t.hemi.positions}function W(e,t){e.ambientLightColor.needsUpdate=t,e.directionalLightColor.needsUpdate=t,e.directionalLightDirection.needsUpdate=t,e.pointLightColor.needsUpdate=t,e.pointLightPosition.needsUpdate=t,e.pointLightDistance.needsUpdate=t,e.spotLightColor.needsUpdate=t,e.spotLightPosition.needsUpdate=t,e.spotLightDistance.needsUpdate=t,e.spotLightDirection.needsUpdate=t,e.spotLightAngleCos.needsUpdate=t,e.spotLightExponent.needsUpdate=t,e.hemisphereLightSkyColor.needsUpdate=t,e.hemisphereLightGroundColor.needsUpdate=t,e.hemisphereLightDirection.needsUpdate=t}function K(e,t){if(e.shadowMatrix)for(var r=0,n=0,i=t.length;i>n;n++){var o=t[n];o.castShadow&&(o instanceof THREE.SpotLight||o instanceof THREE.DirectionalLight&&!o.shadowCascade)&&(e.shadowMap.value[r]=o.shadowMap,e.shadowMapSize.value[r]=o.shadowMapSize,e.shadowMatrix.value[r]=o.shadowMatrix,e.shadowDarkness.value[r]=o.shadowDarkness,e.shadowBias.value[r]=o.shadowBias,r++)}}function X(e,t){Lt.uniformMatrix4fv(e.modelViewMatrix,!1,t._modelViewMatrix.elements),e.normalMatrix&&Lt.uniformMatrix3fv(e.normalMatrix,!1,t._normalMatrix.elements)}function Y(){var e=jt;return e>=xr&&console.warn("WebGLRenderer: trying to use "+e+" texture units while this GPU supports only "+xr),jt+=1,e}function $(e){for(var t,r,n,i=0,o=e.length;o>i;i++){var a=e[i][0];if(a.needsUpdate!==!1){var s=a.type,u=a.value,c=e[i][1];switch(s){case"1i":Lt.uniform1i(c,u);break;case"1f":Lt.uniform1f(c,u);break;case"2f":Lt.uniform2f(c,u[0],u[1]);break;case"3f":Lt.uniform3f(c,u[0],u[1],u[2]);break;case"4f":Lt.uniform4f(c,u[0],u[1],u[2],u[3]);break;case"1iv":Lt.uniform1iv(c,u);break;case"3iv":Lt.uniform3iv(c,u);break;case"1fv":Lt.uniform1fv(c,u);break;case"2fv":Lt.uniform2fv(c,u);break;case"3fv":Lt.uniform3fv(c,u);break;case"4fv":Lt.uniform4fv(c,u);break;case"Matrix3fv":Lt.uniformMatrix3fv(c,!1,u);break;case"Matrix4fv":Lt.uniformMatrix4fv(c,!1,u);break;case"i":Lt.uniform1i(c,u);break;case"f":Lt.uniform1f(c,u);break;case"v2":Lt.uniform2f(c,u.x,u.y);break;case"v3":Lt.uniform3f(c,u.x,u.y,u.z);break;case"v4":Lt.uniform4f(c,u.x,u.y,u.z,u.w);break;case"c":Lt.uniform3f(c,u.r,u.g,u.b);break;case"iv1":Lt.uniform1iv(c,u);break;case"iv":Lt.uniform3iv(c,u);break;case"fv1":Lt.uniform1fv(c,u);break;case"fv":Lt.uniform3fv(c,u);break;case"v2v":void 0===a._array&&(a._array=new Float32Array(2*u.length));for(var l=0,h=u.length;h>l;l++)n=2*l,a._array[n]=u[l].x,a._array[n+1]=u[l].y;Lt.uniform2fv(c,a._array);break;case"v3v":void 0===a._array&&(a._array=new Float32Array(3*u.length));for(var l=0,h=u.length;h>l;l++)n=3*l,a._array[n]=u[l].x,a._array[n+1]=u[l].y,a._array[n+2]=u[l].z;Lt.uniform3fv(c,a._array);break;case"v4v":void 0===a._array&&(a._array=new Float32Array(4*u.length));for(var l=0,h=u.length;h>l;l++)n=4*l,a._array[n]=u[l].x,a._array[n+1]=u[l].y,a._array[n+2]=u[l].z,a._array[n+3]=u[l].w;Lt.uniform4fv(c,a._array);break;case"m3":Lt.uniformMatrix3fv(c,!1,u.elements);break;case"m3v":void 0===a._array&&(a._array=new Float32Array(9*u.length));for(var l=0,h=u.length;h>l;l++)u[l].flattenToArrayOffset(a._array,9*l);Lt.uniformMatrix3fv(c,!1,a._array);break;case"m4":Lt.uniformMatrix4fv(c,!1,u.elements);break;case"m4v":void 0===a._array&&(a._array=new Float32Array(16*u.length));for(var l=0,h=u.length;h>l;l++)u[l].flattenToArrayOffset(a._array,16*l);Lt.uniformMatrix4fv(c,!1,a._array);break;case"t":if(t=u,r=Y(),Lt.uniform1i(c,r),!t)continue;t instanceof THREE.CubeTexture||t.image instanceof Array&&6===t.image.length?ot(t,r):t instanceof THREE.WebGLRenderTargetCube?at(t,r):Dt.setTexture(t,r);break;case"tv":void 0===a._array&&(a._array=[]);for(var l=0,h=a.value.length;h>l;l++)a._array[l]=Y();Lt.uniform1iv(c,a._array);for(var l=0,h=a.value.length;h>l;l++)t=a.value[l],r=a._array[l],t&&Dt.setTexture(t,r);break;default:console.warn("THREE.WebGLRenderer: Unknown uniform type: "+s)}}}}function Q(e,t){e._modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,e.matrixWorld),e._normalMatrix.getNormalMatrix(e._modelViewMatrix)}function Z(e,t,r,n){e[t]=r.r*r.r*n,e[t+1]=r.g*r.g*n,e[t+2]=r.b*r.b*n}function J(e,t,r,n){e[t]=r.r*n,e[t+1]=r.g*n,e[t+2]=r.b*n}function et(e){var t,r,n,i,o,a,s,u,c,l=0,h=0,f=0,d=mr,p=d.directional.colors,m=d.directional.positions,g=d.point.colors,y=d.point.positions,v=d.point.distances,b=d.spot.colors,E=d.spot.positions,x=d.spot.distances,w=d.spot.directions,_=d.spot.anglesCos,T=d.spot.exponents,R=d.hemi.skyColors,S=d.hemi.groundColors,C=d.hemi.positions,H=0,M=0,A=0,N=0,P=0,k=0,O=0,L=0,D=0,F=0,B=0,I=0;for(t=0,r=e.length;r>t;t++)if(n=e[t],!n.onlyShadow)if(i=n.color,s=n.intensity,c=n.distance,n instanceof THREE.AmbientLight){if(!n.visible)continue;Dt.gammaInput?(l+=i.r*i.r,h+=i.g*i.g,f+=i.b*i.b):(l+=i.r,h+=i.g,f+=i.b)}else if(n instanceof THREE.DirectionalLight){if(P+=1,!n.visible)continue;dr.setFromMatrixPosition(n.matrixWorld),fr.setFromMatrixPosition(n.target.matrixWorld),dr.sub(fr),dr.normalize(),D=3*H,m[D]=dr.x,m[D+1]=dr.y,m[D+2]=dr.z,Dt.gammaInput?Z(p,D,i,s*s):J(p,D,i,s),H+=1}else if(n instanceof THREE.PointLight){if(k+=1,!n.visible)continue;F=3*M,Dt.gammaInput?Z(g,F,i,s*s):J(g,F,i,s),fr.setFromMatrixPosition(n.matrixWorld),y[F]=fr.x,y[F+1]=fr.y,y[F+2]=fr.z,v[M]=c,M+=1}else if(n instanceof THREE.SpotLight){if(O+=1,!n.visible)continue;B=3*A,Dt.gammaInput?Z(b,B,i,s*s):J(b,B,i,s),dr.setFromMatrixPosition(n.matrixWorld),E[B]=dr.x,E[B+1]=dr.y,E[B+2]=dr.z,x[A]=c,fr.setFromMatrixPosition(n.target.matrixWorld),dr.sub(fr),dr.normalize(),w[B]=dr.x,w[B+1]=dr.y,w[B+2]=dr.z,_[A]=Math.cos(n.angle),T[A]=n.exponent,A+=1}else if(n instanceof THREE.HemisphereLight){if(L+=1,!n.visible)continue;dr.setFromMatrixPosition(n.matrixWorld),dr.normalize(),I=3*N,C[I]=dr.x,C[I+1]=dr.y,C[I+2]=dr.z,o=n.color,a=n.groundColor,Dt.gammaInput?(u=s*s,Z(R,I,o,u),Z(S,I,a,u)):(J(R,I,o,s),J(S,I,a,s)),N+=1}for(t=3*H,r=Math.max(p.length,3*P);r>t;t++)p[t]=0;for(t=3*M,r=Math.max(g.length,3*k);r>t;t++)g[t]=0;for(t=3*A,r=Math.max(b.length,3*O);r>t;t++)b[t]=0;for(t=3*N,r=Math.max(R.length,3*L);r>t;t++)R[t]=0;for(t=3*N,r=Math.max(S.length,3*L);r>t;t++)S[t]=0;d.directional.length=H,d.point.length=M,d.spot.length=A,d.hemi.length=N,d.ambient[0]=l,d.ambient[1]=h,d.ambient[2]=f}function tt(e){e*=yt,e!==tr&&(Lt.lineWidth(e),tr=e)}function rt(e,t,r){Zt!==e&&(e?Lt.enable(Lt.POLYGON_OFFSET_FILL):Lt.disable(Lt.POLYGON_OFFSET_FILL),Zt=e),!e||Jt===t&&er===r||(Lt.polygonOffset(t,r),Jt=t,er=r)}function nt(e,t,r){var n;r?(Lt.texParameteri(e,Lt.TEXTURE_WRAP_S,ht(t.wrapS)),Lt.texParameteri(e,Lt.TEXTURE_WRAP_T,ht(t.wrapT)),Lt.texParameteri(e,Lt.TEXTURE_MAG_FILTER,ht(t.magFilter)),Lt.texParameteri(e,Lt.TEXTURE_MIN_FILTER,ht(t.minFilter))):(Lt.texParameteri(e,Lt.TEXTURE_WRAP_S,Lt.CLAMP_TO_EDGE),Lt.texParameteri(e,Lt.TEXTURE_WRAP_T,Lt.CLAMP_TO_EDGE),(t.wrapS!==THREE.ClampToEdgeWrapping||t.wrapT!==THREE.ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT is set to THREE.ClampToEdgeWrapping. ( "+t.sourceFile+" )"),Lt.texParameteri(e,Lt.TEXTURE_MAG_FILTER,lt(t.magFilter)),Lt.texParameteri(e,Lt.TEXTURE_MIN_FILTER,lt(t.minFilter)),t.minFilter!==THREE.NearestFilter&&t.minFilter!==THREE.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter is set to THREE.LinearFilter or THREE.NearestFilter. ( "+t.sourceFile+" )")),n=vr.get("EXT_texture_filter_anisotropic"),n&&t.type!==THREE.FloatType&&(t.anisotropy>1||t.__oldAnisotropy)&&(Lt.texParameterf(e,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,Dt.getMaxAnisotropy())),t.__oldAnisotropy=t.anisotropy)}function it(e,t){if(e.width>t||e.height>t){var r=t/Math.max(e.width,e.height),n=document.createElement("canvas");n.width=Math.floor(e.width*r),n.height=Math.floor(e.height*r);var i=n.getContext("2d");return i.drawImage(e,0,0,e.width,e.height,0,0,n.width,n.height),console.log("THREE.WebGLRenderer:",e,"is too big ("+e.width+"x"+e.height+"). Resized to "+n.width+"x"+n.height+"."),n}return e}function ot(e,t){if(6===e.image.length)if(e.needsUpdate){e.image.__webglTextureCube||(e.addEventListener("dispose",Ir),e.image.__webglTextureCube=Lt.createTexture(),Dt.info.memory.textures++),Lt.activeTexture(Lt.TEXTURE0+t),Lt.bindTexture(Lt.TEXTURE_CUBE_MAP,e.image.__webglTextureCube),Lt.pixelStorei(Lt.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var r=e instanceof THREE.CompressedTexture,n=e.image[0]instanceof THREE.DataTexture,i=[],o=0;6>o;o++)i[o]=!Dt.autoScaleCubemaps||r||n?n?e.image[o].image:e.image[o]:it(e.image[o],Tr);var a=i[0],s=THREE.Math.isPowerOfTwo(a.width)&&THREE.Math.isPowerOfTwo(a.height),u=ht(e.format),c=ht(e.type);nt(Lt.TEXTURE_CUBE_MAP,e,s);for(var o=0;6>o;o++)if(r)for(var l,h=i[o].mipmaps,f=0,d=h.length;d>f;f++)l=h[f],e.format!==THREE.RGBAFormat&&e.format!==THREE.RGBFormat?Nr().indexOf(u)>-1?Lt.compressedTexImage2D(Lt.TEXTURE_CUBE_MAP_POSITIVE_X+o,f,u,l.width,l.height,0,l.data):console.warn("Attempt to load unsupported compressed texture format"):Lt.texImage2D(Lt.TEXTURE_CUBE_MAP_POSITIVE_X+o,f,u,l.width,l.height,0,u,c,l.data);else n?Lt.texImage2D(Lt.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,u,i[o].width,i[o].height,0,u,c,i[o].data):Lt.texImage2D(Lt.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,u,u,c,i[o]);e.generateMipmaps&&s&&Lt.generateMipmap(Lt.TEXTURE_CUBE_MAP),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()}else Lt.activeTexture(Lt.TEXTURE0+t),Lt.bindTexture(Lt.TEXTURE_CUBE_MAP,e.image.__webglTextureCube)}function at(e,t){Lt.activeTexture(Lt.TEXTURE0+t),Lt.bindTexture(Lt.TEXTURE_CUBE_MAP,e.__webglTexture)}function st(e,t,r){Lt.bindFramebuffer(Lt.FRAMEBUFFER,e),Lt.framebufferTexture2D(Lt.FRAMEBUFFER,Lt.COLOR_ATTACHMENT0,r,t.__webglTexture,0)}function ut(e,t){Lt.bindRenderbuffer(Lt.RENDERBUFFER,e),t.depthBuffer&&!t.stencilBuffer?(Lt.renderbufferStorage(Lt.RENDERBUFFER,Lt.DEPTH_COMPONENT16,t.width,t.height),Lt.framebufferRenderbuffer(Lt.FRAMEBUFFER,Lt.DEPTH_ATTACHMENT,Lt.RENDERBUFFER,e)):t.depthBuffer&&t.stencilBuffer?(Lt.renderbufferStorage(Lt.RENDERBUFFER,Lt.DEPTH_STENCIL,t.width,t.height),Lt.framebufferRenderbuffer(Lt.FRAMEBUFFER,Lt.DEPTH_STENCIL_ATTACHMENT,Lt.RENDERBUFFER,e)):Lt.renderbufferStorage(Lt.RENDERBUFFER,Lt.RGBA4,t.width,t.height)}function ct(e){e instanceof THREE.WebGLRenderTargetCube?(Lt.bindTexture(Lt.TEXTURE_CUBE_MAP,e.__webglTexture),Lt.generateMipmap(Lt.TEXTURE_CUBE_MAP),Lt.bindTexture(Lt.TEXTURE_CUBE_MAP,null)):(Lt.bindTexture(Lt.TEXTURE_2D,e.__webglTexture),Lt.generateMipmap(Lt.TEXTURE_2D),Lt.bindTexture(Lt.TEXTURE_2D,null))}function lt(e){return e===THREE.NearestFilter||e===THREE.NearestMipMapNearestFilter||e===THREE.NearestMipMapLinearFilter?Lt.NEAREST:Lt.LINEAR}function ht(e){var t;if(e===THREE.RepeatWrapping)return Lt.REPEAT;if(e===THREE.ClampToEdgeWrapping)return Lt.CLAMP_TO_EDGE;if(e===THREE.MirroredRepeatWrapping)return Lt.MIRRORED_REPEAT;if(e===THREE.NearestFilter)return Lt.NEAREST;if(e===THREE.NearestMipMapNearestFilter)return Lt.NEAREST_MIPMAP_NEAREST;if(e===THREE.NearestMipMapLinearFilter)return Lt.NEAREST_MIPMAP_LINEAR;if(e===THREE.LinearFilter)return Lt.LINEAR;if(e===THREE.LinearMipMapNearestFilter)return Lt.LINEAR_MIPMAP_NEAREST;if(e===THREE.LinearMipMapLinearFilter)return Lt.LINEAR_MIPMAP_LINEAR;if(e===THREE.UnsignedByteType)return Lt.UNSIGNED_BYTE;if(e===THREE.UnsignedShort4444Type)return Lt.UNSIGNED_SHORT_4_4_4_4;if(e===THREE.UnsignedShort5551Type)return Lt.UNSIGNED_SHORT_5_5_5_1;if(e===THREE.UnsignedShort565Type)return Lt.UNSIGNED_SHORT_5_6_5;if(e===THREE.ByteType)return Lt.BYTE;if(e===THREE.ShortType)return Lt.SHORT;if(e===THREE.UnsignedShortType)return Lt.UNSIGNED_SHORT;if(e===THREE.IntType)return Lt.INT;if(e===THREE.UnsignedIntType)return Lt.UNSIGNED_INT;if(e===THREE.FloatType)return Lt.FLOAT;if(e===THREE.AlphaFormat)return Lt.ALPHA;if(e===THREE.RGBFormat)return Lt.RGB;if(e===THREE.RGBAFormat)return Lt.RGBA;if(e===THREE.LuminanceFormat)return Lt.LUMINANCE;if(e===THREE.LuminanceAlphaFormat)return Lt.LUMINANCE_ALPHA;if(e===THREE.AddEquation)return Lt.FUNC_ADD;if(e===THREE.SubtractEquation)return Lt.FUNC_SUBTRACT;if(e===THREE.ReverseSubtractEquation)return Lt.FUNC_REVERSE_SUBTRACT;if(e===THREE.ZeroFactor)return Lt.ZERO;if(e===THREE.OneFactor)return Lt.ONE;if(e===THREE.SrcColorFactor)return Lt.SRC_COLOR;if(e===THREE.OneMinusSrcColorFactor)return Lt.ONE_MINUS_SRC_COLOR;if(e===THREE.SrcAlphaFactor)return Lt.SRC_ALPHA;if(e===THREE.OneMinusSrcAlphaFactor)return Lt.ONE_MINUS_SRC_ALPHA;if(e===THREE.DstAlphaFactor)return Lt.DST_ALPHA;if(e===THREE.OneMinusDstAlphaFactor)return Lt.ONE_MINUS_DST_ALPHA;if(e===THREE.DstColorFactor)return Lt.DST_COLOR;if(e===THREE.OneMinusDstColorFactor)return Lt.ONE_MINUS_DST_COLOR;if(e===THREE.SrcAlphaSaturateFactor)return Lt.SRC_ALPHA_SATURATE;if(t=vr.get("WEBGL_compressed_texture_s3tc"),null!==t){if(e===THREE.RGB_S3TC_DXT1_Format)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===THREE.RGBA_S3TC_DXT1_Format)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===THREE.RGBA_S3TC_DXT3_Format)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===THREE.RGBA_S3TC_DXT5_Format)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(t=vr.get("WEBGL_compressed_texture_pvrtc"),null!==t){if(e===THREE.RGB_PVRTC_4BPPV1_Format)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===THREE.RGB_PVRTC_2BPPV1_Format)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===THREE.RGBA_PVRTC_4BPPV1_Format)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===THREE.RGBA_PVRTC_2BPPV1_Format)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(t=vr.get("EXT_blend_minmax"),null!==t){if(e===THREE.MinEquation)return t.MIN_EXT;if(e===THREE.MaxEquation)return t.MAX_EXT}return 0}function ft(e){if(Sr&&e&&e.skeleton&&e.skeleton.useVertexTexture)return 1024;var t=Lt.getParameter(Lt.MAX_VERTEX_UNIFORM_VECTORS),r=Math.floor((t-20)/4),n=r;return void 0!==e&&e instanceof THREE.SkinnedMesh&&(n=Math.min(e.skeleton.bones.length,n),n<e.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+e.skeleton.bones.length+", this GPU supports just "+n+" (try OpenGL instead of ANGLE)")),n}function dt(e){for(var t=0,r=0,n=0,i=0,o=0,a=e.length;a>o;o++){var s=e[o];s.onlyShadow||s.visible===!1||(s instanceof THREE.DirectionalLight&&t++,s instanceof THREE.PointLight&&r++,s instanceof THREE.SpotLight&&n++,s instanceof THREE.HemisphereLight&&i++)}return{directional:t,point:r,spot:n,hemi:i}}function pt(e){for(var t=0,r=0,n=e.length;n>r;r++){var i=e[r];i.castShadow&&(i instanceof THREE.SpotLight&&t++,i instanceof THREE.DirectionalLight&&!i.shadowCascade&&t++)}return t}console.log("THREE.WebGLRenderer",THREE.REVISION),e=e||{};var mt=void 0!==e.canvas?e.canvas:document.createElement("canvas"),gt=void 0!==e.context?e.context:null,yt=1,vt=void 0!==e.precision?e.precision:"highp",bt=void 0!==e.alpha?e.alpha:!1,Et=void 0!==e.depth?e.depth:!0,xt=void 0!==e.stencil?e.stencil:!0,wt=void 0!==e.antialias?e.antialias:!1,_t=void 0!==e.premultipliedAlpha?e.premultipliedAlpha:!0,Tt=void 0!==e.preserveDrawingBuffer?e.preserveDrawingBuffer:!1,Rt=void 0!==e.logarithmicDepthBuffer?e.logarithmicDepthBuffer:!1,St=new THREE.Color(0),Ct=0,Ht=[],Mt={},At=[],Nt=[],Pt=[],kt=[],Ot=[];this.domElement=mt,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.gammaInput=!1,this.gammaOutput=!1,this.shadowMapEnabled=!1,this.shadowMapType=THREE.PCFShadowMap,this.shadowMapCullFace=THREE.CullFaceFront,this.shadowMapDebug=!1,this.shadowMapCascade=!1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}};var Lt,Dt=this,Ft=[],Bt=null,It=null,zt=-1,Ut="",Vt=null,jt=0,qt=-1,Gt=-1,Wt=-1,Kt=-1,Xt=-1,Yt=-1,$t=-1,Qt=-1,Zt=null,Jt=null,er=null,tr=null,rr=0,nr=0,ir=mt.width,or=mt.height,ar=0,sr=0,ur=new Uint8Array(16),cr=new Uint8Array(16),lr=new THREE.Frustum,hr=new THREE.Matrix4,fr=(new THREE.Matrix4,new THREE.Vector3),dr=new THREE.Vector3,pr=!0,mr={ambient:[0,0,0],directional:{length:0,colors:[],positions:[]},point:{length:0,colors:[],positions:[],distances:[]},spot:{length:0,colors:[],positions:[],distances:[],directions:[],anglesCos:[],exponents:[]},hemi:{length:0,skyColors:[],groundColors:[],positions:[]}};try{var gr={alpha:bt,depth:Et,stencil:xt,antialias:wt,premultipliedAlpha:_t,preserveDrawingBuffer:Tt};if(Lt=gt||mt.getContext("webgl",gr)||mt.getContext("experimental-webgl",gr),null===Lt)throw null!==mt.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";mt.addEventListener("webglcontextlost",function(e){e.preventDefault(),Er(),br(),Mt={}},!1)}catch(yr){console.error(yr)}void 0===Lt.getShaderPrecisionFormat&&(Lt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});var vr=new THREE.WebGLExtensions(Lt);vr.get("OES_texture_float"),vr.get("OES_texture_float_linear"),vr.get("OES_standard_derivatives"),Rt&&vr.get("EXT_frag_depth");var br=function(){Lt.clearColor(0,0,0,1),Lt.clearDepth(1),Lt.clearStencil(0),Lt.enable(Lt.DEPTH_TEST),Lt.depthFunc(Lt.LEQUAL),Lt.frontFace(Lt.CCW),Lt.cullFace(Lt.BACK),Lt.enable(Lt.CULL_FACE),Lt.enable(Lt.BLEND),Lt.blendEquation(Lt.FUNC_ADD),Lt.blendFunc(Lt.SRC_ALPHA,Lt.ONE_MINUS_SRC_ALPHA),Lt.viewport(rr,nr,ir,or),Lt.clearColor(St.r,St.g,St.b,Ct)},Er=function(){Bt=null,Vt=null,Wt=-1,$t=-1,Qt=-1,qt=-1,Gt=-1,Ut="",zt=-1,pr=!0;for(var e=0;e<cr.length;e++)cr[e]=0};br(),this.context=Lt;var xr=Lt.getParameter(Lt.MAX_TEXTURE_IMAGE_UNITS),wr=Lt.getParameter(Lt.MAX_VERTEX_TEXTURE_IMAGE_UNITS),_r=Lt.getParameter(Lt.MAX_TEXTURE_SIZE),Tr=Lt.getParameter(Lt.MAX_CUBE_MAP_TEXTURE_SIZE),Rr=wr>0,Sr=Rr&&vr.get("OES_texture_float"),Cr=Lt.getShaderPrecisionFormat(Lt.VERTEX_SHADER,Lt.HIGH_FLOAT),Hr=Lt.getShaderPrecisionFormat(Lt.VERTEX_SHADER,Lt.MEDIUM_FLOAT),Mr=(Lt.getShaderPrecisionFormat(Lt.VERTEX_SHADER,Lt.LOW_FLOAT),Lt.getShaderPrecisionFormat(Lt.FRAGMENT_SHADER,Lt.HIGH_FLOAT)),Ar=Lt.getShaderPrecisionFormat(Lt.FRAGMENT_SHADER,Lt.MEDIUM_FLOAT),Nr=(Lt.getShaderPrecisionFormat(Lt.FRAGMENT_SHADER,Lt.LOW_FLOAT),function(){var e;return function(){if(void 0!==e)return e;if(e=[],vr.get("WEBGL_compressed_texture_pvrtc")||vr.get("WEBGL_compressed_texture_s3tc"))for(var t=Lt.getParameter(Lt.COMPRESSED_TEXTURE_FORMATS),r=0;r<t.length;r++)e.push(t[r]);return e}}()),Pr=Cr.precision>0&&Mr.precision>0,kr=Hr.precision>0&&Ar.precision>0;"highp"!==vt||Pr||(kr?(vt="mediump",console.warn("THREE.WebGLRenderer: highp not supported, using mediump.")):(vt="lowp",console.warn("THREE.WebGLRenderer: highp and mediump not supported, using lowp."))),"mediump"!==vt||kr||(vt="lowp",console.warn("THREE.WebGLRenderer: mediump not supported, using lowp."));var Or=new THREE.ShadowMapPlugin(this,Ht,Mt,At),Lr=new THREE.SpritePlugin(this,kt),Dr=new THREE.LensFlarePlugin(this,Ot);this.getContext=function(){return Lt},this.forceContextLoss=function(){vr.get("WEBGL_lose_context").loseContext()},this.supportsVertexTextures=function(){return Rr},this.supportsFloatTextures=function(){return vr.get("OES_texture_float")},this.supportsStandardDerivatives=function(){return vr.get("OES_standard_derivatives")
},this.supportsCompressedTextureS3TC=function(){return vr.get("WEBGL_compressed_texture_s3tc")},this.supportsCompressedTexturePVRTC=function(){return vr.get("WEBGL_compressed_texture_pvrtc")},this.supportsBlendMinMax=function(){return vr.get("EXT_blend_minmax")},this.getMaxAnisotropy=function(){var e;return function(){if(void 0!==e)return e;var t=vr.get("EXT_texture_filter_anisotropic");return e=null!==t?Lt.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}}(),this.getPrecision=function(){return vt},this.getPixelRatio=function(){return yt},this.setPixelRatio=function(e){yt=e},this.setSize=function(e,t,r){mt.width=e*yt,mt.height=t*yt,r!==!1&&(mt.style.width=e+"px",mt.style.height=t+"px"),this.setViewport(0,0,e,t)},this.setViewport=function(e,t,r,n){rr=e*yt,nr=t*yt,ir=r*yt,or=n*yt,Lt.viewport(rr,nr,ir,or)},this.setScissor=function(e,t,r,n){Lt.scissor(e*yt,t*yt,r*yt,n*yt)},this.enableScissorTest=function(e){e?Lt.enable(Lt.SCISSOR_TEST):Lt.disable(Lt.SCISSOR_TEST)},this.getClearColor=function(){return St},this.setClearColor=function(e,t){St.set(e),Ct=void 0!==t?t:1,Lt.clearColor(St.r,St.g,St.b,Ct)},this.getClearAlpha=function(){return Ct},this.setClearAlpha=function(e){Ct=e,Lt.clearColor(St.r,St.g,St.b,Ct)},this.clear=function(e,t,r){var n=0;(void 0===e||e)&&(n|=Lt.COLOR_BUFFER_BIT),(void 0===t||t)&&(n|=Lt.DEPTH_BUFFER_BIT),(void 0===r||r)&&(n|=Lt.STENCIL_BUFFER_BIT),Lt.clear(n)},this.clearColor=function(){Lt.clear(Lt.COLOR_BUFFER_BIT)},this.clearDepth=function(){Lt.clear(Lt.DEPTH_BUFFER_BIT)},this.clearStencil=function(){Lt.clear(Lt.STENCIL_BUFFER_BIT)},this.clearTarget=function(e,t,r,n){this.setRenderTarget(e),this.clear(t,r,n)},this.resetGLState=Er;var Fr=function(e){var t=e.target;t.traverse(function(e){e.removeEventListener("remove",Fr),O(e)})},Br=function(e){var t=e.target;t.removeEventListener("dispose",Br),jr(t)},Ir=function(e){var t=e.target;t.removeEventListener("dispose",Ir),qr(t),Dt.info.memory.textures--},zr=function(e){var t=e.target;t.removeEventListener("dispose",zr),Gr(t),Dt.info.memory.textures--},Ur=function(e){var t=e.target;t.removeEventListener("dispose",Ur),Wr(t)},Vr=function(e){for(var t=["__webglVertexBuffer","__webglNormalBuffer","__webglTangentBuffer","__webglColorBuffer","__webglUVBuffer","__webglUV2Buffer","__webglSkinIndicesBuffer","__webglSkinWeightsBuffer","__webglFaceBuffer","__webglLineBuffer","__webglLineDistanceBuffer"],r=0,n=t.length;n>r;r++){var i=t[r];void 0!==e[i]&&(Lt.deleteBuffer(e[i]),delete e[i])}if(void 0!==e.__webglCustomAttributesList){for(var i in e.__webglCustomAttributesList)Lt.deleteBuffer(e.__webglCustomAttributesList[i].buffer);delete e.__webglCustomAttributesList}Dt.info.memory.geometries--},jr=function(e){if(delete e.__webglInit,e instanceof THREE.BufferGeometry){for(var t in e.attributes){var r=e.attributes[t];void 0!==r.buffer&&(Lt.deleteBuffer(r.buffer),delete r.buffer)}Dt.info.memory.geometries--}else{var n=Kr[e.id];if(void 0!==n){for(var i=0,o=n.length;o>i;i++){var a=n[i];if(void 0!==a.numMorphTargets){for(var s=0,u=a.numMorphTargets;u>s;s++)Lt.deleteBuffer(a.__webglMorphTargetsBuffers[s]);delete a.__webglMorphTargetsBuffers}if(void 0!==a.numMorphNormals){for(var s=0,u=a.numMorphNormals;u>s;s++)Lt.deleteBuffer(a.__webglMorphNormalsBuffers[s]);delete a.__webglMorphNormalsBuffers}Vr(a)}delete Kr[e.id]}else Vr(e)}Ut=""},qr=function(e){if(e.image&&e.image.__webglTextureCube)Lt.deleteTexture(e.image.__webglTextureCube),delete e.image.__webglTextureCube;else{if(void 0===e.__webglInit)return;Lt.deleteTexture(e.__webglTexture),delete e.__webglTexture,delete e.__webglInit}},Gr=function(e){if(e&&void 0!==e.__webglTexture){if(Lt.deleteTexture(e.__webglTexture),delete e.__webglTexture,e instanceof THREE.WebGLRenderTargetCube)for(var t=0;6>t;t++)Lt.deleteFramebuffer(e.__webglFramebuffer[t]),Lt.deleteRenderbuffer(e.__webglRenderbuffer[t]);else Lt.deleteFramebuffer(e.__webglFramebuffer),Lt.deleteRenderbuffer(e.__webglRenderbuffer);delete e.__webglFramebuffer,delete e.__webglRenderbuffer}},Wr=function(e){var t=e.program.program;if(void 0!==t){e.program=void 0;var r,n,i,o=!1;for(r=0,n=Ft.length;n>r;r++)if(i=Ft[r],i.program===t){i.usedTimes--,0===i.usedTimes&&(o=!0);break}if(o===!0){var a=[];for(r=0,n=Ft.length;n>r;r++)i=Ft[r],i.program!==t&&a.push(i);Ft=a,Lt.deleteProgram(t),Dt.info.memory.programs--}}};this.renderBufferImmediate=function(e,t,r){if(p(),e.hasPositions&&!e.__webglVertexBuffer&&(e.__webglVertexBuffer=Lt.createBuffer()),e.hasNormals&&!e.__webglNormalBuffer&&(e.__webglNormalBuffer=Lt.createBuffer()),e.hasUvs&&!e.__webglUvBuffer&&(e.__webglUvBuffer=Lt.createBuffer()),e.hasColors&&!e.__webglColorBuffer&&(e.__webglColorBuffer=Lt.createBuffer()),e.hasPositions&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglVertexBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,e.positionArray,Lt.DYNAMIC_DRAW),m(t.attributes.position),Lt.vertexAttribPointer(t.attributes.position,3,Lt.FLOAT,!1,0,0)),e.hasNormals){if(Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglNormalBuffer),r.shading===THREE.FlatShading){var n,i,o,a,s,u,c,l,h,f,d,y,v,b,E=3*e.count;for(b=0;E>b;b+=9)v=e.normalArray,a=v[b],c=v[b+1],f=v[b+2],s=v[b+3],l=v[b+4],d=v[b+5],u=v[b+6],h=v[b+7],y=v[b+8],n=(a+s+u)/3,i=(c+l+h)/3,o=(f+d+y)/3,v[b]=n,v[b+1]=i,v[b+2]=o,v[b+3]=n,v[b+4]=i,v[b+5]=o,v[b+6]=n,v[b+7]=i,v[b+8]=o}Lt.bufferData(Lt.ARRAY_BUFFER,e.normalArray,Lt.DYNAMIC_DRAW),m(t.attributes.normal),Lt.vertexAttribPointer(t.attributes.normal,3,Lt.FLOAT,!1,0,0)}e.hasUvs&&r.map&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglUvBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,e.uvArray,Lt.DYNAMIC_DRAW),m(t.attributes.uv),Lt.vertexAttribPointer(t.attributes.uv,2,Lt.FLOAT,!1,0,0)),e.hasColors&&r.vertexColors!==THREE.NoColors&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,e.__webglColorBuffer),Lt.bufferData(Lt.ARRAY_BUFFER,e.colorArray,Lt.DYNAMIC_DRAW),m(t.attributes.color),Lt.vertexAttribPointer(t.attributes.color,3,Lt.FLOAT,!1,0,0)),g(),Lt.drawArrays(Lt.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,r,n,i,o){if(n.visible!==!1){N(o);var a=F(e,t,r,n,o),s=!1,u=n.wireframe?1:0,c="direct_"+i.id+"_"+a.id+"_"+u;if(c!==Ut&&(Ut=c,s=!0),s&&p(),o instanceof THREE.Mesh){var l=n.wireframe===!0?Lt.LINES:Lt.TRIANGLES,h=i.attributes.index;if(h){var f,m;h.array instanceof Uint32Array&&vr.get("OES_element_index_uint")?(f=Lt.UNSIGNED_INT,m=4):(f=Lt.UNSIGNED_SHORT,m=2);var g=i.offsets;if(0===g.length)s&&(d(n,a,i,0),Lt.bindBuffer(Lt.ELEMENT_ARRAY_BUFFER,h.buffer)),Lt.drawElements(l,h.array.length,f,0),Dt.info.render.calls++,Dt.info.render.vertices+=h.array.length,Dt.info.render.faces+=h.array.length/3;else{s=!0;for(var y=0,v=g.length;v>y;y++){var b=g[y].index;s&&(d(n,a,i,b),Lt.bindBuffer(Lt.ELEMENT_ARRAY_BUFFER,h.buffer)),Lt.drawElements(l,g[y].count,f,g[y].start*m),Dt.info.render.calls++,Dt.info.render.vertices+=g[y].count,Dt.info.render.faces+=g[y].count/3}}}else{s&&d(n,a,i,0);var E=i.attributes.position;Lt.drawArrays(l,0,E.array.length/3),Dt.info.render.calls++,Dt.info.render.vertices+=E.array.length/3,Dt.info.render.faces+=E.array.length/9}}else if(o instanceof THREE.PointCloud){var l=Lt.POINTS,h=i.attributes.index;if(h){var f,m;h.array instanceof Uint32Array&&vr.get("OES_element_index_uint")?(f=Lt.UNSIGNED_INT,m=4):(f=Lt.UNSIGNED_SHORT,m=2);var g=i.offsets;if(0===g.length)s&&(d(n,a,i,0),Lt.bindBuffer(Lt.ELEMENT_ARRAY_BUFFER,h.buffer)),Lt.drawElements(l,h.array.length,f,0),Dt.info.render.calls++,Dt.info.render.points+=h.array.length;else{g.length>1&&(s=!0);for(var y=0,v=g.length;v>y;y++){var b=g[y].index;s&&(d(n,a,i,b),Lt.bindBuffer(Lt.ELEMENT_ARRAY_BUFFER,h.buffer)),Lt.drawElements(l,g[y].count,f,g[y].start*m),Dt.info.render.calls++,Dt.info.render.points+=g[y].count}}}else{s&&d(n,a,i,0);var E=i.attributes.position,g=i.offsets;if(0===g.length)Lt.drawArrays(l,0,E.array.length/3),Dt.info.render.calls++,Dt.info.render.points+=E.array.length/3;else for(var y=0,v=g.length;v>y;y++)Lt.drawArrays(l,g[y].index,g[y].count),Dt.info.render.calls++,Dt.info.render.points+=g[y].count}}else if(o instanceof THREE.Line){var l=o.mode===THREE.LineStrip?Lt.LINE_STRIP:Lt.LINES;tt(n.linewidth);var h=i.attributes.index;if(h){var f,m;h.array instanceof Uint32Array?(f=Lt.UNSIGNED_INT,m=4):(f=Lt.UNSIGNED_SHORT,m=2);var g=i.offsets;if(0===g.length)s&&(d(n,a,i,0),Lt.bindBuffer(Lt.ELEMENT_ARRAY_BUFFER,h.buffer)),Lt.drawElements(l,h.array.length,f,0),Dt.info.render.calls++,Dt.info.render.vertices+=h.array.length;else{g.length>1&&(s=!0);for(var y=0,v=g.length;v>y;y++){var b=g[y].index;s&&(d(n,a,i,b),Lt.bindBuffer(Lt.ELEMENT_ARRAY_BUFFER,h.buffer)),Lt.drawElements(l,g[y].count,f,g[y].start*m),Dt.info.render.calls++,Dt.info.render.vertices+=g[y].count}}}else{s&&d(n,a,i,0);var E=i.attributes.position,g=i.offsets;if(0===g.length)Lt.drawArrays(l,0,E.array.length/3),Dt.info.render.calls++,Dt.info.render.vertices+=E.array.length/3;else for(var y=0,v=g.length;v>y;y++)Lt.drawArrays(l,g[y].index,g[y].count),Dt.info.render.calls++,Dt.info.render.vertices+=g[y].count}}}},this.renderBuffer=function(e,t,r,n,i,o){if(n.visible!==!1){N(o);var a=F(e,t,r,n,o),s=a.attributes,u=!1,c=n.wireframe?1:0,l=i.id+"_"+a.id+"_"+c;if(l!==Ut&&(Ut=l,u=!0),u&&p(),!n.morphTargets&&s.position>=0?u&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,i.__webglVertexBuffer),m(s.position),Lt.vertexAttribPointer(s.position,3,Lt.FLOAT,!1,0,0)):o.morphTargetBase&&y(n,i,o),u){if(i.__webglCustomAttributesList)for(var h=0,f=i.__webglCustomAttributesList.length;f>h;h++){var d=i.__webglCustomAttributesList[h];s[d.buffer.belongsToAttribute]>=0&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,d.buffer),m(s[d.buffer.belongsToAttribute]),Lt.vertexAttribPointer(s[d.buffer.belongsToAttribute],d.size,Lt.FLOAT,!1,0,0))}s.color>=0&&(o.geometry.colors.length>0||o.geometry.faces.length>0?(Lt.bindBuffer(Lt.ARRAY_BUFFER,i.__webglColorBuffer),m(s.color),Lt.vertexAttribPointer(s.color,3,Lt.FLOAT,!1,0,0)):void 0!==n.defaultAttributeValues&&Lt.vertexAttrib3fv(s.color,n.defaultAttributeValues.color)),s.normal>=0&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,i.__webglNormalBuffer),m(s.normal),Lt.vertexAttribPointer(s.normal,3,Lt.FLOAT,!1,0,0)),s.tangent>=0&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,i.__webglTangentBuffer),m(s.tangent),Lt.vertexAttribPointer(s.tangent,4,Lt.FLOAT,!1,0,0)),s.uv>=0&&(o.geometry.faceVertexUvs[0]?(Lt.bindBuffer(Lt.ARRAY_BUFFER,i.__webglUVBuffer),m(s.uv),Lt.vertexAttribPointer(s.uv,2,Lt.FLOAT,!1,0,0)):void 0!==n.defaultAttributeValues&&Lt.vertexAttrib2fv(s.uv,n.defaultAttributeValues.uv)),s.uv2>=0&&(o.geometry.faceVertexUvs[1]?(Lt.bindBuffer(Lt.ARRAY_BUFFER,i.__webglUV2Buffer),m(s.uv2),Lt.vertexAttribPointer(s.uv2,2,Lt.FLOAT,!1,0,0)):void 0!==n.defaultAttributeValues&&Lt.vertexAttrib2fv(s.uv2,n.defaultAttributeValues.uv2)),n.skinning&&s.skinIndex>=0&&s.skinWeight>=0&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,i.__webglSkinIndicesBuffer),m(s.skinIndex),Lt.vertexAttribPointer(s.skinIndex,4,Lt.FLOAT,!1,0,0),Lt.bindBuffer(Lt.ARRAY_BUFFER,i.__webglSkinWeightsBuffer),m(s.skinWeight),Lt.vertexAttribPointer(s.skinWeight,4,Lt.FLOAT,!1,0,0)),s.lineDistance>=0&&(Lt.bindBuffer(Lt.ARRAY_BUFFER,i.__webglLineDistanceBuffer),m(s.lineDistance),Lt.vertexAttribPointer(s.lineDistance,1,Lt.FLOAT,!1,0,0))}if(g(),o instanceof THREE.Mesh){var v=i.__typeArray===Uint32Array?Lt.UNSIGNED_INT:Lt.UNSIGNED_SHORT;n.wireframe?(tt(n.wireframeLinewidth),u&&Lt.bindBuffer(Lt.ELEMENT_ARRAY_BUFFER,i.__webglLineBuffer),Lt.drawElements(Lt.LINES,i.__webglLineCount,v,0)):(u&&Lt.bindBuffer(Lt.ELEMENT_ARRAY_BUFFER,i.__webglFaceBuffer),Lt.drawElements(Lt.TRIANGLES,i.__webglFaceCount,v,0)),Dt.info.render.calls++,Dt.info.render.vertices+=i.__webglFaceCount,Dt.info.render.faces+=i.__webglFaceCount/3}else if(o instanceof THREE.Line){var b=o.mode===THREE.LineStrip?Lt.LINE_STRIP:Lt.LINES;tt(n.linewidth),Lt.drawArrays(b,0,i.__webglLineCount),Dt.info.render.calls++}else o instanceof THREE.PointCloud&&(Lt.drawArrays(Lt.POINTS,0,i.__webglParticleCount),Dt.info.render.calls++,Dt.info.render.points+=i.__webglParticleCount)}},this.render=function(e,t,r,n){if(t instanceof THREE.Camera==!1)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");var i=e.fog;Ut="",zt=-1,Vt=null,pr=!0,e.autoUpdate===!0&&e.updateMatrixWorld(),void 0===t.parent&&t.updateMatrixWorld(),e.traverse(function(e){e instanceof THREE.SkinnedMesh&&e.skeleton.update()}),t.matrixWorldInverse.getInverse(t.matrixWorld),hr.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),lr.setFromMatrix(hr),Ht.length=0,Nt.length=0,Pt.length=0,kt.length=0,Ot.length=0,x(e),Dt.sortObjects===!0&&(Nt.sort(v),Pt.sort(b)),Or.render(e,t),Dt.info.render.calls=0,Dt.info.render.vertices=0,Dt.info.render.faces=0,Dt.info.render.points=0,this.setRenderTarget(r),(this.autoClear||n)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);for(var o=0,a=At.length;a>o;o++){var s=At[o],u=s.object;u.visible&&(Q(u,t),T(s))}if(e.overrideMaterial){var c=e.overrideMaterial;this.setBlending(c.blending,c.blendEquation,c.blendSrc,c.blendDst),this.setDepthTest(c.depthTest),this.setDepthWrite(c.depthWrite),rt(c.polygonOffset,c.polygonOffsetFactor,c.polygonOffsetUnits),w(Nt,t,Ht,i,!0,c),w(Pt,t,Ht,i,!0,c),_(At,"",t,Ht,i,!1,c)}else{var c=null;this.setBlending(THREE.NoBlending),w(Nt,t,Ht,i,!1,c),_(At,"opaque",t,Ht,i,!1,c),w(Pt,t,Ht,i,!0,c),_(At,"transparent",t,Ht,i,!0,c)}Lr.render(e,t),Dr.render(e,t,ar,sr),r&&r.generateMipmaps&&r.minFilter!==THREE.NearestFilter&&r.minFilter!==THREE.LinearFilter&&ct(r),this.setDepthTest(!0),this.setDepthWrite(!0)},this.renderImmediateObject=function(e,t,r,n,i){var o=F(e,t,r,n,i);Ut="",Dt.setMaterialFaces(n),i.immediateRenderCallback?i.immediateRenderCallback(o,Lt,lr):i.render(function(e){Dt.renderBufferImmediate(e,o,n)})};var Kr={},Xr=0,Yr={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointCloudMaterial:"particle_basic"};this.setFaceCulling=function(e,t){e===THREE.CullFaceNone?Lt.disable(Lt.CULL_FACE):(Lt.frontFace(t===THREE.FrontFaceDirectionCW?Lt.CW:Lt.CCW),Lt.cullFace(e===THREE.CullFaceBack?Lt.BACK:e===THREE.CullFaceFront?Lt.FRONT:Lt.FRONT_AND_BACK),Lt.enable(Lt.CULL_FACE))},this.setMaterialFaces=function(e){var t=e.side===THREE.DoubleSide,r=e.side===THREE.BackSide;qt!==t&&(t?Lt.disable(Lt.CULL_FACE):Lt.enable(Lt.CULL_FACE),qt=t),Gt!==r&&(Lt.frontFace(r?Lt.CW:Lt.CCW),Gt=r)},this.setDepthTest=function(e){$t!==e&&(e?Lt.enable(Lt.DEPTH_TEST):Lt.disable(Lt.DEPTH_TEST),$t=e)},this.setDepthWrite=function(e){Qt!==e&&(Lt.depthMask(e),Qt=e)},this.setBlending=function(e,t,r,n){e!==Wt&&(e===THREE.NoBlending?Lt.disable(Lt.BLEND):e===THREE.AdditiveBlending?(Lt.enable(Lt.BLEND),Lt.blendEquation(Lt.FUNC_ADD),Lt.blendFunc(Lt.SRC_ALPHA,Lt.ONE)):e===THREE.SubtractiveBlending?(Lt.enable(Lt.BLEND),Lt.blendEquation(Lt.FUNC_ADD),Lt.blendFunc(Lt.ZERO,Lt.ONE_MINUS_SRC_COLOR)):e===THREE.MultiplyBlending?(Lt.enable(Lt.BLEND),Lt.blendEquation(Lt.FUNC_ADD),Lt.blendFunc(Lt.ZERO,Lt.SRC_COLOR)):e===THREE.CustomBlending?Lt.enable(Lt.BLEND):(Lt.enable(Lt.BLEND),Lt.blendEquationSeparate(Lt.FUNC_ADD,Lt.FUNC_ADD),Lt.blendFuncSeparate(Lt.SRC_ALPHA,Lt.ONE_MINUS_SRC_ALPHA,Lt.ONE,Lt.ONE_MINUS_SRC_ALPHA)),Wt=e),e===THREE.CustomBlending?(t!==Kt&&(Lt.blendEquation(ht(t)),Kt=t),(r!==Xt||n!==Yt)&&(Lt.blendFunc(ht(r),ht(n)),Xt=r,Yt=n)):(Kt=null,Xt=null,Yt=null)},this.uploadTexture=function(e){void 0===e.__webglInit&&(e.__webglInit=!0,e.addEventListener("dispose",Ir),e.__webglTexture=Lt.createTexture(),Dt.info.memory.textures++),Lt.bindTexture(Lt.TEXTURE_2D,e.__webglTexture),Lt.pixelStorei(Lt.UNPACK_FLIP_Y_WEBGL,e.flipY),Lt.pixelStorei(Lt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),Lt.pixelStorei(Lt.UNPACK_ALIGNMENT,e.unpackAlignment),e.image=it(e.image,_r);var t=e.image,r=THREE.Math.isPowerOfTwo(t.width)&&THREE.Math.isPowerOfTwo(t.height),n=ht(e.format),i=ht(e.type);nt(Lt.TEXTURE_2D,e,r);var o,a=e.mipmaps;if(e instanceof THREE.DataTexture)if(a.length>0&&r){for(var s=0,u=a.length;u>s;s++)o=a[s],Lt.texImage2D(Lt.TEXTURE_2D,s,n,o.width,o.height,0,n,i,o.data);e.generateMipmaps=!1}else Lt.texImage2D(Lt.TEXTURE_2D,0,n,t.width,t.height,0,n,i,t.data);else if(e instanceof THREE.CompressedTexture)for(var s=0,u=a.length;u>s;s++)o=a[s],e.format!==THREE.RGBAFormat&&e.format!==THREE.RGBFormat?Nr().indexOf(n)>-1?Lt.compressedTexImage2D(Lt.TEXTURE_2D,s,n,o.width,o.height,0,o.data):console.warn("Attempt to load unsupported compressed texture format"):Lt.texImage2D(Lt.TEXTURE_2D,s,n,o.width,o.height,0,n,i,o.data);else if(a.length>0&&r){for(var s=0,u=a.length;u>s;s++)o=a[s],Lt.texImage2D(Lt.TEXTURE_2D,s,n,n,i,o);e.generateMipmaps=!1}else Lt.texImage2D(Lt.TEXTURE_2D,0,n,n,i,e.image);e.generateMipmaps&&r&&Lt.generateMipmap(Lt.TEXTURE_2D),e.needsUpdate=!1,e.onUpdate&&e.onUpdate()},this.setTexture=function(e,t){Lt.activeTexture(Lt.TEXTURE0+t),e.needsUpdate?Dt.uploadTexture(e):Lt.bindTexture(Lt.TEXTURE_2D,e.__webglTexture)},this.setRenderTarget=function(e){var t=e instanceof THREE.WebGLRenderTargetCube;if(e&&void 0===e.__webglFramebuffer){void 0===e.depthBuffer&&(e.depthBuffer=!0),void 0===e.stencilBuffer&&(e.stencilBuffer=!0),e.addEventListener("dispose",zr),e.__webglTexture=Lt.createTexture(),Dt.info.memory.textures++;var r=THREE.Math.isPowerOfTwo(e.width)&&THREE.Math.isPowerOfTwo(e.height),n=ht(e.format),i=ht(e.type);if(t){e.__webglFramebuffer=[],e.__webglRenderbuffer=[],Lt.bindTexture(Lt.TEXTURE_CUBE_MAP,e.__webglTexture),nt(Lt.TEXTURE_CUBE_MAP,e,r);for(var o=0;6>o;o++)e.__webglFramebuffer[o]=Lt.createFramebuffer(),e.__webglRenderbuffer[o]=Lt.createRenderbuffer(),Lt.texImage2D(Lt.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,n,e.width,e.height,0,n,i,null),st(e.__webglFramebuffer[o],e,Lt.TEXTURE_CUBE_MAP_POSITIVE_X+o),ut(e.__webglRenderbuffer[o],e);r&&Lt.generateMipmap(Lt.TEXTURE_CUBE_MAP)}else e.__webglFramebuffer=Lt.createFramebuffer(),e.__webglRenderbuffer=e.shareDepthFrom?e.shareDepthFrom.__webglRenderbuffer:Lt.createRenderbuffer(),Lt.bindTexture(Lt.TEXTURE_2D,e.__webglTexture),nt(Lt.TEXTURE_2D,e,r),Lt.texImage2D(Lt.TEXTURE_2D,0,n,e.width,e.height,0,n,i,null),st(e.__webglFramebuffer,e,Lt.TEXTURE_2D),e.shareDepthFrom?e.depthBuffer&&!e.stencilBuffer?Lt.framebufferRenderbuffer(Lt.FRAMEBUFFER,Lt.DEPTH_ATTACHMENT,Lt.RENDERBUFFER,e.__webglRenderbuffer):e.depthBuffer&&e.stencilBuffer&&Lt.framebufferRenderbuffer(Lt.FRAMEBUFFER,Lt.DEPTH_STENCIL_ATTACHMENT,Lt.RENDERBUFFER,e.__webglRenderbuffer):ut(e.__webglRenderbuffer,e),r&&Lt.generateMipmap(Lt.TEXTURE_2D);t?Lt.bindTexture(Lt.TEXTURE_CUBE_MAP,null):Lt.bindTexture(Lt.TEXTURE_2D,null),Lt.bindRenderbuffer(Lt.RENDERBUFFER,null),Lt.bindFramebuffer(Lt.FRAMEBUFFER,null)}var a,s,u,c,l;e?(a=t?e.__webglFramebuffer[e.activeCubeFace]:e.__webglFramebuffer,s=e.width,u=e.height,c=0,l=0):(a=null,s=ir,u=or,c=rr,l=nr),a!==It&&(Lt.bindFramebuffer(Lt.FRAMEBUFFER,a),Lt.viewport(c,l,s,u),It=a),ar=s,sr=u},this.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},this.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},this.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},this.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}},THREE.WebGLRenderTarget=function(e,t,r){this.width=e,this.height=t,r=r||{},this.wrapS=void 0!==r.wrapS?r.wrapS:THREE.ClampToEdgeWrapping,this.wrapT=void 0!==r.wrapT?r.wrapT:THREE.ClampToEdgeWrapping,this.magFilter=void 0!==r.magFilter?r.magFilter:THREE.LinearFilter,this.minFilter=void 0!==r.minFilter?r.minFilter:THREE.LinearMipMapLinearFilter,this.anisotropy=void 0!==r.anisotropy?r.anisotropy:1,this.offset=new THREE.Vector2(0,0),this.repeat=new THREE.Vector2(1,1),this.format=void 0!==r.format?r.format:THREE.RGBAFormat,this.type=void 0!==r.type?r.type:THREE.UnsignedByteType,this.depthBuffer=void 0!==r.depthBuffer?r.depthBuffer:!0,this.stencilBuffer=void 0!==r.stencilBuffer?r.stencilBuffer:!0,this.generateMipmaps=!0,this.shareDepthFrom=null},THREE.WebGLRenderTarget.prototype={constructor:THREE.WebGLRenderTarget,setSize:function(e,t){this.width=e,this.height=t},clone:function(){var e=new THREE.WebGLRenderTarget(this.width,this.height);return e.wrapS=this.wrapS,e.wrapT=this.wrapT,e.magFilter=this.magFilter,e.minFilter=this.minFilter,e.anisotropy=this.anisotropy,e.offset.copy(this.offset),e.repeat.copy(this.repeat),e.format=this.format,e.type=this.type,e.depthBuffer=this.depthBuffer,e.stencilBuffer=this.stencilBuffer,e.generateMipmaps=this.generateMipmaps,e.shareDepthFrom=this.shareDepthFrom,e},dispose:function(){this.dispatchEvent({type:"dispose"})}},THREE.EventDispatcher.prototype.apply(THREE.WebGLRenderTarget.prototype),THREE.WebGLRenderTargetCube=function(e,t,r){THREE.WebGLRenderTarget.call(this,e,t,r),this.activeCubeFace=0},THREE.WebGLRenderTargetCube.prototype=Object.create(THREE.WebGLRenderTarget.prototype),THREE.WebGLRenderTargetCube.prototype.constructor=THREE.WebGLRenderTargetCube,THREE.WebGLExtensions=function(e){var t={};this.get=function(r){if(void 0!==t[r])return t[r];var n;switch(r){case"EXT_texture_filter_anisotropic":n=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=e.getExtension(r)}return null===n&&console.log("THREE.WebGLRenderer: "+r+" extension not supported."),t[r]=n,n}},THREE.WebGLProgram=function(){var e=0,t=function(e){var t,r,n=[];for(var i in e)t=e[i],t!==!1&&(r="#define "+i+" "+t,n.push(r));return n.join("\n")},r=function(e,t,r){for(var n={},i=0,o=r.length;o>i;i++){var a=r[i];n[a]=e.getUniformLocation(t,a)}return n},n=function(e,t,r){for(var n={},i=0,o=r.length;o>i;i++){var a=r[i];n[a]=e.getAttribLocation(t,a)}return n};return function(i,o,a,s){var u=i,c=u.context,l=a.defines,h=a.__webglShader.uniforms,f=a.attributes,d=a.__webglShader.vertexShader,p=a.__webglShader.fragmentShader,m=a.index0AttributeName;void 0===m&&s.morphTargets===!0&&(m="position");var g="SHADOWMAP_TYPE_BASIC";s.shadowMapType===THREE.PCFShadowMap?g="SHADOWMAP_TYPE_PCF":s.shadowMapType===THREE.PCFSoftShadowMap&&(g="SHADOWMAP_TYPE_PCF_SOFT");var y="ENVMAP_TYPE_CUBE",v="ENVMAP_MODE_REFLECTION",b="ENVMAP_BLENDING_MULTIPLY";if(s.envMap){switch(a.envMap.mapping){case THREE.CubeReflectionMapping:case THREE.CubeRefractionMapping:y="ENVMAP_TYPE_CUBE";break;case THREE.EquirectangularReflectionMapping:case THREE.EquirectangularRefractionMapping:y="ENVMAP_TYPE_EQUIREC";break;case THREE.SphericalReflectionMapping:y="ENVMAP_TYPE_SPHERE"}switch(a.envMap.mapping){case THREE.CubeRefractionMapping:case THREE.EquirectangularRefractionMapping:v="ENVMAP_MODE_REFRACTION"}switch(a.combine){case THREE.MultiplyOperation:b="ENVMAP_BLENDING_MULTIPLY";break;case THREE.MixOperation:b="ENVMAP_BLENDING_MIX";break;case THREE.AddOperation:b="ENVMAP_BLENDING_ADD"}}var E,x,w=t(l),_=c.createProgram();a instanceof THREE.RawShaderMaterial?(E="",x=""):(E=["precision "+s.precision+" float;","precision "+s.precision+" int;",w,s.supportsVertexTextures?"#define VERTEX_TEXTURES":"",u.gammaInput?"#define GAMMA_INPUT":"",u.gammaOutput?"#define GAMMA_OUTPUT":"","#define MAX_DIR_LIGHTS "+s.maxDirLights,"#define MAX_POINT_LIGHTS "+s.maxPointLights,"#define MAX_SPOT_LIGHTS "+s.maxSpotLights,"#define MAX_HEMI_LIGHTS "+s.maxHemiLights,"#define MAX_SHADOWS "+s.maxShadows,"#define MAX_BONES "+s.maxBones,s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+v:"",s.lightMap?"#define USE_LIGHTMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.vertexColors?"#define USE_COLOR":"",s.skinning?"#define USE_SKINNING":"",s.useVertexTexture?"#define BONE_TEXTURE":"",s.morphTargets?"#define USE_MORPHTARGETS":"",s.morphNormals?"#define USE_MORPHNORMALS":"",s.wrapAround?"#define WRAP_AROUND":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+g:"",s.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",s.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",s.sizeAttenuation?"#define USE_SIZEATTENUATION":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","attribute vec2 uv2;","#ifdef USE_COLOR","	attribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",""].join("\n"),x=["precision "+s.precision+" float;","precision "+s.precision+" int;",s.bumpMap||s.normalMap?"#extension GL_OES_standard_derivatives : enable":"",w,"#define MAX_DIR_LIGHTS "+s.maxDirLights,"#define MAX_POINT_LIGHTS "+s.maxPointLights,"#define MAX_SPOT_LIGHTS "+s.maxSpotLights,"#define MAX_HEMI_LIGHTS "+s.maxHemiLights,"#define MAX_SHADOWS "+s.maxShadows,s.alphaTest?"#define ALPHATEST "+s.alphaTest:"",u.gammaInput?"#define GAMMA_INPUT":"",u.gammaOutput?"#define GAMMA_OUTPUT":"",s.useFog&&s.fog?"#define USE_FOG":"",s.useFog&&s.fogExp?"#define FOG_EXP2":"",s.map?"#define USE_MAP":"",s.envMap?"#define USE_ENVMAP":"",s.envMap?"#define "+y:"",s.envMap?"#define "+v:"",s.envMap?"#define "+b:"",s.lightMap?"#define USE_LIGHTMAP":"",s.bumpMap?"#define USE_BUMPMAP":"",s.normalMap?"#define USE_NORMALMAP":"",s.specularMap?"#define USE_SPECULARMAP":"",s.alphaMap?"#define USE_ALPHAMAP":"",s.vertexColors?"#define USE_COLOR":"",s.metal?"#define METAL":"",s.wrapAround?"#define WRAP_AROUND":"",s.doubleSided?"#define DOUBLE_SIDED":"",s.flipSided?"#define FLIP_SIDED":"",s.shadowMapEnabled?"#define USE_SHADOWMAP":"",s.shadowMapEnabled?"#define "+g:"",s.shadowMapDebug?"#define SHADOWMAP_DEBUG":"",s.shadowMapCascade?"#define SHADOWMAP_CASCADE":"",s.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",""].join("\n"));var T=new THREE.WebGLShader(c,c.VERTEX_SHADER,E+d),R=new THREE.WebGLShader(c,c.FRAGMENT_SHADER,x+p);c.attachShader(_,T),c.attachShader(_,R),void 0!==m&&c.bindAttribLocation(_,0,m),c.linkProgram(_),c.getProgramParameter(_,c.LINK_STATUS)===!1&&(console.error("THREE.WebGLProgram: Could not initialise shader."),console.error("gl.VALIDATE_STATUS",c.getProgramParameter(_,c.VALIDATE_STATUS)),console.error("gl.getError()",c.getError())),""!==c.getProgramInfoLog(_)&&console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",c.getProgramInfoLog(_)),c.deleteShader(T),c.deleteShader(R);var S=["viewMatrix","modelViewMatrix","projectionMatrix","normalMatrix","modelMatrix","cameraPosition","morphTargetInfluences","bindMatrix","bindMatrixInverse"];s.useVertexTexture?(S.push("boneTexture"),S.push("boneTextureWidth"),S.push("boneTextureHeight")):S.push("boneGlobalMatrices"),s.logarithmicDepthBuffer&&S.push("logDepthBufFC");for(var C in h)S.push(C);this.uniforms=r(c,_,S),S=["position","normal","uv","uv2","tangent","color","skinIndex","skinWeight","lineDistance"];for(var H=0;H<s.maxMorphTargets;H++)S.push("morphTarget"+H);for(var H=0;H<s.maxMorphNormals;H++)S.push("morphNormal"+H);for(var M in f)S.push(M);return this.attributes=n(c,_,S),this.attributesKeys=Object.keys(this.attributes),this.id=e++,this.code=o,this.usedTimes=1,this.program=_,this.vertexShader=T,this.fragmentShader=R,this}}(),THREE.WebGLShader=function(){var e=function(e){for(var t=e.split("\n"),r=0;r<t.length;r++)t[r]=r+1+": "+t[r];return t.join("\n")};return function(t,r,n){var i=t.createShader(r);return t.shaderSource(i,n),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)===!1&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==t.getShaderInfoLog(i)&&(console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",t.getShaderInfoLog(i)),console.warn(e(n))),i}}(),THREE.LensFlarePlugin=function(e,t){function r(t){var r=h.createProgram(),n=h.createShader(h.FRAGMENT_SHADER),i=h.createShader(h.VERTEX_SHADER),o="precision "+e.getPrecision()+" float;\n";return h.shaderSource(n,o+t.fragmentShader),h.shaderSource(i,o+t.vertexShader),h.compileShader(n),h.compileShader(i),h.attachShader(r,n),h.attachShader(r,i),h.linkProgram(r),r}var n,i,o,a,s,u,c,l,h=e.context,f=function(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),t=new Uint16Array([0,1,2,0,2,3]);n=h.createBuffer(),i=h.createBuffer(),h.bindBuffer(h.ARRAY_BUFFER,n),h.bufferData(h.ARRAY_BUFFER,e,h.STATIC_DRAW),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,i),h.bufferData(h.ELEMENT_ARRAY_BUFFER,t,h.STATIC_DRAW),c=h.createTexture(),l=h.createTexture(),h.bindTexture(h.TEXTURE_2D,c),h.texImage2D(h.TEXTURE_2D,0,h.RGB,16,16,0,h.RGB,h.UNSIGNED_BYTE,null),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.bindTexture(h.TEXTURE_2D,l),h.texImage2D(h.TEXTURE_2D,0,h.RGBA,16,16,0,h.RGBA,h.UNSIGNED_BYTE,null),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),u=h.getParameter(h.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;var f;f=u?{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")}:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},o=r(f),a={vertex:h.getAttribLocation(o,"position"),uv:h.getAttribLocation(o,"uv")},s={renderType:h.getUniformLocation(o,"renderType"),map:h.getUniformLocation(o,"map"),occlusionMap:h.getUniformLocation(o,"occlusionMap"),opacity:h.getUniformLocation(o,"opacity"),color:h.getUniformLocation(o,"color"),scale:h.getUniformLocation(o,"scale"),rotation:h.getUniformLocation(o,"rotation"),screenPosition:h.getUniformLocation(o,"screenPosition")}
};this.render=function(r,d,p,m){if(0!==t.length){var g=new THREE.Vector3,y=m/p,v=.5*p,b=.5*m,E=16/m,x=new THREE.Vector2(E*y,E),w=new THREE.Vector3(1,1,0),_=new THREE.Vector2(1,1);void 0===o&&f(),h.useProgram(o),h.enableVertexAttribArray(a.vertex),h.enableVertexAttribArray(a.uv),h.uniform1i(s.occlusionMap,0),h.uniform1i(s.map,1),h.bindBuffer(h.ARRAY_BUFFER,n),h.vertexAttribPointer(a.vertex,2,h.FLOAT,!1,16,0),h.vertexAttribPointer(a.uv,2,h.FLOAT,!1,16,8),h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,i),h.disable(h.CULL_FACE),h.depthMask(!1);for(var T=0,R=t.length;R>T;T++){E=16/m,x.set(E*y,E);var S=t[T];if(g.set(S.matrixWorld.elements[12],S.matrixWorld.elements[13],S.matrixWorld.elements[14]),g.applyMatrix4(d.matrixWorldInverse),g.applyProjection(d.projectionMatrix),w.copy(g),_.x=w.x*v+v,_.y=w.y*b+b,u||_.x>0&&_.x<p&&_.y>0&&_.y<m){h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,c),h.copyTexImage2D(h.TEXTURE_2D,0,h.RGB,_.x-8,_.y-8,16,16,0),h.uniform1i(s.renderType,0),h.uniform2f(s.scale,x.x,x.y),h.uniform3f(s.screenPosition,w.x,w.y,w.z),h.disable(h.BLEND),h.enable(h.DEPTH_TEST),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0),h.activeTexture(h.TEXTURE0),h.bindTexture(h.TEXTURE_2D,l),h.copyTexImage2D(h.TEXTURE_2D,0,h.RGBA,_.x-8,_.y-8,16,16,0),h.uniform1i(s.renderType,1),h.disable(h.DEPTH_TEST),h.activeTexture(h.TEXTURE1),h.bindTexture(h.TEXTURE_2D,c),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0),S.positionScreen.copy(w),S.customUpdateCallback?S.customUpdateCallback(S):S.updateLensFlares(),h.uniform1i(s.renderType,2),h.enable(h.BLEND);for(var C=0,H=S.lensFlares.length;H>C;C++){var M=S.lensFlares[C];M.opacity>.001&&M.scale>.001&&(w.x=M.x,w.y=M.y,w.z=M.z,E=M.size*M.scale/m,x.x=E*y,x.y=E,h.uniform3f(s.screenPosition,w.x,w.y,w.z),h.uniform2f(s.scale,x.x,x.y),h.uniform1f(s.rotation,M.rotation),h.uniform1f(s.opacity,M.opacity),h.uniform3f(s.color,M.color.r,M.color.g,M.color.b),e.setBlending(M.blending,M.blendEquation,M.blendSrc,M.blendDst),e.setTexture(M.texture,1),h.drawElements(h.TRIANGLES,6,h.UNSIGNED_SHORT,0))}}}h.enable(h.CULL_FACE),h.enable(h.DEPTH_TEST),h.depthMask(!0),e.resetGLState()}}},THREE.ShadowMapPlugin=function(e,t,r,n){function i(e,t,n){if(t.visible){var o=r[t.id];if(o&&t.castShadow&&(t.frustumCulled===!1||p.intersectsObject(t)===!0))for(var a=0,s=o.length;s>a;a++){var u=o[a];t._modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),b.push(u)}for(var a=0,s=t.children.length;s>a;a++)i(e,t.children[a],n)}}function o(e,t){var r=new THREE.DirectionalLight;r.isVirtual=!0,r.onlyShadow=!0,r.castShadow=!0,r.shadowCameraNear=e.shadowCameraNear,r.shadowCameraFar=e.shadowCameraFar,r.shadowCameraLeft=e.shadowCameraLeft,r.shadowCameraRight=e.shadowCameraRight,r.shadowCameraBottom=e.shadowCameraBottom,r.shadowCameraTop=e.shadowCameraTop,r.shadowCameraVisible=e.shadowCameraVisible,r.shadowDarkness=e.shadowDarkness,r.shadowBias=e.shadowCascadeBias[t],r.shadowMapWidth=e.shadowCascadeWidth[t],r.shadowMapHeight=e.shadowCascadeHeight[t],r.pointsWorld=[],r.pointsFrustum=[];for(var n=r.pointsWorld,i=r.pointsFrustum,o=0;8>o;o++)n[o]=new THREE.Vector3,i[o]=new THREE.Vector3;var a=e.shadowCascadeNearZ[t],s=e.shadowCascadeFarZ[t];return i[0].set(-1,-1,a),i[1].set(1,-1,a),i[2].set(-1,1,a),i[3].set(1,1,a),i[4].set(-1,-1,s),i[5].set(1,-1,s),i[6].set(-1,1,s),i[7].set(1,1,s),r}function a(e,t){var r=e.shadowCascadeArray[t];r.position.copy(e.position),r.target.position.copy(e.target.position),r.lookAt(r.target),r.shadowCameraVisible=e.shadowCameraVisible,r.shadowDarkness=e.shadowDarkness,r.shadowBias=e.shadowCascadeBias[t];var n=e.shadowCascadeNearZ[t],i=e.shadowCascadeFarZ[t],o=r.pointsFrustum;o[0].z=n,o[1].z=n,o[2].z=n,o[3].z=n,o[4].z=i,o[5].z=i,o[6].z=i,o[7].z=i}function s(e,t){var r=t.shadowCamera,n=t.pointsFrustum,i=t.pointsWorld;g.set(1/0,1/0,1/0),y.set(-1/0,-1/0,-1/0);for(var o=0;8>o;o++){var a=i[o];a.copy(n[o]),a.unproject(e),a.applyMatrix4(r.matrixWorldInverse),a.x<g.x&&(g.x=a.x),a.x>y.x&&(y.x=a.x),a.y<g.y&&(g.y=a.y),a.y>y.y&&(y.y=a.y),a.z<g.z&&(g.z=a.z),a.z>y.z&&(y.z=a.z)}r.left=g.x,r.right=y.x,r.top=y.y,r.bottom=g.y,r.updateProjectionMatrix()}function u(e){return e.material instanceof THREE.MeshFaceMaterial?e.material.materials[0]:e.material}var c,l,h,f,d=e.context,p=new THREE.Frustum,m=new THREE.Matrix4,g=new THREE.Vector3,y=new THREE.Vector3,v=new THREE.Vector3,b=[],E=THREE.ShaderLib.depthRGBA,x=THREE.UniformsUtils.clone(E.uniforms);c=new THREE.ShaderMaterial({uniforms:x,vertexShader:E.vertexShader,fragmentShader:E.fragmentShader}),l=new THREE.ShaderMaterial({uniforms:x,vertexShader:E.vertexShader,fragmentShader:E.fragmentShader,morphTargets:!0}),h=new THREE.ShaderMaterial({uniforms:x,vertexShader:E.vertexShader,fragmentShader:E.fragmentShader,skinning:!0}),f=new THREE.ShaderMaterial({uniforms:x,vertexShader:E.vertexShader,fragmentShader:E.fragmentShader,morphTargets:!0,skinning:!0}),c._shadowPass=!0,l._shadowPass=!0,h._shadowPass=!0,f._shadowPass=!0,this.render=function(r,g){if(e.shadowMapEnabled!==!1){var y,E,x,w,_,T,R,S,C,H,M,A,N,P=[],k=0,O=null;for(d.clearColor(1,1,1,1),d.disable(d.BLEND),d.enable(d.CULL_FACE),d.frontFace(d.CCW),d.cullFace(e.shadowMapCullFace===THREE.CullFaceFront?d.FRONT:d.BACK),e.setDepthTest(!0),y=0,E=t.length;E>y;y++)if(N=t[y],N.castShadow)if(N instanceof THREE.DirectionalLight&&N.shadowCascade)for(_=0;_<N.shadowCascadeCount;_++){var L;if(N.shadowCascadeArray[_])L=N.shadowCascadeArray[_];else{L=o(N,_),L.originalCamera=g;var D=new THREE.Gyroscope;D.position.copy(N.shadowCascadeOffset),D.add(L),D.add(L.target),g.add(D),N.shadowCascadeArray[_]=L,console.log("Created virtualLight",L)}a(N,_),P[k]=L,k++}else P[k]=N,k++;for(y=0,E=P.length;E>y;y++){if(N=P[y],!N.shadowMap){var F=THREE.LinearFilter;e.shadowMapType===THREE.PCFSoftShadowMap&&(F=THREE.NearestFilter);var B={minFilter:F,magFilter:F,format:THREE.RGBAFormat};N.shadowMap=new THREE.WebGLRenderTarget(N.shadowMapWidth,N.shadowMapHeight,B),N.shadowMapSize=new THREE.Vector2(N.shadowMapWidth,N.shadowMapHeight),N.shadowMatrix=new THREE.Matrix4}if(!N.shadowCamera){if(N instanceof THREE.SpotLight)N.shadowCamera=new THREE.PerspectiveCamera(N.shadowCameraFov,N.shadowMapWidth/N.shadowMapHeight,N.shadowCameraNear,N.shadowCameraFar);else{if(!(N instanceof THREE.DirectionalLight)){console.error("Unsupported light type for shadow");continue}N.shadowCamera=new THREE.OrthographicCamera(N.shadowCameraLeft,N.shadowCameraRight,N.shadowCameraTop,N.shadowCameraBottom,N.shadowCameraNear,N.shadowCameraFar)}r.add(N.shadowCamera),r.autoUpdate===!0&&r.updateMatrixWorld()}N.shadowCameraVisible&&!N.cameraHelper&&(N.cameraHelper=new THREE.CameraHelper(N.shadowCamera),r.add(N.cameraHelper)),N.isVirtual&&L.originalCamera==g&&s(g,N),T=N.shadowMap,R=N.shadowMatrix,S=N.shadowCamera,S.position.setFromMatrixPosition(N.matrixWorld),v.setFromMatrixPosition(N.target.matrixWorld),S.lookAt(v),S.updateMatrixWorld(),S.matrixWorldInverse.getInverse(S.matrixWorld),N.cameraHelper&&(N.cameraHelper.visible=N.shadowCameraVisible),N.shadowCameraVisible&&N.cameraHelper.update(),R.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),R.multiply(S.projectionMatrix),R.multiply(S.matrixWorldInverse),m.multiplyMatrices(S.projectionMatrix,S.matrixWorldInverse),p.setFromMatrix(m),e.setRenderTarget(T),e.clear(),b.length=0,i(r,r,S);var I,z,U;for(x=0,w=b.length;w>x;x++)M=b[x],A=M.object,C=M.buffer,I=u(A),z=void 0!==A.geometry.morphTargets&&A.geometry.morphTargets.length>0&&I.morphTargets,U=A instanceof THREE.SkinnedMesh&&I.skinning,H=A.customDepthMaterial?A.customDepthMaterial:U?z?f:h:z?l:c,e.setMaterialFaces(I),C instanceof THREE.BufferGeometry?e.renderBufferDirect(S,t,O,H,C,A):e.renderBuffer(S,t,O,H,C,A);for(x=0,w=n.length;w>x;x++)M=n[x],A=M.object,A.visible&&A.castShadow&&(A._modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,A.matrixWorld),e.renderImmediateObject(S,t,O,c,A))}var V=e.getClearColor(),j=e.getClearAlpha();d.clearColor(V.r,V.g,V.b,j),d.enable(d.BLEND),e.shadowMapCullFace===THREE.CullFaceFront&&d.cullFace(d.BACK),e.resetGLState()}}},THREE.SpritePlugin=function(e,t){function r(){var t=l.createProgram(),r=l.createShader(l.VERTEX_SHADER),n=l.createShader(l.FRAGMENT_SHADER);return l.shaderSource(r,["precision "+e.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),l.shaderSource(n,["precision "+e.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","float fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),l.compileShader(r),l.compileShader(n),l.attachShader(t,r),l.attachShader(t,n),l.linkProgram(t),t}function n(e,t){return e.z!==t.z?t.z-e.z:t.id-e.id}var i,o,a,s,u,c,l=e.context,h=new THREE.Vector3,f=new THREE.Quaternion,d=new THREE.Vector3,p=function(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),t=new Uint16Array([0,1,2,0,2,3]);i=l.createBuffer(),o=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,i),l.bufferData(l.ARRAY_BUFFER,e,l.STATIC_DRAW),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,o),l.bufferData(l.ELEMENT_ARRAY_BUFFER,t,l.STATIC_DRAW),a=r(),s={position:l.getAttribLocation(a,"position"),uv:l.getAttribLocation(a,"uv")},u={uvOffset:l.getUniformLocation(a,"uvOffset"),uvScale:l.getUniformLocation(a,"uvScale"),rotation:l.getUniformLocation(a,"rotation"),scale:l.getUniformLocation(a,"scale"),color:l.getUniformLocation(a,"color"),map:l.getUniformLocation(a,"map"),opacity:l.getUniformLocation(a,"opacity"),modelViewMatrix:l.getUniformLocation(a,"modelViewMatrix"),projectionMatrix:l.getUniformLocation(a,"projectionMatrix"),fogType:l.getUniformLocation(a,"fogType"),fogDensity:l.getUniformLocation(a,"fogDensity"),fogNear:l.getUniformLocation(a,"fogNear"),fogFar:l.getUniformLocation(a,"fogFar"),fogColor:l.getUniformLocation(a,"fogColor"),alphaTest:l.getUniformLocation(a,"alphaTest")};var n=document.createElement("canvas");n.width=8,n.height=8;var h=n.getContext("2d");h.fillStyle="white",h.fillRect(0,0,8,8),c=new THREE.Texture(n),c.needsUpdate=!0};this.render=function(r,m){if(0!==t.length){void 0===a&&p(),l.useProgram(a),l.enableVertexAttribArray(s.position),l.enableVertexAttribArray(s.uv),l.disable(l.CULL_FACE),l.enable(l.BLEND),l.bindBuffer(l.ARRAY_BUFFER,i),l.vertexAttribPointer(s.position,2,l.FLOAT,!1,16,0),l.vertexAttribPointer(s.uv,2,l.FLOAT,!1,16,8),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,o),l.uniformMatrix4fv(u.projectionMatrix,!1,m.projectionMatrix.elements),l.activeTexture(l.TEXTURE0),l.uniform1i(u.map,0);var g=0,y=0,v=r.fog;v?(l.uniform3f(u.fogColor,v.color.r,v.color.g,v.color.b),v instanceof THREE.Fog?(l.uniform1f(u.fogNear,v.near),l.uniform1f(u.fogFar,v.far),l.uniform1i(u.fogType,1),g=1,y=1):v instanceof THREE.FogExp2&&(l.uniform1f(u.fogDensity,v.density),l.uniform1i(u.fogType,2),g=2,y=2)):(l.uniform1i(u.fogType,0),g=0,y=0);for(var b=0,E=t.length;E>b;b++){var x=t[b];x._modelViewMatrix.multiplyMatrices(m.matrixWorldInverse,x.matrixWorld),x.z=-x._modelViewMatrix.elements[14]}t.sort(n);for(var w=[],b=0,E=t.length;E>b;b++){var x=t[b],_=x.material;l.uniform1f(u.alphaTest,_.alphaTest),l.uniformMatrix4fv(u.modelViewMatrix,!1,x._modelViewMatrix.elements),x.matrixWorld.decompose(h,f,d),w[0]=d.x,w[1]=d.y;var T=0;r.fog&&_.fog&&(T=y),g!==T&&(l.uniform1i(u.fogType,T),g=T),null!==_.map?(l.uniform2f(u.uvOffset,_.map.offset.x,_.map.offset.y),l.uniform2f(u.uvScale,_.map.repeat.x,_.map.repeat.y)):(l.uniform2f(u.uvOffset,0,0),l.uniform2f(u.uvScale,1,1)),l.uniform1f(u.opacity,_.opacity),l.uniform3f(u.color,_.color.r,_.color.g,_.color.b),l.uniform1f(u.rotation,_.rotation),l.uniform2fv(u.scale,w),e.setBlending(_.blending,_.blendEquation,_.blendSrc,_.blendDst),e.setDepthTest(_.depthTest),e.setDepthWrite(_.depthWrite),_.map&&_.map.image&&_.map.image.width?e.setTexture(_.map,0):e.setTexture(c,0),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0)}l.enable(l.CULL_FACE),e.resetGLState()}}},THREE.GeometryUtils={merge:function(e,t,r){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var n;t instanceof THREE.Mesh&&(t.matrixAutoUpdate&&t.updateMatrix(),n=t.matrix,t=t.geometry),e.merge(t,n,r)},center:function(e){return console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead."),e.center()}},THREE.ImageUtils={crossOrigin:void 0,loadTexture:function(e,t,r,n){var i=new THREE.ImageLoader;i.crossOrigin=this.crossOrigin;var o=new THREE.Texture(void 0,t);return i.load(e,function(e){o.image=e,o.needsUpdate=!0,r&&r(o)},void 0,function(e){n&&n(e)}),o.sourceFile=e,o},loadTextureCube:function(e,t,r,n){var i=[],o=new THREE.ImageLoader;o.crossOrigin=this.crossOrigin;var a=new THREE.CubeTexture(i,t);a.flipY=!1;for(var s=0,u=function(t){o.load(e[t],function(e){a.images[t]=e,s+=1,6===s&&(a.needsUpdate=!0,r&&r(a))},void 0,n)},c=0,l=e.length;l>c;++c)u(c);return a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},getNormalMap:function(e,t){var r=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},n=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]},i=function(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);return[e[0]/t,e[1]/t,e[2]/t]};t=1|t;var o=e.width,a=e.height,s=document.createElement("canvas");s.width=o,s.height=a;var u=s.getContext("2d");u.drawImage(e,0,0);for(var c=u.getImageData(0,0,o,a).data,l=u.createImageData(o,a),h=l.data,f=0;o>f;f++)for(var d=0;a>d;d++){var p=0>d-1?0:d-1,m=d+1>a-1?a-1:d+1,g=0>f-1?0:f-1,y=f+1>o-1?o-1:f+1,v=[],b=[0,0,c[4*(d*o+f)]/255*t];v.push([-1,0,c[4*(d*o+g)]/255*t]),v.push([-1,-1,c[4*(p*o+g)]/255*t]),v.push([0,-1,c[4*(p*o+f)]/255*t]),v.push([1,-1,c[4*(p*o+y)]/255*t]),v.push([1,0,c[4*(d*o+y)]/255*t]),v.push([1,1,c[4*(m*o+y)]/255*t]),v.push([0,1,c[4*(m*o+f)]/255*t]),v.push([-1,1,c[4*(m*o+g)]/255*t]);for(var E=[],x=v.length,w=0;x>w;w++){var _=v[w],T=v[(w+1)%x];_=n(_,b),T=n(T,b),E.push(i(r(_,T)))}for(var R=[0,0,0],w=0;w<E.length;w++)R[0]+=E[w][0],R[1]+=E[w][1],R[2]+=E[w][2];R[0]/=E.length,R[1]/=E.length,R[2]/=E.length;var S=4*(d*o+f);h[S]=(R[0]+1)/2*255|0,h[S+1]=(R[1]+1)/2*255|0,h[S+2]=255*R[2]|0,h[S+3]=255}return u.putImageData(l,0,0),s},generateDataTexture:function(e,t,r){for(var n=e*t,i=new Uint8Array(3*n),o=Math.floor(255*r.r),a=Math.floor(255*r.g),s=Math.floor(255*r.b),u=0;n>u;u++)i[3*u]=o,i[3*u+1]=a,i[3*u+2]=s;var c=new THREE.DataTexture(i,e,t,THREE.RGBFormat);return c.needsUpdate=!0,c}},THREE.SceneUtils={createMultiMaterialObject:function(e,t){for(var r=new THREE.Object3D,n=0,i=t.length;i>n;n++)r.add(new THREE.Mesh(e,t[n]));return r},detach:function(e,t,r){e.applyMatrix(t.matrixWorld),t.remove(e),r.add(e)},attach:function(e,t,r){var n=new THREE.Matrix4;n.getInverse(r.matrixWorld),e.applyMatrix(n),t.remove(e),r.add(e)}},THREE.FontUtils={faces:{},face:"helvetiker",weight:"normal",style:"normal",size:150,divisions:10,getFace:function(){try{return this.faces[this.face][this.weight][this.style]}catch(e){throw"The font "+this.face+" with "+this.weight+" weight and "+this.style+" style is missing."}},loadFace:function(e){var t=e.familyName.toLowerCase(),r=this;r.faces[t]=r.faces[t]||{},r.faces[t][e.cssFontWeight]=r.faces[t][e.cssFontWeight]||{},r.faces[t][e.cssFontWeight][e.cssFontStyle]=e;r.faces[t][e.cssFontWeight][e.cssFontStyle]=e;return e},drawText:function(e){var t,r=this.getFace(),n=this.size/r.resolution,i=0,o=String(e).split(""),a=o.length,s=[];for(t=0;a>t;t++){var u=new THREE.Path,c=this.extractGlyphPoints(o[t],r,n,i,u);i+=c.offset,s.push(c.path)}var l=i/2;return{paths:s,offset:l}},extractGlyphPoints:function(e,t,r,n,i){var o,a,s,u,c,l,h,f,d,p,m,g,y,v,b,E,x,w,_,T=[],R=t.glyphs[e]||t.glyphs["?"];if(R){if(R.o)for(u=R._cachedOutline||(R._cachedOutline=R.o.split(" ")),l=u.length,h=r,f=r,o=0;l>o;)switch(c=u[o++]){case"m":d=u[o++]*h+n,p=u[o++]*f,i.moveTo(d,p);break;case"l":d=u[o++]*h+n,p=u[o++]*f,i.lineTo(d,p);break;case"q":if(m=u[o++]*h+n,g=u[o++]*f,b=u[o++]*h+n,E=u[o++]*f,i.quadraticCurveTo(b,E,m,g),_=T[T.length-1])for(y=_.x,v=_.y,a=1,s=this.divisions;s>=a;a++){var S=a/s;THREE.Shape.Utils.b2(S,y,b,m),THREE.Shape.Utils.b2(S,v,E,g)}break;case"b":if(m=u[o++]*h+n,g=u[o++]*f,b=u[o++]*h+n,E=u[o++]*f,x=u[o++]*h+n,w=u[o++]*f,i.bezierCurveTo(b,E,x,w,m,g),_=T[T.length-1])for(y=_.x,v=_.y,a=1,s=this.divisions;s>=a;a++){var S=a/s;THREE.Shape.Utils.b3(S,y,b,x,m),THREE.Shape.Utils.b3(S,v,E,w,g)}}return{offset:R.ha*r,path:i}}}},THREE.FontUtils.generateShapes=function(e,t){t=t||{};var r=void 0!==t.size?t.size:100,n=void 0!==t.curveSegments?t.curveSegments:4,i=void 0!==t.font?t.font:"helvetiker",o=void 0!==t.weight?t.weight:"normal",a=void 0!==t.style?t.style:"normal";THREE.FontUtils.size=r,THREE.FontUtils.divisions=n,THREE.FontUtils.face=i,THREE.FontUtils.weight=o,THREE.FontUtils.style=a;for(var s=THREE.FontUtils.drawText(e),u=s.paths,c=[],l=0,h=u.length;h>l;l++)Array.prototype.push.apply(c,u[l].toShapes());return c},function(e){var t=1e-10,r=function(e,t){var r=e.length;if(3>r)return null;var o,a,s,u=[],c=[],l=[];if(n(e)>0)for(a=0;r>a;a++)c[a]=a;else for(a=0;r>a;a++)c[a]=r-1-a;var h=r,f=2*h;for(a=h-1;h>2;){if(f--<=0)return console.log("Warning, unable to triangulate polygon!"),t?l:u;if(o=a,o>=h&&(o=0),a=o+1,a>=h&&(a=0),s=a+1,s>=h&&(s=0),i(e,o,a,s,h,c)){var d,p,m,g,y;for(d=c[o],p=c[a],m=c[s],u.push([e[d],e[p],e[m]]),l.push([c[o],c[a],c[s]]),g=a,y=a+1;h>y;g++,y++)c[g]=c[y];h--,f=2*h}}return t?l:u},n=function(e){for(var t=e.length,r=0,n=t-1,i=0;t>i;n=i++)r+=e[n].x*e[i].y-e[i].x*e[n].y;return.5*r},i=function(e,r,n,i,o,a){var s,u,c,l,h,f,d,p,m;if(u=e[a[r]].x,c=e[a[r]].y,l=e[a[n]].x,h=e[a[n]].y,f=e[a[i]].x,d=e[a[i]].y,t>(l-u)*(d-c)-(h-c)*(f-u))return!1;var g,y,v,b,E,x,w,_,T,R,S,C,H,M,A;for(g=f-l,y=d-h,v=u-f,b=c-d,E=l-u,x=h-c,s=0;o>s;s++)if(p=e[a[s]].x,m=e[a[s]].y,!(p===u&&m===c||p===l&&m===h||p===f&&m===d)&&(w=p-u,_=m-c,T=p-l,R=m-h,S=p-f,C=m-d,A=g*R-y*T,H=E*_-x*w,M=v*C-b*S,A>=-t&&M>=-t&&H>=-t))return!1;return!0};return e.Triangulate=r,e.Triangulate.area=n,e}(THREE.FontUtils),self._typeface_js={faces:THREE.FontUtils.faces,loadFace:THREE.FontUtils.loadFace},THREE.typeface_js=self._typeface_js,THREE.Audio=function(e){THREE.Object3D.call(this),this.type="Audio",this.context=e.context,this.source=this.context.createBufferSource(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.panner=this.context.createPanner(),this.panner.connect(this.gain)},THREE.Audio.prototype=Object.create(THREE.Object3D.prototype),THREE.Audio.prototype.constructor=THREE.Audio,THREE.Audio.prototype.load=function(e){var t=this,r=new XMLHttpRequest;return r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){t.context.decodeAudioData(this.response,function(e){t.source.buffer=e,t.source.connect(t.panner),t.source.start(0)})},r.send(),this},THREE.Audio.prototype.setLoop=function(e){this.source.loop=e},THREE.Audio.prototype.setRefDistance=function(e){this.panner.refDistance=e},THREE.Audio.prototype.setRolloffFactor=function(e){this.panner.rolloffFactor=e},THREE.Audio.prototype.updateMatrixWorld=function(){var e=new THREE.Vector3;return function(t){THREE.Object3D.prototype.updateMatrixWorld.call(this,t),e.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(e.x,e.y,e.z)}}(),THREE.AudioListener=function(){THREE.Object3D.call(this),this.type="AudioListener",this.context=new(window.AudioContext||window.webkitAudioContext)},THREE.AudioListener.prototype=Object.create(THREE.Object3D.prototype),THREE.AudioListener.prototype.constructor=THREE.AudioListener,THREE.AudioListener.prototype.updateMatrixWorld=function(){var e=new THREE.Vector3,t=new THREE.Quaternion,r=new THREE.Vector3,n=new THREE.Vector3,i=new THREE.Vector3,o=new THREE.Vector3;return function(a){THREE.Object3D.prototype.updateMatrixWorld.call(this,a);var s=this.context.listener,u=this.up;this.matrixWorld.decompose(e,t,r),n.set(0,0,-1).applyQuaternion(t),i.subVectors(e,o),s.setPosition(e.x,e.y,e.z),s.setOrientation(n.x,n.y,n.z,u.x,u.y,u.z),s.setVelocity(i.x,i.y,i.z),o.copy(e)}}(),THREE.Curve=function(){},THREE.Curve.prototype.getPoint=function(){return console.log("Warning, getPoint() not implemented!"),null},THREE.Curve.prototype.getPointAt=function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},THREE.Curve.prototype.getPoints=function(e){e||(e=5);var t,r=[];for(t=0;e>=t;t++)r.push(this.getPoint(t/e));return r},THREE.Curve.prototype.getSpacedPoints=function(e){e||(e=5);var t,r=[];for(t=0;e>=t;t++)r.push(this.getPointAt(t/e));return r},THREE.Curve.prototype.getLength=function(){var e=this.getLengths();return e[e.length-1]},THREE.Curve.prototype.getLengths=function(e){if(e||(e=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length==e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,r,n=[],i=this.getPoint(0),o=0;for(n.push(0),r=1;e>=r;r++)t=this.getPoint(r/e),o+=t.distanceTo(i),n.push(o),i=t;return this.cacheArcLengths=n,n},THREE.Curve.prototype.updateArcLengths=function(){this.needsUpdate=!0,this.getLengths()},THREE.Curve.prototype.getUtoTmapping=function(e,t){var r,n=this.getLengths(),i=0,o=n.length;r=t?t:e*n[o-1];for(var a,s=0,u=o-1;u>=s;)if(i=Math.floor(s+(u-s)/2),a=n[i]-r,0>a)s=i+1;else{if(!(a>0)){u=i;break}u=i-1}if(i=u,n[i]==r){var c=i/(o-1);return c}var l=n[i],h=n[i+1],f=h-l,d=(r-l)/f,c=(i+d)/(o-1);return c},THREE.Curve.prototype.getTangent=function(e){var t=1e-4,r=e-t,n=e+t;0>r&&(r=0),n>1&&(n=1);var i=this.getPoint(r),o=this.getPoint(n),a=o.clone().sub(i);return a.normalize()},THREE.Curve.prototype.getTangentAt=function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)},THREE.Curve.Utils={tangentQuadraticBezier:function(e,t,r,n){return 2*(1-e)*(r-t)+2*e*(n-r)},tangentCubicBezier:function(e,t,r,n,i){return-3*t*(1-e)*(1-e)+3*r*(1-e)*(1-e)-6*e*r*(1-e)+6*e*n*(1-e)-3*e*e*n+3*e*e*i},tangentSpline:function(e){var t=6*e*e-6*e,r=3*e*e-4*e+1,n=-6*e*e+6*e,i=3*e*e-2*e;return t+r+n+i},interpolate:function(e,t,r,n,i){var o=.5*(r-e),a=.5*(n-t),s=i*i,u=i*s;return(2*t-2*r+o+a)*u+(-3*t+3*r-2*o-a)*s+o*i+t}},THREE.Curve.create=function(e,t){return e.prototype=Object.create(THREE.Curve.prototype),e.prototype.constructor=e,e.prototype.getPoint=t,e},THREE.CurvePath=function(){this.curves=[],this.bends=[],this.autoClose=!1},THREE.CurvePath.prototype=Object.create(THREE.Curve.prototype),THREE.CurvePath.prototype.constructor=THREE.CurvePath,THREE.CurvePath.prototype.add=function(e){this.curves.push(e)},THREE.CurvePath.prototype.checkConnection=function(){},THREE.CurvePath.prototype.closePath=function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new THREE.LineCurve(t,e))},THREE.CurvePath.prototype.getPoint=function(e){for(var t,r,n=e*this.getLength(),i=this.getCurveLengths(),o=0;o<i.length;){if(i[o]>=n){t=i[o]-n,r=this.curves[o];var a=1-t/r.getLength();return r.getPointAt(a)}o++}return null},THREE.CurvePath.prototype.getLength=function(){var e=this.getCurveLengths();return e[e.length-1]},THREE.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;var e,t=[],r=0,n=this.curves.length;for(e=0;n>e;e++)r+=this.curves[e].getLength(),t.push(r);return this.cacheLengths=t,t},THREE.CurvePath.prototype.getBoundingBox=function(){var e,t,r,n,i,o,a=this.getPoints();e=t=Number.NEGATIVE_INFINITY,n=i=Number.POSITIVE_INFINITY;var s,u,c,l,h=a[0]instanceof THREE.Vector3;for(l=h?new THREE.Vector3:new THREE.Vector2,u=0,c=a.length;c>u;u++)s=a[u],s.x>e?e=s.x:s.x<n&&(n=s.x),s.y>t?t=s.y:s.y<i&&(i=s.y),h&&(s.z>r?r=s.z:s.z<o&&(o=s.z)),l.add(s);var f={minX:n,minY:i,maxX:e,maxY:t};return h&&(f.maxZ=r,f.minZ=o),f},THREE.CurvePath.prototype.createPointsGeometry=function(e){var t=this.getPoints(e,!0);return this.createGeometry(t)},THREE.CurvePath.prototype.createSpacedPointsGeometry=function(e){var t=this.getSpacedPoints(e,!0);return this.createGeometry(t)},THREE.CurvePath.prototype.createGeometry=function(e){for(var t=new THREE.Geometry,r=0;r<e.length;r++)t.vertices.push(new THREE.Vector3(e[r].x,e[r].y,e[r].z||0));return t},THREE.CurvePath.prototype.addWrapPath=function(e){this.bends.push(e)},THREE.CurvePath.prototype.getTransformedPoints=function(e,t){var r,n,i=this.getPoints(e);for(t||(t=this.bends),r=0,n=t.length;n>r;r++)i=this.getWrapPoints(i,t[r]);return i},THREE.CurvePath.prototype.getTransformedSpacedPoints=function(e,t){var r,n,i=this.getSpacedPoints(e);for(t||(t=this.bends),r=0,n=t.length;n>r;r++)i=this.getWrapPoints(i,t[r]);return i},THREE.CurvePath.prototype.getWrapPoints=function(e,t){var r,n,i,o,a,s,u=this.getBoundingBox();for(r=0,n=e.length;n>r;r++){i=e[r],o=i.x,a=i.y,s=o/u.maxX,s=t.getUtoTmapping(s,o);var c=t.getPoint(s),l=t.getTangent(s);l.set(-l.y,l.x).multiplyScalar(a),i.x=c.x+l.x,i.y=c.y+l.y}return e},THREE.Gyroscope=function(){THREE.Object3D.call(this)},THREE.Gyroscope.prototype=Object.create(THREE.Object3D.prototype),THREE.Gyroscope.prototype.constructor=THREE.Gyroscope,THREE.Gyroscope.prototype.updateMatrixWorld=function(){var e=new THREE.Vector3,t=new THREE.Quaternion,r=new THREE.Vector3,n=new THREE.Vector3,i=new THREE.Quaternion,o=new THREE.Vector3;return function(a){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||a)&&(this.parent?(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorld.decompose(n,i,o),this.matrix.decompose(e,t,r),this.matrixWorld.compose(n,t,o)):this.matrixWorld.copy(this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0);for(var s=0,u=this.children.length;u>s;s++)this.children[s].updateMatrixWorld(a)}}(),THREE.Path=function(e){THREE.CurvePath.call(this),this.actions=[],e&&this.fromPoints(e)},THREE.Path.prototype=Object.create(THREE.CurvePath.prototype),THREE.Path.prototype.constructor=THREE.Path,THREE.PathActions={MOVE_TO:"moveTo",LINE_TO:"lineTo",QUADRATIC_CURVE_TO:"quadraticCurveTo",BEZIER_CURVE_TO:"bezierCurveTo",CSPLINE_THRU:"splineThru",ARC:"arc",ELLIPSE:"ellipse"},THREE.Path.prototype.fromPoints=function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,r=e.length;r>t;t++)this.lineTo(e[t].x,e[t].y)},THREE.Path.prototype.moveTo=function(){var e=Array.prototype.slice.call(arguments);this.actions.push({action:THREE.PathActions.MOVE_TO,args:e})},THREE.Path.prototype.lineTo=function(e,t){var r=Array.prototype.slice.call(arguments),n=this.actions[this.actions.length-1].args,i=n[n.length-2],o=n[n.length-1],a=new THREE.LineCurve(new THREE.Vector2(i,o),new THREE.Vector2(e,t));this.curves.push(a),this.actions.push({action:THREE.PathActions.LINE_TO,args:r})},THREE.Path.prototype.quadraticCurveTo=function(e,t,r,n){var i=Array.prototype.slice.call(arguments),o=this.actions[this.actions.length-1].args,a=o[o.length-2],s=o[o.length-1],u=new THREE.QuadraticBezierCurve(new THREE.Vector2(a,s),new THREE.Vector2(e,t),new THREE.Vector2(r,n));this.curves.push(u),this.actions.push({action:THREE.PathActions.QUADRATIC_CURVE_TO,args:i})},THREE.Path.prototype.bezierCurveTo=function(e,t,r,n,i,o){var a=Array.prototype.slice.call(arguments),s=this.actions[this.actions.length-1].args,u=s[s.length-2],c=s[s.length-1],l=new THREE.CubicBezierCurve(new THREE.Vector2(u,c),new THREE.Vector2(e,t),new THREE.Vector2(r,n),new THREE.Vector2(i,o));this.curves.push(l),this.actions.push({action:THREE.PathActions.BEZIER_CURVE_TO,args:a})},THREE.Path.prototype.splineThru=function(e){var t=Array.prototype.slice.call(arguments),r=this.actions[this.actions.length-1].args,n=r[r.length-2],i=r[r.length-1],o=[new THREE.Vector2(n,i)];Array.prototype.push.apply(o,e);var a=new THREE.SplineCurve(o);this.curves.push(a),this.actions.push({action:THREE.PathActions.CSPLINE_THRU,args:t})},THREE.Path.prototype.arc=function(e,t,r,n,i,o){var a=this.actions[this.actions.length-1].args,s=a[a.length-2],u=a[a.length-1];this.absarc(e+s,t+u,r,n,i,o)},THREE.Path.prototype.absarc=function(e,t,r,n,i,o){this.absellipse(e,t,r,r,n,i,o)},THREE.Path.prototype.ellipse=function(e,t,r,n,i,o,a){var s=this.actions[this.actions.length-1].args,u=s[s.length-2],c=s[s.length-1];this.absellipse(e+u,t+c,r,n,i,o,a)},THREE.Path.prototype.absellipse=function(e,t,r,n,i,o,a){var s=Array.prototype.slice.call(arguments),u=new THREE.EllipseCurve(e,t,r,n,i,o,a);this.curves.push(u);var c=u.getPoint(1);s.push(c.x),s.push(c.y),this.actions.push({action:THREE.PathActions.ELLIPSE,args:s})},THREE.Path.prototype.getSpacedPoints=function(e){e||(e=40);for(var t=[],r=0;e>r;r++)t.push(this.getPoint(r/e));return t},THREE.Path.prototype.getPoints=function(e,t){if(this.useSpacedPoints)return console.log("tata"),this.getSpacedPoints(e,t);e=e||12;var r,n,i,o,a,s,u,c,l,h,f,d,p,m,g,y,v,b,E=[];for(r=0,n=this.actions.length;n>r;r++)switch(i=this.actions[r],o=i.action,a=i.args,o){case THREE.PathActions.MOVE_TO:E.push(new THREE.Vector2(a[0],a[1]));break;case THREE.PathActions.LINE_TO:E.push(new THREE.Vector2(a[0],a[1]));break;case THREE.PathActions.QUADRATIC_CURVE_TO:for(s=a[2],u=a[3],h=a[0],f=a[1],E.length>0?(m=E[E.length-1],d=m.x,p=m.y):(m=this.actions[r-1].args,d=m[m.length-2],p=m[m.length-1]),g=1;e>=g;g++)y=g/e,v=THREE.Shape.Utils.b2(y,d,h,s),b=THREE.Shape.Utils.b2(y,p,f,u),E.push(new THREE.Vector2(v,b));break;case THREE.PathActions.BEZIER_CURVE_TO:for(s=a[4],u=a[5],h=a[0],f=a[1],c=a[2],l=a[3],E.length>0?(m=E[E.length-1],d=m.x,p=m.y):(m=this.actions[r-1].args,d=m[m.length-2],p=m[m.length-1]),g=1;e>=g;g++)y=g/e,v=THREE.Shape.Utils.b3(y,d,h,c,s),b=THREE.Shape.Utils.b3(y,p,f,l,u),E.push(new THREE.Vector2(v,b));break;case THREE.PathActions.CSPLINE_THRU:m=this.actions[r-1].args;var x=new THREE.Vector2(m[m.length-2],m[m.length-1]),w=[x],_=e*a[0].length;w=w.concat(a[0]);var T=new THREE.SplineCurve(w);for(g=1;_>=g;g++)E.push(T.getPointAt(g/_));break;case THREE.PathActions.ARC:var R,S=a[0],C=a[1],H=a[2],M=a[3],A=a[4],N=!!a[5],P=A-M,k=2*e;for(g=1;k>=g;g++)y=g/k,N||(y=1-y),R=M+y*P,v=S+H*Math.cos(R),b=C+H*Math.sin(R),E.push(new THREE.Vector2(v,b));break;case THREE.PathActions.ELLIPSE:var R,S=a[0],C=a[1],O=a[2],L=a[3],M=a[4],A=a[5],N=!!a[6],P=A-M,k=2*e;for(g=1;k>=g;g++)y=g/k,N||(y=1-y),R=M+y*P,v=S+O*Math.cos(R),b=C+L*Math.sin(R),E.push(new THREE.Vector2(v,b))}var D=E[E.length-1],F=1e-10;return Math.abs(D.x-E[0].x)<F&&Math.abs(D.y-E[0].y)<F&&E.splice(E.length-1,1),t&&E.push(E[0]),E},THREE.Path.prototype.toShapes=function(e,t){function r(e){var t,r,n,i,o,a=[],s=new THREE.Path;for(t=0,r=e.length;r>t;t++)n=e[t],o=n.args,i=n.action,i==THREE.PathActions.MOVE_TO&&0!=s.actions.length&&(a.push(s),s=new THREE.Path),s[i].apply(s,o);
return 0!=s.actions.length&&a.push(s),a}function n(e){for(var t=[],r=0,n=e.length;n>r;r++){var i=e[r],o=new THREE.Shape;o.actions=i.actions,o.curves=i.curves,t.push(o)}return t}function i(e,t){for(var r=1e-10,n=t.length,i=!1,o=n-1,a=0;n>a;o=a++){var s=t[o],u=t[a],c=u.x-s.x,l=u.y-s.y;if(Math.abs(l)>r){if(0>l&&(s=t[a],c=-c,u=t[o],l=-l),e.y<s.y||e.y>u.y)continue;if(e.y==s.y){if(e.x==s.x)return!0}else{var h=l*(e.x-s.x)-c*(e.y-s.y);if(0==h)return!0;if(0>h)continue;i=!i}}else{if(e.y!=s.y)continue;if(u.x<=e.x&&e.x<=s.x||s.x<=e.x&&e.x<=u.x)return!0}}return i}var o=r(this.actions);if(0==o.length)return[];if(t===!0)return n(o);var a,s,u,c=[];if(1==o.length)return s=o[0],u=new THREE.Shape,u.actions=s.actions,u.curves=s.curves,c.push(u),c;var l=!THREE.Shape.Utils.isClockWise(o[0].getPoints());l=e?!l:l;var h,f=[],d=[],p=[],m=0;d[m]=void 0,p[m]=[];var g,y;for(g=0,y=o.length;y>g;g++)s=o[g],h=s.getPoints(),a=THREE.Shape.Utils.isClockWise(h),a=e?!a:a,a?(!l&&d[m]&&m++,d[m]={s:new THREE.Shape,p:h},d[m].s.actions=s.actions,d[m].s.curves=s.curves,l&&m++,p[m]=[]):p[m].push({h:s,p:h[0]});if(!d[0])return n(o);if(d.length>1){for(var v=!1,b=[],E=0,x=d.length;x>E;E++)f[E]=[];for(var E=0,x=d.length;x>E;E++)for(var w=(d[E],p[E]),_=0;_<w.length;_++){for(var T=w[_],R=!0,S=0;S<d.length;S++)i(T.p,d[S].p)&&(E!=S&&b.push({froms:E,tos:S,hole:_}),R?(R=!1,f[S].push(T)):v=!0);R&&f[E].push(T)}b.length>0&&(v||(p=f))}var C,H,M;for(g=0,y=d.length;y>g;g++)for(u=d[g].s,c.push(u),C=p[g],H=0,M=C.length;M>H;H++)u.holes.push(C[H].h);return c},THREE.Shape=function(){THREE.Path.apply(this,arguments),this.holes=[]},THREE.Shape.prototype=Object.create(THREE.Path.prototype),THREE.Shape.prototype.constructor=THREE.Shape,THREE.Shape.prototype.extrude=function(e){var t=new THREE.ExtrudeGeometry(this,e);return t},THREE.Shape.prototype.makeGeometry=function(e){var t=new THREE.ShapeGeometry(this,e);return t},THREE.Shape.prototype.getPointsHoles=function(e){var t,r=this.holes.length,n=[];for(t=0;r>t;t++)n[t]=this.holes[t].getTransformedPoints(e,this.bends);return n},THREE.Shape.prototype.getSpacedPointsHoles=function(e){var t,r=this.holes.length,n=[];for(t=0;r>t;t++)n[t]=this.holes[t].getTransformedSpacedPoints(e,this.bends);return n},THREE.Shape.prototype.extractAllPoints=function(e){return{shape:this.getTransformedPoints(e),holes:this.getPointsHoles(e)}},THREE.Shape.prototype.extractPoints=function(e){return this.useSpacedPoints?this.extractAllSpacedPoints(e):this.extractAllPoints(e)},THREE.Shape.prototype.extractAllSpacedPoints=function(e){return{shape:this.getTransformedSpacedPoints(e),holes:this.getSpacedPointsHoles(e)}},THREE.Shape.Utils={triangulateShape:function(e,t){function r(e,t,r){return e.x!=t.x?e.x<t.x?e.x<=r.x&&r.x<=t.x:t.x<=r.x&&r.x<=e.x:e.y<t.y?e.y<=r.y&&r.y<=t.y:t.y<=r.y&&r.y<=e.y}function n(e,t,n,i,o){var a=1e-10,s=t.x-e.x,u=t.y-e.y,c=i.x-n.x,l=i.y-n.y,h=e.x-n.x,f=e.y-n.y,d=u*c-s*l,p=u*h-s*f;if(Math.abs(d)>a){var m;if(d>0){if(0>p||p>d)return[];if(m=l*h-c*f,0>m||m>d)return[]}else{if(p>0||d>p)return[];if(m=l*h-c*f,m>0||d>m)return[]}if(0==m)return!o||0!=p&&p!=d?[e]:[];if(m==d)return!o||0!=p&&p!=d?[t]:[];if(0==p)return[n];if(p==d)return[i];var g=m/d;return[{x:e.x+g*s,y:e.y+g*u}]}if(0!=p||l*h!=c*f)return[];var y=0==s&&0==u,v=0==c&&0==l;if(y&&v)return e.x!=n.x||e.y!=n.y?[]:[e];if(y)return r(n,i,e)?[e]:[];if(v)return r(e,t,n)?[n]:[];var b,E,x,w,_,T,R,S;return 0!=s?(e.x<t.x?(b=e,x=e.x,E=t,w=t.x):(b=t,x=t.x,E=e,w=e.x),n.x<i.x?(_=n,R=n.x,T=i,S=i.x):(_=i,R=i.x,T=n,S=n.x)):(e.y<t.y?(b=e,x=e.y,E=t,w=t.y):(b=t,x=t.y,E=e,w=e.y),n.y<i.y?(_=n,R=n.y,T=i,S=i.y):(_=i,R=i.y,T=n,S=n.y)),R>=x?R>w?[]:w==R?o?[]:[_]:S>=w?[_,E]:[_,T]:x>S?[]:x==S?o?[]:[b]:S>=w?[b,E]:[b,T]}function i(e,t,r,n){var i=1e-10,o=t.x-e.x,a=t.y-e.y,s=r.x-e.x,u=r.y-e.y,c=n.x-e.x,l=n.y-e.y,h=o*u-a*s,f=o*l-a*c;if(Math.abs(h)>i){var d=c*u-l*s;return h>0?f>=0&&d>=0:f>=0||d>=0}return f>0}function o(e,t){function r(e,t){var r=v.length-1,n=e-1;0>n&&(n=r);var o=e+1;o>r&&(o=0);var a=i(v[e],v[n],v[o],s[t]);if(!a)return!1;var u=s.length-1,c=t-1;0>c&&(c=u);var l=t+1;return l>u&&(l=0),a=i(s[t],s[c],s[l],v[e]),a?!0:!1}function o(e,t){var r,i,o;for(r=0;r<v.length;r++)if(i=r+1,i%=v.length,o=n(e,t,v[r],v[i],!0),o.length>0)return!0;return!1}function a(e,r){var i,o,a,s,u;for(i=0;i<b.length;i++)for(o=t[b[i]],a=0;a<o.length;a++)if(s=a+1,s%=o.length,u=n(e,r,o[a],o[s],!0),u.length>0)return!0;return!1}for(var s,u,c,l,h,f,d,p,m,g,y,v=e.concat(),b=[],E=[],x=0,w=t.length;w>x;x++)b.push(x);for(var _=0,T=2*b.length;b.length>0;){if(T--,0>T){console.log("Infinite Loop! Holes left:"+b.length+", Probably Hole outside Shape!");break}for(c=_;c<v.length;c++){l=v[c],u=-1;for(var x=0;x<b.length;x++)if(f=b[x],d=l.x+":"+l.y+":"+f,void 0===E[d]){s=t[f];for(var R=0;R<s.length;R++)if(h=s[R],r(c,R)&&!o(l,h)&&!a(l,h)){u=R,b.splice(x,1),p=v.slice(0,c+1),m=v.slice(c),g=s.slice(u),y=s.slice(0,u+1),v=p.concat(g).concat(y).concat(m),_=c;break}if(u>=0)break;E[d]=!0}if(u>=0)break}}return v}for(var a,s,u,c,l,h,f={},d=e.concat(),p=0,m=t.length;m>p;p++)Array.prototype.push.apply(d,t[p]);for(a=0,s=d.length;s>a;a++)l=d[a].x+":"+d[a].y,void 0!==f[l]&&console.log("Duplicate point",l),f[l]=a;var g=o(e,t),y=THREE.FontUtils.Triangulate(g,!1);for(a=0,s=y.length;s>a;a++)for(c=y[a],u=0;3>u;u++)l=c[u].x+":"+c[u].y,h=f[l],void 0!==h&&(c[u]=h);return y.concat()},isClockWise:function(e){return THREE.FontUtils.Triangulate.area(e)<0},b2p0:function(e,t){var r=1-e;return r*r*t},b2p1:function(e,t){return 2*(1-e)*e*t},b2p2:function(e,t){return e*e*t},b2:function(e,t,r,n){return this.b2p0(e,t)+this.b2p1(e,r)+this.b2p2(e,n)},b3p0:function(e,t){var r=1-e;return r*r*r*t},b3p1:function(e,t){var r=1-e;return 3*r*r*e*t},b3p2:function(e,t){var r=1-e;return 3*r*e*e*t},b3p3:function(e,t){return e*e*e*t},b3:function(e,t,r,n,i){return this.b3p0(e,t)+this.b3p1(e,r)+this.b3p2(e,n)+this.b3p3(e,i)}},THREE.LineCurve=function(e,t){this.v1=e,this.v2=t},THREE.LineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.LineCurve.prototype.constructor=THREE.LineCurve,THREE.LineCurve.prototype.getPoint=function(e){var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},THREE.LineCurve.prototype.getPointAt=function(e){return this.getPoint(e)},THREE.LineCurve.prototype.getTangent=function(){var e=this.v2.clone().sub(this.v1);return e.normalize()},THREE.QuadraticBezierCurve=function(e,t,r){this.v0=e,this.v1=t,this.v2=r},THREE.QuadraticBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.QuadraticBezierCurve.prototype.constructor=THREE.QuadraticBezierCurve,THREE.QuadraticBezierCurve.prototype.getPoint=function(e){var t=new THREE.Vector2;return t.x=THREE.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),t.y=THREE.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),t},THREE.QuadraticBezierCurve.prototype.getTangent=function(e){var t=new THREE.Vector2;return t.x=THREE.Curve.Utils.tangentQuadraticBezier(e,this.v0.x,this.v1.x,this.v2.x),t.y=THREE.Curve.Utils.tangentQuadraticBezier(e,this.v0.y,this.v1.y,this.v2.y),t.normalize()},THREE.CubicBezierCurve=function(e,t,r,n){this.v0=e,this.v1=t,this.v2=r,this.v3=n},THREE.CubicBezierCurve.prototype=Object.create(THREE.Curve.prototype),THREE.CubicBezierCurve.prototype.constructor=THREE.CubicBezierCurve,THREE.CubicBezierCurve.prototype.getPoint=function(e){var t,r;return t=THREE.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),r=THREE.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),new THREE.Vector2(t,r)},THREE.CubicBezierCurve.prototype.getTangent=function(e){var t,r;t=THREE.Curve.Utils.tangentCubicBezier(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),r=THREE.Curve.Utils.tangentCubicBezier(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y);var n=new THREE.Vector2(t,r);return n.normalize(),n},THREE.SplineCurve=function(e){this.points=void 0==e?[]:e},THREE.SplineCurve.prototype=Object.create(THREE.Curve.prototype),THREE.SplineCurve.prototype.constructor=THREE.SplineCurve,THREE.SplineCurve.prototype.getPoint=function(e){var t=this.points,r=(t.length-1)*e,n=Math.floor(r),i=r-n,o=t[0==n?n:n-1],a=t[n],s=t[n>t.length-2?t.length-1:n+1],u=t[n>t.length-3?t.length-1:n+2],c=new THREE.Vector2;return c.x=THREE.Curve.Utils.interpolate(o.x,a.x,s.x,u.x,i),c.y=THREE.Curve.Utils.interpolate(o.y,a.y,s.y,u.y,i),c},THREE.EllipseCurve=function(e,t,r,n,i,o,a){this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=n,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=a},THREE.EllipseCurve.prototype=Object.create(THREE.Curve.prototype),THREE.EllipseCurve.prototype.constructor=THREE.EllipseCurve,THREE.EllipseCurve.prototype.getPoint=function(e){var t=this.aEndAngle-this.aStartAngle;0>t&&(t+=2*Math.PI),t>2*Math.PI&&(t-=2*Math.PI);var r;r=this.aClockwise===!0?this.aEndAngle+(1-e)*(2*Math.PI-t):this.aStartAngle+e*t;var n=new THREE.Vector2;return n.x=this.aX+this.xRadius*Math.cos(r),n.y=this.aY+this.yRadius*Math.sin(r),n},THREE.ArcCurve=function(e,t,r,n,i,o){THREE.EllipseCurve.call(this,e,t,r,r,n,i,o)},THREE.ArcCurve.prototype=Object.create(THREE.EllipseCurve.prototype),THREE.ArcCurve.prototype.constructor=THREE.ArcCurve,THREE.LineCurve3=THREE.Curve.create(function(e,t){this.v1=e,this.v2=t},function(e){var t=new THREE.Vector3;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t}),THREE.QuadraticBezierCurve3=THREE.Curve.create(function(e,t,r){this.v0=e,this.v1=t,this.v2=r},function(e){var t=new THREE.Vector3;return t.x=THREE.Shape.Utils.b2(e,this.v0.x,this.v1.x,this.v2.x),t.y=THREE.Shape.Utils.b2(e,this.v0.y,this.v1.y,this.v2.y),t.z=THREE.Shape.Utils.b2(e,this.v0.z,this.v1.z,this.v2.z),t}),THREE.CubicBezierCurve3=THREE.Curve.create(function(e,t,r,n){this.v0=e,this.v1=t,this.v2=r,this.v3=n},function(e){var t=new THREE.Vector3;return t.x=THREE.Shape.Utils.b3(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t.y=THREE.Shape.Utils.b3(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),t.z=THREE.Shape.Utils.b3(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z),t}),THREE.SplineCurve3=THREE.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t=this.points,r=(t.length-1)*e,n=Math.floor(r),i=r-n,o=t[0==n?n:n-1],a=t[n],s=t[n>t.length-2?t.length-1:n+1],u=t[n>t.length-3?t.length-1:n+2],c=new THREE.Vector3;return c.x=THREE.Curve.Utils.interpolate(o.x,a.x,s.x,u.x,i),c.y=THREE.Curve.Utils.interpolate(o.y,a.y,s.y,u.y,i),c.z=THREE.Curve.Utils.interpolate(o.z,a.z,s.z,u.z,i),c}),THREE.ClosedSplineCurve3=THREE.Curve.create(function(e){this.points=void 0==e?[]:e},function(e){var t=this.points,r=(t.length-0)*e,n=Math.floor(r),i=r-n;n+=n>0?0:(Math.floor(Math.abs(n)/t.length)+1)*t.length;var o=t[(n-1)%t.length],a=t[n%t.length],s=t[(n+1)%t.length],u=t[(n+2)%t.length],c=new THREE.Vector3;return c.x=THREE.Curve.Utils.interpolate(o.x,a.x,s.x,u.x,i),c.y=THREE.Curve.Utils.interpolate(o.y,a.y,s.y,u.y,i),c.z=THREE.Curve.Utils.interpolate(o.z,a.z,s.z,u.z,i),c}),THREE.AnimationHandler={LINEAR:0,CATMULLROM:1,CATMULLROM_FORWARD:2,add:function(){console.warn("THREE.AnimationHandler.add() has been deprecated.")},get:function(){console.warn("THREE.AnimationHandler.get() has been deprecated.")},remove:function(){console.warn("THREE.AnimationHandler.remove() has been deprecated.")},animations:[],init:function(e){if(e.initialized===!0)return e;for(var t=0;t<e.hierarchy.length;t++){for(var r=0;r<e.hierarchy[t].keys.length;r++)if(e.hierarchy[t].keys[r].time<0&&(e.hierarchy[t].keys[r].time=0),void 0!==e.hierarchy[t].keys[r].rot&&!(e.hierarchy[t].keys[r].rot instanceof THREE.Quaternion)){var n=e.hierarchy[t].keys[r].rot;e.hierarchy[t].keys[r].rot=(new THREE.Quaternion).fromArray(n)}if(e.hierarchy[t].keys.length&&void 0!==e.hierarchy[t].keys[0].morphTargets){for(var i={},r=0;r<e.hierarchy[t].keys.length;r++)for(var o=0;o<e.hierarchy[t].keys[r].morphTargets.length;o++){var a=e.hierarchy[t].keys[r].morphTargets[o];i[a]=-1}e.hierarchy[t].usedMorphTargets=i;for(var r=0;r<e.hierarchy[t].keys.length;r++){var s={};for(var a in i){for(var o=0;o<e.hierarchy[t].keys[r].morphTargets.length;o++)if(e.hierarchy[t].keys[r].morphTargets[o]===a){s[a]=e.hierarchy[t].keys[r].morphTargetsInfluences[o];break}o===e.hierarchy[t].keys[r].morphTargets.length&&(s[a]=0)}e.hierarchy[t].keys[r].morphTargetsInfluences=s}}for(var r=1;r<e.hierarchy[t].keys.length;r++)e.hierarchy[t].keys[r].time===e.hierarchy[t].keys[r-1].time&&(e.hierarchy[t].keys.splice(r,1),r--);for(var r=0;r<e.hierarchy[t].keys.length;r++)e.hierarchy[t].keys[r].index=r}return e.initialized=!0,e},parse:function(e){var t=function(e,r){r.push(e);for(var n=0;n<e.children.length;n++)t(e.children[n],r)},r=[];if(e instanceof THREE.SkinnedMesh)for(var n=0;n<e.skeleton.bones.length;n++)r.push(e.skeleton.bones[n]);else t(e,r);return r},play:function(e){-1===this.animations.indexOf(e)&&this.animations.push(e)},stop:function(e){var t=this.animations.indexOf(e);-1!==t&&this.animations.splice(t,1)},update:function(e){for(var t=0;t<this.animations.length;t++)this.animations[t].resetBlendWeights();for(var t=0;t<this.animations.length;t++)this.animations[t].update(e)}},THREE.Animation=function(e,t){this.root=e,this.data=THREE.AnimationHandler.init(t),this.hierarchy=THREE.AnimationHandler.parse(e),this.currentTime=0,this.timeScale=1,this.isPlaying=!1,this.loop=!0,this.weight=0,this.interpolationType=THREE.AnimationHandler.LINEAR},THREE.Animation.prototype.keyTypes=["pos","rot","scl"],THREE.Animation.prototype.play=function(e,t){this.currentTime=void 0!==e?e:0,this.weight=void 0!==t?t:1,this.isPlaying=!0,this.reset(),THREE.AnimationHandler.play(this)},THREE.Animation.prototype.stop=function(){this.isPlaying=!1,THREE.AnimationHandler.stop(this)},THREE.Animation.prototype.reset=function(){for(var e=0,t=this.hierarchy.length;t>e;e++){var r=this.hierarchy[e];void 0===r.animationCache&&(r.animationCache={animations:{},blending:{positionWeight:0,quaternionWeight:0,scaleWeight:0}}),void 0===r.animationCache.animations[this.data.name]&&(r.animationCache.animations[this.data.name]={},r.animationCache.animations[this.data.name].prevKey={pos:0,rot:0,scl:0},r.animationCache.animations[this.data.name].nextKey={pos:0,rot:0,scl:0},r.animationCache.animations[this.data.name].originalMatrix=r.matrix);for(var n=r.animationCache.animations[this.data.name],i=0;3>i;i++){for(var o=this.keyTypes[i],a=this.data.hierarchy[e].keys[0],s=this.getNextKeyWith(o,e,1);s.time<this.currentTime&&s.index>a.index;)a=s,s=this.getNextKeyWith(o,e,s.index+1);n.prevKey[o]=a,n.nextKey[o]=s}}},THREE.Animation.prototype.resetBlendWeights=function(){for(var e=0,t=this.hierarchy.length;t>e;e++){var r=this.hierarchy[e];void 0!==r.animationCache&&(r.animationCache.blending.positionWeight=0,r.animationCache.blending.quaternionWeight=0,r.animationCache.blending.scaleWeight=0)}},THREE.Animation.prototype.update=function(){var e=[],t=new THREE.Vector3,r=new THREE.Vector3,n=new THREE.Quaternion,i=function(e,t){var r,n,i,a,s,u,c,l,h,f=[],d=[];return r=(e.length-1)*t,n=Math.floor(r),i=r-n,f[0]=0===n?n:n-1,f[1]=n,f[2]=n>e.length-2?n:n+1,f[3]=n>e.length-3?n:n+2,u=e[f[0]],c=e[f[1]],l=e[f[2]],h=e[f[3]],a=i*i,s=i*a,d[0]=o(u[0],c[0],l[0],h[0],i,a,s),d[1]=o(u[1],c[1],l[1],h[1],i,a,s),d[2]=o(u[2],c[2],l[2],h[2],i,a,s),d},o=function(e,t,r,n,i,o,a){var s=.5*(r-e),u=.5*(n-t);return(2*(t-r)+s+u)*a+(-3*(t-r)-2*s-u)*o+s*i+t};return function(o){if(this.isPlaying!==!1&&(this.currentTime+=o*this.timeScale,0!==this.weight)){var a=this.data.length;(this.currentTime>a||this.currentTime<0)&&(this.loop?(this.currentTime%=a,this.currentTime<0&&(this.currentTime+=a),this.reset()):this.stop());for(var s=0,u=this.hierarchy.length;u>s;s++)for(var c=this.hierarchy[s],l=c.animationCache.animations[this.data.name],h=c.animationCache.blending,f=0;3>f;f++){var d=this.keyTypes[f],p=l.prevKey[d],m=l.nextKey[d];if(this.timeScale>0&&m.time<=this.currentTime||this.timeScale<0&&p.time>=this.currentTime){for(p=this.data.hierarchy[s].keys[0],m=this.getNextKeyWith(d,s,1);m.time<this.currentTime&&m.index>p.index;)p=m,m=this.getNextKeyWith(d,s,m.index+1);l.prevKey[d]=p,l.nextKey[d]=m}var g=(this.currentTime-p.time)/(m.time-p.time),y=p[d],v=m[d];if(0>g&&(g=0),g>1&&(g=1),"pos"===d){if(this.interpolationType===THREE.AnimationHandler.LINEAR){r.x=y[0]+(v[0]-y[0])*g,r.y=y[1]+(v[1]-y[1])*g,r.z=y[2]+(v[2]-y[2])*g;var b=this.weight/(this.weight+h.positionWeight);c.position.lerp(r,b),h.positionWeight+=this.weight}else if(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD){e[0]=this.getPrevKeyWith("pos",s,p.index-1).pos,e[1]=y,e[2]=v,e[3]=this.getNextKeyWith("pos",s,m.index+1).pos,g=.33*g+.33;var E=i(e,g),b=this.weight/(this.weight+h.positionWeight);h.positionWeight+=this.weight;var x=c.position;if(x.x=x.x+(E[0]-x.x)*b,x.y=x.y+(E[1]-x.y)*b,x.z=x.z+(E[2]-x.z)*b,this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD){var w=i(e,1.01*g);t.set(w[0],w[1],w[2]),t.sub(x),t.y=0,t.normalize();var _=Math.atan2(t.x,t.z);c.rotation.set(0,_,0)}}}else if("rot"===d)if(THREE.Quaternion.slerp(y,v,n,g),0===h.quaternionWeight)c.quaternion.copy(n),h.quaternionWeight=this.weight;else{var b=this.weight/(this.weight+h.quaternionWeight);THREE.Quaternion.slerp(c.quaternion,n,c.quaternion,b),h.quaternionWeight+=this.weight}else if("scl"===d){r.x=y[0]+(v[0]-y[0])*g,r.y=y[1]+(v[1]-y[1])*g,r.z=y[2]+(v[2]-y[2])*g;var b=this.weight/(this.weight+h.scaleWeight);c.scale.lerp(r,b),h.scaleWeight+=this.weight}}return!0}}}(),THREE.Animation.prototype.getNextKeyWith=function(e,t,r){var n=this.data.hierarchy[t].keys;for(this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?r=r<n.length-1?r:n.length-1:r%=n.length;r<n.length;r++)if(void 0!==n[r][e])return n[r];return this.data.hierarchy[t].keys[0]},THREE.Animation.prototype.getPrevKeyWith=function(e,t,r){var n=this.data.hierarchy[t].keys;for(r=this.interpolationType===THREE.AnimationHandler.CATMULLROM||this.interpolationType===THREE.AnimationHandler.CATMULLROM_FORWARD?r>0?r:0:r>=0?r:r+n.length;r>=0;r--)if(void 0!==n[r][e])return n[r];return this.data.hierarchy[t].keys[n.length-1]},THREE.KeyFrameAnimation=function(e){this.root=e.node,this.data=THREE.AnimationHandler.init(e),this.hierarchy=THREE.AnimationHandler.parse(this.root),this.currentTime=0,this.timeScale=.001,this.isPlaying=!1,this.isPaused=!0,this.loop=!0;for(var t=0,r=this.hierarchy.length;r>t;t++){var n=this.data.hierarchy[t].keys,i=this.data.hierarchy[t].sids,o=this.hierarchy[t];if(n.length&&i){for(var a=0;a<i.length;a++){var s=i[a],u=this.getNextKeyWith(s,t,0);u&&u.apply(s)}o.matrixAutoUpdate=!1,this.data.hierarchy[t].node.updateMatrix(),o.matrixWorldNeedsUpdate=!0}}},THREE.KeyFrameAnimation.prototype.play=function(e){if(this.currentTime=void 0!==e?e:0,this.isPlaying===!1){this.isPlaying=!0;var t,r,n,i=this.hierarchy.length;for(t=0;i>t;t++){r=this.hierarchy[t],n=this.data.hierarchy[t],void 0===n.animationCache&&(n.animationCache={},n.animationCache.prevKey=null,n.animationCache.nextKey=null,n.animationCache.originalMatrix=r.matrix);var o=this.data.hierarchy[t].keys;o.length&&(n.animationCache.prevKey=o[0],n.animationCache.nextKey=o[1],this.startTime=Math.min(o[0].time,this.startTime),this.endTime=Math.max(o[o.length-1].time,this.endTime))}this.update(0)}this.isPaused=!1,THREE.AnimationHandler.play(this)},THREE.KeyFrameAnimation.prototype.stop=function(){this.isPlaying=!1,this.isPaused=!1,THREE.AnimationHandler.stop(this);for(var e=0;e<this.data.hierarchy.length;e++){var t=this.hierarchy[e],r=this.data.hierarchy[e];if(void 0!==r.animationCache){var n=r.animationCache.originalMatrix;n.copy(t.matrix),t.matrix=n,delete r.animationCache}}},THREE.KeyFrameAnimation.prototype.update=function(e){if(this.isPlaying!==!1){this.currentTime+=e*this.timeScale;var t=this.data.length;this.loop===!0&&this.currentTime>t&&(this.currentTime%=t),this.currentTime=Math.min(this.currentTime,t);for(var r=0,n=this.hierarchy.length;n>r;r++){var i=this.hierarchy[r],o=this.data.hierarchy[r],a=o.keys,s=o.animationCache;if(a.length){var u=s.prevKey,c=s.nextKey;if(c.time<=this.currentTime){for(;c.time<this.currentTime&&c.index>u.index;)u=c,c=a[u.index+1];s.prevKey=u,s.nextKey=c}c.time>=this.currentTime?u.interpolate(c,this.currentTime):u.interpolate(c,c.time),this.data.hierarchy[r].node.updateMatrix(),i.matrixWorldNeedsUpdate=!0}}}},THREE.KeyFrameAnimation.prototype.getNextKeyWith=function(e,t,r){var n=this.data.hierarchy[t].keys;for(r%=n.length;r<n.length;r++)if(n[r].hasTarget(e))return n[r];return n[0]},THREE.KeyFrameAnimation.prototype.getPrevKeyWith=function(e,t,r){var n=this.data.hierarchy[t].keys;for(r=r>=0?r:r+n.length;r>=0;r--)if(n[r].hasTarget(e))return n[r];return n[n.length-1]},THREE.MorphAnimation=function(e){this.mesh=e,this.frames=e.morphTargetInfluences.length,this.currentTime=0,this.duration=1e3,this.loop=!0,this.lastFrame=0,this.currentFrame=0,this.isPlaying=!1},THREE.MorphAnimation.prototype={constructor:THREE.MorphAnimation,play:function(){this.isPlaying=!0},pause:function(){this.isPlaying=!1},update:function(e){if(this.isPlaying!==!1){this.currentTime+=e,this.loop===!0&&this.currentTime>this.duration&&(this.currentTime%=this.duration),this.currentTime=Math.min(this.currentTime,this.duration);var t=this.duration/this.frames,r=Math.floor(this.currentTime/t);r!=this.currentFrame&&(this.mesh.morphTargetInfluences[this.lastFrame]=0,this.mesh.morphTargetInfluences[this.currentFrame]=1,this.mesh.morphTargetInfluences[r]=0,this.lastFrame=this.currentFrame,this.currentFrame=r),this.mesh.morphTargetInfluences[r]=this.currentTime%t/t,this.mesh.morphTargetInfluences[this.lastFrame]=1-this.mesh.morphTargetInfluences[r]}}},THREE.BoxGeometry=function(e,t,r,n,i,o){function a(e,t,r,n,i,o,a,u){var c,l,h,f=s.widthSegments,d=s.heightSegments,p=i/2,m=o/2,g=s.vertices.length;"x"===e&&"y"===t||"y"===e&&"x"===t?c="z":"x"===e&&"z"===t||"z"===e&&"x"===t?(c="y",d=s.depthSegments):("z"===e&&"y"===t||"y"===e&&"z"===t)&&(c="x",f=s.depthSegments);var y=f+1,v=d+1,b=i/f,E=o/d,x=new THREE.Vector3;for(x[c]=a>0?1:-1,h=0;v>h;h++)for(l=0;y>l;l++){var w=new THREE.Vector3;w[e]=(l*b-p)*r,w[t]=(h*E-m)*n,w[c]=a,s.vertices.push(w)}for(h=0;d>h;h++)for(l=0;f>l;l++){var _=l+y*h,T=l+y*(h+1),R=l+1+y*(h+1),S=l+1+y*h,C=new THREE.Vector2(l/f,1-h/d),H=new THREE.Vector2(l/f,1-(h+1)/d),M=new THREE.Vector2((l+1)/f,1-(h+1)/d),A=new THREE.Vector2((l+1)/f,1-h/d),N=new THREE.Face3(_+g,T+g,S+g);N.normal.copy(x),N.vertexNormals.push(x.clone(),x.clone(),x.clone()),N.materialIndex=u,s.faces.push(N),s.faceVertexUvs[0].push([C,H,A]),N=new THREE.Face3(T+g,R+g,S+g),N.normal.copy(x),N.vertexNormals.push(x.clone(),x.clone(),x.clone()),N.materialIndex=u,s.faces.push(N),s.faceVertexUvs[0].push([H.clone(),M,A.clone()])}}THREE.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:n,heightSegments:i,depthSegments:o},this.widthSegments=n||1,this.heightSegments=i||1,this.depthSegments=o||1;var s=this,u=e/2,c=t/2,l=r/2;a("z","y",-1,-1,r,t,u,0),a("z","y",1,-1,r,t,-u,1),a("x","z",1,1,e,r,c,2),a("x","z",1,-1,e,r,-c,3),a("x","y",1,-1,e,t,l,4),a("x","y",-1,-1,e,t,-l,5),this.mergeVertices()},THREE.BoxGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.BoxGeometry.prototype.constructor=THREE.BoxGeometry,THREE.CircleGeometry=function(e,t,r,n){THREE.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:n},e=e||50,t=void 0!==t?Math.max(3,t):8,r=void 0!==r?r:0,n=void 0!==n?n:2*Math.PI;var i,o=[],a=new THREE.Vector3,s=new THREE.Vector2(.5,.5);for(this.vertices.push(a),o.push(s),i=0;t>=i;i++){var u=new THREE.Vector3,c=r+i/t*n;u.x=e*Math.cos(c),u.y=e*Math.sin(c),this.vertices.push(u),o.push(new THREE.Vector2((u.x/e+1)/2,(u.y/e+1)/2))}var l=new THREE.Vector3(0,0,1);for(i=1;t>=i;i++)this.faces.push(new THREE.Face3(i,i+1,0,[l.clone(),l.clone(),l.clone()])),this.faceVertexUvs[0].push([o[i].clone(),o[i+1].clone(),s.clone()]);this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,e)},THREE.CircleGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CircleGeometry.prototype.constructor=THREE.CircleGeometry,THREE.CubeGeometry=function(e,t,r,n,i,o){return console.warn("THREE.CubeGeometry has been renamed to THREE.BoxGeometry."),new THREE.BoxGeometry(e,t,r,n,i,o)},THREE.CylinderGeometry=function(e,t,r,n,i,o,a,s){THREE.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s},e=void 0!==e?e:20,t=void 0!==t?t:20,r=void 0!==r?r:100,n=n||8,i=i||1,o=void 0!==o?o:!1,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var u,c,l=r/2,h=[],f=[];for(c=0;i>=c;c++){var d=[],p=[],m=c/i,g=m*(t-e)+e;for(u=0;n>=u;u++){var y=u/n,v=new THREE.Vector3;v.x=g*Math.sin(y*s+a),v.y=-m*r+l,v.z=g*Math.cos(y*s+a),this.vertices.push(v),d.push(this.vertices.length-1),p.push(new THREE.Vector2(y,1-m))}h.push(d),f.push(p)}var b,E,x=(t-e)/r;for(u=0;n>u;u++)for(0!==e?(b=this.vertices[h[0][u]].clone(),E=this.vertices[h[0][u+1]].clone()):(b=this.vertices[h[1][u]].clone(),E=this.vertices[h[1][u+1]].clone()),b.setY(Math.sqrt(b.x*b.x+b.z*b.z)*x).normalize(),E.setY(Math.sqrt(E.x*E.x+E.z*E.z)*x).normalize(),c=0;i>c;c++){var w=h[c][u],_=h[c+1][u],T=h[c+1][u+1],R=h[c][u+1],S=b.clone(),C=b.clone(),H=E.clone(),M=E.clone(),A=f[c][u].clone(),N=f[c+1][u].clone(),P=f[c+1][u+1].clone(),k=f[c][u+1].clone();this.faces.push(new THREE.Face3(w,_,R,[S,C,M])),this.faceVertexUvs[0].push([A,N,k]),this.faces.push(new THREE.Face3(_,T,R,[C.clone(),H,M.clone()])),this.faceVertexUvs[0].push([N.clone(),P,k.clone()])}if(o===!1&&e>0)for(this.vertices.push(new THREE.Vector3(0,l,0)),u=0;n>u;u++){var w=h[0][u],_=h[0][u+1],T=this.vertices.length-1,S=new THREE.Vector3(0,1,0),C=new THREE.Vector3(0,1,0),H=new THREE.Vector3(0,1,0),A=f[0][u].clone(),N=f[0][u+1].clone(),P=new THREE.Vector2(N.x,0);this.faces.push(new THREE.Face3(w,_,T,[S,C,H])),this.faceVertexUvs[0].push([A,N,P])}if(o===!1&&t>0)for(this.vertices.push(new THREE.Vector3(0,-l,0)),u=0;n>u;u++){var w=h[i][u+1],_=h[i][u],T=this.vertices.length-1,S=new THREE.Vector3(0,-1,0),C=new THREE.Vector3(0,-1,0),H=new THREE.Vector3(0,-1,0),A=f[i][u+1].clone(),N=f[i][u].clone(),P=new THREE.Vector2(N.x,1);this.faces.push(new THREE.Face3(w,_,T,[S,C,H])),this.faceVertexUvs[0].push([A,N,P])}this.computeFaceNormals()},THREE.CylinderGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.CylinderGeometry.prototype.constructor=THREE.CylinderGeometry,THREE.ExtrudeGeometry=function(e,t){return"undefined"==typeof e?void(e=[]):(THREE.Geometry.call(this),this.type="ExtrudeGeometry",e=e instanceof Array?e:[e],this.addShapeList(e,t),void this.computeFaceNormals())},THREE.ExtrudeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ExtrudeGeometry.prototype.constructor=THREE.ExtrudeGeometry,THREE.ExtrudeGeometry.prototype.addShapeList=function(e,t){for(var r=e.length,n=0;r>n;n++){var i=e[n];this.addShape(i,t)}},THREE.ExtrudeGeometry.prototype.addShape=function(e,t){function r(e,t,r){return t||console.log("die"),t.clone().multiplyScalar(r).add(e)}function n(e,t,r){var n,i,o=1e-10,a=1,s=e.x-t.x,u=e.y-t.y,c=r.x-e.x,l=r.y-e.y,h=s*s+u*u,f=s*l-u*c;if(Math.abs(f)>o){var d=Math.sqrt(h),p=Math.sqrt(c*c+l*l),m=t.x-u/d,g=t.y+s/d,y=r.x-l/p,v=r.y+c/p,b=((y-m)*l-(v-g)*c)/(s*l-u*c);n=m+s*b-e.x,i=g+u*b-e.y;var E=n*n+i*i;if(2>=E)return new THREE.Vector2(n,i);a=Math.sqrt(E/2)}else{var x=!1;s>o?c>o&&(x=!0):-o>s?-o>c&&(x=!0):Math.sign(u)==Math.sign(l)&&(x=!0),x?(n=-u,i=s,a=Math.sqrt(h)):(n=s,i=u,a=Math.sqrt(h/2))}return new THREE.Vector2(n/a,i/a)}function i(){if(b){var e=0,t=q*e;for(K=0;G>K;K++)j=D[K],u(j[2]+t,j[1]+t,j[0]+t);for(e=x+2*v,t=q*e,K=0;G>K;K++)j=D[K],u(j[0]+t,j[1]+t,j[2]+t)}else{for(K=0;G>K;K++)j=D[K],u(j[2],j[1],j[0]);for(K=0;G>K;K++)j=D[K],u(j[0]+q*x,j[1]+q*x,j[2]+q*x)}}function o(){var e=0;for(a(F,e),e+=F.length,H=0,M=O.length;M>H;H++)C=O[H],a(C,e),e+=C.length}function a(e,t){var r,n;for(K=e.length;--K>=0;){r=K,n=K-1,0>n&&(n=e.length-1);var i=0,o=x+2*v;for(i=0;o>i;i++){var a=q*i,s=q*(i+1),u=t+r+a,l=t+n+a,h=t+n+s,f=t+r+s;c(u,l,h,f,e,i,o,r,n)}}}function s(e,t,r){A.vertices.push(new THREE.Vector3(e,t,r))}function u(e,t,r){e+=N,t+=N,r+=N,A.faces.push(new THREE.Face3(e,t,r,null,null,T));var n=S.generateTopUV(A,e,t,r);A.faceVertexUvs[0].push(n)}function c(e,t,r,n){e+=N,t+=N,r+=N,n+=N,A.faces.push(new THREE.Face3(e,t,n,null,null,R)),A.faces.push(new THREE.Face3(t,r,n,null,null,R));var i=S.generateSideWallUV(A,e,t,r,n);A.faceVertexUvs[0].push([i[0],i[1],i[3]]),A.faceVertexUvs[0].push([i[1],i[2],i[3]])}var l,h,f,d,p,m=void 0!==t.amount?t.amount:100,g=void 0!==t.bevelThickness?t.bevelThickness:6,y=void 0!==t.bevelSize?t.bevelSize:g-2,v=void 0!==t.bevelSegments?t.bevelSegments:3,b=void 0!==t.bevelEnabled?t.bevelEnabled:!0,E=void 0!==t.curveSegments?t.curveSegments:12,x=void 0!==t.steps?t.steps:1,w=t.extrudePath,_=!1,T=t.material,R=t.extrudeMaterial,S=void 0!==t.UVGenerator?t.UVGenerator:THREE.ExtrudeGeometry.WorldUVGenerator;w&&(l=w.getSpacedPoints(x),_=!0,b=!1,h=void 0!==t.frames?t.frames:new THREE.TubeGeometry.FrenetFrames(w,x,!1),f=new THREE.Vector3,d=new THREE.Vector3,p=new THREE.Vector3),b||(v=0,g=0,y=0);var C,H,M,A=this,N=this.vertices.length,P=e.extractPoints(E),k=P.shape,O=P.holes,L=!THREE.Shape.Utils.isClockWise(k);if(L){for(k=k.reverse(),H=0,M=O.length;M>H;H++)C=O[H],THREE.Shape.Utils.isClockWise(C)&&(O[H]=C.reverse());L=!1}var D=THREE.Shape.Utils.triangulateShape(k,O),F=k;for(H=0,M=O.length;M>H;H++)C=O[H],k=k.concat(C);for(var B,I,z,U,V,j,q=k.length,G=D.length,W=(F.length,180/Math.PI,[]),K=0,X=F.length,Y=X-1,$=K+1;X>K;K++,Y++,$++){Y===X&&(Y=0),$===X&&($=0);{F[K],F[Y],F[$]}W[K]=n(F[K],F[Y],F[$])}var Q,Z=[],J=W.concat();for(H=0,M=O.length;M>H;H++){for(C=O[H],Q=[],K=0,X=C.length,Y=X-1,$=K+1;X>K;K++,Y++,$++)Y===X&&(Y=0),$===X&&($=0),Q[K]=n(C[K],C[Y],C[$]);Z.push(Q),J=J.concat(Q)}for(B=0;v>B;B++){for(z=B/v,U=g*(1-z),I=y*Math.sin(z*Math.PI/2),K=0,X=F.length;X>K;K++)V=r(F[K],W[K],I),s(V.x,V.y,-U);for(H=0,M=O.length;M>H;H++)for(C=O[H],Q=Z[H],K=0,X=C.length;X>K;K++)V=r(C[K],Q[K],I),s(V.x,V.y,-U)}for(I=y,K=0;q>K;K++)V=b?r(k[K],J[K],I):k[K],_?(d.copy(h.normals[0]).multiplyScalar(V.x),f.copy(h.binormals[0]).multiplyScalar(V.y),p.copy(l[0]).add(d).add(f),s(p.x,p.y,p.z)):s(V.x,V.y,0);var et;for(et=1;x>=et;et++)for(K=0;q>K;K++)V=b?r(k[K],J[K],I):k[K],_?(d.copy(h.normals[et]).multiplyScalar(V.x),f.copy(h.binormals[et]).multiplyScalar(V.y),p.copy(l[et]).add(d).add(f),s(p.x,p.y,p.z)):s(V.x,V.y,m/x*et);for(B=v-1;B>=0;B--){for(z=B/v,U=g*(1-z),I=y*Math.sin(z*Math.PI/2),K=0,X=F.length;X>K;K++)V=r(F[K],W[K],I),s(V.x,V.y,m+U);for(H=0,M=O.length;M>H;H++)for(C=O[H],Q=Z[H],K=0,X=C.length;X>K;K++)V=r(C[K],Q[K],I),_?s(V.x,V.y+l[x-1].y,l[x-1].x+U):s(V.x,V.y,m+U)}i(),o()},THREE.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(e,t,r,n){var i=e.vertices,o=i[t],a=i[r],s=i[n];return[new THREE.Vector2(o.x,o.y),new THREE.Vector2(a.x,a.y),new THREE.Vector2(s.x,s.y)]},generateSideWallUV:function(e,t,r,n,i){var o=e.vertices,a=o[t],s=o[r],u=o[n],c=o[i];return Math.abs(a.y-s.y)<.01?[new THREE.Vector2(a.x,1-a.z),new THREE.Vector2(s.x,1-s.z),new THREE.Vector2(u.x,1-u.z),new THREE.Vector2(c.x,1-c.z)]:[new THREE.Vector2(a.y,1-a.z),new THREE.Vector2(s.y,1-s.z),new THREE.Vector2(u.y,1-u.z),new THREE.Vector2(c.y,1-c.z)]}},THREE.ShapeGeometry=function(e,t){THREE.Geometry.call(this),this.type="ShapeGeometry",e instanceof Array==!1&&(e=[e]),this.addShapeList(e,t),this.computeFaceNormals()},THREE.ShapeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ShapeGeometry.prototype.constructor=THREE.ShapeGeometry,THREE.ShapeGeometry.prototype.addShapeList=function(e,t){for(var r=0,n=e.length;n>r;r++)this.addShape(e[r],t);return this},THREE.ShapeGeometry.prototype.addShape=function(e,t){void 0===t&&(t={});var r,n,i,o=void 0!==t.curveSegments?t.curveSegments:12,a=t.material,s=void 0===t.UVGenerator?THREE.ExtrudeGeometry.WorldUVGenerator:t.UVGenerator,u=this.vertices.length,c=e.extractPoints(o),l=c.shape,h=c.holes,f=!THREE.Shape.Utils.isClockWise(l);if(f){for(l=l.reverse(),r=0,n=h.length;n>r;r++)i=h[r],THREE.Shape.Utils.isClockWise(i)&&(h[r]=i.reverse());
f=!1}var d=THREE.Shape.Utils.triangulateShape(l,h),p=l;for(r=0,n=h.length;n>r;r++)i=h[r],l=l.concat(i);{var m,g,y=l.length,v=d.length;p.length}for(r=0;y>r;r++)m=l[r],this.vertices.push(new THREE.Vector3(m.x,m.y,0));for(r=0;v>r;r++){g=d[r];var b=g[0]+u,E=g[1]+u,x=g[2]+u;this.faces.push(new THREE.Face3(b,E,x,null,null,a)),this.faceVertexUvs[0].push(s.generateTopUV(this,b,E,x))}},THREE.LatheGeometry=function(e,t,r,n){THREE.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},t=t||12,r=r||0,n=n||2*Math.PI;for(var i=1/(e.length-1),o=1/t,a=0,s=t;s>=a;a++)for(var u=r+a*o*n,c=Math.cos(u),l=Math.sin(u),h=0,f=e.length;f>h;h++){var d=e[h],p=new THREE.Vector3;p.x=c*d.x-l*d.y,p.y=l*d.x+c*d.y,p.z=d.z,this.vertices.push(p)}for(var m=e.length,a=0,s=t;s>a;a++)for(var h=0,f=e.length-1;f>h;h++){var g=h+m*a,y=g,v=g+m,c=g+1+m,b=g+1,E=a*o,x=h*i,w=E+o,_=x+i;this.faces.push(new THREE.Face3(y,v,b)),this.faceVertexUvs[0].push([new THREE.Vector2(E,x),new THREE.Vector2(w,x),new THREE.Vector2(E,_)]),this.faces.push(new THREE.Face3(v,c,b)),this.faceVertexUvs[0].push([new THREE.Vector2(w,x),new THREE.Vector2(w,_),new THREE.Vector2(E,_)])}this.mergeVertices(),this.computeFaceNormals(),this.computeVertexNormals()},THREE.LatheGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.LatheGeometry.prototype.constructor=THREE.LatheGeometry,THREE.PlaneGeometry=function(e,t,r,n){console.info("THREE.PlaneGeometry: Consider using THREE.PlaneBufferGeometry for lower memory footprint."),THREE.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n},this.fromBufferGeometry(new THREE.PlaneBufferGeometry(e,t,r,n))},THREE.PlaneGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.PlaneGeometry.prototype.constructor=THREE.PlaneGeometry,THREE.PlaneBufferGeometry=function(e,t,r,n){THREE.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n};for(var i=e/2,o=t/2,a=r||1,s=n||1,u=a+1,c=s+1,l=e/a,h=t/s,f=new Float32Array(u*c*3),d=new Float32Array(u*c*3),p=new Float32Array(u*c*2),m=0,g=0,y=0;c>y;y++)for(var v=y*h-o,b=0;u>b;b++){var E=b*l-i;f[m]=E,f[m+1]=-v,d[m+2]=1,p[g]=b/a,p[g+1]=1-y/s,m+=3,g+=2}m=0;for(var x=new(f.length/3>65535?Uint32Array:Uint16Array)(a*s*6),y=0;s>y;y++)for(var b=0;a>b;b++){var w=b+u*y,_=b+u*(y+1),T=b+1+u*(y+1),R=b+1+u*y;x[m]=w,x[m+1]=_,x[m+2]=R,x[m+3]=_,x[m+4]=T,x[m+5]=R,m+=6}this.addAttribute("index",new THREE.BufferAttribute(x,1)),this.addAttribute("position",new THREE.BufferAttribute(f,3)),this.addAttribute("normal",new THREE.BufferAttribute(d,3)),this.addAttribute("uv",new THREE.BufferAttribute(p,2))},THREE.PlaneBufferGeometry.prototype=Object.create(THREE.BufferGeometry.prototype),THREE.PlaneBufferGeometry.prototype.constructor=THREE.PlaneBufferGeometry,THREE.RingGeometry=function(e,t,r,n,i,o){THREE.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:n,thetaStart:i,thetaLength:o},e=e||0,t=t||50,i=void 0!==i?i:0,o=void 0!==o?o:2*Math.PI,r=void 0!==r?Math.max(3,r):8,n=void 0!==n?Math.max(1,n):8;var a,s,u=[],c=e,l=(t-e)/n;for(a=0;n+1>a;a++){for(s=0;r+1>s;s++){var h=new THREE.Vector3,f=i+s/r*o;h.x=c*Math.cos(f),h.y=c*Math.sin(f),this.vertices.push(h),u.push(new THREE.Vector2((h.x/t+1)/2,(h.y/t+1)/2))}c+=l}var d=new THREE.Vector3(0,0,1);for(a=0;n>a;a++){var p=a*(r+1);for(s=0;r>s;s++){var f=s+p,m=f,g=f+r+1,y=f+r+2;this.faces.push(new THREE.Face3(m,g,y,[d.clone(),d.clone(),d.clone()])),this.faceVertexUvs[0].push([u[m].clone(),u[g].clone(),u[y].clone()]),m=f,g=f+r+2,y=f+1,this.faces.push(new THREE.Face3(m,g,y,[d.clone(),d.clone(),d.clone()])),this.faceVertexUvs[0].push([u[m].clone(),u[g].clone(),u[y].clone()])}}this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,c)},THREE.RingGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.RingGeometry.prototype.constructor=THREE.RingGeometry,THREE.SphereGeometry=function(e,t,r,n,i,o,a){THREE.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:a},e=e||50,t=Math.max(3,Math.floor(t)||8),r=Math.max(2,Math.floor(r)||6),n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,u,c=[],l=[];for(u=0;r>=u;u++){var h=[],f=[];for(s=0;t>=s;s++){var d=s/t,p=u/r,m=new THREE.Vector3;m.x=-e*Math.cos(n+d*i)*Math.sin(o+p*a),m.y=e*Math.cos(o+p*a),m.z=e*Math.sin(n+d*i)*Math.sin(o+p*a),this.vertices.push(m),h.push(this.vertices.length-1),f.push(new THREE.Vector2(d,1-p))}c.push(h),l.push(f)}for(u=0;r>u;u++)for(s=0;t>s;s++){var g=c[u][s+1],y=c[u][s],v=c[u+1][s],b=c[u+1][s+1],E=this.vertices[g].clone().normalize(),x=this.vertices[y].clone().normalize(),w=this.vertices[v].clone().normalize(),_=this.vertices[b].clone().normalize(),T=l[u][s+1].clone(),R=l[u][s].clone(),S=l[u+1][s].clone(),C=l[u+1][s+1].clone();Math.abs(this.vertices[g].y)===e?(T.x=(T.x+R.x)/2,this.faces.push(new THREE.Face3(g,v,b,[E,w,_])),this.faceVertexUvs[0].push([T,S,C])):Math.abs(this.vertices[v].y)===e?(S.x=(S.x+C.x)/2,this.faces.push(new THREE.Face3(g,y,v,[E,x,w])),this.faceVertexUvs[0].push([T,R,S])):(this.faces.push(new THREE.Face3(g,y,b,[E,x,_])),this.faceVertexUvs[0].push([T,R,C]),this.faces.push(new THREE.Face3(y,v,b,[x.clone(),w,_.clone()])),this.faceVertexUvs[0].push([R.clone(),S,C.clone()]))}this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,e)},THREE.SphereGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.SphereGeometry.prototype.constructor=THREE.SphereGeometry,THREE.TextGeometry=function(e,t){t=t||{};var r=THREE.FontUtils.generateShapes(e,t);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),THREE.ExtrudeGeometry.call(this,r,t),this.type="TextGeometry"},THREE.TextGeometry.prototype=Object.create(THREE.ExtrudeGeometry.prototype),THREE.TextGeometry.prototype.constructor=THREE.TextGeometry,THREE.TorusGeometry=function(e,t,r,n,i){THREE.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,arc:i},e=e||100,t=t||40,r=r||8,n=n||6,i=i||2*Math.PI;for(var o=new THREE.Vector3,a=[],s=[],u=0;r>=u;u++)for(var c=0;n>=c;c++){var l=c/n*i,h=u/r*Math.PI*2;o.x=e*Math.cos(l),o.y=e*Math.sin(l);var f=new THREE.Vector3;f.x=(e+t*Math.cos(h))*Math.cos(l),f.y=(e+t*Math.cos(h))*Math.sin(l),f.z=t*Math.sin(h),this.vertices.push(f),a.push(new THREE.Vector2(c/n,u/r)),s.push(f.clone().sub(o).normalize())}for(var u=1;r>=u;u++)for(var c=1;n>=c;c++){var d=(n+1)*u+c-1,p=(n+1)*(u-1)+c-1,m=(n+1)*(u-1)+c,g=(n+1)*u+c,y=new THREE.Face3(d,p,g,[s[d].clone(),s[p].clone(),s[g].clone()]);this.faces.push(y),this.faceVertexUvs[0].push([a[d].clone(),a[p].clone(),a[g].clone()]),y=new THREE.Face3(p,m,g,[s[p].clone(),s[m].clone(),s[g].clone()]),this.faces.push(y),this.faceVertexUvs[0].push([a[p].clone(),a[m].clone(),a[g].clone()])}this.computeFaceNormals()},THREE.TorusGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TorusGeometry.prototype.constructor=THREE.TorusGeometry,THREE.TorusKnotGeometry=function(e,t,r,n,i,o,a){function s(e,t,r,n,i){var o=Math.cos(e),a=Math.sin(e),s=t/r*e,u=Math.cos(s),c=n*(2+u)*.5*o,l=n*(2+u)*a*.5,h=i*n*Math.sin(s)*.5;return new THREE.Vector3(c,l,h)}THREE.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:n,p:i,q:o,heightScale:a},e=e||100,t=t||40,r=r||64,n=n||8,i=i||2,o=o||3,a=a||1;for(var u=new Array(r),c=new THREE.Vector3,l=new THREE.Vector3,h=new THREE.Vector3,f=0;r>f;++f){u[f]=new Array(n);var d=f/r*2*i*Math.PI,p=s(d,o,i,e,a),m=s(d+.01,o,i,e,a);c.subVectors(m,p),l.addVectors(m,p),h.crossVectors(c,l),l.crossVectors(h,c),h.normalize(),l.normalize();for(var g=0;n>g;++g){var y=g/n*2*Math.PI,v=-t*Math.cos(y),b=t*Math.sin(y),E=new THREE.Vector3;E.x=p.x+v*l.x+b*h.x,E.y=p.y+v*l.y+b*h.y,E.z=p.z+v*l.z+b*h.z,u[f][g]=this.vertices.push(E)-1}}for(var f=0;r>f;++f)for(var g=0;n>g;++g){var x=(f+1)%r,w=(g+1)%n,_=u[f][g],T=u[x][g],R=u[x][w],S=u[f][w],C=new THREE.Vector2(f/r,g/n),H=new THREE.Vector2((f+1)/r,g/n),M=new THREE.Vector2((f+1)/r,(g+1)/n),A=new THREE.Vector2(f/r,(g+1)/n);this.faces.push(new THREE.Face3(_,T,S)),this.faceVertexUvs[0].push([C,H,A]),this.faces.push(new THREE.Face3(T,R,S)),this.faceVertexUvs[0].push([H.clone(),M,A.clone()])}this.computeFaceNormals(),this.computeVertexNormals()},THREE.TorusKnotGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TorusKnotGeometry.prototype.constructor=THREE.TorusKnotGeometry,THREE.TubeGeometry=function(e,t,r,n,i,o){function a(e,t,r){return M.vertices.push(new THREE.Vector3(e,t,r))-1}THREE.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:e,segments:t,radius:r,radialSegments:n,closed:i},t=t||64,r=r||1,n=n||8,i=i||!1,o=o||THREE.TubeGeometry.NoTaper;var s,u,c,l,h,f,d,p,m,g,y,v,b,E,x,w,_,T,R,S,C,H=[],M=this,A=t+1,N=new THREE.Vector3,P=new THREE.TubeGeometry.FrenetFrames(e,t,i),k=P.tangents,O=P.normals,L=P.binormals;for(this.tangents=k,this.normals=O,this.binormals=L,g=0;A>g;g++)for(H[g]=[],l=g/(A-1),m=e.getPointAt(l),s=k[g],u=O[g],c=L[g],f=r*o(l),y=0;n>y;y++)h=y/n*2*Math.PI,d=-f*Math.cos(h),p=f*Math.sin(h),N.copy(m),N.x+=d*u.x+p*c.x,N.y+=d*u.y+p*c.y,N.z+=d*u.z+p*c.z,H[g][y]=a(N.x,N.y,N.z);for(g=0;t>g;g++)for(y=0;n>y;y++)v=i?(g+1)%t:g+1,b=(y+1)%n,E=H[g][y],x=H[v][y],w=H[v][b],_=H[g][b],T=new THREE.Vector2(g/t,y/n),R=new THREE.Vector2((g+1)/t,y/n),S=new THREE.Vector2((g+1)/t,(y+1)/n),C=new THREE.Vector2(g/t,(y+1)/n),this.faces.push(new THREE.Face3(E,x,_)),this.faceVertexUvs[0].push([T,R,C]),this.faces.push(new THREE.Face3(x,w,_)),this.faceVertexUvs[0].push([R.clone(),S,C.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},THREE.TubeGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TubeGeometry.prototype.constructor=THREE.TubeGeometry,THREE.TubeGeometry.NoTaper=function(){return 1},THREE.TubeGeometry.SinusoidalTaper=function(e){return Math.sin(Math.PI*e)},THREE.TubeGeometry.FrenetFrames=function(e,t,r){function n(){d[0]=new THREE.Vector3,p[0]=new THREE.Vector3,o=Number.MAX_VALUE,a=Math.abs(f[0].x),s=Math.abs(f[0].y),u=Math.abs(f[0].z),o>=a&&(o=a,h.set(1,0,0)),o>=s&&(o=s,h.set(0,1,0)),o>=u&&h.set(0,0,1),m.crossVectors(f[0],h).normalize(),d[0].crossVectors(f[0],m),p[0].crossVectors(f[0],d[0])}var i,o,a,s,u,c,l,h=(new THREE.Vector3,new THREE.Vector3),f=(new THREE.Vector3,[]),d=[],p=[],m=new THREE.Vector3,g=new THREE.Matrix4,y=t+1,v=1e-4;for(this.tangents=f,this.normals=d,this.binormals=p,c=0;y>c;c++)l=c/(y-1),f[c]=e.getTangentAt(l),f[c].normalize();for(n(),c=1;y>c;c++)d[c]=d[c-1].clone(),p[c]=p[c-1].clone(),m.crossVectors(f[c-1],f[c]),m.length()>v&&(m.normalize(),i=Math.acos(THREE.Math.clamp(f[c-1].dot(f[c]),-1,1)),d[c].applyMatrix4(g.makeRotationAxis(m,i))),p[c].crossVectors(f[c],d[c]);if(r)for(i=Math.acos(THREE.Math.clamp(d[0].dot(d[y-1]),-1,1)),i/=y-1,f[0].dot(m.crossVectors(d[0],d[y-1]))>0&&(i=-i),c=1;y>c;c++)d[c].applyMatrix4(g.makeRotationAxis(f[c],i*c)),p[c].crossVectors(f[c],d[c])},THREE.PolyhedronGeometry=function(e,t,r,n){function i(e){var t=e.normalize().clone();t.index=l.vertices.push(t)-1;var r=s(e)/2/Math.PI+.5,n=u(e)/Math.PI+.5;return t.uv=new THREE.Vector2(r,1-n),t}function o(e,t,r){var n=new THREE.Face3(e.index,t.index,r.index,[e.clone(),t.clone(),r.clone()]);l.faces.push(n),b.copy(e).add(t).add(r).divideScalar(3);var i=s(b);l.faceVertexUvs[0].push([c(e.uv,e,i),c(t.uv,t,i),c(r.uv,r,i)])}function a(e,t){for(var r=Math.pow(2,t),n=(Math.pow(4,t),i(l.vertices[e.a])),a=i(l.vertices[e.b]),s=i(l.vertices[e.c]),u=[],c=0;r>=c;c++){u[c]=[];for(var h=i(n.clone().lerp(s,c/r)),f=i(a.clone().lerp(s,c/r)),d=r-c,p=0;d>=p;p++)u[c][p]=0==p&&c==r?h:i(h.clone().lerp(f,p/d))}for(var c=0;r>c;c++)for(var p=0;2*(r-c)-1>p;p++){var m=Math.floor(p/2);p%2==0?o(u[c][m+1],u[c+1][m],u[c][m]):o(u[c][m+1],u[c+1][m+1],u[c+1][m])}}function s(e){return Math.atan2(e.z,-e.x)}function u(e){return Math.atan2(-e.y,Math.sqrt(e.x*e.x+e.z*e.z))}function c(e,t,r){return 0>r&&1===e.x&&(e=new THREE.Vector2(e.x-1,e.y)),0===t.x&&0===t.z&&(e=new THREE.Vector2(r/2/Math.PI+.5,e.y)),e.clone()}THREE.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n},r=r||1,n=n||0;for(var l=this,h=0,f=e.length;f>h;h+=3)i(new THREE.Vector3(e[h],e[h+1],e[h+2]));for(var d=this.vertices,p=[],h=0,m=0,f=t.length;f>h;h+=3,m++){var g=d[t[h]],y=d[t[h+1]],v=d[t[h+2]];p[m]=new THREE.Face3(g.index,y.index,v.index,[g.clone(),y.clone(),v.clone()])}for(var b=new THREE.Vector3,h=0,f=p.length;f>h;h++)a(p[h],n);for(var h=0,f=this.faceVertexUvs[0].length;f>h;h++){var E=this.faceVertexUvs[0][h],x=E[0].x,w=E[1].x,_=E[2].x,T=Math.max(x,Math.max(w,_)),R=Math.min(x,Math.min(w,_));T>.9&&.1>R&&(.2>x&&(E[0].x+=1),.2>w&&(E[1].x+=1),.2>_&&(E[2].x+=1))}for(var h=0,f=this.vertices.length;f>h;h++)this.vertices[h].multiplyScalar(r);this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new THREE.Sphere(new THREE.Vector3,r)},THREE.PolyhedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.PolyhedronGeometry.prototype.constructor=THREE.PolyhedronGeometry,THREE.DodecahedronGeometry=function(e,t){this.parameters={radius:e,detail:t};var r=(1+Math.sqrt(5))/2,n=1/r,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];THREE.PolyhedronGeometry.call(this,i,o,e,t)},THREE.DodecahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.DodecahedronGeometry.prototype.constructor=THREE.DodecahedronGeometry,THREE.IcosahedronGeometry=function(e,t){var r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];THREE.PolyhedronGeometry.call(this,n,i,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}},THREE.IcosahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.IcosahedronGeometry.prototype.constructor=THREE.IcosahedronGeometry,THREE.OctahedronGeometry=function(e,t){this.parameters={radius:e,detail:t};var r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],n=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];THREE.PolyhedronGeometry.call(this,r,n,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}},THREE.OctahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.OctahedronGeometry.prototype.constructor=THREE.OctahedronGeometry,THREE.TetrahedronGeometry=function(e,t){var r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],n=[2,1,0,0,3,2,1,3,0,2,3,1];THREE.PolyhedronGeometry.call(this,r,n,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}},THREE.TetrahedronGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.TetrahedronGeometry.prototype.constructor=THREE.TetrahedronGeometry,THREE.ParametricGeometry=function(e,t,r){THREE.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:r};var n,i,o,a,s,u=this.vertices,c=this.faces,l=this.faceVertexUvs[0],h=t+1;for(n=0;r>=n;n++)for(s=n/r,i=0;t>=i;i++)a=i/t,o=e(a,s),u.push(o);var f,d,p,m,g,y,v,b;for(n=0;r>n;n++)for(i=0;t>i;i++)f=n*h+i,d=n*h+i+1,p=(n+1)*h+i+1,m=(n+1)*h+i,g=new THREE.Vector2(i/t,n/r),y=new THREE.Vector2((i+1)/t,n/r),v=new THREE.Vector2((i+1)/t,(n+1)/r),b=new THREE.Vector2(i/t,(n+1)/r),c.push(new THREE.Face3(f,d,m)),l.push([g,y,b]),c.push(new THREE.Face3(d,p,m)),l.push([y.clone(),v,b.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},THREE.ParametricGeometry.prototype=Object.create(THREE.Geometry.prototype),THREE.ParametricGeometry.prototype.constructor=THREE.ParametricGeometry,THREE.AxisHelper=function(e){e=e||1;var t=new Float32Array([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e]),r=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),n=new THREE.BufferGeometry;n.addAttribute("position",new THREE.BufferAttribute(t,3)),n.addAttribute("color",new THREE.BufferAttribute(r,3));var i=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});THREE.Line.call(this,n,i,THREE.LinePieces)},THREE.AxisHelper.prototype=Object.create(THREE.Line.prototype),THREE.AxisHelper.prototype.constructor=THREE.AxisHelper,THREE.ArrowHelper=function(){var e=new THREE.Geometry;e.vertices.push(new THREE.Vector3(0,0,0),new THREE.Vector3(0,1,0));var t=new THREE.CylinderGeometry(0,.5,1,5,1);return t.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0)),function(r,n,i,o,a,s){THREE.Object3D.call(this),void 0===o&&(o=16776960),void 0===i&&(i=1),void 0===a&&(a=.2*i),void 0===s&&(s=.2*a),this.position.copy(n),this.line=new THREE.Line(e,new THREE.LineBasicMaterial({color:o})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new THREE.Mesh(t,new THREE.MeshBasicMaterial({color:o})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(r),this.setLength(i,a,s)}}(),THREE.ArrowHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.ArrowHelper.prototype.constructor=THREE.ArrowHelper,THREE.ArrowHelper.prototype.setDirection=function(){var e,t=new THREE.Vector3;return function(r){r.y>.99999?this.quaternion.set(0,0,0,1):r.y<-.99999?this.quaternion.set(1,0,0,0):(t.set(r.z,0,-r.x).normalize(),e=Math.acos(r.y),this.quaternion.setFromAxisAngle(t,e))}}(),THREE.ArrowHelper.prototype.setLength=function(e,t,r){void 0===t&&(t=.2*e),void 0===r&&(r=.2*t),this.line.scale.set(1,e-t,1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()},THREE.ArrowHelper.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},THREE.BoxHelper=function(e){var t=new THREE.BufferGeometry;t.addAttribute("position",new THREE.BufferAttribute(new Float32Array(72),3)),THREE.Line.call(this,t,new THREE.LineBasicMaterial({color:16776960}),THREE.LinePieces),void 0!==e&&this.update(e)},THREE.BoxHelper.prototype=Object.create(THREE.Line.prototype),THREE.BoxHelper.prototype.constructor=THREE.BoxHelper,THREE.BoxHelper.prototype.update=function(e){var t=e.geometry;null===t.boundingBox&&t.computeBoundingBox();var r=t.boundingBox.min,n=t.boundingBox.max,i=this.geometry.attributes.position.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=r.x,i[4]=n.y,i[5]=n.z,i[6]=r.x,i[7]=n.y,i[8]=n.z,i[9]=r.x,i[10]=r.y,i[11]=n.z,i[12]=r.x,i[13]=r.y,i[14]=n.z,i[15]=n.x,i[16]=r.y,i[17]=n.z,i[18]=n.x,i[19]=r.y,i[20]=n.z,i[21]=n.x,i[22]=n.y,i[23]=n.z,i[24]=n.x,i[25]=n.y,i[26]=r.z,i[27]=r.x,i[28]=n.y,i[29]=r.z,i[30]=r.x,i[31]=n.y,i[32]=r.z,i[33]=r.x,i[34]=r.y,i[35]=r.z,i[36]=r.x,i[37]=r.y,i[38]=r.z,i[39]=n.x,i[40]=r.y,i[41]=r.z,i[42]=n.x,i[43]=r.y,i[44]=r.z,i[45]=n.x,i[46]=n.y,i[47]=r.z,i[48]=n.x,i[49]=n.y,i[50]=n.z,i[51]=n.x,i[52]=n.y,i[53]=r.z,i[54]=r.x,i[55]=n.y,i[56]=n.z,i[57]=r.x,i[58]=n.y,i[59]=r.z,i[60]=r.x,i[61]=r.y,i[62]=n.z,i[63]=r.x,i[64]=r.y,i[65]=r.z,i[66]=n.x,i[67]=r.y,i[68]=n.z,i[69]=n.x,i[70]=r.y,i[71]=r.z,this.geometry.attributes.position.needsUpdate=!0,this.geometry.computeBoundingSphere(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},THREE.BoundingBoxHelper=function(e,t){var r=void 0!==t?t:8947848;this.object=e,this.box=new THREE.Box3,THREE.Mesh.call(this,new THREE.BoxGeometry(1,1,1),new THREE.MeshBasicMaterial({color:r,wireframe:!0}))},THREE.BoundingBoxHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.BoundingBoxHelper.prototype.constructor=THREE.BoundingBoxHelper,THREE.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},THREE.CameraHelper=function(e){function t(e,t,n){r(e,n),r(t,n)}function r(e,t){n.vertices.push(new THREE.Vector3),n.colors.push(new THREE.Color(t)),void 0===o[e]&&(o[e]=[]),o[e].push(n.vertices.length-1)}var n=new THREE.Geometry,i=new THREE.LineBasicMaterial({color:16777215,vertexColors:THREE.FaceColors}),o={},a=16755200,s=16711680,u=43775,c=16777215,l=3355443;t("n1","n2",a),t("n2","n4",a),t("n4","n3",a),t("n3","n1",a),t("f1","f2",a),t("f2","f4",a),t("f4","f3",a),t("f3","f1",a),t("n1","f1",a),t("n2","f2",a),t("n3","f3",a),t("n4","f4",a),t("p","n1",s),t("p","n2",s),t("p","n3",s),t("p","n4",s),t("u1","u2",u),t("u2","u3",u),t("u3","u1",u),t("c","t",c),t("p","c",l),t("cn1","cn2",l),t("cn3","cn4",l),t("cf1","cf2",l),t("cf3","cf4",l),THREE.Line.call(this,n,i,THREE.LinePieces),this.camera=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()},THREE.CameraHelper.prototype=Object.create(THREE.Line.prototype),THREE.CameraHelper.prototype.constructor=THREE.CameraHelper,THREE.CameraHelper.prototype.update=function(){var e,t,r=new THREE.Vector3,n=new THREE.Camera,i=function(i,o,a,s){r.set(o,a,s).unproject(n);var u=t[i];if(void 0!==u)for(var c=0,l=u.length;l>c;c++)e.vertices[u[c]].copy(r)};return function(){e=this.geometry,t=this.pointMap;var r=1,o=1;n.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-r,-o,-1),i("n2",r,-o,-1),i("n3",-r,o,-1),i("n4",r,o,-1),i("f1",-r,-o,1),i("f2",r,-o,1),i("f3",-r,o,1),i("f4",r,o,1),i("u1",.7*r,1.1*o,-1),i("u2",.7*-r,1.1*o,-1),i("u3",0,2*o,-1),i("cf1",-r,0,1),i("cf2",r,0,1),i("cf3",0,-o,1),i("cf4",0,o,1),i("cn1",-r,0,-1),i("cn2",r,0,-1),i("cn3",0,-o,-1),i("cn4",0,o,-1),e.verticesNeedUpdate=!0}}(),THREE.DirectionalLightHelper=function(e,t){THREE.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,t=t||1;var r=new THREE.Geometry;r.vertices.push(new THREE.Vector3(-t,t,0),new THREE.Vector3(t,t,0),new THREE.Vector3(t,-t,0),new THREE.Vector3(-t,-t,0),new THREE.Vector3(-t,t,0));var n=new THREE.LineBasicMaterial({fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new THREE.Line(r,n),this.add(this.lightPlane),r=new THREE.Geometry,r.vertices.push(new THREE.Vector3,new THREE.Vector3),n=new THREE.LineBasicMaterial({fog:!1}),n.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new THREE.Line(r,n),this.add(this.targetLine),this.update()},THREE.DirectionalLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.DirectionalLightHelper.prototype.constructor=THREE.DirectionalLightHelper,THREE.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},THREE.DirectionalLightHelper.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3;return function(){e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),r.subVectors(t,e),this.lightPlane.lookAt(r),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(r),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}}(),THREE.EdgesHelper=function(e,t){var r=void 0!==t?t:16777215,n=[0,0],i={},o=function(e,t){return e-t},a=["a","b","c"],s=new THREE.BufferGeometry,u=e.geometry.clone();u.mergeVertices(),u.computeFaceNormals();for(var c=u.vertices,l=u.faces,h=0,f=0,d=l.length;d>f;f++)for(var p=l[f],m=0;3>m;m++){n[0]=p[a[m]],n[1]=p[a[(m+1)%3]],n.sort(o);var g=n.toString();void 0===i[g]?(i[g]={vert1:n[0],vert2:n[1],face1:f,face2:void 0},h++):i[g].face2=f}var y=new Float32Array(2*h*3),v=0;for(var g in i){var b=i[g];if(void 0===b.face2||l[b.face1].normal.dot(l[b.face2].normal)<.9999){var E=c[b.vert1];y[v++]=E.x,y[v++]=E.y,y[v++]=E.z,E=c[b.vert2],y[v++]=E.x,y[v++]=E.y,y[v++]=E.z}}s.addAttribute("position",new THREE.BufferAttribute(y,3)),THREE.Line.call(this,s,new THREE.LineBasicMaterial({color:r}),THREE.LinePieces),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},THREE.EdgesHelper.prototype=Object.create(THREE.Line.prototype),THREE.EdgesHelper.prototype.constructor=THREE.EdgesHelper,THREE.FaceNormalsHelper=function(e,t,r,n){this.object=e,this.size=void 0!==t?t:1;for(var i=void 0!==r?r:16776960,o=void 0!==n?n:1,a=new THREE.Geometry,s=this.object.geometry.faces,u=0,c=s.length;c>u;u++)a.vertices.push(new THREE.Vector3,new THREE.Vector3);THREE.Line.call(this,a,new THREE.LineBasicMaterial({color:i,linewidth:o}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new THREE.Matrix3,this.update()},THREE.FaceNormalsHelper.prototype=Object.create(THREE.Line.prototype),THREE.FaceNormalsHelper.prototype.constructor=THREE.FaceNormalsHelper,THREE.FaceNormalsHelper.prototype.update=function(){var e=this.geometry.vertices,t=this.object,r=t.geometry.vertices,n=t.geometry.faces,i=t.matrixWorld;t.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(i);for(var o=0,a=0,s=n.length;s>o;o++,a+=2){var u=n[o];e[a].copy(r[u.a]).add(r[u.b]).add(r[u.c]).divideScalar(3).applyMatrix4(i),e[a+1].copy(u.normal).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size).add(e[a])}return this.geometry.verticesNeedUpdate=!0,this},THREE.GridHelper=function(e,t){var r=new THREE.Geometry,n=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors});this.color1=new THREE.Color(4473924),this.color2=new THREE.Color(8947848);for(var i=-e;e>=i;i+=t){r.vertices.push(new THREE.Vector3(-e,0,i),new THREE.Vector3(e,0,i),new THREE.Vector3(i,0,-e),new THREE.Vector3(i,0,e));var o=0===i?this.color1:this.color2;r.colors.push(o,o,o,o)}THREE.Line.call(this,r,n,THREE.LinePieces)},THREE.GridHelper.prototype=Object.create(THREE.Line.prototype),THREE.GridHelper.prototype.constructor=THREE.GridHelper,THREE.GridHelper.prototype.setColors=function(e,t){this.color1.set(e),this.color2.set(t),this.geometry.colorsNeedUpdate=!0},THREE.HemisphereLightHelper=function(e,t){THREE.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new THREE.Color,new THREE.Color];var r=new THREE.SphereGeometry(t,4,2);r.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));for(var n=0,i=8;i>n;n++)r.faces[n].color=this.colors[4>n?0:1];var o=new THREE.MeshBasicMaterial({vertexColors:THREE.FaceColors,wireframe:!0});this.lightSphere=new THREE.Mesh(r,o),this.add(this.lightSphere),this.update()},THREE.HemisphereLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.HemisphereLightHelper.prototype.constructor=THREE.HemisphereLightHelper,THREE.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},THREE.HemisphereLightHelper.prototype.update=function(){var e=new THREE.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(e.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}}(),THREE.PointLightHelper=function(e,t){this.light=e,this.light.updateMatrixWorld();var r=new THREE.SphereGeometry(t,4,2),n=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),THREE.Mesh.call(this,r,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},THREE.PointLightHelper.prototype=Object.create(THREE.Mesh.prototype),THREE.PointLightHelper.prototype.constructor=THREE.PointLightHelper,THREE.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},THREE.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},THREE.SkeletonHelper=function(e){this.bones=this.getBoneList(e);for(var t=new THREE.Geometry,r=0;r<this.bones.length;r++){var n=this.bones[r];n.parent instanceof THREE.Bone&&(t.vertices.push(new THREE.Vector3),t.vertices.push(new THREE.Vector3),t.colors.push(new THREE.Color(0,0,1)),t.colors.push(new THREE.Color(0,1,0)))}var i=new THREE.LineBasicMaterial({vertexColors:THREE.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});THREE.Line.call(this,t,i,THREE.LinePieces),this.root=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.update()},THREE.SkeletonHelper.prototype=Object.create(THREE.Line.prototype),THREE.SkeletonHelper.prototype.constructor=THREE.SkeletonHelper,THREE.SkeletonHelper.prototype.getBoneList=function(e){var t=[];e instanceof THREE.Bone&&t.push(e);for(var r=0;r<e.children.length;r++)t.push.apply(t,this.getBoneList(e.children[r]));return t},THREE.SkeletonHelper.prototype.update=function(){for(var e=this.geometry,t=(new THREE.Matrix4).getInverse(this.root.matrixWorld),r=new THREE.Matrix4,n=0,i=0;i<this.bones.length;i++){var o=this.bones[i];o.parent instanceof THREE.Bone&&(r.multiplyMatrices(t,o.matrixWorld),e.vertices[n].setFromMatrixPosition(r),r.multiplyMatrices(t,o.parent.matrixWorld),e.vertices[n+1].setFromMatrixPosition(r),n+=2)}e.verticesNeedUpdate=!0,e.computeBoundingSphere()},THREE.SpotLightHelper=function(e){THREE.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;var t=new THREE.CylinderGeometry(0,1,1,8,1,!0);t.applyMatrix((new THREE.Matrix4).makeTranslation(0,-.5,0)),t.applyMatrix((new THREE.Matrix4).makeRotationX(-Math.PI/2));var r=new THREE.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new THREE.Mesh(t,r),this.add(this.cone),this.update()},THREE.SpotLightHelper.prototype=Object.create(THREE.Object3D.prototype),THREE.SpotLightHelper.prototype.constructor=THREE.SpotLightHelper,THREE.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},THREE.SpotLightHelper.prototype.update=function(){var e=new THREE.Vector3,t=new THREE.Vector3;return function(){var r=this.light.distance?this.light.distance:1e4,n=r*Math.tan(this.light.angle);this.cone.scale.set(n,n,r),e.setFromMatrixPosition(this.light.matrixWorld),t.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(t.sub(e)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),THREE.VertexNormalsHelper=function(e,t,r,n){this.object=e,this.size=void 0!==t?t:1;for(var i=void 0!==r?r:16711680,o=void 0!==n?n:1,a=new THREE.Geometry,s=(e.geometry.vertices,e.geometry.faces),u=0,c=s.length;c>u;u++)for(var l=s[u],h=0,f=l.vertexNormals.length;f>h;h++)a.vertices.push(new THREE.Vector3,new THREE.Vector3);THREE.Line.call(this,a,new THREE.LineBasicMaterial({color:i,linewidth:o}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.normalMatrix=new THREE.Matrix3,this.update()},THREE.VertexNormalsHelper.prototype=Object.create(THREE.Line.prototype),THREE.VertexNormalsHelper.prototype.constructor=THREE.VertexNormalsHelper,THREE.VertexNormalsHelper.prototype.update=function(){var e=new THREE.Vector3;return function(){var t=["a","b","c","d"];this.object.updateMatrixWorld(!0),this.normalMatrix.getNormalMatrix(this.object.matrixWorld);for(var r=this.geometry.vertices,n=this.object.geometry.vertices,i=this.object.geometry.faces,o=this.object.matrixWorld,a=0,s=0,u=i.length;u>s;s++)for(var c=i[s],l=0,h=c.vertexNormals.length;h>l;l++){var f=c[t[l]],d=n[f],p=c.vertexNormals[l];r[a].copy(d).applyMatrix4(o),e.copy(p).applyMatrix3(this.normalMatrix).normalize().multiplyScalar(this.size),e.add(r[a]),a+=1,r[a].copy(e),a+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),THREE.VertexTangentsHelper=function(e,t,r,n){this.object=e,this.size=void 0!==t?t:1;for(var i=void 0!==r?r:255,o=void 0!==n?n:1,a=new THREE.Geometry,s=(e.geometry.vertices,e.geometry.faces),u=0,c=s.length;c>u;u++)for(var l=s[u],h=0,f=l.vertexTangents.length;f>h;h++)a.vertices.push(new THREE.Vector3),a.vertices.push(new THREE.Vector3);
THREE.Line.call(this,a,new THREE.LineBasicMaterial({color:i,linewidth:o}),THREE.LinePieces),this.matrixAutoUpdate=!1,this.update()},THREE.VertexTangentsHelper.prototype=Object.create(THREE.Line.prototype),THREE.VertexTangentsHelper.prototype.constructor=THREE.VertexTangentsHelper,THREE.VertexTangentsHelper.prototype.update=function(){var e=new THREE.Vector3;return function(){var t=["a","b","c","d"];this.object.updateMatrixWorld(!0);for(var r=this.geometry.vertices,n=this.object.geometry.vertices,i=this.object.geometry.faces,o=this.object.matrixWorld,a=0,s=0,u=i.length;u>s;s++)for(var c=i[s],l=0,h=c.vertexTangents.length;h>l;l++){var f=c[t[l]],d=n[f],p=c.vertexTangents[l];r[a].copy(d).applyMatrix4(o),e.copy(p).transformDirection(o).multiplyScalar(this.size),e.add(r[a]),a+=1,r[a].copy(e),a+=1}return this.geometry.verticesNeedUpdate=!0,this}}(),THREE.WireframeHelper=function(e,t){var r=void 0!==t?t:16777215,n=[0,0],i={},o=function(e,t){return e-t},a=["a","b","c"],s=new THREE.BufferGeometry;if(e.geometry instanceof THREE.Geometry){for(var u=e.geometry.vertices,c=e.geometry.faces,l=0,h=new Uint32Array(6*c.length),f=0,d=c.length;d>f;f++)for(var p=c[f],m=0;3>m;m++){n[0]=p[a[m]],n[1]=p[a[(m+1)%3]],n.sort(o);var g=n.toString();void 0===i[g]&&(h[2*l]=n[0],h[2*l+1]=n[1],i[g]=!0,l++)}for(var y=new Float32Array(2*l*3),f=0,d=l;d>f;f++)for(var m=0;2>m;m++){var v=u[h[2*f+m]],b=6*f+3*m;y[b+0]=v.x,y[b+1]=v.y,y[b+2]=v.z}s.addAttribute("position",new THREE.BufferAttribute(y,3))}else if(e.geometry instanceof THREE.BufferGeometry)if(void 0!==e.geometry.attributes.index){var u=e.geometry.attributes.position.array,E=e.geometry.attributes.index.array,x=e.geometry.drawcalls,l=0;0===x.length&&(x=[{count:E.length,index:0,start:0}]);for(var h=new Uint32Array(2*E.length),w=0,_=x.length;_>w;++w)for(var T=x[w].start,R=x[w].count,b=x[w].index,f=T,S=T+R;S>f;f+=3)for(var m=0;3>m;m++){n[0]=b+E[f+m],n[1]=b+E[f+(m+1)%3],n.sort(o);var g=n.toString();void 0===i[g]&&(h[2*l]=n[0],h[2*l+1]=n[1],i[g]=!0,l++)}for(var y=new Float32Array(2*l*3),f=0,d=l;d>f;f++)for(var m=0;2>m;m++){var b=6*f+3*m,C=3*h[2*f+m];y[b+0]=u[C],y[b+1]=u[C+1],y[b+2]=u[C+2]}s.addAttribute("position",new THREE.BufferAttribute(y,3))}else{for(var u=e.geometry.attributes.position.array,l=u.length/3,H=l/3,y=new Float32Array(2*l*3),f=0,d=H;d>f;f++)for(var m=0;3>m;m++){var b=18*f+6*m,M=9*f+3*m;y[b+0]=u[M],y[b+1]=u[M+1],y[b+2]=u[M+2];var C=9*f+3*((m+1)%3);y[b+3]=u[C],y[b+4]=u[C+1],y[b+5]=u[C+2]}s.addAttribute("position",new THREE.BufferAttribute(y,3))}THREE.Line.call(this,s,new THREE.LineBasicMaterial({color:r}),THREE.LinePieces),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},THREE.WireframeHelper.prototype=Object.create(THREE.Line.prototype),THREE.WireframeHelper.prototype.constructor=THREE.WireframeHelper,THREE.ImmediateRenderObject=function(){THREE.Object3D.call(this),this.render=function(){}},THREE.ImmediateRenderObject.prototype=Object.create(THREE.Object3D.prototype),THREE.ImmediateRenderObject.prototype.constructor=THREE.ImmediateRenderObject,THREE.MorphBlendMesh=function(e,t){THREE.Mesh.call(this,e,t),this.animationsMap={},this.animationsList=[];var r=this.geometry.morphTargets.length,n="__default",i=0,o=r-1,a=r/1;this.createAnimation(n,i,o,a),this.setAnimationWeight(n,1)},THREE.MorphBlendMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.MorphBlendMesh.prototype.constructor=THREE.MorphBlendMesh,THREE.MorphBlendMesh.prototype.createAnimation=function(e,t,r,n){var i={startFrame:t,endFrame:r,length:r-t+1,fps:n,duration:(r-t)/n,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[e]=i,this.animationsList.push(i)},THREE.MorphBlendMesh.prototype.autoCreateAnimations=function(e){for(var t,r=/([a-z]+)_?(\d+)/,n={},i=this.geometry,o=0,a=i.morphTargets.length;a>o;o++){var s=i.morphTargets[o],u=s.name.match(r);if(u&&u.length>1){{var c=u[1];u[2]}n[c]||(n[c]={start:1/0,end:-1/0});var l=n[c];o<l.start&&(l.start=o),o>l.end&&(l.end=o),t||(t=c)}}for(var c in n){var l=n[c];this.createAnimation(c,l.start,l.end,e)}this.firstAnimation=t},THREE.MorphBlendMesh.prototype.setAnimationDirectionForward=function(e){var t=this.animationsMap[e];t&&(t.direction=1,t.directionBackwards=!1)},THREE.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(e){var t=this.animationsMap[e];t&&(t.direction=-1,t.directionBackwards=!0)},THREE.MorphBlendMesh.prototype.setAnimationFPS=function(e,t){var r=this.animationsMap[e];r&&(r.fps=t,r.duration=(r.end-r.start)/r.fps)},THREE.MorphBlendMesh.prototype.setAnimationDuration=function(e,t){var r=this.animationsMap[e];r&&(r.duration=t,r.fps=(r.end-r.start)/r.duration)},THREE.MorphBlendMesh.prototype.setAnimationWeight=function(e,t){var r=this.animationsMap[e];r&&(r.weight=t)},THREE.MorphBlendMesh.prototype.setAnimationTime=function(e,t){var r=this.animationsMap[e];r&&(r.time=t)},THREE.MorphBlendMesh.prototype.getAnimationTime=function(e){var t=0,r=this.animationsMap[e];return r&&(t=r.time),t},THREE.MorphBlendMesh.prototype.getAnimationDuration=function(e){var t=-1,r=this.animationsMap[e];return r&&(t=r.duration),t},THREE.MorphBlendMesh.prototype.playAnimation=function(e){var t=this.animationsMap[e];t?(t.time=0,t.active=!0):console.warn("animation["+e+"] undefined")},THREE.MorphBlendMesh.prototype.stopAnimation=function(e){var t=this.animationsMap[e];t&&(t.active=!1)},THREE.MorphBlendMesh.prototype.update=function(e){for(var t=0,r=this.animationsList.length;r>t;t++){var n=this.animationsList[t];if(n.active){var i=n.duration/n.length;n.time+=n.direction*e,n.mirroredLoop?(n.time>n.duration||n.time<0)&&(n.direction*=-1,n.time>n.duration&&(n.time=n.duration,n.directionBackwards=!0),n.time<0&&(n.time=0,n.directionBackwards=!1)):(n.time=n.time%n.duration,n.time<0&&(n.time+=n.duration));var o=n.startFrame+THREE.Math.clamp(Math.floor(n.time/i),0,n.length-1),a=n.weight;o!==n.currentFrame&&(this.morphTargetInfluences[n.lastFrame]=0,this.morphTargetInfluences[n.currentFrame]=1*a,this.morphTargetInfluences[o]=0,n.lastFrame=n.currentFrame,n.currentFrame=o);var s=n.time%i/i;n.directionBackwards&&(s=1-s),this.morphTargetInfluences[n.currentFrame]=s*a,this.morphTargetInfluences[n.lastFrame]=(1-s)*a}}},THREE.TrackballControls=function(e,t){function r(e){h.enabled!==!1&&(window.removeEventListener("keydown",r),g=m,m===f.NONE&&(e.keyCode!==h.keys[f.ROTATE]||h.noRotate?e.keyCode!==h.keys[f.ZOOM]||h.noZoom?e.keyCode!==h.keys[f.PAN]||h.noPan||(m=f.PAN):m=f.ZOOM:m=f.ROTATE))}function n(){h.enabled!==!1&&(m=g,window.addEventListener("keydown",r,!1))}function i(e){h.enabled!==!1&&(e.preventDefault(),e.stopPropagation(),m===f.NONE&&(m=e.button),m!==f.ROTATE||h.noRotate?m!==f.ZOOM||h.noZoom?m!==f.PAN||h.noPan||(T.copy(M(e.pageX,e.pageY)),R.copy(T)):(E.copy(M(e.pageX,e.pageY)),x.copy(E)):(v.copy(A(e.pageX,e.pageY)),b.copy(v)),document.addEventListener("mousemove",o,!1),document.addEventListener("mouseup",a,!1),h.dispatchEvent(C))}function o(e){h.enabled!==!1&&(e.preventDefault(),e.stopPropagation(),m!==f.ROTATE||h.noRotate?m!==f.ZOOM||h.noZoom?m!==f.PAN||h.noPan||R.copy(M(e.pageX,e.pageY)):x.copy(M(e.pageX,e.pageY)):b.copy(A(e.pageX,e.pageY)))}function a(e){h.enabled!==!1&&(e.preventDefault(),e.stopPropagation(),m=f.NONE,document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",a),h.dispatchEvent(H))}function s(e){if(h.enabled!==!1){e.preventDefault(),e.stopPropagation();var t=0;e.wheelDelta?t=e.wheelDelta/40:e.detail&&(t=-e.detail/3),E.y+=.01*t,h.dispatchEvent(C),h.dispatchEvent(H)}}function u(e){if(h.enabled!==!1){switch(e.touches.length){case 1:m=f.TOUCH_ROTATE,v.copy(A(e.touches[0].pageX,e.touches[0].pageY)),b.copy(v);break;case 2:m=f.TOUCH_ZOOM_PAN;var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;_=w=Math.sqrt(t*t+r*r);var n=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;T.copy(M(n,i)),R.copy(T);break;default:m=f.NONE}h.dispatchEvent(C)}}function c(e){if(h.enabled!==!1)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:b.copy(A(e.touches[0].pageX,e.touches[0].pageY));break;case 2:var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY;_=Math.sqrt(t*t+r*r);var n=(e.touches[0].pageX+e.touches[1].pageX)/2,i=(e.touches[0].pageY+e.touches[1].pageY)/2;R.copy(M(n,i));break;default:m=f.NONE}}function l(e){if(h.enabled!==!1){switch(e.touches.length){case 1:b.copy(A(e.touches[0].pageX,e.touches[0].pageY)),v.copy(b);break;case 2:w=_=0;var t=(e.touches[0].pageX+e.touches[1].pageX)/2,r=(e.touches[0].pageY+e.touches[1].pageY)/2;R.copy(M(t,r)),T.copy(R)}m=f.NONE,h.dispatchEvent(H)}}var h=this,f={NONE:-1,ROTATE:0,ZOOM:1,PAN:2,TOUCH_ROTATE:3,TOUCH_ZOOM_PAN:4};this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.rotateSpeed=1,this.zoomSpeed=1.2,this.panSpeed=.3,this.noRotate=!1,this.noZoom=!1,this.noPan=!1,this.noRoll=!1,this.staticMoving=!1,this.dynamicDampingFactor=.2,this.minDistance=0,this.maxDistance=1/0,this.keys=[65,83,68],this.target=new THREE.Vector3;var d=1e-6,p=new THREE.Vector3,m=f.NONE,g=f.NONE,y=new THREE.Vector3,v=new THREE.Vector3,b=new THREE.Vector3,E=new THREE.Vector2,x=new THREE.Vector2,w=0,_=0,T=new THREE.Vector2,R=new THREE.Vector2;this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.up0=this.object.up.clone();var S={type:"change"},C={type:"start"},H={type:"end"};this.handleResize=function(){if(this.domElement===document)this.screen.left=0,this.screen.top=0,this.screen.width=window.innerWidth,this.screen.height=window.innerHeight;else{var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height}},this.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)};var M=function(){var e=new THREE.Vector2;return function(t,r){return e.set((t-h.screen.left)/h.screen.width,(r-h.screen.top)/h.screen.height),e}}(),A=function(){var e=new THREE.Vector3,t=new THREE.Vector3,r=new THREE.Vector3;return function(n,i){r.set((n-.5*h.screen.width-h.screen.left)/(.5*h.screen.width),(.5*h.screen.height+h.screen.top-i)/(.5*h.screen.height),0);var o=r.length();return h.noRoll?r.z=o<Math.SQRT1_2?Math.sqrt(1-o*o):.5/o:o>1?r.normalize():r.z=Math.sqrt(1-o*o),y.copy(h.object.position).sub(h.target),e.copy(h.object.up).setLength(r.y),e.add(t.copy(h.object.up).cross(y).setLength(r.x)),e.add(y.setLength(r.z)),e}}();this.rotateCamera=function(){var e=new THREE.Vector3,t=new THREE.Quaternion;return function(){var r=Math.acos(v.dot(b)/v.length()/b.length());r&&(e.crossVectors(v,b).normalize(),r*=h.rotateSpeed,t.setFromAxisAngle(e,-r),y.applyQuaternion(t),h.object.up.applyQuaternion(t),b.applyQuaternion(t),h.staticMoving?v.copy(b):(t.setFromAxisAngle(e,r*(h.dynamicDampingFactor-1)),v.applyQuaternion(t)))}}(),this.zoomCamera=function(){if(m===f.TOUCH_ZOOM_PAN){var e=w/_;w=_,y.multiplyScalar(e)}else{var e=1+(x.y-E.y)*h.zoomSpeed;1!==e&&e>0&&(y.multiplyScalar(e),h.staticMoving?E.copy(x):E.y+=(x.y-E.y)*this.dynamicDampingFactor)}},this.panCamera=function(){var e=new THREE.Vector2,t=new THREE.Vector3,r=new THREE.Vector3;return function(){e.copy(R).sub(T),e.lengthSq()&&(e.multiplyScalar(y.length()*h.panSpeed),r.copy(y).cross(h.object.up).setLength(e.x),r.add(t.copy(h.object.up).setLength(e.y)),h.object.position.add(r),h.target.add(r),h.staticMoving?T.copy(R):T.add(e.subVectors(R,T).multiplyScalar(h.dynamicDampingFactor)))}}(),this.checkDistances=function(){h.noZoom&&h.noPan||(y.lengthSq()>h.maxDistance*h.maxDistance&&h.object.position.addVectors(h.target,y.setLength(h.maxDistance)),y.lengthSq()<h.minDistance*h.minDistance&&h.object.position.addVectors(h.target,y.setLength(h.minDistance)))},this.update=function(){y.subVectors(h.object.position,h.target),h.noRotate||h.rotateCamera(),h.noZoom||h.zoomCamera(),h.noPan||h.panCamera(),h.object.position.addVectors(h.target,y),h.checkDistances(),h.object.lookAt(h.target),p.distanceToSquared(h.object.position)>d&&(h.dispatchEvent(S),p.copy(h.object.position))},this.reset=function(){m=f.NONE,g=f.NONE,h.target.copy(h.target0),h.object.position.copy(h.position0),h.object.up.copy(h.up0),y.subVectors(h.object.position,h.target),h.object.lookAt(h.target),h.dispatchEvent(S),p.copy(h.object.position)},this.domElement.addEventListener("contextmenu",function(e){e.preventDefault()},!1),this.domElement.addEventListener("mousedown",i,!1),this.domElement.addEventListener("mousewheel",s,!1),this.domElement.addEventListener("DOMMouseScroll",s,!1),this.domElement.addEventListener("touchstart",u,!1),this.domElement.addEventListener("touchend",l,!1),this.domElement.addEventListener("touchmove",c,!1),window.addEventListener("keydown",r,!1),window.addEventListener("keyup",n,!1),this.handleResize(),this.update()},THREE.TrackballControls.prototype=Object.create(THREE.EventDispatcher.prototype),THREE.TrackballControls.prototype.constructor=THREE.TrackballControls,define("liquid-fire",["liquid-fire/index","exports"],function(e,t){"use strict";Object.keys(e).forEach(function(r){t[r]=e[r]})}),define("liquid-fire/animate",["exports","liquid-fire/promise","ember"],function(e,t,r){"use strict";function n(e,n,i,o){var a,s={percentComplete:0,timeRemaining:100,timeSpent:0};if(!e||!(a=e.$())||!a[0])return t["default"].resolve();if(i=i?r["default"].copy(i):{},"undefined"==typeof i.display&&(i.display=""),"undefined"==typeof i.visibility&&(i.visibility="visible"),i.progress)throw new Error("liquid-fire's 'animate' function reserves the use of Velocity's 'progress' option for its own nefarious purposes.");return i.progress=function(){s.percentComplete=arguments[1],s.timeRemaining=arguments[2],s.timeSpent=s.timeRemaining/(1/s.percentComplete-1)},s.promise=t["default"].resolve(d.animate(a[0],n,i)),o&&(s.promise=s.promise.then(function(){f(e,o)},function(t){throw f(e,o),t}),h(e,o,s)),s.promise}function i(e){var t;e&&(t=e.$())&&t.velocity("stop",!0)}function o(e){for(var t in e)if(e.hasOwnProperty(t)){if("progress"===t)throw new Error("liquid-fire's 'animate' function reserves the use of Velocity's '"+t+"' option for its own nefarious purposes.");d.defaults[t]=e[t]}}function a(e,t){return e&&e._lfTags&&e._lfTags[t]}function s(e,t){return l(e,t).promise}function u(e,t){return l(e,t).timeSpent}function c(e,t){return l(e,t).timeRemaining}function l(e,t){var r=a(e,t);if(!r)throw new Error("no animation labeled "+t+" is in progress");return r}function h(e,t,r){e&&(e._lfTags||(e._lfTags={}),e._lfTags[t]=r)}function f(e,t){e&&e._lfTags&&delete e._lfTags[t]}e.animate=n,e.stop=i,e.setDefaults=o,e.isAnimating=a,e.finish=s,e.timeSpent=u,e.timeRemaining=c;var d=r["default"].$.Velocity;d.Promise||(d.Promise=t["default"])}),define("liquid-fire/curry",["exports"],function(e){"use strict";function t(e){var t=Array.prototype.slice.apply(arguments,[1]);return function(){var r=this.lookup(e),n=Array.prototype.slice.apply(arguments);return n.splice.apply(n,[2,0].concat(t)),r.apply(this,n)}}e["default"]=t}),define("liquid-fire/dsl",["exports","ember","liquid-fire/animate"],function(e,t,r){"use strict";function n(e){this.map=e}function i(e){if(!e)return n.EMPTY;if("function"==typeof e)return e;if(e.instanceOf)return function(t){return t instanceof e.instanceOf||t&&t.get&&t.get("model")&&t.get("model")instanceof e.instanceOf};if("boolean"==typeof e)return function(t){return e?!!t:!t};throw new Error("unknown context matcher: "+JSON.stringify(e))}n.prototype={setDefault:function(e){r.setDefaults(e)},define:function(){throw new Error("calling 'define' from within the transition map is deprecated")},_withEmpty:function(e){return e||n.EMPTY},_combineMatchers:function(e){return[e.reduce(function(e,t){if("function"!=typeof e||"function"!=typeof t)throw new Error("cannot combine empty model matcher with any other constraints");return function(){return e.apply(this,arguments)&&t.apply(this,arguments)}})]},transition:function(){for(var e,t,r=[],i={},o={},a=Array.prototype.slice.apply(arguments).reduce(function(e,t){return e.concat(t)},[]),s=0;s<a.length;s++){var u=a[s];if("action"===u.type){if(e)throw new Error("each transition definition must contain exactly one 'use' statement");e={method:u.payload,args:u.args}}else if("reverseAction"===u.type){if(t)throw new Error("each transition definition may contain at most one 'reverse' statement");t={method:u.payload,args:u.args}}else if("route"===u.type){if(i[u.side])throw new Error("A transition definition contains multiple constraints on "+u.side+"Route");i[u.side]=u.payload.map(this._withEmpty)}else"parent"===u.type?r.push(u.payload):(o[u.side]||(o[u.side]=[]),o[u.side].push(u.payload))}if(!e)throw new Error("a transition definition contains no 'use' statement");i.from||(i.from=[n.ANY]),i.to||(i.to=[n.ANY]),0===r.length&&r.push(n.ANY),o.from||(o.from=[n.ANY]),o.to||(o.to=[n.ANY]),r=this._combineMatchers(r),o.from=this._combineMatchers(o.from),o.to=this._combineMatchers(o.to),this.map.register(i,o,r,e),t&&(i={from:i.to,to:i.from},o={from:o.to,to:o.from},this.map.register(i,o,r,t))},fromRoute:function(){return{side:"from",type:"route",payload:Array.prototype.slice.apply(arguments)}},toRoute:function(){return{side:"to",type:"route",payload:Array.prototype.slice.apply(arguments)}},withinRoute:function(){return[this.fromRoute.apply(this,arguments),this.toRoute.apply(this,arguments)]},fromModel:function(e){return{side:"from",type:"context",payload:i(e)}},toModel:function(e){return{side:"to",type:"context",payload:i(e)}},betweenModels:function(e){return[this.fromModel(e),this.toModel(e)]},hasClass:function(e){return{type:"parent",payload:function(t){return t&&-1!==t.get("classNames").indexOf(e)}}},childOf:function(e){return{type:"parent",payload:function(r){var n;return r&&r._morph&&t["default"].$(r._morph.start.parentElement).is(e)||r.morph&&t["default"].$("#"+r.morph.start).parent().is(e)||(n=r.$())&&n.parent().is(e)}}},fromNonEmptyModel:function(){return this.fromModel(function(e){return"undefined"!=typeof e})},toNonEmptyModel:function(){return this.toModel(function(e){return"undefined"!=typeof e})},betweenNonEmptyModels:function(){return this.betweenModels(function(e){return"undefined"!=typeof e})},use:function(e){return{type:"action",payload:e,args:Array.prototype.slice.apply(arguments,[1])}},reverse:function(e){return{type:"reverseAction",payload:e,args:Array.prototype.slice.apply(arguments,[1])}}},n.ANY="__liquid-fire-ANY",n.EMPTY="__liquid-fire-EMPTY",e["default"]=n}),define("liquid-fire/index",["exports","liquid-fire/transitions","liquid-fire/animate","liquid-fire/promise","liquid-fire/initialize","liquid-fire/mutation-observer","liquid-fire/curry","liquid-fire/router-dsl-ext"],function(e,t,r,n,i,o,a){"use strict";e.Transitions=t["default"],e.animate=r.animate,e.stop=r.stop,e.isAnimating=r.isAnimating,e.timeSpent=r.timeSpent,e.timeRemaining=r.timeRemaining,e.finish=r.finish,e.Promise=n["default"],e.initialize=i.initialize,e.MutationObserver=o["default"],e.curryTransition=a["default"]}),define("liquid-fire/initialize",["exports","liquid-fire/transitions","liquid-fire/modals"],function(e,t,r){"use strict";function n(e){e.register("transitions:map",t["default"]),["outlet","with","if"].forEach(function(t){e.injection("view:liquid-"+t,"transitions","transitions:map")}),e.register("liquid-modals:main",r["default"]),e.injection("component:liquid-modal","owner","liquid-modals:main");var n=e.lookup("template:liquid-with");n&&(n.isTop=!1)}e.initialize=n}),define("liquid-fire/internal-rules",["exports"],function(e){"use strict";e["default"]=function(){this.setDefault({duration:250}),this.transition(this.hasClass("lm-with"),this.use("modal-popup"))}}),define("liquid-fire/modal",["exports","ember"],function(e,t){"use strict";function r(e,t){var r,n,i,o={},a=e.constructor.proto(),s=!1;for(n in t)r=t[n],i=e.get(n),o[r]=i,i!==a[n]&&(s=!0);return s?o:void 0}var n=t["default"].get;e["default"]=t["default"].Object.extend({enabled:t["default"].computed("modals.activeRouteNames",function(){return n(this,"modals.activeRouteNames").indexOf(n(this,"route"))>=0}),controller:t["default"].computed("enabled",function(){if(n(this,"enabled")){var e=n(this,"container"),t=n(this,"options.controller")||n(this,"route");return e.lookup("controller:"+t)}}),update:t["default"].observer("controller",t["default"].on("init",function(){var e=n(this,"name"),t=this.makeContext(),r=n(this,"modals.modalContexts"),i=r.find(function(t){return n(t,"name")===e});t?i?r.replace(r.indexOf(i),1,[t]):r.pushObject(t):i&&r.removeObject(i)})),makeContext:function(){var e,i=n(this,"controller");if(i)return e=r(i,n(this,"options.withParams")),e?t["default"].Object.create({source:i,name:n(this,"name"),options:n(this,"options"),params:e}):void 0}})}),define("liquid-fire/modals",["exports","ember","liquid-fire/modal"],function(e,t,r){"use strict";function n(e){return t["default"].observer("controller."+e,function(){this.update()})}e["default"]=t["default"].Controller.extend({needs:["application"],setup:t["default"].on("init",function(){this.set("modalContexts",t["default"].A()),this.set("modals",t["default"].A());var e=this.container.lookup("router:main").router.modals;if(e&&e.length>0){var r=this;e.forEach(function(e){r.registerModal(e)})}}),registerModal:function(e){var t={modals:this,container:this.container};for(var i in e.options.withParams)t[i+"Observer"]=n(i);this.get("modals").pushObject(r["default"].extend(t).create(e))},currentRoute:t["default"].computed.alias("controllers.application.currentRouteName"),activeRouteNames:t["default"].computed("currentRoute",function(){var e=this.container.lookup("router:main").router.currentHandlerInfos;return e?e.map(function(e){return e.name}):[]})})}),define("liquid-fire/mutation-observer",["exports"],function(e){"use strict";function t(e){this.callback=e}t.prototype={observe:function(){this.interval=setInterval(this.callback,100)},disconnect:function(){clearInterval(this.interval)}};var r=window.MutationObserver||window.WebkitMutationObserver||t;e["default"]=r}),define("liquid-fire/promise",["exports","ember"],function(e,t){"use strict";e["default"]=t["default"].RSVP.Promise}),define("liquid-fire/router-dsl-ext",["ember"],function(e){"use strict";function t(t){if(!t)return{};e["default"].isArray(t)||(t=[t]);var r,n,i,o={};for(n=0;n<t.length;n++)if(r=t[n],"object"==typeof r)for(i in r)o[i]=r[i];else o[r]=r;return o}var r=e["default"].Router,n=e["default"].RouterDSL.prototype,i=null;n.modal=function(r,n){e["default"].assert('modal("'+r+'",...) needs a `withParams` argument',n&&n.withParams),n=e["default"].copy(n),n.withParams=t(n.withParams),n.otherParams=t(n.otherParams),"undefined"==typeof n.dismissWithOutsideClick&&(n.dismissWithOutsideClick=!0),"undefined"==typeof n.dismissWithEscape&&(n.dismissWithEscape=!0),i.push({route:this.parent,name:r,options:n})},r.reopen({_initRouterJs:function(){i=[],this._super(),this.router.modals=i}});var o=r.map;r.reopenClass({map:function(){i=[];var e=o.apply(this,arguments);return this.router&&(this.router.modals=i),e}})}),define("liquid-fire/tabbable",["ember"],function(e){"use strict";function t(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&r(e)}function r(e){var t=n(e);return n.expr.filters.visible(e)&&!n(t,t.parents()).filter(function(){return"hidden"===n.css(this,"visibility")}).length}var n=e["default"].$;n.expr[":"].tabbable||(n.expr[":"].tabbable=function(e){var r=n.attr(e,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(e,!i)})}),define("liquid-fire/transition",["exports","liquid-fire/promise"],function(e,t){"use strict";function r(e,t,r,n,i,o){this.parentView=e,this.oldView=t,this.newContent=r,this.animation=n,this.animationArgs=i,this.transitionMap=o}function n(e){var t;e&&(t=e.$())&&t.show().css({visibility:""})}function i(e){var t;return e&&(t=e.$())?{width:t.width(),height:t.height()}:void 0}function o(e,t){var r;e&&(r=e.$())&&(t||(t=i(e)),r.width(t.width),r.height(t.height),r.css({position:"absolute"}))}function a(e){var t;e&&(t=e.$())&&t.css({width:"",height:"",position:""})}r.prototype={run:function(){if(this._ran)return this._ran;if(!this.animation)return this.maybeDestroyOldView(),this._ran=this._insertNewView().then(n);var e=this;return e.transitionMap.activeCount+=1,this._ran=this._invokeAnimation().then(function(){e.maybeDestroyOldView()},function(t){return e.cleanupAfterError().then(function(){throw t})})["finally"](function(){e.transitionMap.activeCount-=1})},_insertNewView:function(){return this.inserted?this.inserted:this.inserted=this.parentView._pushNewView(this.newContent)},_invokeAnimation:function(){var e=this,r=this.animation,n=function(){var t=!e.parentView.get("containerless");return t&&(e.parentView.cacheSize(),o(e.oldView)),e._insertNewView().then(function(r){if(r){if(r.$().show(),t){var n=i(r);e.parentView.adaptSize(),o(r,n)}return e.newView=r}t&&e.parentView.adaptSize()})},s=[this.oldView,n].concat(this.animationArgs);return new t["default"](function(t,n){r.apply(e,s).then(t,n)}).then(function(){e.interruptedLate||(a(e.newView),e.parentView.unlockSize())})},maybeDestroyOldView:function(){!this.interruptedEarly&&this.oldView&&this.oldView.destroy()},cleanupAfterError:function(){return this.maybeDestroyOldView(),this._insertNewView().then(n)},interrupt:function(){this.inserted?this.interruptedLate=!0:(this.inserted=t["default"].resolve(null),this.interruptedEarly=!0)},lookup:function(e){return this.transitionMap.lookup(e)}},e["default"]=r}),define("liquid-fire/transitions",["exports","liquid-fire/transition","liquid-fire/dsl","ember","liquid-fire/internal-rules"],function(e,t,r,n,i){"use strict";function o(e){for(var t;e._parentView;)if(t=e,e=e._parentView,e._runningTransition&&e._runningTransition.oldView===t)return e._runningTransition}function a(){return arguments[2].run()}var s=n["default"].Object.extend({init:function(){var e,t;this.activeCount=0,this._map={},this.map(i["default"]),t=this.get("container"),t&&(e=t.lookupFactory("transitions:main")),e&&this.map(e),n["default"].testing&&this._registerWaiter()},runningTransitions:function(){return this.activeCount},lookup:function(e){var t=this.container.lookupFactory("transition:"+e);if(!t)throw new Error("unknown transition name: "+e);return t},transitionFor:function(e,r,n,i,s){var u,c;if(i&&!s)u=this.lookup(i);else{var l=this.match(s,e,r,n);l&&(c=l.args,u="function"==typeof l.method?l.method:this.lookup(l.method))}if(!u&&r&&!n){var h=o(r);h&&(u=a,c=[h])}return new t["default"](e,r,n,u,c,this)},map:function(e){return e&&e.apply(new r["default"](this)),this},register:function(e,t,r,n){this._register(this._map,[e.from,e.to,r,t.from,t.to],n)},_register:function(e,t,r){for(var n=t[0],i=0;i<n.length;i++){var o=n[i];if("function"==typeof o)if(e.__functions||(e.__functions=[]),1===t.length)e.__functions.push([o,r]);else{var a={};this._register(a,t.slice(1),r),e.__functions.push([o,a])}else 1===t.length?e[o]=r:(e[o]||(e[o]={}),this._register(e[o],t.slice(1),r))}},_viewProperties:function(e,t){return e&&t&&(e=e.get(t)),e?{route:e.get("renderedName"),context:e.get("liquidContext")}:{}},_ancestorsRenderedName:function(e){for(;e&&!e.get("renderedName");)e=e.get("_parentView");return e?e.get("renderedName"):void 0},match:function(e,t,r,n){var i={leaving:this._viewProperties(r,"currentView"),entering:this._viewProperties(n),parentView:t,initialRender:e};return r&&!i.leaving.route&&(i.leaving.route=this._ancestorsRenderedName(t)),n&&!i.entering.route&&(i.entering.route=i.leaving.route||this._ancestorsRenderedName(t)),this._match(i,this._map,0)},_match:function(e,t,r){var n,i,o,a=0,s=this._predicateArgs(e,r),u=this._candidatesFor(e,t,s[0],r);for(a=0;a<u.length;a++)if(n=u[a],n&&(i="function"==typeof n[0]?n[0].apply(null,s)?n[1]:null:t[n])){if(4===r)return i;if(o=this._match(e,i,r+1))return o}},_predicateArgs:function(e,t){switch(t){case 0:return[e.leaving.route,e.entering.route];case 1:return[e.entering.route,e.leaving.route];case 2:return[e.parentView];case 3:return[e.leaving.context,e.entering.context];case 4:return[e.entering.context,e.leaving.context]}},_candidatesFor:function(e,t,n,i){var o=[n||r["default"].EMPTY].concat(t.__functions);return 0===i&&e.initialRender?o:o.concat(r["default"].ANY)},_registerWaiter:function(){var e=this;this._waiter=function(){return 0===e.runningTransitions()},n["default"].Test.registerWaiter(this._waiter)},willDestroy:function(){this._waiter&&(n["default"].Test.unregisterWaiter(this._waiter),this._waiter=null)}});s.reopenClass({map:function(e){var t=s.create();return t.map(e),t}}),e["default"]=s});